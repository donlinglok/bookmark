(this.webpackJsonpwebresources=this.webpackJsonpwebresources||[]).push([[5],{411:function(e,t,c){"use strict";c.r(t);var a=c(10),n=c(16),s=c(7),i=c(2),d=c(1),l=c.n(d),r=c(127),o=c(15),u=c(8),p=c(62),j=c(11),b=c(33),_=c(13),O=c(52),f=c(42),g=c(6),h=c(59),v=c(19),T=c(0),w=[{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-1",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:2},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-2",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:7},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-3",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:12}],R=[{dfpNetworkId:"183518426",slotId:"div-gpt-ad-1586879097112-1",adUnit:"CT_WebRP_TM_300x250",sizes:[[300,250]],appendTo:2},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-1",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:7},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-2",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:12},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-3",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:17}],x=[{dfpNetworkId:"183518426",slotId:"div-gpt-ad-1586879097112-1",adUnit:"CT_WebRP_TM_300x250",sizes:[[300,250]],appendTo:1},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-1",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:4},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-2",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:8},{dfpNetworkId:"93858332",slotId:"div-gpt-ad-1659598376928-3",adUnit:"CT_Resources/RW_CT_Article_Detail_MR_B",sizes:[[300,250]],appendTo:13}];t.default=function(e){var t=e.articleId,c=Object(r.a)(["resources"]),I=c.t,m=c.i18n,N=Object(d.useState)([]),k=Object(i.a)(N,2),C=k[0],z=k[1],W=Object(d.useState)([]),D=Object(i.a)(W,2),U=D[0],A=D[1],M=Object(d.useState)(!1),S=Object(i.a)(M,2),B=S[0],E=S[1],P=Object(d.useState)(!1),F=Object(i.a)(P,2),y=F[0],J=F[1],L=Object(d.useState)([1]),q=Object(i.a)(L,2),G=q[0],H=q[1],K=Object(d.useState)(window.innerWidth),Q=Object(i.a)(K,2),V=Q[0],X=Q[1],Y=Object(d.useState)("Desktop"),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(d.useState)(V>=992?w:V>=768?R:x),ce=Object(i.a)(te,2),ae=ce[0],ne=ce[1],se=G[G.length-1]>=4||G[G.length-1]>=3&&(V>=992||V<768)?6:5,ie=Object(d.useContext)(h.a);Object(d.useEffect)((function(){function e(){V!=window.innerWidth&&(X(window.innerWidth),V>=992?(ne(w),ee("Desktop")):V>=768?(ne(R),ee("RW")):(ne(x),ee("Mobile")))}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[V]),Object(d.useEffect)((function(){Object(p.a)()}),[$]),Object(d.useEffect)((function(){H([1]),de(1,5).then((function(e){null!=e&&(z([]),e.length>0?(J(!1),z(e)):J(!0))})),de(2,se).then((function(e){A([]),null!=e&&e.length>0?(A(e),E(!0),H((function(e){return[].concat(Object(s.a)(e),[e[e.length-1]+1])}))):E(!1)}))}),[m.language]);var de=function(){var e=Object(n.a)(Object(a.a)().mark((function e(c,n,s){var i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.getRelatedArticlesForDetail(t,c,null!==s&&void 0!==s?s:5,n);case 3:if(null==(i=e.sent).data.data.total){e.next=6;break}return e.abrupt("return",i.data.data.articles);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(u.b)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c,a){return e.apply(this,arguments)}}();return Object(T.jsx)("section",{className:"resources--section related-articles pt-lg-0",children:y?null:Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h2",{className:"sec-title",children:I("Detail.RelatedArticles",{ns:"resources"})}),Object(T.jsxs)("div",{children:[0==C.length?Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(T.jsx)(_.a,{})}),Object(T.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(T.jsx)(_.a,{})}),Object(T.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(T.jsx)(_.a,{})})]}):Object(T.jsx)("div",{className:"row","data-page":"1",children:C.slice(0,5).map((function(e,t){return Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsx)("div",{className:"col-md-6 col-lg-4","data-idx":t,children:Object(T.jsx)(b.a,{article:e,logCallback:function(e,t,c){return Object(g.b)(e,"click",ie.articleId,ie.categoryId,t,"related-article",c)}},t)}),ae.filter((function(e){return e.appendTo==t+1})).map((function(e){return Object(T.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(T.jsx)("div",{className:"adv",children:Object(T.jsx)(j.DFPSlotsProvider,{dfpNetworkId:e.dfpNetworkId,children:Object(T.jsx)(j.AdSlot,{slotId:e.slotId,adUnit:e.adUnit,sizes:e.sizes})},e.appendTo)})},"".concat($,"-adv-1-").concat(t))}))]},t)}))}),Object(T.jsx)(O.a,{pages:G.slice(1),pageOneSize:5,pageSize:se,articles:C,colClassName:"col-md-6 col-lg-4",region:"article-detail",advs:ae})]}),Object(T.jsx)("div",{className:"row",children:Object(T.jsx)(f.a,{callback:function(){H((function(e){return[].concat(Object(s.a)(e),[e[e.length-1]+1])})),Object(v.b)({url:"".concat(window.location.pathname,"?page=").concat(G[G.length-1])}),function(){if(z(C.concat(U)),U.length<=se&&C.length+U.length<30){A([]);var e=C.length+U.length+se>30,t=C.length+U.length,c=e?30-(C.length+U.length):se;de(2,c,t).then((function(e){null!=e&&e.length>0?(e.map((function(e){A((function(t){return[].concat(Object(s.a)(t),[e])}))})),E(!0)):E(!1)}))}else A([]),E(!1)}(),G[G.length-1]<=3&&ae.filter((function(e){return e.appendTo<=G[G.length-1]*se+5})).map((function(e){Object(p.a)(e.slotId)}))},showButton:B})})]})})}}}]);