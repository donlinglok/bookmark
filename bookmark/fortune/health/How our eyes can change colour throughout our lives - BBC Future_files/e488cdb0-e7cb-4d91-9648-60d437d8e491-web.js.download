/*! permutive-javascript-sdk v19.37.1 (web) (built 2022-10-27T06:32:28.699Z) */(()=>{"use strict";var __webpack_modules__={2688:(e,t,n)=>{function r(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}n.d(t,{w:()=>r})},787:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(3735),c=n(6567);function i(e){return(0,r.zG)((0,c.Y3)((()=>JSON.parse(e))),(0,c.fS)(r.gn))}},7183:(e,t,n)=>{n.d(t,{h:()=>r});const r=e=>new c(e);class c{constructor(e){const t=this;this._worker=e,this._callbacks={},this._id=0,e.addEventListener("message",(function(e){c.onMessage(t,e)}))}set id(e){this._id=e}get id(){return this._id}newId(){const e=this.id;return this.id=this.id+1,e}static onMessage(e,t){if(n=t.data,!(Array.isArray(n)&&n.length>=2))return;var n;const[r,c,i]=t.data,s=e._callbacks[r];s&&(delete e._callbacks[r],s(c,i))}static isServiceWorker(e){return void 0!==e.controller}postMessage(e){const t=this,n=this.newId(),r=[n,e];return new Promise((function(e,i){var s;if(t._callbacks[n]=function(t,n){if(t)return i(new Error(t.message));e(n)},c.isServiceWorker(t._worker)){const e=new MessageChannel;e.port1.onmessage=function(e){c.onMessage(t,e)},null===(s=t._worker.controller)||void 0===s||s.postMessage(r,[e.port2])}else t._worker.postMessage(r)}))}}},1828:(e,t,n)=>{n.d(t,{ap:()=>i,gz:()=>u});var r=n(3735),c=n(9384);function i(e,t){return function(n){return function(r){return e.ap(e.map(r,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function s(e,t,n){return function(r){for(var c=Array(n.length+1),i=0;i<n.length;i++)c[i]=n[i];return c[n.length]=r,0===t?e.apply(null,c):s(e,t-1,c)}}var o={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(c){return[e,t,n,r,c]}}}}}};function a(e){return c.e$.call(o,e)||(o[e]=s(r.bc,e-1,[])),o[e]}function u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,c=a(r),i=e.map(t[0],c),s=1;s<r;s++)i=e.ap(i,t[s]);return i}}},9320:(e,t,n)=>{n.d(t,{oA:()=>F,e5:()=>B,t9:()=>A,hX:()=>J,DZ:()=>W,Ew:()=>I,xH:()=>$,jV:()=>L,xb:()=>S,UI:()=>z,uK:()=>Q,u4:()=>Y,vP:()=>V,DY:()=>T,G0:()=>U,jj:()=>j});var r,c=n(3735),i=n(9384);n(4268),n(7209),r=void 0;i.Xl,i.Od;var s=i.ri,o=i.YM,a=(i.F4,o);i.Gb;var u=function(e,t,n){if(n||2===arguments.length)for(var r,c=0,i=t.length;c<i;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},d=function(e){return e.length>0},l=function(e){return function(t){return u(u([],t,!0),[e],!1)}},g=l,p=function(e){return function(t){if(1===t.length)return _(t);for(var n=[v(t)],r=function(t){n.every((function(n){return!e.equals(n,t)}))&&n.push(t)},c=0,i=b(t);c<i.length;c++){r(i[c])}return n}},h=function(e){var t=p(e);return function(e){return function(n){return t((0,c.zG)(n,m(e)))}}},f=i.r1;function m(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var _=f,w=function(e){return[e]};i.F4;var v=a,b=function(e){return e.slice(1)};n(4011);var y=n(4870);n(5605);function k(e){return function(t,n){if(void 0===n){var r=k(e);return function(e){return r(t,e)}}for(var c,i=0;i<n.length;i++)if(c=n[i],e.equals(c,t))return!0;return!1}}var q=s,E=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var c=e(r,t[r]);i.pC(c)&&n.push(c.value)}return n}},D=function(e){return E((function(t,n){return e(n)}))},P=(c.yR,function(e,t){return M(e,(function(e,n,r){return t(n,r)}))}),M=function(e,t){return function(n){for(var r=n.length,c=e,i=0;i<r;i++)c=t(i,c,n[i]);return c}};i.F4;var S=function(e){return 0===e.length},O=d,x=g;function I(e){return function(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return i.G(t[n]);return i.YP}}(e)}var C=function(e){return e.slice()},T=function(e){return function(t){return t.length<=1?C(t):t.slice().sort(e.compare)}};var A=k,j=function(e){var t=p(e);return function(e){return O(e)?t(e):C(e)}};function U(e){var t=h(e);return function(n,r){if(void 0===r){var c=U(e);return function(e){return c(e,n)}}return O(n)&&O(r)?t(r)(n):O(n)?C(n):C(r)}}function L(e){var t=A(e);return function(n,r){if(void 0===r){var c=L(e);return function(e){return c(e,n)}}return n.filter((function(e){return t(e,r)}))}}function B(e){var t=A(e);return function(n,r){if(void 0===r){var c=B(e);return function(e){return c(e,n)}}return n.filter((function(e){return!t(e,r)}))}}var R=function(e,t,n){return(0,c.zG)(e,Y(t,n))},G=w,z=function(e){return function(t){return t.map((function(t){return e(t)}))}},N=function(e){return function(t){return(0,c.zG)(t,function(e){return function(t){for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},$=N(c.yR),K=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var c=e(r,t[r]);i.pC(c)&&n.push(c.value)}return n}},W=function(e){return K((function(t,n){return e(n)}))},F=W(c.yR),J=function(e){return function(t){return t.filter(e)}},Q=function(e){return H((function(t,n){return e(n)}))},H=function(e){return function(t){for(var n=[],r=[],c=0;c<t.length;c++){var i=t[c];e(c,i)?r.push(i):n.push(i)}return(0,y.s4)(n,r)}},Y=P,V=function(e){return function(t){return R(t,e.of([]),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return(0,c.zG)(e,x(t))}})),n)}))}};i.F4},8198:(e,t,n)=>{n.d(t,{G5:()=>m,dO:()=>p,Pd:()=>v,tS:()=>w,g_:()=>S,ij:()=>C,Yo:()=>q,DT:()=>k,fS:()=>O,nM:()=>E,tO:()=>D,t$:()=>o,UI:()=>g,Vn:()=>b,EQ:()=>M,vx:()=>I,F2:()=>a,LF:()=>x,i$:()=>A,Y3:()=>T});var r=n(9384);function c(e){return function(t){return function(n){return e.fromEither(r.Wi(n)?r.t$(t()):r.F2(n.value))}}}function i(e){return function(t,n){return function(c){return e.fromEither(t(c)?r.F2(c):r.t$(n(c)))}}}var s=n(3735),o=r.t$,a=r.F2,u=function(e,t){return(0,s.zG)(e,g(t))},d=function(e,t){return(0,s.zG)(e,f(t))},l="Either",g=function(e){return function(t){return E(t)?t:a(e(t.right))}},p={URI:l,map:u},h=a,f=function(e){return function(t){return E(t)?t:E(e)?e:a(t.right(e.right))}},m={URI:l,map:u,ap:d},_=function(e){return function(t){return E(t)?t:e(t.right)}},w=_,v=function(e,t){return function(n){return E(n)?o(e(n.left)):a(t(n.right))}},b=function(e){return function(t){return E(t)?o(e(t.left)):t}},y={URI:l,fromEither:s.yR},k=i(y),q=c(y),E=r.nM,D=r.tO,P=function(e,t){return function(n){return E(n)?e(n.left):t(n.right)}},M=P,S=M,O=function(e){return function(t){return E(t)?e(t.left):t.right}},x=function(e){return E(e)?a(e.left):o(e.right)},I=function(e){return function(t){return E(t)?e(t.left):t}},C=function(e){return function(t){return null==t?o(e):a(t)}},T=function(e,t){try{return a(e())}catch(e){return o(t(e))}},A=P(s.yR,s.yR);r.F4,r.Xl},4268:(e,t,n)=>{n.d(t,{Uz:()=>c,f7:()=>r,w4:()=>i});n(3735);var r=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},c=function(e){return function(t){return r((function(n,r){return t.equals(e(n),e(r))}))}},i={equals:function(e,t){return e===t}};i.equals},6567:(e,t,n)=>{n.d(t,{DT:()=>o,EQ:()=>m,G:()=>s,UI:()=>u,Uo:()=>g,Wi:()=>h,Y3:()=>b,YP:()=>i,fS:()=>w,g_:()=>_,ij:()=>v,pC:()=>p,tS:()=>l});var r=n(3735),c=n(9384),i=(n(6017),n(4870),n(5605),c.YP),s=c.G;function o(e){return function(t){return e(t)?s(t):i}}var a=function(e){return"Left"===e._tag?i:s(e.right)},u=function(e){return function(t){return h(t)?i:s(e(t.value))}},d=s,l=function(e){return function(t){return h(t)?i:e(t.value)}},g=(r.yR,a),p=c.pC,h=function(e){return"None"===e._tag},f=function(e,t){return function(n){return h(n)?e():t(n.value)}},m=f,_=m,w=function(e){return function(t){return h(t)?e():t.value}},v=function(e){return null==e?i:s(e)},b=function(e){try{return s(e())}catch(e){return i}};c.F4,c.Xl},7209:(e,t,n)=>{n.d(t,{Fp:()=>a,VV:()=>o,Zt:()=>s,uZ:()=>u});var r=n(4268),c=n(3735),i=function(e){return function(t,n){return t===n||0===e(t,n)}},s=function(e){return{equals:i(e),compare:function(t,n){return t===n?0:e(t,n)}}},o=(c.W8,function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}}),a=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}},u=function(e){var t=o(e),n=a(e);return function(e,r){return function(c){return n(t(c,r),e)}}};r.w4.equals},6017:(e,t,n)=>{n.d(t,{ff:()=>r});n(3735);var r=function(e){return function(t){return!e(t)}}},356:(e,t,n)=>{n.d(t,{hX:()=>H,jV:()=>R,xb:()=>A,XP:()=>U,dx:()=>L});n(4268);var r=n(3735),c=n(9384),i=(n(4870),n(2751)),s=(n(5605),function(e){for(var t in e)if(c.e$.call(e,t))return!1;return!0}),o=function(e){return function(t){return Object.keys(t).sort(e.compare)}};i.Df;var a=function(e,t){return function(n){if(c.e$.call(n,e)&&n[e]===t)return n;var r=Object.assign({},n);return r[e]=t,r}},u=function(e,t){return c.e$.call(t,e)};var d={};function l(e){return function(t){var n={};for(var r in t)c.e$.call(t,r)&&(n[r]=e(r,t[r]));return n}}function g(e){return l((function(t,n){return e(n)}))}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return p(i.Df).apply(void 0,e);var n=o(e[0]);return function(e,t){return function(r){for(var c=e,i=n(r),s=i.length,o=0;o<s;o++){var a=i[o];c=t(a,c,r[a])}return c}}}function h(e){if("compare"in e){var t=o(e);return function(e){return function(n){return function(r){for(var c=e.empty,i=t(r),s=i.length,o=0;o<s;o++){var a=i[o];c=e.concat(c,n(a,r[a]))}return c}}}}return h(i.Df)(e)}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return f(i.Df).apply(void 0,e);var n=o(e[0]);return function(e,t){return function(r){for(var c=e,i=n(r),s=i.length-1;s>=0;s--){var o=i[s];c=t(o,r[o],c)}return c}}}function m(e){return M(i.Df)(e)}function _(e){return function(t){var n={},r=!1;for(var i in t)if(c.e$.call(t,i)){var s=t[i];e(i,s)?n[i]=s:r=!0}return r?n:t}}var w=function(e){return function(t){return function(n){if(s(n)||s(t))return d;var r={};for(var c in n)u(c,t)&&(r[c]=e.concat(n[c],t[c]));return r}}},v=function(e,t){return(0,r.zG)(e,g(t))},b=function(e){var t=x(e);return function(e,n,c){return(0,r.zG)(e,t(n,c))}},y=function(e){return function(t){var n=I(e)(t);return function(e,t){return(0,r.zG)(e,n(t))}}},k=function(e){var t=C(e);return function(e,n,c){return(0,r.zG)(e,t(n,c))}},q=function(e){var t=p(e);return function(e,n,c){return(0,r.zG)(e,t(n,c))}},E=function(e){var t=h(e);return function(e){var n=t(e);return function(e,t){return(0,r.zG)(e,n(t))}}},D=function(e){var t=f(e);return function(e,n,c){return(0,r.zG)(e,t(n,c))}},P=function(e){var t=S(e);return function(e){var n=t(e);return function(e,t){return n(e,(0,r.ls)(r.SK,t))}}},M=function(e){var t=P(e);return function(e){var n=t(e);return function(e){return n(e,r.yR)}}},S=function(e){return function(t){var n=o(e);return function(e,r){var c=n(e);if(0===c.length)return t.of(d);for(var i=t.of({}),s=function(n){i=t.ap(t.map(i,(function(e){return function(t){var r;return Object.assign({},e,((r={})[n]=t,r))}})),r(n,e[n]))},o=0,a=c;o<a.length;o++){s(a[o])}return i}}},O=function(e){return _((function(t,n){return e(n)}))};function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=p(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return x(i.Df).apply(void 0,e)}function I(e){if("compare"in e){var t=h(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}}return I(i.Df)(e)}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=f(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return C(i.Df).apply(void 0,e)}var T="ReadonlyRecord";i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df;i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df;var A=s,j=function(e){return function(t){return Object.keys(t).sort(e.compare)}},U=j(i.Df);var L=a;function B(e){return m(e)}var R=function(e){return function(t){return function(n){return A(n)||A(t)?{}:w(e)(t)(n)}}},G=v,z=b,N=y,$=k,K=q,W=E,F=D,J=P,Q=function(e){return function(t){var n=j(e);return function(e,r){var c=n(e);if(0===c.length)return t.of({});for(var i=t.of({}),s=function(n){i=t.ap(t.map(i,(function(e){return function(t){return e[n]=t,e}})),r(n,e[n]))},o=0,a=c;o<a.length;o++){s(a[o])}return i}}},H=O;var Y="Record";i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df},4870:(e,t,n)=>{n.d(t,{s4:()=>r});n(3735);var r=function(e,t){return{left:e,right:t}}},5857:(e,t,n)=>{n.d(t,{e5:()=>g,Eh:()=>u,G0:()=>l});var r=n(4268),c=n(6017);new Set;var i=function(e){return function(t){for(var n,r=t.values(),c=!1;!c&&!(n=r.next()).done;)c=e(n.value);return c}};function s(e){return(0,c.ff)(i((0,c.ff)(e)))}function o(e){var t=a(e);return function(n,r){if(void 0===r){var c=o(e);return function(e){return c(e,n)}}return s((function(e){return t(e,r)}))(n)}}function a(e){return function(t,n){if(void 0===n){var r=a(e);return function(e){return r(t,e)}}for(var c,i=n.values(),s=!1;!s&&!(c=i.next()).done;)s=e.equals(t,c.value);return s}}var u=function(e){var t=o(e);return(0,r.f7)((function(e,n){return t(e,n)&&t(n,e)}))};function d(e){return function(t){for(var n,r=t.values(),c=new Set;!(n=r.next()).done;){var i=n.value;e(i)&&c.add(i)}return c}}function l(e){var t=h(e);return function(n,r){if(void 0===r){var c=l(e);return function(e){return c(n,e)}}if(p(n))return r;if(p(r))return n;var i=new Set(n);return r.forEach((function(e){t(e,i)||i.add(e)})),i}}function g(e){var t=h(e);return function(n,r){if(void 0===r){var c=g(e);return function(e){return c(e,n)}}return d((function(e){return!t(e,r)}))(n)}}new Set;var p=function(e){return 0===e.size},h=a},5151:(e,t,n)=>{n.d(t,{Hi:()=>m,PM:()=>f,RD:()=>k,UA:()=>_,UI:()=>u,dO:()=>h,oE:()=>E,of:()=>l,pE:()=>q,tD:()=>i,tS:()=>g});var r=n(3735),c=n(9384),i=function(e){return function(){return Promise.resolve().then(e)}};var s=function(e,t){return(0,r.zG)(e,u(t))},o=function(e,t){return(0,r.zG)(e,d(t))},a=function(e,t){return(0,r.zG)(e,g(t))},u=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},d=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},l=function(e){return function(){return Promise.resolve(e)}},g=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},p="Task";var h={URI:p,map:s},f={URI:p,of:l},m={URI:p,map:s,ap:o},_={URI:p,map:s,of:l,ap:o,chain:a},w=r.yR,v=(c.F4,l(c.Xl)),b=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return Promise.resolve().then((function(){return e(n,t)()}))})))}}}(e);return function(e){return c.Od(e)?t(e):v}},y=function(e){var t=function(e){return function(t){return function(){return c.Gb(t).reduce((function(t,n,r){return t.then((function(t){return Promise.resolve().then(e(r+1,n)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,c.YM(t))).then(c.ri))}}}(e);return function(e){return c.Od(e)?t(e):v}},k=function(e){return b((function(t,n){return e(n)}))}(r.yR),q=function(e){return y((function(t,n){return e(n)}))},E={URI:p,map:s,of:l,ap:o,chain:a,fromIO:i,fromTask:w}},7112:(e,t,n)=>{function r(e){return function(t,n){return function(r){return e.chain(r,(function(r){return e.map(n(r),(function(e){var n;return Object.assign({},r,((n={})[t]=e,n))}))}))}}}n.d(t,{Do:()=>V,ak:()=>Z,tS:()=>J,g_:()=>G,Uo:()=>B,fF:()=>L,t$:()=>T,UI:()=>W,F2:()=>A,Y3:()=>z});var c=n(1828),i=n(8198),s=n(3735);function o(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}function a(e){return(0,s.ls)(i.F2,e.of)}function u(e){return(0,s.ls)(i.t$,e.of)}function d(e){return function(t){return e.map(t,i.F2)}}function l(e){return function(t){return e.map(t,i.t$)}}function g(e){return function(t){return(0,s.ls)(i.ij(t),e.of)}}function p(e){var t=g(e);return function(e){var n=t(e);return function(e){return(0,s.ls)(e,n)}}}function h(e){var t=_(e),n=p(e);return function(e){var r=n(e);return function(e){return t(r(e))}}}function f(e){return o(e,i.dO)}function m(e){return(0,c.ap)(e,i.G5)}function _(e){return function(t){return function(n){return e.chain(n,(function(n){return i.nM(n)?e.of(n):t(n.right)}))}}}function w(e){return function(t){return function(n){return e.chain(n,(function(n){return i.nM(n)?t():e.of(n)}))}}}function v(e){return function(t,n){return function(r){return e.map(r,i.Pd(t,n))}}}function b(e){return function(t){return function(n){return e.map(n,i.Vn(t))}}}function y(e){return function(t,n){return function(r){return e.map(r,i.EQ(t,n))}}}function k(e){return function(t,n){return function(r){return e.chain(r,i.EQ(t,n))}}}function q(e){return function(t){return function(n){return e.chain(n,i.EQ(t,e.of))}}}function E(e){return function(t){return function(n){return e.chain(n,(function(n){return i.nM(n)?t(n.left):e.of(n)}))}}}function D(e){var t=E(e);return function(n){return t((function(t){return e.map(n(t),(function(e){return i.nM(e)?e:i.t$(t)}))}))}}function P(e){return function(t){return function(n){return e.chain(n,i.EQ((function(n){return e.map(t(n),i.t$)}),(function(t){return e.of(i.F2(t))})))}}}function M(e){return function(t){return e.map(t,i.LF)}}function S(e){return function(t){return e.map(t,i.i$)}}var O=n(9384),x=n(5151),I=function(e,t,n,r){return new(n||(n=Promise))((function(c,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function o(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,c,i,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(c=2&i[0]?r.return:i[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,i[1])).done)return c;switch(r=0,c&&(i=[2&i[0],c.value]),i[0]){case 0:case 1:c=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(c=s.trys,(c=c.length>0&&c[c.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!c||i[1]>c[0]&&i[1]<c[3])){s.label=i[1];break}if(6===i[0]&&s.label<c[1]){s.label=c[1],c=i;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(i);break}c[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=c=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},T=u(x.PM),A=a(x.PM),j=d(x.dO),U=l(x.dO),L=(x.tD,x.tD,j),B=x.of,R=(x.tD,x.dO,k(x.UA)),G=R,z=(x.UA,function(e,t){return function(){return I(void 0,void 0,void 0,(function(){var n;return C(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(O.F2)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,O.t$(t(n))];case 3:return[2]}}))}))}}),N=(x.dO,x.PM,x.PM,x.UA,x.UA,x.UA,x.UA,x.dO,function(e,t){return(0,s.zG)(e,W(t))}),$=function(e,t){return(0,s.zG)(e,F(t))},K=function(e,t){return(0,s.zG)(e,J(t))},W=f(x.dO),F=(x.dO,x.dO,m(x.Hi)),J=_(x.UA),Q=(x.UA,A),H="TaskEither";var Y={URI:H,map:N,ap:$,chain:K};var V=Q(O.F4),Z=r(Y);O.Xl},5605:(e,t,n)=>{function r(e,t){return function(n){var r=e.traverse(n);return function(e,c){return n.map(r(e,c),t.separate)}}}function c(e,t){return function(n){var r=e.traverse(n);return function(e,c){return n.map(r(e,c),t.compact)}}}n.d(t,{BL:()=>c,Fj:()=>r})},3735:(e,t,n)=>{n.d(t,{MZ:()=>c,Q1:()=>a,SK:()=>g,W8:()=>s,a9:()=>i,bc:()=>d,gn:()=>o,ls:()=>u,yR:()=>r,zG:()=>l});function r(e){return e}var c=r;function i(e){return function(){return e}}var s=i(!0),o=i(null),a=i(void 0);function u(e,t,n,r,c,i,s,o,a){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return c(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(c(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return s(i(c(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(i(c(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return a(o(s(i(c(r(n(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function l(e,t,n,r,c,i,s,o,a){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return c(r(n(t(e))));case 6:return i(c(r(n(t(e)))));case 7:return s(i(c(r(n(t(e))))));case 8:return o(s(i(c(r(n(t(e)))))));case 9:return a(o(s(i(c(r(n(t(e))))))));default:for(var u=arguments[0],d=1;d<arguments.length;d++)u=arguments[d](u);return u}}var g=function(e,t){return t}},9384:(e,t,n)=>{n.d(t,{F2:()=>l,F4:()=>_,G:()=>o,Gb:()=>f,Od:()=>p,Wi:()=>c,Xl:()=>m,YM:()=>h,YP:()=>s,e$:()=>w,nM:()=>a,pC:()=>i,r1:()=>v,ri:()=>g,t$:()=>d,tO:()=>u});var r=function(e,t,n){if(n||2===arguments.length)for(var r,c=0,i=t.length;c<i;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},c=function(e){return"None"===e._tag},i=function(e){return"Some"===e._tag},s={_tag:"None"},o=function(e){return{_tag:"Some",value:e}},a=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},d=function(e){return{_tag:"Left",left:e}},l=function(e){return{_tag:"Right",right:e}},g=function(e){return[e]},p=function(e){return e.length>0},h=function(e){return e[0]},f=function(e){return e.slice(1)},m=[],_={},w=Object.prototype.hasOwnProperty,v=function(e){return r([e[0]],e.slice(1),!0)}},4011:(e,t,n)=>{n.d(t,{Df:()=>c,Eq:()=>r});var r={equals:function(e,t){return e===t}},c={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};r.equals,c.compare},2751:(e,t,n)=>{n.d(t,{Df:()=>c,Eq:()=>r,pn:()=>s,xb:()=>i});var r={equals:function(e,t){return e===t}},c={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},i=function(e){return 0===e.length},s=function(e,t){return function(n){return n.endsWith(e,t)}}},655:(e,t,n)=>{n.d(t,{_T:()=>r,mG:()=>c});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n}function c(e,t,n,r){return new(n||(n=Promise))((function(c,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function o(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((r=r.apply(e,t||[])).next())}))}Object.create;Object.create},477:e=>{e.exports=function(e,t,n,r){var c=self||window;try{try{var i;try{i=new c.Blob([e])}catch(t){(i=new(c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder||c.MSBlobBuilder)).append(e),i=i.getBlob()}var s=c.URL||c.webkitURL,o=s.createObjectURL(i),a=new c[t](o,n);return s.revokeObjectURL(o),a}catch(r){return new c[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new c[t](r,n)}}},6584:(e,t,n)=>{n.r(t),n.d(t,{CleanRoomAddon:()=>k,load:()=>v});var r=n(655),c=n(2688),i=n(9320),s=n(8198),o=n(3735),a=n(4011),u=n(6567),d=n(356),l=n(2751),g=n(7112);function p(e){var t;const n=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains;if("string"==typeof n)return[n];if(Array.isArray(n)){const e=n.filter((e=>"string"==typeof e));return e.length>0?e:null}return null}n(64);var h=n(6013);const f=()=>{const e={maxAttempts:200,waitTimeInMs:50};let t;return(0,h.a4)((()=>t),(()=>(t=(()=>{var e;const t=null===(e=window._pbjsGlobals)||void 0===e?void 0:e[0];return(t?window[t]:null)||window.pbjs||window.vmpbjs})(),!!(null==t?void 0:t.que)&&"function"==typeof(null==t?void 0:t.getEvents))),e)},m=e=>"function"==typeof e.readConfig?e.readConfig():e.getConfig();var _=n(7545),w=n(8863);const v=(e,t,n)=>{e.push({functionName:"addon",arguments:["clean_room",{}]})},b=(e,t)=>({direct_buy:(0,i.G0)(l.Eq)(e.direct_buy,t.direct_buy),programmatic:(0,i.G0)(l.Eq)(e.programmatic,t.programmatic)}),y=(0,d.hX)((e=>null!=e));class k{constructor(e){this.prefix="[clean_room]",this.stagedAuctions={},this.trackableAuctions={},this.trackAuctionsInterval=null,this.putOrResetUnprocessed=e=>(0,r.mG)(this,void 0,void 0,(function*(){const t=u.g_((()=>s.Y3((()=>this.unprocessedPrebidAuctions.reset()),c.w)),(e=>s.Y3((()=>this.unprocessedPrebidAuctions.put(e)),c.w))),n=(0,o.ls)(u.DT((e=>e instanceof Error)),u.UI((e=>this.reportError(`Unprocessed auctions failed. Got ${e}`))),s.Yo(o.Q1));return(0,o.zG)(yield e(),s.tS(t),s.vx(n),s.fS((()=>(0,r.mG)(this,void 0,void 0,(function*(){})))))})),this.options=e,this.permutive=e.permutive,this.api=e.api,this.logger=e.logger,this.namespace=e.namespace,this.queryManager=e.queryManager,this.messages=e.messages,this.network=e.network,this.unprocessedPrebidAuctions=e.unprocessedEvents.PrebidAuctions,this.userId=e.userId,this.sessionManager=e.sessionManager;const t=this.sessionManager.sessionHasChanged();this.makeRequest(t),this.startPrebidAuctions()}get allAuctions(){return Object.assign(Object.assign({},this.stagedAuctions),this.trackableAuctions)}makeRequest(e){this.getQueries(e).then((t=>{if(e){const e=this.getOrEmpty(t.queries);this.emitUpdated(e),this.cacheLocally(e)}else{const e=this.getOrEmpty(t.queries),n=this.getCache(),r=b(e,n);this.emitUpdated(r),this.cacheLocally(r)}}))}getQueries(e){const t=this.queryManager.userSegments.getStdAsList(),n=this.queryManager.userSegments.getAllAsList(),r=(0,i.e5)(a.Eq)(n,t);return this.api.cleanRoom(e,{stds:t,fps:r,userId:this.userId.get()})}getCache(){return{direct_buy:this.options.externalData.getExternalJsonData(w.P)||[],programmatic:this.options.externalData.getExternalJsonData(w.l)||[]}}cacheLocally(e){this.options.externalData.setExternalJsonData(w.P,e.direct_buy),this.options.externalData.setExternalJsonData(w.l,e.programmatic)}emitUpdated(e){this.messages.emit("permutive:cleanroom:db:updated",(0,i.G0)(l.Eq)(e.programmatic,e.direct_buy))}getOrEmpty(e){var t,n;return{direct_buy:null!==(t=e.direct_buy)&&void 0!==t?t:[],programmatic:null!==(n=e.programmatic)&&void 0!==n?n:[]}}startPrebidAuctions(){return(0,r.mG)(this,void 0,void 0,(function*(){yield this.trackUnprocessedPrebidAuctions();const e=yield f();if(u.Wi(e))return void this.logInfo("Tracking Prebid Auctions did not start. Missing pbjs.");const{value:t}=e;this.logDebug("Got prebid",t),this.setupUnprocessedPrebidAuctions();const n=m(t),a=e=>(0,o.zG)(this.mapToStagedAuctions(e),s.tS((()=>s.Y3((()=>e.bidsReceived.forEach((e=>{var t;("rendered"===(t=e).status||"targetingSet"===t.status)&&this.setBidToWon(n,e)}))),(e=>{const t=`Failed to process auction. Got ${(0,c.w)(e)}`;return this.reportError(t),(0,c.w)(t)})))));t.onEvent("auctionEnd",(e=>{a(e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const d=e=>{const r=(0,h.qh)(e);this.logDebug("Processing setTargeting event",{adUnitCodes:r});const c=s.DT((([e,t])=>!!e&&!!t.hb_adid),(()=>new Error("Missing targeting data"))),a=(0,o.ls)(c,s.tS((([e,{hb_adid:n}])=>(0,o.zG)(t.getAllPrebidWinningBids(),(0,i.Ew)((t=>t.adId===n&&t.adUnitCode===e)),s.Yo((()=>new Error("Prebid winning bid does not exist")))))),s.UI((e=>{this.setBidToWon(n,e)})));return r.forEach(a)};t.onEvent("setTargeting",(e=>{d(e),this.storeAuctionsAsUnprocessed(this.allAuctions)})),t.onEvent("bidWon",(e=>{this.setBidToWon(n,e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const l=(e,t)=>{this.logDebug("Processing render event",{isRendered:e,props:t}),t.bid&&(e&&this.setBidToRendered(n,t.bid),this.promoteAuctionToTrackable(t.bid),this.storeAuctionsAsUnprocessed(this.allAuctions),this.trackEligibleAuctions())};t.onEvent("adRenderSucceeded",(e=>{l(!0,e)})),t.onEvent("adRenderFailed",(e=>{l(!1,e)})),t.getEvents().forEach((e=>"auctionEnd"===e.eventType?a(e.args):"setTargeting"===e.eventType?d(e.args):"bidWon"===e.eventType?this.setBidToWon(n,e.args):"adRenderSucceeded"===e.eventType?l(!0,e.args):"adRenderFailed"===e.eventType?l(!1,e.args):void 0)),this.storeAuctionsAsUnprocessed(this.allAuctions,{debounced:!1}),(0,h.aq)((()=>(0,r.mG)(this,void 0,void 0,(function*(){this.trackAuctionsInterval=null;const e=this.allAuctions;this.stagedAuctions={},this.trackableAuctions={},yield this.trackPrebidAuctions(e,{useBeacon:!0}),yield this.storeAuctionsAsUnprocessed(null,{debounced:!1})}))))}))}trackUnprocessedPrebidAuctions(){return(0,o.zG)(g.Y3((()=>(0,r.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(yield this.unprocessedPrebidAuctions.getIfPresent(),u.g_((()=>this.logDebug("No unprocessed PrebidAuctions found")),(e=>{var{props:t}=e,n=(0,r._T)(e,["props"]);return this.logDebug("Found unprocessed PrebidAuctions",{props:t,unprocessedData:n}),Promise.all([this.permutive.track("PrebidAuctions",t,{unprocessedData:n}),this.unprocessedPrebidAuctions.reset()])})))}))),(e=>{const t=`Failed to track unprocessed PrebidAuctions. Got ${(0,c.w)(e)}`;return this.reportError(t),(0,c.w)(t)})),(e=>e()))}setupUnprocessedPrebidAuctions(){const e=new _.b(1e3,2500),t=this.putOrResetUnprocessed.bind(this);this.debouncedPutOrResetUnprocessed=e.schedule(t)}storeAuctionsAsUnprocessed(e,{debounced:t=!0}={}){return(0,r.mG)(this,void 0,void 0,(function*(){this.logDebug("Store auctions as unprocessed",{auctionsToStore:e,debounced:t});const n=g.Y3((()=>(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,h.qh)(null!=e?e:{}).map((([e,t])=>Object.assign(Object.assign({},t),{auction_id:e}))),n=yield this.options.clientContext.getClient();return(0,o.zG)(t,u.DT((e=>e.length>0)),u.UI((e=>({props:{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{auctions:e}},client:n,viewId:this.options.viewId.get(),sessionId:this.sessionManager.getSessionId()}))))}))),c.w);return t?this.debouncedPutOrResetUnprocessed(n):Promise.all([this.debouncedPutOrResetUnprocessed((()=>(0,r.mG)(this,void 0,void 0,(function*(){return s.t$(null)})))),this.putOrResetUnprocessed(n)])}))}mapBidProperties(e,t){var n;const r={advertiser_id:(e=>{var t,n,r;const c=(null===(t=e.rubicon)||void 0===t?void 0:t.advertiserId)||(null===(n=e.meta)||void 0===n?void 0:n.buyerId)||(null===(r=e.meta)||void 0===r?void 0:r.advertiserId);return c?`${c}`:null})(t),advertiser_name:(e=>{var t,n,r;const c=(null===(t=e.meta)||void 0===t?void 0:t.clickUrl)||(null===(n=e.adomain)||void 0===n?void 0:n[0])||(null===(r=e.meta)||void 0===r?void 0:r.advertiserName);return c?`${c}`:null})(t),advertiser_domains:p(t),brand_id:(e=>{var t;const n=null===(t=e.meta)||void 0===t?void 0:t.brandId;return n?`${n}`:null})(t),brand_name:(e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.brandName})(t),deal_id:t.dealId,dsp_id:(e=>{var t,n,r;const c=(null===(t=e.appnexus)||void 0===t?void 0:t.buyerMemberId)||(null===(n=e.rubicon)||void 0===n?void 0:n.networkId)||(null===(r=e.meta)||void 0===r?void 0:r.networkId);return c?`${c}`:null})(t),hb_pb:null===(n=t.adserverTargeting)||void 0===n?void 0:n.hb_pb,request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp},c={ad_id:t.adId,ad_unit_code:t.adUnitCode,bid_available:t.statusMessage&&t.statusMessage.indexOf("empty")<0,bidder:t.bidder,bidder_timeout:e.bidderTimeout,cpm:t.cpm,creative_id:`${t.creativeId}`,height:t.height,time_to_respond:t.timeToRespond,width:t.width};return Object.assign(Object.assign({},y(r)),c)}collectAdUnitCodes(e){const t=new Set;return e.reduce(((e,{adUnitCode:n})=>(!n||t.has(n)||(t.add(n),e.push({ad_unit_code:n})),e)),[])}mapToStagedAuctions(e){return s.Y3((()=>{const{auctionId:t,bidsReceived:n,noBids:r}=e;if(0===n.length&&0===r.length)return null;const c=this.collectAdUnitCodes(n),i=this.collectAdUnitCodes(r);return this.stagedAuctions[t]={bids:c,no_bids:i},this.logDebug("Added auction",this.stagedAuctions[t]),this.stagedAuctions[t]}),(e=>{const t=`Failed to map auction. Got ${(0,c.w)(e)}`;return this.reportError(t),(0,c.w)(t)}))}findAuction(e){return(0,o.zG)(this.getStagedAuction(e.auctionId),s.vx((()=>this.getTrackableAuction(e.auctionId))),s.vx((()=>this.mapToStagedAuctions({auctionId:e.auctionId,bidsReceived:[e],bidderRequests:[],noBids:[]}))))}setBidByOperation(e,t,n){const r=e=>e.hasOwnProperty("ad_id"),a=(n,a)=>{const u=e=>e.ad_id===n.adId,d=e=>e.ad_unit_code===n.adUnitCode,[l,g]=(0,o.zG)(a,(0,i.uK)((e=>r(e)&&u(e)&&d(e))),(e=>[e.left,e.right]));this.logDebug(`Bids for ${t}`,{nonMatching:l,matching:g});const p=(0,o.ls)(s.DT((e=>1===e.length),(()=>new Error("No matching bids"))),s.UI((([e])=>(this.logDebug(`Found bid for ${t}`,{found:e}),{found:e,others:l})))),h=s.DT((e=>e.length<=1),(()=>new Error("Ad ID is not unique"))),f=(0,o.ls)(p,s.vx((()=>s.Y3((()=>{const c=this.mapBidProperties(e,n),i=l.filter((e=>!(!d(e)||!r(e))||!d(e)));return this.logDebug(`Creating bid for ${t}`,{created:c,others:i}),{found:c,others:i}}),(e=>(0,c.w)(`Failed to create bid. Got ${(0,c.w)(e)}`))))));return(0,o.zG)(g,h,s.tS(f))};return(0,o.ls)((e=>(0,o.zG)(this.findAuction(e),s.tS((r=>(0,o.zG)(a(e,r.bids),s.tS((({found:e,others:t})=>s.Y3((()=>({updated:n(e),others:t})),c.w))),s.UI((({updated:e,others:n})=>{const c=[e,...n];r.bids=c,this.logDebug(`Bid operation ${t} successful`,e,c)}))))))),s.Vn((e=>{const n=`Failed bid operation ${t}. Got ${(0,c.w)(e)}`;return this.reportError(n),(0,c.w)(n)})))}setBidToWon(e,t){return this.setBidByOperation(e,"setWon",(e=>Object.assign(Object.assign({},e),{winning_bid:!0})))(t)}setBidToRendered(e,t){return this.setBidByOperation(e,"setRendered",(e=>Object.assign(Object.assign({},e),{winning_bid:!0,is_rendered:!0,rendered_timestamp:(new Date).getTime()})))(t)}promoteAuctionToTrackable({auctionId:e}){const t=this.stagedAuctions[e];if(t){if(this.trackableAuctions[e])return this.logError("Auction is already promoted to trackable",{auction:this.trackableAuctions[e]});this.trackableAuctions[e]=t,delete this.stagedAuctions[e],this.logDebug("Auction promoted to trackable",{auctionId:e,trackableAuctions:this.trackableAuctions})}}trackEligibleAuctions(){if(this.trackAuctionsInterval)return;this.trackAuctionsInterval=(0,h.PQ)((()=>(0,r.mG)(this,void 0,void 0,(function*(){if(!this.trackAuctionsInterval)return;this.trackAuctionsInterval=null;const e=this.trackableAuctions;this.trackableAuctions={},yield this.trackPrebidAuctions(e),yield this.storeAuctionsAsUnprocessed(this.stagedAuctions,{debounced:!1})}))),{timeout:5e3})}trackPrebidAuctions(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,h.qh)(e).map((([e,t])=>Object.assign(Object.assign({},t),{auction_id:e})));n.length&&(yield this.permutive.track("PrebidAuctions",{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{auctions:n}},t),this.logDebug("Tracked auctions",{auctions:n}))}))}getStagedAuction(e){return(0,o.zG)(this.stagedAuctions[e],s.DT(Boolean,(()=>new Error("Staged auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}getTrackableAuction(e){return(0,o.zG)(this.trackableAuctions[e],s.DT(Boolean,(()=>new Error("Trackable auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}reportError(e){return this.network.error(`${this.prefix} ${e}`)}logInfo(...e){this.logger.log(this.prefix,...e)}logDebug(...e){this.logger.debug(this.prefix,...e)}logError(...e){this.logger.error(this.prefix,...e)}}},8863:(e,t,n)=>{n.d(t,{P:()=>r,l:()=>c});const r="_pcrdbs",c="_pcrprs"},9417:(e,t,n)=>{n(1057),n(3351)},8206:(e,t,n)=>{n.d(t,{lg:()=>h,Bt:()=>f});var r=n(9320),c=n(3735),i=n(6567),s=n(6017),o=n(356),a=n(2751),u=n(6013);class d{constructor(e,t,n,r){this.userId=e,this.network=t,this.api=n,this.logger=r,this.tag="appnexus",this.ttlInSeconds=86400,this.usedForThirdPartyData=!0,this.url="https://ib.adnxs.com/getuidj",this.invalidAliases=["","0","-1"]}getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,u.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,c.zG)((0,i.DT)((e=>this.isValidAlias(e.uid)))(e),(0,i.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:i.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class l{constructor(e,t,n,r,c){this.config=e,this.network=t,this.api=n,this.userId=r,this.logger=c,this.tag="pxid",this.ttlInSeconds=86400,this.usedForThirdPartyData=!1,this.url=`https://e488cdb0-e7cb-4d91-9648-60d437d8e491.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,u.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,i.ij)(e.uid)})),(e=>({type:"attempted",result:i.YP})))}reset(){return(0,u.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}const g=new Set(["public","email","email_md5","email_sha256"]),p=(e,t)=>!!e.id&&!(0,r.t9)(a.Eq)(e.tag,t);class h{constructor(e,t,n,r,c){this.metrics=e,this.trace=t,this.permutiveData=n,this.identityProviderEnv=r,this.logger=c,this.identities={},this.providers={},this.identitiesLastModified=new Date,this.identities=this.getCachedIdentitiesAndMigrateIfRequired()}get getIdentitiesLastModified(){return this.identitiesLastModified}prepareThirdPartyIdentities(){this.logger.debug("Identities: starting to load identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),n=[{load:e=>{return t=e.config,n=e.network,r=e.api,c=e.userId,s=e.logger,(0,i.G)(new l(t,n,r,c,s));var t,n,r,c,s}},{load:e=>{return t=e.userId,n=e.network,r=e.api,c=e.logger,(0,i.G)(new d(t,n,r,c));var t,n,r,c}},{load:e=>(e.cookies,i.YP)},{load:e=>(e.cookies,i.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,i.YP)}],s=(0,r.oA)(n.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,c.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(s).then((e=>e.map((([e,t])=>(this.providers[e.tag]=e,this.setTPDIdentityIfPresent(e.tag,t,e.ttlInSeconds)))))).then((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()}))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},n=Object.entries(e).map((([e,{id:t,expiry:n,priority:r}])=>Object.assign(Object.assign(Object.assign({tag:e},t?{id:t}:{}),n?{expiry:n}:{}),void 0!==r?{priority:r}:{}))),c=n.filter((e=>p(e,Object.values(this.providers).map((e=>e.tag))))),s=n.filter((e=>((e,t)=>!!e.id&&!!(0,r.t9)(a.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),o=(0,r.DZ)((e=>(0,i.ij)(e.priority)))(c),u=o.length>0?Math.max(...o):0,d=c.map((e=>void 0!==e.priority?Object.assign(Object.assign({},e),{priority:e.priority}):Object.assign(Object.assign({},e),{priority:u+1}))),l=s.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+m}:{tag:e.tag,id:e.id,priority:u+_}));return d.concat(l)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}getCustomerDefinedIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>p({tag:e,id:t.value,expiry:t.expiry,priority:t.priority},Object.values(this.providers).map((e=>e.tag)))))}getTPDIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>{var n,r;return!!t.value&&!!(null===(r=null===(n=this.providers)||void 0===n?void 0:n[e])||void 0===r?void 0:r.usedForThirdPartyData)}))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,n=e=>{throw new Error(e)},r=e=>(e.forEach((e=>{(e=>"string"==typeof e.id&&"string"==typeof e.tag)(e)||n(t),(e=>"email_sha256"!==e.tag||h.emailSHA256Regex.test(e.id))(e)||n("Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")})),e);return"string"==typeof e?(c=e).length>0?[{id:c,tag:"default"}]:n(t):Array.isArray(e)?r(e):n(t);var c}extractIdentifyFromQueue({global:e},t=[]){const n=()=>e.q.findIndex((e=>"identify"===e.functionName)),r=(t,c)=>{if(t<0)return c;const i=e.q.splice(t,1)[0],s=this.parseCustomerDefinedIdentities(i.arguments[0]);return r(n(),c.concat(s))};return r(n(),t)}checkIdentitiesHaveBeenModified(e){const t={concat:(e,t)=>a.Eq.equals(e.value,t.value)?{}:(0,c.bc)(e,t)};return(0,c.zG)((0,o.jV)(t)(this.identities)(e),u.hk,(e=>{const t=(0,s.ff)(o.xb)(e);return this.logger.debug("[identities] is modified",t,e),t}))}setIdentities(e){let t=!1;const n=e.filter((e=>!g.has(e.tag))).reduce(((e,{tag:n,id:r,expiry:c,priority:i})=>(void 0===this.identities[n]&&(t=!0,this.logger.debug(`identities[${n}]: added`)),e[n]=Object.assign(Object.assign(Object.assign({},r?{value:r}:{}),c?{expiry:c}:{}),void 0!==i?{priority:i}:{}),e)),{});(t||this.checkIdentitiesHaveBeenModified(n))&&(this.identitiesLastModified=new Date),this.identities=Object.assign(Object.assign({},this.identities),n),this.logger.debug("[identities] Updating to",this.identities),this.permutiveData.setData("identities",this.identities)}reset(){return(0,c.zG)(this.identities={},(e=>Promise.all(Object.values(this.providers).map((e=>e.reset()))).then(c.Q1)))}getFilteredIdentities(e){return(0,u.m8)(...Object.entries(this.identities).filter((([t,n])=>e(t,n))).map((([e,{value:t,expiry:n,priority:r}])=>(0,c.bc)(e,Object.assign(Object.assign({id:t},n?{expiry:n}:{}),void 0!==r?{priority:r}:{})))))}shouldAskForNewIdentity(e){var t;const n=(0,i.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,i.g_)((()=>!0),this.isIdentityExpired)(n)}getCachedTPDIdentity(e){return this.identities[e]?(0,i.ij)(this.identities[e].value):i.YP}setTPDIdentityIfPresent(e,t,n=86400){const r=()=>Date.now()+Math.floor(1e3*n);return(0,i.g_)((()=>this.setIdentities([{tag:e,expiry:r()}])),(t=>this.setIdentities([{tag:e,id:t,expiry:r()}])))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,c.bc)(e,i.YP):(0,c.zG)(t.result,(t=>this.metrics.track({name:(0,i.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(n=>(0,c.bc)(e,t.result)))))}isIdentityExpired(e){return e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,u.m8)(...Object.entries(e).filter((([e,t])=>!this.isIdentityExpired(t)&&!g.has(e)))))(this.permutiveData.getData("identities")||{})}}h.emailSHA256Regex=/^[a-f0-9]{64}$/;const f=(e,t,n,c,i)=>{const s=(e,t)=>{const n=["(null)"];return n.indexOf(e)>-1||!!v[e]||(0,r.jV)(a.Eq)(t,n).length>0},o=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":s,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,n)=>["thestudentroom.co.uk"].some((e=>n.indexOf(e)>-1))&&(0,r.jV)(a.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":s,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":o,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":o,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},d={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!w[e]},l=u[e]||d[t];return!!l&&l(i,n,c)},m=2,_=3,w={},v={}},6815:(e,t,n)=>{n.d(t,{z:()=>r});class r{ingestIfEligible(e){return Promise.resolve()}}},64:(e,t,n)=>{n.d(t,{CL:()=>l,D0:()=>c,ED:()=>i,EW:()=>g,MU:()=>m,PH:()=>d,UW:()=>f,Uy:()=>a,eV:()=>s,jH:()=>p,mL:()=>h,qr:()=>o,t2:()=>u});var r=n(5506);const c=(0,r.MU)("engagement_edge_only",!0),i=(0,r.MU)("segment_transition_edge_only",!0),s=(0,r.MU)("track_form_submission",!0),o=(0,r.MU)("track_link_click",!0),a=(0,r.MU)("track_pageview_complete",!0),u=(0,r.MU)("track_pageview_engagement",!0),d=((0,r.$S)("sync_segments_cookie",!1),(0,r.$S)("track_slot_clicked",!0)),l=(0,r.$S)("track_slot_rendered",!0),g=(0,r.$S)("track_slot_viewable",!1),p=(0,r.$S)("track_targeting_keys",!1),h=((0,r.p1)("revenue_insights_enabled",!1),(0,r.p1)("data_provider_config",{ac_bidders:[]}),"_psegs"),f=!0,m=6e5},274:(e,t,n)=>{n.d(t,{U:()=>r});const r={$ip_address:"$ip_address",$ip_address_hash:"$ip_address_hash",$ip_geo_info_city:"$ip_geo_info_city",$ip_geo_info_continent:"$ip_geo_info_continent",$ip_geo_info_country:"$ip_geo_info_country",$ip_geo_info_postal_code:"$ip_geo_info_postal_code",$ip_geo_info_province:"$ip_geo_info_province",$ip_isp_info_autonomous_system_organization:"$ip_isp_info_autonomous_system_organization",$ip_isp_info_isp:"$ip_isp_info_isp",$ip_isp_info_organization:"$ip_isp_info_organization"}},8764:(e,t,n)=>{n.d(t,{v:()=>i});class r{constructor(e,t,n,r,c,i,s){this.logger=e,this.permutive=t,this.id=n,this.segmentCode=r,this.triggerType=c,this.config=i,this.workspaceLevelConfig=s}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const n={reaction_id:this.id,type:e};this.permutive.track("Reaction",n,t),this.logger.log(n.type,n)}}var c=n(5506);class i{constructor(e,t,n){this.logger=e,this.permutive=t,this.clientContext=n,this.optimisedActivationsConfig={dfp:{dfp:[74978,62212,58133,75270,57643,73008,105851,64766,64767,64768,91442,91443,91444,91445,91446,91447,91448,91449,98239,100580,64449,99470,99471,62507,73010,73009,88489,85485,88504,88505,56186,56172,56173,56163,56170,55749,56191,41376,56184,55753,55747,56166,56182,56180,55754,56179,56171,56181,56153,55755,56154,56178,56189,56175,56161,56156,56157,41414,39204,56164,56187,56192,56162,56177,56344,56158,56168,56185,56165,56634,56622,56174,56176,56169,56633,56190,56160,88624,75548,56747,75605,94397,88766,91628,90033,91654,91780,94508,94510,65451,65452,65454,91819,60378,91821,68016,69166,89492,89493,89494,89495,100608,100609,103672,89496,89497,66541,66542,92185,69630,69633,94752,73331,66683,66684,69766,69768,70838,73342,58444,89747,97261,97262,63713,63714,62161,63723,63722,70301,100669,70302,64327,64328,63749,64339,64337,93385,93049,94909,72866,72867,72868,90007,71808,71206,71214,71215,71816,100760,98469,92709,100803,64911,77869,77303,79208,73874,79209,79210,77811,74314,95201,74764,74765,74820,74821,74822,89786,89784,89783,89781,89782,89780,92885,92886,100878,100885,92946,92947,92951,92952,92953,92954,90032,92956,92957,90449,92973,98706,79654,79655,103853,103854,93056,93057,105718,105719,105717,80707,93154,82015,82106,102092,82234,99961,98925,83092,84002,84072,101196,101197,84222,99059,99147,85209,85210,93652,90876,93661,85580,101316,82036,85882,85968,91029,91037,96020,91049,91050,91059,87319,87159,104984,82022,91149,90034,106405,88024,88026,99365,99366,91291,99387,99394,100524,106567,106837,106906,106920,106921,107324,107326,109669,109700,110071,110674,113969,114028,112089,114096,114192,114701,114702,114973,114974,116199,116495,116942,117139,117190,117409,117410,117411,120920,121269,122439,120744,122535,122813,122871,122872,122873,122874,123650,124278,123886,124339,124457,124656,124722,124946,125103,125148,125544,121486,126037,126038],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{},appnexus_adserver:[],nativo:[],rubicon_ssp:[],smart:[]}}getSpecializedActivations(e){return this.optimisedActivationsConfig[e]}getActivations(e){return(0,c.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new r(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,n=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(r=t).operator?r.criteria.every(n):r.criteria.some(n));var r}}},5506:(e,t,n)=>{n.d(t,{$S:()=>s,Hn:()=>c,MU:()=>i,p1:()=>o});const r={standard_cohorts:{auto_init:!0,activationConfigs:[]},overlays:{auto_init:!0,activationConfigs:[]},gam_log:{auto_init:!0,network_code:"4817",service_account:"gam-4817@permutive-gam-logs-production.iam.gserviceaccount.com",delimiter:",",activationConfigs:[]},web:{auto_init:!1,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},scriptrunner:{auto_init:!0,activationConfigs:[]},clean_room:{auto_init:!0,publisher_permissions:{},activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"4817",name:"BBC.COM - World - DFP EMEA"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]}},c=e=>{const t=r[e];return(e,n)=>{var r;return null!==(r=null==t?void 0:t[e])&&void 0!==r?r:n}},i=c("web"),s=c("dfp"),o=c("prebid");c("facebook_pixel_v2"),c("socio_demo_cohorts"),c("ctv")},427:(e,t,n)=>{n.d(t,{z:()=>c});var r=n(3629);class c extends class{constructor(e){this.context=e}getContext(){return this.context}updateContext(...e){e.forEach((([e,t])=>{this.context[e]=t}))}}{constructor(e){super(e)}getClient(){var e;const t=null!==(e=document.title)&&void 0!==e?e:"";return Promise.resolve({type:"web",user_agent:navigator.userAgent||"",url:(0,r.bk)(window.location.href),domain:window.location.hostname||"",title:t,referrer:(0,r.bk)(document.referrer)})}}},4572:(e,t,n)=>{n(6013)},449:(e,t,n)=>{n.d(t,{M:()=>_,m:()=>m});var r=n(655),c=n(2688),i=n(9320),s=n(8198),o=n(3735),a=n(6567),u=n(5151),d=n(7112),l=n(550),g=n(6013),p=n(5595);const h="permutive-events-cache",f="permutive-events-for-page",m="historical";class _{constructor(e,t,n,r,c,i,s){this.config=e,this.namespace=t,this.logger=n,this.network=r,this.trace=c,this.metrics=i,this.makeEventsStore=s,this.eventPutQueue=Promise.resolve(),this.eventsCache=this.makeEventsRepository(h),this.eventsForPage=this.makeEventsRepository(f),this.eventStore=s(),this.eventsTTLInMilliseconds=(0,o.zG)((0,a.ij)(this.config.eventsTTLInDays),(0,a.tS)((e=>"number"==typeof e&&e>0?(0,a.G)(24*e*3600):a.YP))),this.eventsCache.events=(0,g.PQ)((()=>{const e=this.trace.startSpan("load_event_cache");return this.loadFromDisk().then((t=>(e.finish(),this.logger.debug("Event cache loaded, #e",t.length),t)))})),this.readiness=this.eventsCache.events.then((()=>this.migratePreviousPagesEvents()))}migratePreviousPagesEvents(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,u.pE)((e=>(0,d.Y3)((()=>e.flush()),c.w)));return(0,o.zG)([this.eventsForPage,this.eventsCache],t,(0,u.UI)((t=>{const n=t.reduce(((e,t)=>(0,s.g_)((t=>[...e,t]),(()=>e))(t)),[]);return n.length>0&&this.network.error(`Migrate previous events failed. Got:\n${n.join("\n ")}`),e.finish()})),(e=>e()))}))}get eventsForCurrentPage(){return this.eventsForPage.events}all(){return Promise.all([this.eventsCache.events,this.eventsForPage.events]).then(i.xH)}resetIfNeeded(){return Promise.resolve(!1)}add(e,{persistOnDisk:t}){return(0,r.mG)(this,void 0,void 0,(function*(){this.logger.debug("Adding to cache",e);return(yield this.eventsForPage.events).push(e),t&&this.readiness.then((()=>this.eventsForPage.flush())),e}))}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e){const t=this.config.eventsCacheLimitBytes;let n=2*JSON.stringify(e).length,r=1;for(;n>t;)e.splice(0,r),r*=2,n=2*JSON.stringify(e).length;return{events:e,sizeInBytes:n}}loadFromDisk(){this.logger.log("Loading event cache...");const e=this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{}),t=e=>{this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})},n=(0,o.zG)(this.eventsTTLInMilliseconds,(0,a.g_)((0,o.a9)(o.yR),(e=>(0,i.hX)((t=>e>Date.now()-t.time.getTime()))))),c=(0,o.ls)((0,a.fS)((()=>[])),u.of),s=(0,d.g_)((e=>{const t=(0,u.of)([]);return e instanceof p.m?t:(this.network.error(`Error fetching data from store. Got ${e}`),()=>(0,r.mG)(this,void 0,void 0,(function*(){return yield this.reset("historical"),t()})))}),c);return(0,o.zG)([this.eventStore.get(h),this.eventStore.get(f)],(0,i.UI)(s),(0,i.vP)(u.oE),(0,u.UI)((t=>(this.logger.debug("Read events from store",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",e),t))),(0,u.UI)((0,o.ls)(i.xH,this.filterEventsByWorkspace,this.pruneEventsToSizeLimit.bind(this),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,e.events.length>0&&t(e),e.events)),(0,i.UI)(l.kJ),n)),(e=>e()))}reset(e){return(0,r.mG)(this,void 0,void 0,(function*(){return this.logger.debug("Resetting Events Cache"),(0,o.zG)(this.eventStore.deleteStore(),(0,d.UI)((()=>(this.eventStore=this.makeEventsStore(),e===m?Promise.all([this.eventsCache.reset(),this.eventsForPage.flush()]):Promise.all([this.eventsCache.reset(),this.eventsForPage.reset()])))),(0,d.UI)((()=>this.all())),(0,d.g_)((()=>(0,u.of)([])),(e=>(0,o.a9)(e))),(e=>e()))}))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t={key:e,events:Promise.resolve([]),sizeInBytes:0,flush:()=>(0,r.mG)(this,void 0,void 0,(function*(){const e=yield t.events;this.logger.debug("Writing",e.length,"events to",t.key);const n=this.trace.startSpan(`write_${t.key}`),r=JSON.stringify(e);return t.sizeInBytes=2*r.length,this.eventPutQueue=this.eventPutQueue.then((r=>this.eventStore.put(e.map(l.XO),t.key)().then((e=>{if((0,s.nM)(e)){(e=>{const n=`Events cache failed to put ${t.key}. Got ${e}`;return e instanceof p.m?this.logger.error(n):this.network.error(n)})(e.left)}n.finish()}))))})),reset:()=>(t.events=Promise.resolve([]),t.sizeInBytes=0,t.flush())};return t}}},8231:(e,t,n)=>{n.d(t,{K:()=>L});class r{constructor(){this.crypto=window.crypto||window.msCrypto,this.ALG_NAME="AES-GCM"}isAvailable(){var e;return!!(null===(e=this.crypto)||void 0===e?void 0:e.subtle)}generateKey(e=!1){return this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},e,["encrypt","decrypt"])}encrypt(e,t){const[n,r]=this._encrypt(e,this.str2bytes(t));return n.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(r,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const n=new Uint8Array(t,0,12),r=new Uint32Array(t,12,1)[0],c=t.slice(16,16+r);return this._decrypt(e,n,c).then(this.bytes2str)}_encrypt(e,t){const n=this.crypto.getRandomValues(new Uint8Array(12));return[this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:n},e,t),n]}_decrypt(e,t,n){return this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:t},e,n)}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}var c=n(2688),i=n(8198),s=n(6567),o=n(7112);var a=n(3735),u=n(2485),d=n(655);let l,g;const p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,_=new WeakMap;let w={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function v(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(g||(g=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(k(this),t),y(p.get(this))}:function(...t){return y(e.apply(k(this),t))}:function(t,...n){const r=e.call(k(this),t,...n);return f.set(r,t.sort?t.sort():[t]),y(r)}}function b(e){return"function"==typeof e?v(e):(e instanceof IDBTransaction&&function(e){if(h.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",i),e.removeEventListener("abort",i)},c=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",c),e.addEventListener("error",i),e.addEventListener("abort",i)}));h.set(e,t)}(e),t=e,(l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,w):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",c),e.removeEventListener("error",i)},c=()=>{t(y(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",c),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&p.set(t,e)})).catch((()=>{})),_.set(t,e),t}(e);if(m.has(e))return m.get(e);const t=b(e);return t!==e&&(m.set(e,t),_.set(t,e)),t}const k=e=>_.get(e);function q(e,t,{blocked:n,upgrade:r,blocking:c,terminated:i}={}){const s=indexedDB.open(e,t),o=y(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(y(s.result),e.oldVersion,e.newVersion,y(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),o.then((e=>{i&&e.addEventListener("close",(()=>i())),c&&e.addEventListener("versionchange",(()=>c()))})).catch((()=>{})),o}function E(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),y(n).then((()=>{}))}const D=["get","getKey","getAll","getAllKeys","count"],P=["put","add","delete","clear"],M=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(M.get(t))return M.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,c=P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!c&&!D.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,c?"readwrite":"readonly");let s=i.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),c&&i.done]))[0]};return M.set(t,i),i}w=(e=>({...e,get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(w);var O=n(5151),x=n(6013);function I(e){return"development"===e.environment?window.isSecureContext:"https:"===window.location.protocol}class C{constructor(e,t,n,r,c,i,s){this.namespace=e,this.logger=t,this.cryptoAlg=n,this.idb=r,this.mainObjectStore=c,this.keyObjectStore=i,this.keyObjectKey=s,this.MAX_CONSECUTIVE_PUTS=30,this.puts=1,this.hasForcedCompaction=!1,this.logger.debug("IDB: Created",this.idb),this.cryptoKey=this.getOrGenerateKey()}static initialise(e,t,n,r,c,s,u,d,l,g){const p=(0,x.G6)(navigator.userAgent)&&!1,h=[I(e),c.isAvailable(),!p].every((e=>!0===e)),f=(e,t,n)=>t.includes(n)?(0,a.Q1)():e.createObjectStore(n),m=h?(0,i.Y3)((()=>function(e){if(!(0,x.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t,n=0;return new Promise((e=>{const r=()=>(n++,indexedDB.databases().finally(e));t=window.setInterval(r,100),r()})).finally((()=>{clearInterval(t),e.track({name:"sdk_idb_conn_attempt_safari_count",value:n,labels:{}})}))}(n).then((()=>q(s,g,{upgrade:e=>{const t=[...e.objectStoreNames];f(e,t,u),f(e,t,d)}})))),(e=>String(e))):(0,i.t$)("Connection not attempted. Default to localStorage");return(0,i.g_)((e=>(0,o.t$)(e)),(e=>(0,o.Y3)((()=>e.then((e=>new C(t,r,c,e,u,d,l)))),(e=>String(e)))))(m)}put(e,t){return(0,d.mG)(this,void 0,void 0,(function*(){return(0,a.zG)((()=>(0,d.mG)(this,void 0,void 0,(function*(){return(0,a.bc)(JSON.stringify(e),yield this.cryptoKey)}))),(0,O.tS)((([e,t])=>(0,O.of)(this.cryptoAlg.encrypt(t,e)))),(0,O.tS)((e=>()=>(0,d.mG)(this,void 0,void 0,(function*(){return yield this.resetIfRequired(this.puts++),e})))),(0,O.tS)((e=>(0,o.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),c.w))),(0,O.UI)((0,i.g_)((n=>{throw this.logger.error(`IDB: Failed to put "${t.toString()}" value`,e,". Got \n",n),"QuotaExceededError"===n.name&&this.forceCompaction(),n}),(()=>t))),(e=>e()))}))}get(e){return this.cryptoKey.then((t=>(0,a.zG)(this.namespace.getNamespacedStorageKey(String(e)),(n=>this.idb.get(this.mainObjectStore,n).then((e=>e?this.cryptoAlg.decrypt(t,e):null)).then(JSON.parse).catch((t=>{const n=(0,c.w)(t);throw this.logger.error(`IDB: Get ${e.toString()} failed. Got`,n),n}))))))}delete(e){return(0,a.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logger.debug("IDB: Deleting",this.idb),this.idb.close(),E(this.idb.name)}getOrGenerateKey(){return(0,a.zG)(this.namespace.getNamespacedStorageKey(this.keyObjectKey),(e=>this.idb.get(this.keyObjectStore,e).then((e=>e||this.storeGivenOrGeneratedKey())).catch((e=>{const t=(0,c.w)(e);return this.logger.error("IDB: Get or generate key failed. Got\n",t),this.cryptoAlg.generateKey(!1)}))))}storeGivenOrGeneratedKey(e=this.cryptoAlg.generateKey(!1)){return(0,a.zG)((0,O.of)(this.namespace.getNamespacedStorageKey(this.keyObjectKey)),(0,O.tS)((t=>(0,o.Y3)((()=>(0,d.mG)(this,void 0,void 0,(function*(){return this.idb.put(this.keyObjectStore,yield e,t)}))),c.w))),(0,O.UI)((0,i.g_)((e=>{throw this.logger.error(`IDB: Failed to store crypto key to ${this.keyObjectStore} due to unexpected error,\n`,e),e}),(()=>e))),(e=>e()))}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logger.debug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return q(e).then((t=>(t.close(),E(e))))}resetIfRequired(e){return(0,x.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.reset():Promise.resolve()}reset(){return(0,d.mG)(this,void 0,void 0,(function*(){const e=this.idb.name,t=this.idb.version;yield this.deleteStore(),this.idb=yield q(e,t),this.idb.createObjectStore(this.mainObjectStore),this.idb.createObjectStore(this.keyObjectStore),yield this.storeGivenOrGeneratedKey(this.cryptoKey),this.logger.debug("IDB: Reset to",this.idb)}))}}var T=n(3195),A=n(5595);class j{constructor(e,t,n,r,c,s,o,d,l,g){this.version=3,this.db=((e,t,n,r,c,i,s,o,d,l,g)=>(0,a.zG)(C,(0,u._)({logger:l,consentTracking:g})).initialise(e,t,n,l,r,c,i,s,o,d))(e,t,n,r,c,s,o,d,this.version,l,g)().then((0,i.fS)((e=>(0,T.S)(t,l,g))))}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new A.m(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,o.Y3)((()=>this.db.then((n=>n.put(e,t)))),(e=>{const t=(0,c.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,o.Y3)((()=>this.db.then((t=>t.get(e))).then(s.ij)),(e=>{const t=(0,c.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,o.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,o.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}var U=n(449);class L extends U.M{constructor(e,t,n,c,i,s,o,a){super(e,t,n,c,i,s,(()=>new j(e,t,s,new r,"e488cdb0-e7cb-4d91-9648-60d437d8e491",`events_${o.get()}`,`keys_${o.get()}`,"events",n,a)))}}},2923:(e,t,n)=>{n.d(t,{X:()=>r});class r{constructor(){this.properties={}}overrideCustomProps(e){this.properties=e}getCustomProps(){return this.properties}}},4314:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(2688),c=n(3735),i=n(550),s=n(7545);class o{constructor(e,t,n,r,c,i){this.eventHandler=e,this.api=t,this.metrics=n,this.userId=r,this.network=c,this.eventsCache=i,this.DEBOUNCE_TIME=500,this.MAX_DEBOUNCE_TIME=5e3,this.batch={requestData:[],requestOptions:[],processingStrategies:[]},this.scheduler=new s.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedFlushIfNotEmpty=this.scheduler.schedule(this.flush.bind(this)),this.scheduler.scheduleForPageUnload((()=>this.flushWithBeacon.bind(this)(this.batch)))}add(e,t,n){return this.batch.requestData.push(e),this.batch.requestOptions.push(t),this.batch.processingStrategies.push(n),this.debouncedFlushIfNotEmpty(this.batch),Promise.resolve()}flush(e){return this.flushIfNotEmpty(e,!1)}flushWithBeacon(e){return this.flushIfNotEmpty(e,!0)}flushIfNotEmpty(e,t){const{requestData:n,requestOptions:i,processingStrategies:s}=e,o=e=>this.network.error(`Error sending events batch. Got ${(0,r.w)(e)}`,this.userId.get()),a=t?(0,c.ls)((e=>this.api.trackBatchBeacon(e)),(e=>Promise.resolve())):e=>this.api.trackBatch(this.metrics,e);return n.length>0?(0,c.zG)(this.resetBatch(),(e=>this.trackMetrics(n)),(e=>a(n).then((e=>this.isBatchResponse(e)?this.onBatchResponseSuccess(e,n,i,s):(0,c.Q1)())).catch(o))):Promise.resolve()}onBatchResponseSuccess(e,t,n,r){const s=(e,t)=>"never"!==t?(0,c.ls)((()=>this.eventHandler.newEvent((0,i.XO)(e),null)),(()=>this.eventsCache.add(e,{persistOnDisk:!0}))):c.Q1,o=(e,t,n)=>{const r={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,id:null,time:(new Date).toISOString()};return(0,c.zG)(n(e.error.message),(t=>console.error(e)),(t=>this.eventHandler.newEvent(r,e)))};return e.forEach((({body:e},a)=>{const u=t[a],d=n[a],l=r[a];return(0,i.bk)(e)?o(e,u,d.error):((e,t,n,r)=>{const o=(0,i.mh)(e,t);return(0,c.zG)(n(o),s(o,r))})(e,u,d.success,l)}))}resetBatch(){this.batch={requestData:[],requestOptions:[],processingStrategies:[]}}trackMetrics(e){this.metrics.track({name:"sdk_events_batch_size_total",value:e.length,labels:{}}),this.metrics.track({name:"sdk_events_batch_size_bytes",value:2*JSON.stringify(e).length,labels:{}})}isBatchResponse(e){return!!e}}},6515:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(2899);const c="permutive-pvc";class i extends((0,r.h)(c)){constructor(e){super(e)}}},3937:(e,t,n)=>{n.d(t,{J:()=>c});var r=n(2899);class c extends((0,r.h)("permutive-unprocessed-pba")){constructor(e){super(e)}}},2899:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(3735),c=n(6567),i=n(3195);const s=e=>t=>class extends t{constructor(){super(...arguments),this.key=e}put(e){return this.db.then((t=>t.put(e,this.key))).then(r.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(c.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},o=e=>(0,r.zG)(class{constructor(e){this.db=Promise.resolve((0,i.S)(e.namespace,e.logger,e.consentTracking))}},s(e))},9678:(e,t,n)=>{n.d(t,{LP:()=>i,dG:()=>r,eP:()=>c});const r=4096,c=`Cookie exceeds maximum supported size of ${r} bytes for most browsers.`,i="Cookie is missing required parameters."},9175:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(3735),c=n(9678);class i{constructor(e,t,n){this.namespace=e,this.config=t,this.logger=n}setCookie(e,t,n=!1){var r;if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:n,cookieDomain:i}=null!==(r=this.config)&&void 0!==r?r:{};throw this.logger.warn(`Unable to set cookie. ${c.LP}`,{value:t,cookieName:e,cookieExpiry:n,cookieDomain:i}),new Error(c.LP)}const i=this.namespace.getNamespacedStorageKey(e),s=[encodeURIComponent(i),"=",encodeURIComponent(t),"; expires=",this.config.cookieExpiry,"; domain=",this.config.cookieDomain,"; path=/",n?"; samesite=none; secure":""].join("");if(s.length>c.dG)throw this.logger.warn(`Unable to set cookie ${i}. ${c.eP}`),new Error(c.eP);return this.logger.debug(`Setting cookie ${s}`),document.cookie=s,!0}getCookie(e,t=!1){const n=t?e:this.namespace.getNamespacedStorageKey(e),r=new RegExp("\\b"+encodeURIComponent(n)+"=([^;]+)").exec(document.cookie);return null!==r?decodeURIComponent(r[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.namespace.getNamespacedStorageKey(e);return document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain="+this.config.cookieDomain+"; path=/",!0}}var s=n(5097);const o=e=>{const{logger:t,consentTracking:n}=e,r=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{constructor(){super(...arguments),this.setCookie=(0,s.v)(super.setCookie.bind(this),r,n.isRevoked)}}},a=(e,t,n,c)=>new((0,r.zG)(i,o({consentTracking:c,logger:n})))(e,t,n)},3319:(e,t,n)=>{n.d(t,{S:()=>d});var r=n(3735),c=n(2688),i=n(787),s=n(8198);class o{constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){return(0,r.zG)(this.getExternalData(e),i.A)}setExternalData(e,t){const n=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(n,t)}catch(e){}}setExternalJsonData(e,t){return(0,r.zG)((n=t,(0,s.Y3)((function(){var e=JSON.stringify(n);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),r.yR)),(0,s.UI)((t=>this.setExternalData(e,t))),(0,s.g_)((e=>{throw(0,c.w)(e)}),r.Q1));var n}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}var a=n(5097);const u=e=>{const{logger:t,consentTracking:n}=e,r=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},c=r,i=r;return e=>class extends e{constructor(){super(...arguments),this.setExternalData=(0,a.v)(super.setExternalData.bind(this),c,n.isRevoked),this.setExternalJsonData=(0,a.v)(super.setExternalJsonData.bind(this),i,n.isRevoked)}}},d=(e,t,n)=>new((0,r.zG)(o,u({consentTracking:n,logger:t})))(e)},6715:(e,t,n)=>{n.d(t,{P:()=>r});class r{constructor(e,t,n,r,c,i,s,o,a=[],u={}){this.logger=e,this.network=t,this.userId=n,this.viewId=r,this.messages=c,this.sessionManager=i,this.cookies=s,this.externalData=o,this.blockers=a,this.addons=u,this.listenForBlockers=!0}makeSafe(e){return(...t)=>{try{return e(...t)}catch(e){this.network.error(e,this.userId.get())}}}utcNow(){const e=new Date;return new Date(e.toUTCString())}addBlocker(e){this.blockers.push(e),this.logger.log("<blockers> added blocker "+e),this.messages.on(e,(()=>{if(this.listenForBlockers){const t=this.blockers.indexOf(e);t>=0&&(this.blockers.splice(t,1),this.logger.log("<blockers> removed blocker "+e)),0===this.blockers.length&&(this.listenForBlockers=!1,this.messages.emit("permutive:blockers:empty"),this.logger.log("<blockers> complete"))}}))}}},4828:(e,t,n)=>{n.d(t,{SX:()=>i});class r{constructor(){this.prefix="[Permutive]",this.debugStyle=["color: blue"].join(";")}log(...e){return console.log.bind(window.console,this.prefix)(...e)}debug(...e){return console.debug.bind(window.console,"%c%s",this.debugStyle,this.prefix)(...e)}warn(...e){return console.warn.bind(window.console,this.prefix)(...e)}error(...e){return console.error.bind(window.console,this.prefix)(...e)}}class c{log(){}debug(){}warn(){}error(){}}const i=e=>{var t;return e.loggingEnabled&&void 0!==(null===(t=window.console)||void 0===t?void 0:t.log)?new r:new c}},8167:(e,t,n)=>{n.d(t,{Q:()=>r});class r{constructor(){this.messageListenerMap={},this.replayQueue={}}on(e,t,n={withReplay:!1}){var r,c;null!==(r=(c=this.messageListenerMap)[e])&&void 0!==r||(c[e]=[]),n.withReplay&&this.processReplayQueue(e,t),this.messageListenerMap[e].push(t)}once(e,t){const n=r=>{t(r),this.off(e,n)};this.on(e,n)}off(e,t){var n;if(!t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);const r=(null!==(n=this.messageListenerMap[e])&&void 0!==n?n:[]).indexOf(t);r>=0&&this.messageListenerMap[e].splice(r,1)}emit(e,t,n={withReplay:!1}){var r;(null===(r=this.messageListenerMap[e])||void 0===r?void 0:r.length)>0?this.emitMessageWithPayload(e,t):n.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){var n,r;null!==(n=(r=this.replayQueue)[e])&&void 0!==n||(r[e]=[]),this.replayQueue[e].push(t)}processReplayQueue(e,t){var n;null===(n=this.replayQueue[e])||void 0===n||n.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var n;null===(n=this.messageListenerMap[e])||void 0===n||n.forEach((e=>e(t)))}}},7121:(e,t,n)=>{n.d(t,{AG:()=>o,UC:()=>i,Yh:()=>s});var r=n(6567),c=n(6013);const i=(e,t,n)=>e in t||(()=>{const t="number"==typeof e?e:parseInt(e);return!1===isNaN(t)&&n.has(t)})(),s=e=>(0,c.b0)(e,((e,t)=>t.state?(0,r.G)({[t.checksum]:t.state}):r.YP));function o(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}},4938:(e,t,n)=>{n.d(t,{c:()=>dn,e:()=>an});var r=n(7183),c=n(3735),i=n(477),s=n.n(i);function o(){return s()('/*! permutive-javascript-sdk v19.37.1 (web) (built 2022-10-27T06:32:28.699Z) */(()=>{"use strict";const e=()=>({kind:"null",value:null}),t=e=>({kind:"string",value:e}),n=e=>({kind:"number",value:e}),r=e=>({kind:"array",value:e}),c=e=>({kind:"object",value:e}),o=e=>e,a=()=>({kind:"bottom"}),i=e=>({kind:"inner",a:e}),s=e=>({kind:"top",error:e}),u=e=>({kind:"unbounded",group:e}),w=(e,t)=>({kind:"windowed",key:t,group:e}),g=(e,t,n)=>({kind:"countLimit",n,limit:t,group:e}),l=(e,t,n)=>({kind:"uniqueLimit",n,limit:t,group:e}),p=e=>({kind:"numberGroup",group:e}),d=e=>({kind:"stringGroup",group:e}),f=e=>({kind:"tuple",tuple:e}),m=e=>({state:e}),q=(e,t)=>({commands:e,payload:t});function h(e){return e}function _(e,t,n,r,c,o,a,i,s){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return c(r(n(t(e))));case 6:return o(c(r(n(t(e)))));case 7:return a(o(c(r(n(t(e))))));case 8:return i(a(o(c(r(n(t(e)))))));case 9:return s(i(a(o(c(r(n(t(e))))))));default:for(var u=arguments[0],w=1;w<arguments.length;w++)u=arguments[w](u);return u}}var v=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},b=function(e){return v((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))},y=function(e){return function(t,n){return t===n||0===e(t,n)}},k=function(e){return{equals:y(e),compare:function(t,n){return t===n?0:e(t,n)}}},x=function(e){return function(t){return k((function(n,r){return t.compare(e(n),e(r))}))}},S=function(e){return function(t,n){return-1===e.compare(t,n)}},z=function(e){return function(t,n){return 1===e.compare(t,n)}},j=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}};var A={equals:function(e,t){return e===t}},O={equals:A.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};const M=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return i(t(e.a));case"top":return s(e.error)}},P=e=>k(((t,n)=>{if("bottom"===t.kind&&"bottom"===n.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===n.kind)return 1;if("top"===t.kind&&"top"===n.kind)return O.compare(t.error,n.error);if("top"===t.kind)return 1;if("top"===n.kind)return-1;if("inner"===t.kind&&"inner"===n.kind)return e.compare(t.a,n.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var N=function(e,t){for(var n=0,r=t.length,c=e.length;n<r;n++,c++)e[c]=t[n];return e},E=function(e){return"Some"===e._tag},C={_tag:"None"},L=function(e){return{_tag:"Some",value:e}},I=function(e){return"Left"===e._tag},D=(Object.prototype.hasOwnProperty,function(e){return N([e[0]],e.slice(1))});var B=C,T=L;function G(e){return function(t){return e(t)?T(t):B}}var U=function(e){return"Left"===e._tag?B:T(e.right)},F=function(e){return{equals:function(t,n){return t===n||(R(t)?R(n):!R(n)&&e.equals(t.value,n.value))}}},V=function(e){return{equals:F(e).equals,compare:function(t,n){return t===n?0:J(t)?J(n)?e.compare(t.value,n.value):1:-1}}},K=function(e){return function(t){return R(t)?B:T(e(t.value))}},H=U,J=E,R=function(e){return"None"===e._tag},Y=function(e){return function(t){return R(t)?e():t.value}};var $;$=void 0;var W=function(e){return e[0]},Q=W;var Z=function(e,t){for(var n=0,r=t.length,c=e.length;n<r;n++,c++)e[c]=t[n];return e},X=function(e){return e.length>0},ee=function(e,t){return e<0||e>=t.length},te=function(e){return function(t){return Z([e],t)}},ne=te,re=function(e){return function(t){return Z(Z([],t),[e])}},ce=re,oe=D,ae=function(e){return X(e)?L(e):C},ie=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],c=1;c<n;c++)r.push(e(c));return r}};var se=oe;var ue=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[se(t),[]]:[_(t.slice(1,n),ne(ge(t))),t.slice(n)]}},we=function(e){return v((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},ge=Q;var le={equals:function(e,t){return e===t}},pe={equals:le.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};var de=function(e,t){return function(n){for(var r=n.length,c=e,o=0;o<r;o++)c=t(o,c,n[o]);return c}};var fe=function(e){return 0===e.length},me=X,qe=ne,he=ce,_e=function(e,t){return e<=0?[]:ie(t)(e)};var ve=ee,be=function(e){return function(t){return ve(e,t)?xe(t):t.slice(0,e)}};var ye=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};var ke=function(e){return function(t){return e<=0||fe(t)?xe(t):e>=t.length?[]:t.slice(e,t.length)}};var xe=function(e){return e.slice()},Se=function(e){return fe(e)?[]:e.slice().reverse()},ze=function(e){return function(t){return t.length<=1?xe(t):t.slice().sort(e.compare)}},je=function(e,t,n){for(var r=[],c=Math.min(e.length,t.length),o=0;o<c;o++)r[o]=n(e[o],t[o]);return r};var Ae=function(e){return function(t){return e>=1&&me(t)?ue(e)(t):fe(t)?[xe(t),[]]:[[],xe(t)]}};var Oe=function(e){return function(t){return _(t,function(e){return function(t){for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},Me=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var c=e(r,t[r]);E(c)&&n.push(c.value)}return n}},Pe=function(e){return Me((function(t,n){return e(n)}))},Ne=Pe(h),Ee=de,Ce=function(e){var t=Le(e);return function(e){return t((function(t,n){return e(n)}))}},Le=function(e){return function(t){return Ee(e.of([]),(function(n,r,c){return e.ap(e.map(r,(function(e){return function(t){return _(e,he(t))}})),t(n,c))}))}},Ie=function(e){return k((function(t,n){for(var r=t.length,c=n.length,o=Math.min(r,c),a=0;a<o;a++){var i=e.compare(t[a],n[a]);if(0!==i)return i}return pe.compare(r,c)}))},De=function(e){return{_tag:"Left",left:e}},Be=function(e){return{_tag:"Right",right:e}},Te=function(e,t){return _(e,Fe(t))},Ge=function(e,t){return _(e,Ke(t))},Ue="Either",Fe=function(e){return function(t){return Je(t)?t:Be(e(t.right))}},Ve=Be,Ke=function(e){return function(t){return Je(t)?t:Je(e)?e:Be(t.right(e.right))}},He={URI:Ue,map:Te,ap:Ge,of:Ve},Je=I;var Re=function(e){return-1===e?1:1===e?-1:0};function Ye(e,t){return Ne(e.map(t))}function $e(e,t,n,r){const c=(e,t)=>{if(0===e.length)return Ne(t.map((e=>T({1:e[1],2:n(B,T(e[2]))}))));if(0===t.length)return Ne(e.map((e=>T({1:e[1],2:n(T(e[2]),B)}))));if(e.length>0&&t.length>0&&S(r)(e[0][1],t[0][1])){const[r,...o]=e,a=r[1],i=r[2];return qe({1:a,2:n(T(i),B)})(c(o,t))}if(e.length>0&&t.length>0&&z(r)(e[0][1],t[0][1])){const[r,...o]=t,a=r[1],i=r[2];return qe({1:a,2:n(B,T(i))})(c(e,o))}if(e.length>0&&t.length>0){const[r,...o]=e,[a,...i]=t,s=r[1],u=r[2],w=a[2];return qe({1:s,2:n(T(u),T(w))})(c(o,i))}throw new Error("Non exhaustive match in mapOption2")},o=x((e=>e[1]))(r),a=(e=>{const t=Ye(e,(e=>J(e[2])?T({1:e[1],2:e[2].value}):B));return 0===t.length?B:T(t)})(c(ze(o)([...e].map((e=>({1:e[0],2:e[1]})))),ze(o)([...t].map((e=>({1:e[0],2:e[1]}))))));return K((e=>new Map(e.map((e=>[e[1],e[2]])))))(a)}function We(e,t,n,r){const c=x((e=>e[0]))(r),o=ze(c)([...t]).reduceRight(((e,t)=>{if(Je(e)){const r=n(t[1],e.left);return J(r)?De(r.value):Be(t[0])}return e}),De(e));return H(o)}function Qe(e,t){return new Map([...e].map(t))}function Ze(e,t){return new Map([...e].filter(t))}function Xe(e){return JSON.stringify(et(e))}function et(e){switch(e.kind){case"null":return rt.encode(e);case"string":return ct.encode(e);case"number":return ot.encode(e);case"array":return at.encode(e);case"object":return it.encode(e)}}function tt(e){return null===e?rt.decode(e):"number"==typeof e?ot.decode(e):"string"==typeof e?ct.decode(e):Array.isArray(e)?at.decode(e):it.decode(e)}const nt=(e,t)=>De(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),rt={encode:e=>null,decode:e=>null===e?Be({kind:"null",value:null}):nt(e,"SimpleNull")},ct={encode:e=>e.value,decode:e=>"string"==typeof e?Be(t(e)):nt(e,"SimpleString")},ot={encode:e=>e.value,decode:e=>"number"==typeof e?Be(n(e)):nt(e,"SimpleNumber")},at={encode:e=>e.value.map(et),decode:e=>{if(Array.isArray(e)){const t=Ce(He)(tt)(e);return Fe(r)(t)}return nt(e,"SimpleArray")}},it={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:et(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=Ce(He)((([e,t])=>_(tt(t),Fe((t=>function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}(e,t))))))(Object.entries(e));return Fe((e=>c(new Map([...e]))))(t)}return nt(e,"SimpleObject")}};function st(e){return _(e,wt,K(Xe),Y((()=>"<encode error>")))}function ut(e){return K(mt)(function(e){switch(e.state.kind){case"top":return T(t(e.state.error));case"bottom":return B;case"inner":return wt(e.state.a)}}(e))}function wt(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return gt(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?T(r(function(e,t){const n=K((e=>qe(e)(t)))(e);return Y((()=>t))(n)}(K((e=>t(function(e){const t=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>1===e[2]?t(e[1]):t(e[1])+JSON.stringify(e[2]);return e.map(n).join("")}(e))))(e.commands),function(e){const r=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return t(e.error);case"inner":return n(e.a)}},o=e=>Ye([lt,pt,e=>_(e,ft,c,T)],(t=>t(e))),a=e=>Ye([lt,dt,e=>_(e,ft,(e=>Qe(e,(([e,t])=>[JSON.stringify(e),t]))),c,T)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(r);case"stringGroup":return o(e.group);case"numberGroup":return a(e.group)}}(e.payload)))):B}function gt(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||J(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||J(e.limit)}}function lt(e){switch(e.kind){case"unbounded":return B;case"windowed":return T(t("w"));case"countLimit":return T(t(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return T(t(1===e.n?"u":`u${e.n}`))}}function pt(e){switch(e.kind){case"unbounded":return B;case"windowed":return T(t(J(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return T(t(J(e.limit)?e.limit.value:""))}}function dt(e){switch(e.kind){case"unbounded":return B;case"windowed":return J(e.key)?T(n(e.key.value)):T({kind:"null",value:null});case"countLimit":case"uniqueLimit":return J(e.limit)?T(n(e.limit.value)):T({kind:"null",value:null})}}function ft(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function mt(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?mt(e.value[0]):r(e.value.map(mt));case"object":return _(Ze(e.value,(([e,t])=>"null"!==t.kind)),(e=>Qe(e,(e=>[e[0],mt(e[1])]))),c);default:return e}}function qt(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return B;const[t,n,r,c]=e;if("string"===t.kind&&"string"===n.kind&&"object"===c.kind){const e=G((e=>ht(e[1].value)&&_t(e[2].value)))({1:t,2:n});return K((e=>({prim:e[1].value,grp:e[2].value,cutoff:r,m:c.value})))(e)}return B})(e);if(J(t)){const{prim:e,grp:n,cutoff:r,m:c}=t.value,o=vt(r,c,bt(n));return"string"==typeof o?s(o):i(q(yt(e),o))}const n=(e=>{if(3!==e.length)return B;const[t,n,r]=e;if("string"===t.kind&&"object"===r.kind){const e=G((e=>_t(e.value)))(t);return K((e=>({grp:e.value,cutoff:n,m:r.value})))(e)}return B})(e);if(J(n)){const{grp:e,cutoff:t,m:r}=n.value,c=vt(t,r,bt(e));return"string"==typeof c?s(c):i(q(B,c))}const r=(e=>{if(2!==e.length)return B;const[t,n]=e;if("string"===t.kind&&"object"===n.kind){const e=G((e=>ht(e.value)))(t);return K((e=>({prim:e.value,m:n.value})))(e)}return B})(e);if(J(r)){const{prim:e,m:t}=r.value;return i(q(yt(e),d(u(t))))}const c=(e=>{if(1!==e.length)return B;const[t]=e;return"object"===t.kind?T({m:t.value}):B})(e);if(J(c)){const{m:e}=c.value;return i(q(B,d(u(e))))}const o=(e=>{if(e.length<1)return B;const[t,...n]=e;if("string"===t.kind){const e=G((e=>ht(e.value)))(t);return K((e=>({prim:e.value,rest:n})))(e)}return B})(e);if(J(o)){const{prim:e,rest:t}=o.value;return i(q(yt(e),xt(t)))}return i(q(B,xt(e)))},n=e=>"array"===e.kind?Oe(n)(e.value):[e];return"null"===e.kind?m({kind:"bottom"}):m(t(n(e)))}function ht(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...n]=t;return-1!=="pmvn".indexOf(e)&&n.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function _t(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...n]=t;return-1!=="ux".indexOf(e)&&-1===n.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function vt(e,t,n){switch(e.kind){case"string":return d(n({1:T(e.value),2:t}));case"number":case"null":return p(n({1:"null"===e.kind?B:T(e.value),2:Ze(Qe(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function bt(e){const t=e=>t=>l(t[2],t[1],e),n=e=>t=>g(t[2],t[1],e),r=e.split("");switch(!0){case"w"===r[0]&&void 0===r[1]:return e=>w(e[2],e[1]);case"u"===r[0]&&void 0===r[1]:return t(1);case"u"===r[0]&&void 0!==r[1]:return t(parseInt(r.slice(1).join("")));case"x"===r[0]&&void 0===r[1]:return n(1);case"x"===r[0]&&void 0!==r[1]:return n(parseInt(r.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function yt(e){return K(o)(ae(kt(e,(e=>{const t=e.split("");if(0===t.length)return B;const[n,...r]=t,c=(e=>{switch(e){case"p":return T("add");case"m":return T("mul");case"v":return T("max");case"n":return T("min");default:return B}})(n);return K((e=>{const{init:t,rest:n}=(c=e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t},function(e){var t=Ae(ye(e,c))(e);return{init:t[0],rest:t[1]}})(r);var c;return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(c)}))))}function kt(e,t){const n=t(e);return Y((()=>[]))(K((e=>[e[1]].concat(kt(e[2],t))))(n))}function xt(e){return f(e.map(St))}function St(e){switch(e.kind){case"number":return i(e.value);case"string":return s(e.value);case"null":return{kind:"bottom"};case"object":return s("{object}");case"array":return s("{array}")}}const zt={strategy:(e,t,n)=>r=>{if(R(n))return t;if("delta"===e&&R(t))return B;if(R(t))return n;if(J(t)&&J(n))return r(t.value,n.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,n,r,c,o)=>{const i=Ie(P(o));if("append"===e&&"add"===t)return je(n,r,Ct("append",c.plus));if("append"===e&&"mul"===t)return je(n,r,Ct("append",c.times));if("append"===e&&"max"===t)return j(i)(n,r);if("join"===e&&"add"===t)return je(n,r,Ct("join",j(o)));if("join"===e&&"mul"===t)return je(n,r,Ct("join",j(o)));if("join"===e&&"max"===t)return j(i)(n,r);if("min"===t)return zt.operation(e,"max",n,r,c,function(e){return k(((t,n)=>Re(e.compare(t,n))))}(o));if("delta"===e&&"max"===t)return z(i)(n,r)?n:r.map(a);if("delta"===e)return je(n,r,((e,t)=>z(P(o))(e,t)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,n,r)=>{if("delta"===e&&"top"===n.kind&&"top"===r.kind)return z(O)(n.error,r.error)?s(n.error):{kind:"bottom"};if("delta"===e&&"bottom"===r.kind)return n;if("delta"===e&&"bottom"===n.kind)return{kind:"bottom"};if("top"===n.kind&&"top"===r.kind)return s(j(O)(n.error,r.error));if("top"===n.kind)return n;if("top"===r.kind)return r;if("inner"===n.kind&&"inner"===r.kind)return t(n.a,r.a);if("bottom"===n.kind)return r;if("bottom"===r.kind)return n;throw new Error("Non exhaustive match in extend")}},jt={plus:(e,t)=>e+t,times:(e,t)=>e*t};function At(e,t,n,r){if("unbounded"===e.kind&&"unbounded"===t.kind){const c=e.group,o=t.group;return Y(a)(K((e=>i(u(e))))($e(c,o,n,r)))}if("windowed"===e.kind&&"windowed"===t.kind){const c=e.key,o=e.group,s=t.key,u=t.group,g=j(V(r))(c,s);return Y(a)(K((e=>i(w(e,g))))($e(o,u,n,r)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const c=e.n,o=t.n;if(c===o){const o=e.limit,s=e.group,u=t.limit,w=t.group,l=j(V(r))(o,u);return Y(a)(K((e=>i(g(e,l,c))))($e(s,w,n,r)))}return s("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const c=e.n,o=t.n;if(c===o){const o=e.limit,s=e.group,u=t.limit,w=t.group,g=j(V(r))(o,u);return Y(a)(K((e=>i(l(e,g,c))))($e(s,w,n,r)))}return s("Non matching counts")}return s("Non matching group types")}function Ot(e,t,n,r,c,o){const i=(e,t)=>({1:be(e)(t).concat(_e(Math.max(0,e-t.length),a)),2:ke(e)(t)}),s=(t,n,r)=>{if(0===t.length)return zt.operation(e,"max",n,r,c,o);if(t.length>0){const[a,...u]=t,w=i(a[2],n),g=w[1],l=w[2],p=i(a[2],r),d=p[1],f=p[2];return zt.operation(e,a[1],g,d,c,o).concat(s(u,l,f))}throw new Error("Non exhaustive match in recurse")};return Se((u=e=>"bottom"===e.kind,function(e){return e.slice(ye(e,u))})(Se(s(t,n,r))));var u}function Mt(t,n,r){return Y(e)(Pt(t,B)(n,r))}function Pt(e,t){const n=t=>(n,r)=>zt.strategy(e,n,r)(Pt(e,t)),r=(r,c)=>{if(F(we(b({1:A,2:le}))).equals(r.commands,c.commands)){const o=((t,r,c)=>{if("stringGroup"===r.kind&&"stringGroup"===c.kind){const e=At(r.group,c.group,n(t),O);return M(e,(e=>d(Et(e,O))))}if("numberGroup"===r.kind&&"numberGroup"===c.kind){const e=At(r.group,c.group,n(t),pe);return M(e,(e=>p(Et(e,pe))))}if("tuple"===r.kind&&"tuple"===c.kind){const n=J(t)?t.value:[];return i(f(Ot(e,n,r.tuple,c.tuple,jt,pe)))}throw new Error(`Non matching payload. Got ${r.kind} and ${c.kind}`)})(R(r.commands)?t:r.commands,r.payload,c.payload);return M(o,(e=>q(r.commands,e)))}throw new Error(`Non matching primitive strings. Got ${st(r)} and ${st(c)}`)};return(t,n)=>ut(m(zt.extend(e,r,qt(t).state,qt(n).state)))}function Nt(e,t,n){const r=K((t=>Ze(e,(([e,r])=>{return(c=n,function(e,t){return-1!==c.compare(e,t)})(e,t);var c}))))(t);return Y((()=>e))(r)}function Et(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return R(e.key)?e:w(Nt(e.group,e.key,t),e.key);case"countLimit":{const n=e.limit,r=e.n,c=e.group,o=(e,t)=>t<=1?B:T(t-1),a=We(r,c,o,t),i=j(V(t))(n,a);return g(Nt(c,i,t),i,r)}case"uniqueLimit":{const n=e.limit,r=e.n,c=e.group,o=(e,t)=>{if("object"===e.kind){const n=[...e.value.keys(),...t.keys()],c=new Set(n);return c.size>=r?B:T(c)}return B},a=We(new Set,c,o,t),i=j(V(t))(n,a);return l(Nt(c,i,t),i,r)}}}function Ct(e,t){return(n,r)=>zt.extend(e,((e,n)=>i(t(e,n))),n,r)}function Lt(e,t){return Mt("append",e,t)}function It(e,t,n,r,c,o,a,i,s){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return c(r(n(t(e))));case 6:return o(c(r(n(t(e)))));case 7:return a(o(c(r(n(t(e))))));case 8:return i(a(o(c(r(n(t(e)))))));case 9:return s(i(a(o(c(r(n(t(e))))))));default:for(var u=arguments[0],w=1;w<arguments.length;w++)u=arguments[w](u);return u}}var Dt=function(e){return"Some"===e._tag},Bt={_tag:"None"},Tt=function(e){return{_tag:"Some",value:e}},Gt=function(e){return"Left"===e._tag},Ut=Object.prototype.hasOwnProperty;function Ft(e){return function(t,n){if(void 0===n){var r=Ft(e);return function(e){return r(t,e)}}for(var c,o=0;o<n.length;o++)if(c=n[o],e.equals(c,t))return!0;return!1}}var Vt=Ft;function Kt(e){var t=Vt(e);return function(n,r){if(void 0===r){var c=Kt(e);return function(e){return c(e,n)}}return n.filter((function(e){return!t(e,r)}))}}var Ht=Gt,Jt=function(e){return function(t){return Ht(t)?e(t.left):t.right}};var Rt=function(e){return function(t){return!e(t)}},Yt=Bt,$t=Tt;var Wt=Dt;var Qt={equals:function(e,t){return e===t}},Zt=function(e){for(var t in e)if(Ut.call(e,t))return!1;return!0};function Xt(e){return function(t){var n={},r=!1;for(var c in t)if(Ut.call(t,c)){var o=t[c];e(c,o)?n[c]=o:r=!0}return r?n:t}}var en=function(e){return Xt((function(t,n){return e(n)}))};var tn=Zt;var nn=en;nn(Rt(tn));function rn(...e){return e.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}Rt((function(e){return 0===e.length}));function cn(e,t){const n=Object.keys(e),r=n.length,c={};for(let o=0;o<r;o++){const r=n[o],a=t(r,e[r]);Wt(a)&&(c[r]=a.value)}return c}function on(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}const an="process";let sn=!1,un=[],wn=!1;const gn={};let ln={getCurrentTime:()=>new Date,getCurrentSession:()=>"",getCurrentView:()=>"",getSegments:()=>({}),get1PSegments:()=>({}),get3PSegments:()=>({}),getSegmentsArray:()=>({}),getLookalikeModels:()=>({}),setSegmentActivation:()=>{}};const pn=e=>{const t=ln.get1PSegments(),n={"1p":Object.assign(Object.assign({},t["1p"]),e["1p"])};ln.get1PSegments=()=>n},dn=e=>{const t=Object.assign({},e);delete t["1p"],ln.get3PSegments=()=>t},fn=()=>{const e=bn.concat(ln.get1PSegments(),ln.get3PSegments()),t=vn(e);ln.getSegments=()=>e,ln.getSegmentsArray=()=>t};function mn(e,t,n,r,c,o,a){sn=!1,un=[],wn=!1;const i=vn(r.segments);ln={getCurrentTime:()=>new Date,getCurrentSession:()=>r.sessionId,getCurrentView:()=>r.viewId,get1PSegments:()=>r.segments,get3PSegments:()=>({}),getSegments:()=>bn.concat(ln.get1PSegments(),ln.get3PSegments()),getSegmentsArray:()=>i,getLookalikeModels:()=>r.lookalikeModels,setSegmentActivation:(e,t)=>{}};const s=cn(t,((t,n)=>{var r;return(null===(r=e[t])||void 0===r?void 0:r.checksum)===n?Yt:$t(((e,t)=>{const n=o[e].interpret(null,ln);return Object.assign({checksum:t},!1===n.result?{}:{result:n})})(t,n))}));if(0===c.length)return{diff:Object.assign(Object.assign({},e),s),errors:[]};if(0===Object.keys(s).length)return{diff:e,errors:[]};{const r=qn(s,t,n,c,"bootstrap",o,a);return{diff:Object.assign(Object.assign({},e),r.diff),errors:r.errors}}}function qn(e,t,n,r,c,o,a){let i={diff:{},errors:[]};const s=r.length,u=()=>r.filter((e=>{return t=a["!UpdateLookalikeModels"]||[],on(n=e)&&t.includes(n.properties.segment_number.toString());var t,n})).length===r.length?"lookalikeTransition":"transition",w=(e,t,n)=>"transition"===e?n===t-1?u():"event":e;for(let u=0;u<s;u++){const g=r[u],l=w(c,s,u),p=hn(Object.assign(Object.assign({},e),i.diff),t,n,g,l,o,a);i={diff:Object.assign(Object.assign({},i.diff),p.diff),errors:i.errors.concat(p.errors)}}return i}function hn(t,n,r,c,o,a,i){"bootstrap"!==o&&(ln.setSegmentActivation=_n(t,n));const s=e,u=(e,t)=>{const n=a[e],o=n.lift(c,ln),i=It(tt(t.state||null),Jt(s)),u=It(tt(o),Jt(s),(e=>Lt(i,e))),w=r[e],g=w?It(tt(w),Jt(s),(e=>Lt(u,e))):u,l=et(u),p=n.interpret(et(g),ln),d=t.activations||{};return Object.assign(Object.assign(Object.assign({checksum:t.checksum},null===l?{}:{state:l}),!1===p.result?{}:{result:p}),0===Object.keys(d).length?{}:{activations:d})},w=[],g={},l=function(e,t,n,r,c){switch(e){case"event":const e=(null==c?void 0:c[r.name])||[];if(sn)return e;{un.push(r);const t=[...c["!UpdateSecondPartyData"]||[],...c["!UpdateThirdPartyData"]||[]];return Kt(Qt)(e,t)}case"lookalikeTransition":return(null==c?void 0:c[r.name])||[];case"transition":const o=(null==c?void 0:c[r.name])||[];if(wn){const e=c["!UpdateLookalikeModels"]||[];return o.concat(e)}return o;case"bootstrap":const a=((null==c?void 0:c[r.name])||[]).filter((e=>void 0!==t[e]));return Kt(Qt)(a,[...sn?[]:(c["!UpdateSecondPartyData"]||[]).concat(c["!UpdateThirdPartyData"]||[]),...wn?[]:c["!UpdateLookalikeModels"]||[]]);case"updateExternalState":return Object.keys(n);case"updateEnvironment":return[...c["!UpdateLookalikeModels"]||[],...c["!UpdateSecondPartyData"]||[],...c["!UpdateThirdPartyData"]||[]];case"updateLAL":return c["!UpdateLookalikeModels"]||[];case"updateTPD":return[...c["!UpdateSecondPartyData"]||[],...c["!UpdateThirdPartyData"]||[]]}}(o,t,r,c,i),p=l.length;!function(e){on(e)&&(pn({"1p":{[e.properties.segment_number]:"SegmentEntry"===e.name}}),fn())}(c);for(let e=0;e<p;e++){const r=l[e],c=t[r]||{checksum:n[r]};let o=c;try{o=u(r,c)}catch(e){w.push(`Failed to interpret query ${r}. Got ${e}`)}g[r]=o}return{diff:g,errors:w}}function _n(e,t){return(n,r,c)=>{if(!(c in e)){const n=t[c];if(void 0===n)throw new Error("Checksum not in internalStateMap");e[c]={checksum:n}}"activations"in e[c]||(e[c].activations={});n in e[c].activations||(e[c].activations[n]=[]),e[c].activations[n]=[...e[c].activations[n],r]}}function vn(e){return Object.keys(e).reduce(((t,n)=>{const r=Object.keys(e[n]),c=[];return r.forEach((t=>{!0===e[n][t]&&c.push(t)})),t[n]=c,t}),{})}const bn={empty:{},concat:(e,t)=>{const n=Object.assign({},e);for(const[e,r]of Object.entries(t))n[e]?n[e]=rn(n[e],r):n[e]=r;return n}};const yn=(e,t)=>{if("noop"===e.type)return{diff:{},errors:[]};const n=(e,...n)=>[e.stateMap,...e.payload,...n,t.rawQueries,t.queriesByEvent];return"bootstrap"===e.type?mn(...n(e)):"updateEnvironment"===e.type?function(e,t,n,r,c,o){return r.segments&&(pn(r.segments),dn(r.segments),fn(),ln.setSegmentActivation=_n(e,t)),r.lookalikeModels&&(wn=!0),r.segments&&(e=>{const t=Object.keys(e).length,n="1p"in e;return n&&t>1||!n&&t>0})(r.segments)&&(sn=!0),ln=Object.assign(Object.assign(Object.assign(Object.assign({},ln),r.viewId?{getCurrentView:()=>r.viewId}:{}),r.sessionId?{getCurrentSession:()=>r.sessionId}:{}),r.lookalikeModels?{getLookalikeModels:()=>r.lookalikeModels}:{}),qn(e,t,n,un.length>0?un:[gn],"updateEnvironment",c,o)}(...n(e)):"updateLAL"===e.type?function(e,t,n,r,c,o){return ln.getLookalikeModels=()=>r,wn=!0,hn(e,t,n,gn,"updateLAL",c,o)}(...n(e)):"updateTPD"===e.type?function(e,t,n,r,c,o){dn(r),fn(),ln.setSegmentActivation=_n(e,t),sn=!0;const a=qn(e,t,n,un.length>0?un:[gn],"updateTPD",c,o);return un=[],a}(...n(e)):"updateExternalState"===e.type?function(e,t,n,r,c){return hn(e,t,n,gn,"updateExternalState",r,c)}(...n(e)):e.type===an?qn(...n(e,"event")):"processTransitions"===e.type?function(e,t,n,r,c,o){return qn(e,t,n,r,"transition",c,o)}(...n(e)):void 0};const kn=function(){var e=this&&this.__assign||function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},e.apply(this,arguments)},t=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,c,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){c={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,c=0,o=t.length;c<o;c++)!r&&c in t||(r||(r=Array.prototype.slice.call(t,0,c)),r[c]=t[c]);return e.concat(r||Array.prototype.slice.call(t))},c=function(){function c(e){return"number"==typeof e?o[e]:e}function w(e){return"number"==typeof e?a[e]:e}function g(e){return"number"==typeof e?i[e]:e}function l(e){switch(e.length){case 0:return null;case 1:return e[0];default:return e}}function p(e,t,n){void 0===n&&(n=m);var r=g(t).reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e);return null===r?null:n(r)}function d(e,t){var n=g(t).slice();return n.unshift(e),n}function f(e,t,n){return void 0===n&&(n=m),p(e,d("properties",t),n)}var m=function(e){return e},q=function(e){return!0};function h(e,t){return function(n){for(var r=0;r<e.length;r++){if((e[r](n)||!1)===t)return t}return!t}}var _=function(e){return function(t){return!e(t)}},v=function(e,t){return function(n){return n>=e&&n<=t}},b=function(e){return new Date(e).getTime()},y=function(e){return p(e,["time"],b)},k=function(e,t){return p(t,e,b)},x=function(e,t,n,r,c,o){return function(a){var i=p(a,e,(function(e){return e.filter(r).map((function(e){return p(e,t)})).reduce(c,o)}));return n(null===i?o:i)}};function S(e,n,r,c){var o,a;try{for(var i=t(e),s=i.next();!s.done;s=i.next()){var u=s.value;if(r(u)&&n(u)===c)return c}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}return!c}var z=function(e){return function(t){return("string"==typeof e||"number"==typeof e)&&"string"==typeof t&&t.toLowerCase().indexOf(w(e).toLowerCase())>-1}},j=function(e){return function(t){return null!=t&&Array.isArray(t)&&t.indexOf(e)>=0}};function A(e,t,n,r,c){var o=p(e.getSegments(),[t,n])||!1;return c&&(r||o)&&e.setSegmentActivation(t,n,c),o}function O(e,t,n){return p(e.getSegments(),[t,n])||!1}function M(e,t,r){return void 0===r&&(r=18e5),function(c){return{a:{m:function(e,t){return[t[0],c.a.m(null!=e[0]&&e[0][0]===t[0][0]?e[1]:c.a.z,t[1])]},z:[[],c.a.z]},p:function(n,r){return[[e(n)],p(r,t)===e(n)?c.p(n,r):c.a.z]},r:function(t,n){return c.r(t,n[0]!=[]&&n[0][0]===e(t)?n[1]:c.a.z)},d:c.d.sq||{l:function(o,a){var i=p(o,t),s=e(a);if(i!==s)return null;var u=c.d.l(o,a);if(!(Array.isArray(u)&&u.length>1))return null;var w=n(u),g=w[0],l=w.slice(1),d=+(y(o)||a.getCurrentTime()),f=Math.floor(d/r),m={};return m[f]={},m[f][s]=1===l.length?l[0]:l,[g,"u",null,m]},i:function(t,n){if(!Array.isArray(t)||"object"!=typeof t[3])return[[],c.a.z];var r=e(n),o=t[3];return[[r],Object.keys(o).map((function(e){return o[e][r]})).filter((function(e){return e})).map((function(e){return c.d.i([t[0]].concat(e))})).reduce(c.a.m,c.a.z)]}}}}}var P=M((function(e){return e.getCurrentSession()}),["session_id"],18e5),N=M((function(e){return e.getCurrentView()}),["view_id"],3e5);function E(e,t,o,a){return void 0===a&&(a=1),{a:{m:function(e,t){return e.concat(t).slice(-o)},z:[]},p:function(n,r){return p(r,["name"])===c(t)?[e.p(n,r)]:[]},r:function(t,n){return e.r(t,n.reduce((function(t,n){return e.a.m(t,n)}),e.a.z))},d:e.d.ftn||{l:function(t,n){var r,c=e.d.l(t,n),i=p(t,["time"],b)*a;return c&&[c[0],"x"+o,null,(r={},r[i]=2==c.length?c[1]:c.slice(1),r)]},i:function(t,c){return t?Object.keys(t[3]||{}).sort().reverse().map((function(e){return Array.isArray(e)?r([t[0]],n(t[3][e]),!1):[t[0],t[3][e]]})).map((function(t){return e.d.i(t,c)})):[]}}}}var C=function(e,t){return null===e?null==t?null:{b:t}:null==t?{a:e}:{a:e,b:t}},L=function(e,t){return e&&t?e(t):null},I=function(e,t,n){if(n&&n.result&&Array.isArray(n.result)){var r=L(e.d&&e.d.m,{result:n.result[0]}),c=L(t.d&&t.d.m,{result:n.result[1]});return C(r,c)}return null};function D(e,t){var n=s[e];if(!t||!n)return!1;if(!n.length)return!0;for(var r=0,c=!1,o=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r>=55296&&r<=56319){var c=e.charCodeAt(n+1);if(c>=56320&&c<=57343){t.push(e.slice(n,n+2)),++n;continue}}t.push(e.charAt(n))}return t}(t.toLowerCase()),a=0;a<o.length;a++){for(var i=o[a];r>0&&!n[r][i];)r=n[r].su?n[r].su:0;if(n[r][i]&&(c=!!n[r=n[r][i]].te))break}return c}return{q:function(e){return{lift:function(t,n){return e.d.l(t,n)},interpret:function(t,n){return function(t,n){return{result:e.r(t,n)}}(n,e.d.i(t,n))},migrate:function(t){return t&&e.d.m?e.d.m(t):null},m:e.a.m,z:e.a.z,p:e.p,r:e.r,i:e.d.i}},a:function(e){return h(e,!1)},acq:function(e,t){return{p:function(n,r){return[e.p(n,r),t.p(n,r)]},r:function(n,r){return e.r(n,r[0])&&t.r(n,r[1])},a:{z:[e.a.z,t.a.z],m:function(n,r){return[e.a.m(n[0],r[0]),t.a.m(n[1],r[1])]}},d:{l:function(n,r){return C(e.d.l(n,r),t.d.l(n,r))},i:function(n,r){return n?[e.d.i(n.a||null,r),t.d.i(n.b||null,r)]:[e.a.z,t.a.z]},m:function(n){return I(e,t,n)}}}},acs:D,acs_:function(e,t){return function(n){return D(t,p(n,e))}},af_i:function(e,t,n){return void 0===n&&(n=q),function(r){return p(r,e,(function(e){return S(e,t,n,!1)}))&&!0}},af_l:function(e,t,n){return void 0===n&&(n=q),function(r){var c=p(r,e,(function(e){return e.filter(n).length}));return t(null===c?0:c)}},af_m:function(e,t,n,r){return void 0===r&&(r=q),function(c){var o=p(c,e,(function(e){return e.filter(r)}));return null===o||0===o.length?n(0):n(o.map((function(e){return p(e,t)})).reduce((function(e,t){return e+t}),0)/o.length)}},af_n:function(e,t,n,r){return void 0===r&&(r=q),x(e,t,n,r,(function(e,t){return Math.min(e,t)}),Number.POSITIVE_INFINITY)},af_p:function(e,t,n,r){return void 0===r&&(r=q),x(e,t,n,r,(function(e,t){return e*t}),1)},af_s:function(e,t,n,r){return void 0===r&&(r=q),x(e,t,n,r,(function(e,t){return e+t}),0)},af_u:function(e,t,n){return void 0===n&&(n=q),function(r){return p(r,e,(function(e){return S(e,t,n,!0)}))||!1}},af_x:function(e,t,n,r){return void 0===r&&(r=q),x(e,t,n,r,(function(e,t){return Math.max(e,t)}),Number.NEGATIVE_INFINITY)},as:function(e,t,n){var r=d("properties",t);return function(t){for(var c=p(t,r),o=n.length,a=!0,i=0;i<o;i++){var s=n[i];if(!(a=e(s)(c)))break}return a}},c:j,c_:function(e,t){return function(n){return j(t)(p(n,e))}},cl_:function(e,t){return function(n){return j(w(t))(p(n,e))}},cx:function(e){return function(t){return j(w(e))(t)}},ctu:function(e,t,n,r){return{a:r?{m:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).concat(t).slice(-r)},z:[]}:{m:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).concat(t)},z:[]},p:function(r,o){return p(o,["name"])===c(e)&&t(o)?p(o,n):[]},r:function(e,t){return t},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(t,n,r,o){function a(e,t){var n,r=function(e){return{k:e.k,c:1+e.c}},c={arr:[],add:{k:t,c:1}};return t?(n=e.reduce((function(e,t){return e.add.k===t.k?{arr:e.arr,add:r(t)}:{arr:e.arr.concat(t),add:e.add}}),c)).arr.concat(n.add):e}return{a:o?{m:function(e,t){return a(e,t).slice(-o)},z:[]}:{m:function(e,t){return a(e,t)},z:[]},p:function(e,o){return p(o,["name"])===c(t)&&n(o)?p(o,r):null},r:function(t,n){return n.reduce((function(t,n){var r;return e(e({},t),((r={})[n.k]=n.c,r))}),{})},d:{l:function(e){return null},i:function(e){return[]}}}},ctw:function(e,t,n,r){return{a:r?{m:function(e,t){return e.concat(t).slice(-r)},z:[]}:{m:function(e,t){return e.concat(t)},z:[]},p:function(r,o){return p(o,["name"])===c(e)&&t(o)?p(o,n):[]},r:function(e,t){return t},d:{l:function(){return null},i:function(){return[]}}}},cw:function(e,t,n){return void 0===n&&(n=m),{a:{m:function(e,t){return e+t},z:0},p:function(n,r){return p(r,["name"])===c(e)&&t(r)?1:0},r:function(e,t){return n(t)},d:{l:function(n){return p(n,["name"])===c(e)&&t(n)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},e:function(e){return function(t){return t===e}},e_:function(e,t){return function(n){return p(n,e)===t}},fm:function(e,t){return{p:t.p,r:function(n,r){return e(t.r(n,r))},a:t.a,d:t.d}},ftn:function(e,t,n){return{a:{m:function(e,t){return e.concat(t.slice(0,n-e.length))},z:[]},p:function(n,r){return p(r,["name"])===c(t)?[e.p(n,r)]:[]},r:function(t,n){return e.r(t,n.reduce((function(t,n){return e.a.m(t,n)}),e.a.z))},d:E(e,t,n,-1).d}},fw:function(e,t,n,r){return void 0===r&&(r=m),{a:{m:function(e,t){return null===e?t:e},z:null},p:function(r,o){return p(o,["name"])===c(e)&&t(o)?p(o,n):null},r:function(e,t){return t},d:{l:function(n){return p(n,["name"])===c(e)&&t(n)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},g:function(e){return function(t){return t>e}},g_:function(e,t){return function(n){return p(n,e)>t}},gb:function(e,t,n){return{a:{m:function(n,r){var c=Object.keys(n).concat(Object.keys(r)).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return Math.max(p(n,[t,1]),p(r,[t,1]))-Math.max(p(n,[e,1]),p(r,[e,1]))})).slice(0,t).reduce((function(t,c){var o=e.a.m(p(n,[c,0])||e.a.z,p(r,[c,0])||e.a.z);return t[c]=[o,Math.max(p(n,[c,1]),p(r,[c,1]))],t}),{});return c},z:{}},p:function(t,r){var c,o,a=p(r,d("properties",n)),i=e.p(t,r);return null==a||(null==(o=i)||"object"==typeof o&&0===Object.keys(o).length||o===e.a.z)?{}:((c={})[a]=[i,p(r,["time"],b)],c)},r:function(t,n){var r={};return Object.keys(n).forEach((function(c){return r[c]=e.r(t,n[c][0])})),r},d:{l:function(){return null},i:function(){return{}}}}},ge:function(e){return function(t){return t>=e}},ge_:function(e,t){return function(n){return p(n,e)>=t}},i_:m,ifp:function(e){return{a:{m:function(e,t){return t},z:null},p:function(e){return null},r:function(t,n){return function(t){return O(t,"1p",e)}(t)},d:{l:function(e,t){return null},i:function(e){return null}}}},isp:function(e,t,n,r){return{a:{m:function(e,t){return t},z:!1},p:function(n,r){return O(n,e,t)},r:function(c,o){return A(c,e,t,n,r)},d:{l:function(e,t){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},itp:function(e,t,n,r){return{a:{m:function(e,t){return t},z:!1},p:function(n,r){return O(n,e,t)},r:function(c,o){return A(c,e,t,n,r)},d:{l:function(e,t){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},k:p,l:function(e){return function(t){return t<e}},l_:function(e,t){return function(n){var r=p(n,e);return null!==r&&r<t}},le:function(e){return function(t){return t<=e}},le_:function(e,t){return function(n){var r=p(n,e);return null!==r&&r<=t}},lm:function(e,t){var n=function(t){return function(e,t,n){var r,c=e||{},o=t[n]||{},a=(o["1p"]||{}).const||0;return Object.keys(c).forEach((function(e){c[e].forEach((function(t){var n=(o[e]||{})[t]||0;a+=n}))})),r=a,1/(1+Math.pow(Math.E,-r))}(t.getSegmentsArray(),t.getLookalikeModels(),e)};return{a:{m:function(e,t){return t},z:null},p:function(e){return null},r:function(e,r){return t(n(e))},d:{l:function(e,t){return null},i:function(e){return null}}}},ltn:E,mnw:function(e,t,n,r){void 0===r&&(r=m);var o=Number.POSITIVE_INFINITY;return{a:{m:function(e,t){return e<t?e:t},z:o},p:function(r,a){return p(a,["name"])===c(e)&&t(a)?p(a,n):o},r:function(e,t){return r(t)},d:{l:function(r){return p(r,["name"])===c(e)&&t(r)?["n",p(r,n)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:o}}}},mxw:function(e,t,n,r){void 0===r&&(r=m);var o=Number.NEGATIVE_INFINITY;return{a:{m:function(e,t){return e>t?e:t},z:o},p:function(r,a){return p(a,["name"])===c(e)&&t(a)?p(a,n):o},r:function(e,t){return r(t)},d:{l:function(r){return p(r,["name"])===c(e)&&t(r)?["v",p(r,n)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:o}}}},n0:_(m),n:function(e){return function(t){return t!==e}},nt:_,n_:function(e,t){return function(n){return p(n,e)!==t}},o:function(e){return h(e,!0)},ocq:function(e,t){return{p:function(n,r){return[e.p(n,r),t.p(n,r)]},r:function(n,r){return e.r(n,r[0])||t.r(n,r[1])},a:{z:[e.a.z,t.a.z],m:function(n,r){return[e.a.m(n[0],r[0]),t.a.m(n[1],r[1])]}},d:{l:function(n,r){return C(e.d.l(n,r),t.d.l(n,r))},i:function(n,r){return n?[e.d.i(n.a||null,r),t.d.i(n.b||null,r)]:[e.a.z,t.a.z]},m:function(n){return I(e,t,n)}}}},oe:function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r},os:function(e,t,n){var r=d("properties",t);return function(t){for(var c=p(t,r),o=n.length,a=!1,i=0;i<o;i++){var s=n[i];if(a=e(s)(c))break}return a}},pacs:function(e,t){return function(n){return D(t,f(n,e))}},pb:function(e,t,n){return function(r){return v(t,n)(f(r,e))}},pc:function(e,t){return function(n){var r=f(n,e);return null!=r&&Array.isArray(r)&&r.indexOf(t)>=0}},pc_:function(e,t){return function(n){var r=f(n,e),c=w(t);return null!=r&&Array.isArray(r)&&r.indexOf(c)>=0}},pe:function(e,t){return function(n){return f(n,e)===t}},pg:function(e,t){return function(n){return f(n,e)>t}},pge:function(e,t){return function(n){return f(n,e)>=t}},pl:function(e,t){return function(n){var r=f(n,e);return null!==r&&r<t}},ple:function(e,t){return function(n){var r=f(n,e);return null!==r&&r<=t}},pn:function(e,t){return function(n){return f(n,e)!==t}},ps:function(e,t){return function(n){return z(t)(f(n,e))}},pw:function(e,t,n,r){return void 0===r&&(r=m),{a:{m:function(e,t){return e*t},z:1},p:function(r,o){return p(o,["name"])===c(e)&&t(o)?p(o,n):1},r:function(e,t){return r(t)},d:{l:function(r){return p(r,["name"])===c(e)&&t(r)?(o=p(r,n))>=1?["m2p",o]:o>0?["m2p",null,1/o]:0==o?["m2p",0]:o>-1?["m2p",null,1/o,1]:["m2p",o,null,1]:null;var o},i:function(e){return e?Array.isArray(e)?0===(t=e.slice(1))[0]?0:Math.pow(-1,t[2]||0)*(t[0]||1)/(t[1]||1):e:1;var t}}}},ref:function(e){return function(t){return u[e](t)}},s:z,s_:function(e,t){return function(n){return z(t)(p(n,e))}},scq:function(e,t,n){return void 0===n&&(n=m),{p:function(n,r){return[e.p(n,r),t.p(n,r)]},r:function(r,c){return n(e.r(r,c[0])+t.r(r,c[1]))},a:{z:[e.a.z,t.a.z],m:function(n,r){return[e.a.m(n[0],r[0]),t.a.m(n[1],r[1])]}},d:{l:function(n,r){return C(e.d.l(n,r),t.d.l(n,r))},i:function(n,r){return n?[e.d.i(n.a||null,r),t.d.i(n.b||null,r)]:[e.a.z,t.a.z]},m:function(n){return I(e,t,n)}}}},sq:P,sw:function(e,t,n,r){return void 0===r&&(r=m),{a:{m:function(e,t){return e+t},z:0},p:function(r,o){return p(o,["name"])===c(e)&&t(o)?p(o,n):0},r:function(e,t){return r(t)},d:{l:function(r){return function(n){return p(n,["name"])===c(e)&&t(n)}(r)?(o=p(r,n))<0?["p2",null,-o]:["p2",o]:null;var o},i:function(e){return e?Array.isArray(e)?((t="p2"===e[0]?e.slice(1):e)[0]||0)-(t[1]||0):e:0;var t}}}},t:q,tb:function(e,t){return function(n){return v(e,t)(y(n))}},te:function(e){return function(t){return y(t)===e}},te_:function(e,t){return function(n){return k(e,n)===t}},tg:function(e){return function(t){return y(t)>e}},tg_:function(e,t){return function(n){return k(e,n)>t}},tge:function(e){return function(t){return y(t)>=e}},tge_:function(e,t){return function(n){return k(e,n)>=t}},ti:b,tl:function(e){return function(t){return y(t)<e}},tl_:function(e,t){return function(n){return k(e,n)<t}},tle:function(e){return function(t){return y(t)<e}},tle_:function(e,t){return function(n){return k(e,n)<t}},tn:function(e){return function(t){return y(t)!==e}},tn_:function(e,t){return function(n){return k(e,n)!==t}},tw:function(e,t,c){var o=c||100,a=Math.ceil(t/o),i=function(e){return Math.floor(e/a)},s=function(e,n,r){var c;return[i(e-t),(c={},c[i(n)]=r,c)]},u=function(t,n){var r=Math.max(t[0],n[0]),c=Object.keys(t[1]).filter((function(e){return e>=r})).concat(Object.keys(n[1]).filter((function(e){return e>=r}))).filter((function(e,t,n){return n.indexOf(e)===t})).reduce((function(r,c){var o=e.a.m(t[1][c]||e.a.z,n[1][c]||e.a.z);return o!==e.a.z&&(r[c]=o),r}),{});return[r,c]},w=[Number.NEGATIVE_INFINITY,{}],g=function(e){var t=function(t){return t.map((function(t){var r=n(t,3),c=r[0],o=(r[1],r[2]);return s(e.t,o,c)})).reduce(u,w)};return u(t(e.in),t(e.out))},d=function(t){if(void 0!==t.result)return d(t.result);if(void 0!==t.w)return d(g(t));var r=n(t,2),c=(r[0],r[1]),o=null,a={};for(var i in c){var s=e.d.m({result:c[i]});s&&Array.isArray(s)&&(o=s[0],a[i]=l(s.slice(1)))}return o&&[o,"w",t[0],a]};return{a:{m:function(e,t){var n=e.w?g(e):e;return u(n,t)},z:w},p:function(t,n){return s(t.getCurrentTime(),p(n,["time"],b),e.p(t,n))},r:function(t,n){var r=(n.w?g(n):n)[1];return e.r(t,Object.keys(r).reduce((function(t,n){return e.a.m(t,r[n])}),e.a.z))},d:e.d.tw||{l:function(t,c){var o=e.d.l(t,c);return o&&r([o[0],"w"],n(s(c.getCurrentTime(),p(t,["time"],b),o.slice(1))),!1)},i:function(n,r){var c=Array.isArray(n)?n:[],o=r.getCurrentTime(),a=i(o-t);return[c[2]||null,Object.keys(c[3]||{}).map((function(t){var n;return(n={})[t]=e.d.i(c[3][t],r),n})).reduce((function(e,t){return Object.keys(t).filter((function(e){return parseInt(e)>=a})).forEach((function(n){return e[n]=t[n]})),e}),{})]},m:e.d.m&&d}}},vgw:function(e,t,n,r){void 0===r&&(r=m);var o={v:0,k:0};return{a:{m:function(e,t){var n=e.k+t.k;return{v:n?e.v+t.k*(t.v-e.v)/n:0,k:n}},z:o},p:function(r,a){return p(a,["name"])===c(e)&&t(a)?{v:p(a,n),k:1}:o},r:function(e,t){return r(t.v)},d:{l:function(r){return p(r,["name"])===c(e)&&t(r)?0==(o=p(r,n))?["p3",1]:o<0?["p3",1,null,-o]:["p3",1,o]:null;var o},i:function(e){return e?Array.isArray(e)?{v:(((t=e.slice(1))[1]||0)-(t[2]||0))/(t[0]||1),k:t[0]||0}:void 0:o;var t}}}},vq:N,w:function(e){return function(t){return t===w(e)}},x:function(e){return function(t){return t!==w(e)}},y:function(e,t){return function(n){return f(n,e)===a[t]}},y_:function(e,t){return function(n){return p(n,e)===a[t]}},z:function(e,t){return function(n){return f(n,e)!==a[t]}},z_:function(e,t){return function(n){return p(n,e)!==a[t]}}}}(),o=["Pageview","Grapeshot","LinkClick","SlotViewable","SlotClicked","PageviewComplete","PageviewEngagement","DeclaredData","SegmentEntry","SocialShare","VideoAdPlay"],a=["business","news_business_content","investor","https://www.bbc.com/news/business","technology","travel","gs_business","https://www.bbc.com/news/technology","bbccom.live.site.news","gs_tech","workforce","bbccom.live.site.travel","gs_predicts_businessandfinance","/technology and computing/consumer electronics/tv and video equipment","Russia","United States","education","sport","Ukraine","bbccom.live.site.future","bbccom.live.site.mobile.news","ceo","college","executive","gs_business_misc","investing","marketwatch","mortgage","semiconductor","Australia","International-sanctions","Russia-Ukraine-war","The-Hague","Ukraine-conflict","Vladimir-Putin","Volodymyr-Zelensky","basketball","bbccom.live.site.culture","bitcoin","company","crypto","culture","decision maker","economy","facebook","finance","google","gs_home_property","gs_predicts_technology","gs_predicts_travel","investments","leader","manager","micro","pos_bbc_ukrainewar","savvy","shop","small","sustainability","tech","twitter","university","India","Medicine","bank","bank of america","bittrex","block chain","blockchain","bofa","book","business size","buying","coo","credit suisse","cricket","dna","dodgecoin","doge","employee number","employee numbers","employees","film","food","future","gene","genome","genomics","golf","gs_education_university","instagram","insurance","invest","invest in government","investment","jp morgan","large","leaders","linkedin","m&a","macro","management","market-data","mba","medical","medicine","medium","money","morgan stanley","music","nba","news_asia_content","news_live_content","news_technology_content","news_uscanada_content","number of employees","purchase","scale","shopping","size","sport_football_content","style","vice president","/art and entertainment/movies and tv/comedies","/art and entertainment/movies and tv/romantic comedies","/art and entertainment/music/music genres/classical music","/art and entertainment/music/music genres/opera","/art and entertainment/music/music genres/pop music","/food and drink/healthy eating","/food and drink/vegetarian","China","France","acquisitions","affluent","airline","athletics","b2b","bbccom.live.site.reel","bbccom.live.site.worklife","blackrock","bloomberg","builder","canada","coinbase","communication","computer","cooking","credit card","cycling","dar es salaam","director","earth","electric bicycle","electric bike","electric bus","electric scooter","etx","ev","formula1","gemini marketplace","goldman sachs","gs_economy_markets","gs_fashion","gs_health","gs_predicts_marketers","gs_predicts_trendingtelevision","gs_science","gs_science_environ","gs_sport","gs_travel","gt_positive_curiosity","healthy","home","https://www.bbc.com/sport","intuitive","it","law","louis vuitton","market","masters","mh_workers_professionals","news_education_content","news_europe_content","news_us_content","pinterest","planet","procurement","property","radio","raise capital","reddit","refinance","salesforce","school","sme","snapchat","tennis","tesla","tiktok","unit trust","vp","youtube","","/4817/BBCNewsAppAndroidPhone/","/4817/BBCNewsAppAndroidTablet/","/art and entertainment/books and literature","/art and entertainment/books and literature/poetry","/art and entertainment/comics and animation","/art and entertainment/dance","/art and entertainment/movies and tv","/art and entertainment/movies and tv/animated","/art and entertainment/movies and tv/children\'s","/art and entertainment/movies and tv/documentaries","/art and entertainment/movies and tv/reality","/art and entertainment/movies and tv/television","/art and entertainment/music/music genres/soundtracks","/art and entertainment/shows and events/classical concert","/art and entertainment/theatre","/automotive and vehicles/cars/luxury","/automotive and vehicles/motorcycles","/business and industrial","/business and industrial/fashion industry","/education/adult education","/education/language learning","/family and parenting","/finance/accounting and auditing/tax preparation and planning","/finance/financial news","/food and drink/dining out","/food and drink/food/fruits and vegetables","/food and drink/food/salads","/food and drink/vegan","/health and fitness","/hobbies and interests/arts and crafts/photography","/hobbies and interests/birdwatching","/home and garden/gardening and landscaping","/home and garden/home improvement and repair","/pets/birds","/pets/large animals","/society/crime","/society/dating","/sports/diving","/sports/horse racing","/sports/horses","/sports/olympics/paralympic games","/sports/skiing","/sports/volleyball/beach volleyball","/style and fashion/beauty/cosmetics","11428889","401k","Architecture","Armenia","Azerbaijan","BBCNewsAppiPad","BBCNewsAppiPhone","Blackrock","Charles Schwab","Cyprus","DNA","Doctors","Gene","Genetic","Genetics","Genome","Genomics","Georgia","Goldman Sachs","Japan","Kazakhstan","Kyrgyzstan","Money","NASDAQ","NYSE","Schools","Semiconductors","Singapore","TD Ameritrade","Tajikistan","Tokyo","Turkey","Turkmenistan","United Kingdom","Uzbekistan","aberdeen asset management","acer","adventure","advisor","affluence","airdrop","allianz","america","american express","android","armani","astute","asus","audi","audio","auto","average","aviva","aware","axa","bachelor\'s degree","bankrupt","barclays","baseball","bbc.com/reel/longshots","bbc_parentsofyoungkids","behaviour","big","binance","binnance","bipoc","black card","black lives matter","blockfi","bloomberg terminal","bmw","bnb","bought","boutique","boxing","bright sparks","bsc","btc","bungalow","business guru","business school","buy","buyer","buying property","cadillac","capital one","car","cardano","central bank","cfo","chanel","changing-economy","charitable","charity","cio","clinical trial","co-working","coin hako","coindesk","coinmama","college entrance exam","commerce","commercial bank","conglomerate","conscious","corporate governance","creator","credit","credit union","cto","cuisine","culture_collection_film","currency","custom","d2c","dai","debt","degree course","dental","developer","dining","discerning","discover card","diversity","do kwon","doctor","doctoral","doctorate","dodoma","donation","drive","driving","e-commerce","ecommerce","educate","educator","election","electric vehicle","email","endowment fund","enormous","eth","etoro","evp","exchange rate","exchanges","family office","fashion","fidelity","financial analyst","financial certification","flight","football","foreign exchange","forex","formula 1","ftse 100","ftx","gas fee","gold card","goldman","government linked companies","government linked corporation","grad school","graduate school","gre","green","green card","gs_auto","gs_business_management","gs_entertain_tv","gs_finance","gs_finance_banking","gs_finance_credit","gs_finance_loans","gs_food_drink","gs_predicts_autoenthusiasts","gs_predicts_autoshows","gs_predicts_buyingahome","gs_predicts_collegebound","gs_predicts_movers","gs_predicts_moviesandentertainment","gs_predicts_usasports","gs_shopping","gs_shopping_misc","gs_tech_computing","gs_tech_phones","gs_travel_business","gt_positive_amusement","gt_positive_pleasure","gucci","habit","health","hedge fund","hockey","holiday","home loan","honda","https://www.bbc.com/culture/tags/identities","https://www.bbc.com/future/","https://www.bbc.com/news/business/economy","https://www.bbc.com/news/health","https://www.bbc.com/news/world/africa","https://www.bbc.com/storyworks/specials/age-of-change/","hyundai","imdb.com","india","industry","insight","insolvency","insurer","intend","intention","internet","iphone","ireland","jeep","johnson & johnson","juris","kellogg school of management","kia","kucoin","kuga","landrover","laptop","leica","lenovo","less than 50","loan","longshots","luna","luxury","manner","master\'s degree","mastercard","media","median","mercedes","merger","mergers","metamask","mid","minuscule","minute","mlb","mma","mode","msc","mutual fund","nascar","nature","news","news_africa_content","news_health_content","news_world_content","north america","nursery","observant","olympics","open university","owner","oxfam","paralympics","pension fund","pension scheme","perceptive","pharma","phd","planner","podcast","porsche","post grad","postgrad","pr_gs_predicts_finance_institutionalinvestor","premium_family_tree","private placement","professional","professor","profit","proof of stake","proof of work","property developer","prudential","publishing","racing","rav4","real estate","red cross","reit","revenue","rich","routine","rugby","russia","schroders","scotland","sedan","semi detached","series 7","shitcoin","single family dwelling","smart","smartbook","software","sovereign wealth fund","sport_cricket_content","sport_tennis_content","stablecoin","startup","state street","stock exchange","stock market","stocks","storyworks/specials/cunard-luxury-reimagined/","streaming","studies","study","sustainable","suv","suzuki","svp","swimming","t rowe price","tanzania","tax factsheets","taxes","teach","telephoto","terra","tertiary education","the-hybrid-economy","thinkpad","threadneedle","tiny","toyota","trip","uganda","uk","undergraduate","unicef","united states","universities","university application","university ranking","upscale","usdc","usdt","visa","wales","wealth","webinar","well to do","well-to-do","wharton","wise","writer","xrp","zimbabwe"],i=[["classifications_watson","taxonomy_labels"],["client","url"],["dfp_adUnit2"],["grapeshot"],["campaign_id"],["dfp_adUnit1"],["geo_info","country"],["section"],["topics"],["channel"],["dest_url"],["subsection"],["article","keyword"],["client","referrer"],["column"],["jKmNjKmN"],["article","name"],["client","title"],["tags"],["segment_number"],["story_id"],["advertiser_id"],["aggregations","PageviewEngagement","engaged_time"],["article","destinations"],["client","domain"],["client","user_agent"],["geo_info","continent"],["slot","slot_element_id"]],s=[],u=[c.os(c.s,2,[182,114,501]),c.os(c.cx,3,[12,48,6]),c.os(c.cx,3,[426,89]),c.os(c.cx,3,[9,6]),c.os(c.cx,3,[9,166]),c.os(c.w,5,[20,8]),c.o([c.y(5,19),c.ps(1,446)]),c.os(c.s,1,[447,26]),c.os(c.cx,3,[12,416]),c.os(c.s,1,[3,7,449]),c.os(c.s,1,[36,110]),c.os(c.cx,3,[417,165]),c.os(c.s,10,[0,97,55,4]),c.os(c.s,1,[445,448,173]),c.os(c.e,4,[2806266660,2397342179,2478223133,2523811330,2400909281,2739119193,2620857003,2918744365,2918744296,2483038024,2800026204,2722157430,2686060527,2878850083,2689806380,2696048525,2700309249,2742930446,2813285508,2772044079,2687845410,2743529464,2839288200,2777054344,2882901340,2868590860,2741491890,2809739667,2707480994,2747111193,2680657581,2903250888,2821967247,2645745084,2770635248,2914918264,2774578556,2725792010,2871241565,2791592795,2867789276,2898891050,2818618287,2867788700,2902964575]),c.o([c.y(2,181),c.y(7,16)]),c.o([c.y(9,41),c.y(5,37)]),c.o([c.y(9,5),c.y(5,11)]),c.os(c.w,11,[577,338,43,102]),c.os(c.cx,8,[32,35,14,31,30,34,33,18]),c.os(c.w,14,[476,82]),c.os(c.s,1,[3,7]),c.os(c.w,12,[316,140,255,275,254,265,397,545,396,557,270,271,43,26])];return{rawQueries:{1e7:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/education/graduate school"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/science"),c.ge(3)),2592e6))),10000001:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles"),c.ge(3)),2592e6)),10000002:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,205),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,207),c.ge(3)),2592e6))),10000003:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,220),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/finance"),c.ge(3)),2592e6))),10000004:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/careers"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,222),c.ge(3)),2592e6))),10000005:c.q(c.tw(c.cw(0,c.pc_(0,"/education"),c.ge(3)),2592e6)),10000006:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,224),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,239),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/society/social institution/marriage"),c.ge(3)),2592e6))),10000007:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,206),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,208),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,125),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,126),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,216),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,217),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/art museums and galleries"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/arts education"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/performance art"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/restoration"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/sculpture"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/education/art history"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,232),c.ge(3)),2592e6))),10000008:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/business and industrial/food industry"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/food and drink"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/food and drink/food and grocery retailers"),c.ge(3)),2592e6))),10000010:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,128),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,231),c.ge(3)),2592e6))),10000011:c.q(c.tw(c.cw(0,c.pc_(0,"/hobbies and interests"),c.ge(3)),2592e6)),10000012:c.q(c.tw(c.cw(0,c.pc_(0,"/home and garden"),c.ge(3)),2592e6)),10000013:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/movies"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,209),c.ge(3)),2592e6))),10000014:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music"),c.ge(3)),2592e6)),10000015:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/business and industrial/business news"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,226),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/law, govt and politics"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/news"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,238),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/sports news"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/technology and computing/tech news"),c.ge(3)),2592e6))),10000016:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/finance/bank"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,226),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/finance/personal finance"),c.ge(3)),2592e6))),10000017:c.q(c.tw(c.cw(0,c.pc_(0,"/pets"),c.ge(3)),2592e6)),10000018:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/celebrity fan and gossip"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,213),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,214),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,127),c.ge(3)),2592e6))),10000019:c.q(c.tw(c.cw(0,c.pc_(0,"/real estate"),c.ge(3)),2592e6)),10000020:c.q(c.tw(c.cw(0,c.pc_(0,"/shopping"),c.ge(3)),2592e6)),10000021:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,231),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/sports"),c.ge(3)),2592e6))),10000022:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,221),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/style and fashion"),c.ge(3)),2592e6))),10000023:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/business and industrial/automation"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/science/computer science"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/technology and computing"),c.ge(3)),2592e6))),10000024:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/movies and tv/movies/reviews"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,214),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/tv"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000025:c.q(c.tw(c.cw(0,c.pc_(0,"/travel"),c.ge(3)),2592e6)),10000026:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/games/video and computer games"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/technology and computing/consumer electronics/game systems and consoles"),c.ge(3)),2592e6))),10000035:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/science/engineering"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/science/physics"),c.ge(3)),2592e6))),10000036:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/buying and selling cars"),c.ge(3)),2592e6)),10000037:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/motor shows"),c.ge(3)),2592e6)),10000038:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/cars/hybrid"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/electric vehicles"),c.ge(3)),2592e6))),10000039:c.q(c.tw(c.cw(0,c.pc_(0,219),c.ge(3)),2592e6)),10000040:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/cars/performance vehicles"),c.ge(3)),2592e6)),10000041:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,207),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/comics and animation/comics"),c.ge(3)),2592e6))),10000042:c.q(c.tw(c.cw(0,c.pc_(0,"/business and industrial/business operations"),c.ge(3)),2592e6)),10000043:c.q(c.tw(c.cw(0,c.pc_(0,239),c.ge(3)),2592e6)),10000044:c.q(c.tw(c.cw(0,c.pc_(0,224),c.ge(3)),2592e6)),10000045:c.q(c.tw(c.cw(0,c.pc_(0,208),c.ge(3)),2592e6)),10000046:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design"),c.ge(3)),2592e6)),10000047:c.q(c.tw(c.cw(0,c.pc_(0,"/food and drink/beverages/alcoholic beverages"),c.ge(3)),2592e6)),10000048:c.q(c.tw(c.cw(0,c.pc_(0,"/food and drink/barbecues and grilling"),c.ge(3)),2592e6)),10000049:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/food and drink/desserts and baking"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/food and drink/food and grocery retailers/bakeries"),c.ge(3)),2592e6))),10000050:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,227),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/food and drink/food/fast food"),c.ge(3)),2592e6))),10000051:c.q(c.tw(c.cw(0,c.pc_(0,"/food and drink/food allergies"),c.ge(3)),2592e6)),10000052:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,228),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,229),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/food and drink/health and lowfat cooking"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,128),c.ge(3)),2592e6))),10000053:c.q(c.tw(c.cw(0,c.pc_(0,129),c.ge(3)),2592e6)),10000054:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/health and fitness/exercise"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/health and fitness/sports medicine"),c.ge(3)),2592e6))),10000055:c.q(c.tw(c.cw(0,c.pc_(0,"/health and fitness/men\'s health"),c.ge(3)),2592e6)),10000056:c.q(c.tw(c.cw(0,c.pc_(0,"/health and fitness/nutrition"),c.ge(3)),2592e6)),10000057:c.q(c.tw(c.cw(0,c.pc_(0,"/health and fitness/women\'s health"),c.ge(3)),2592e6)),10000058:c.q(c.tw(c.cw(0,c.pc_(0,234),c.ge(3)),2592e6)),10000059:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/movies and tv/action"),c.ge(3)),2592e6)),10000060:c.q(c.tw(c.cw(0,c.pc_(0,210),c.ge(3)),2592e6)),10000061:c.q(c.tw(c.cw(0,c.pc_(0,211),c.ge(3)),2592e6)),10000062:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/movies and tv/horror"),c.ge(3)),2592e6)),10000063:c.q(c.tw(c.cw(0,c.pc_(0,238),c.ge(3)),2592e6)),10000064:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/law, govt and politics/law enforcement"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/law, govt and politics/legal issues"),c.ge(3)),2592e6))),10000065:c.q(c.tw(c.cw(0,c.pc_(0,"/news/national news"),c.ge(3)),2592e6)),10000066:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/law, govt and politics/government"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/law, govt and politics/politics"),c.ge(3)),2592e6))),10000067:c.q(c.tw(c.cw(0,c.pc_(0,"/science/weather"),c.ge(3)),2592e6)),10000068:c.q(c.tw(c.cw(0,c.pc_(0,236),c.ge(3)),2592e6)),10000069:c.q(c.tw(c.cw(0,c.pc_(0,"/pets/cats"),c.ge(3)),2592e6)),10000070:c.q(c.tw(c.cw(0,c.pc_(0,"/pets/dogs"),c.ge(3)),2592e6)),10000071:c.q(c.tw(c.cw(0,c.pc_(0,237),c.ge(3)),2592e6)),10000072:c.q(c.tw(c.cw(0,c.pc_(0,"/pets/reptiles"),c.ge(3)),2592e6)),10000073:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/football"),c.ge(3)),2592e6)),10000074:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/baseball"),c.ge(3)),2592e6)),10000075:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/basketball"),c.ge(3)),2592e6)),10000076:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/bodybuilding"),c.ge(3)),2592e6)),10000077:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/bowling"),c.ge(3)),2592e6)),10000078:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/boxing"),c.ge(3)),2592e6)),10000079:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/bicycling"),c.ge(3)),2592e6)),10000080:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/fishing"),c.ge(3)),2592e6)),10000081:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/golf"),c.ge(3)),2592e6)),10000082:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/hunting and shooting"),c.ge(3)),2592e6)),10000083:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/rugby"),c.ge(3)),2592e6)),10000084:c.q(c.tw(c.cw(0,c.pc_(0,244),c.ge(3)),2592e6)),10000085:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/tennis"),c.ge(3)),2592e6)),10000086:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/walking"),c.ge(3)),2592e6)),10000087:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/business and industrial/tanning"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/style and fashion/beauty"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,246),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/style and fashion/beauty/cosmetology and beauty professionals"),c.ge(3)),2592e6))),10000088:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/style and fashion/beauty/tattoos"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/style and fashion/body art"),c.ge(3)),2592e6))),10000089:c.q(c.tw(c.cw(0,c.pc_(0,"/style and fashion/men \'s fashion"),c.ge(3)),2592e6)),10000090:c.q(c.tw(c.cw(0,c.pc_(0,"/technology and computing/consumer electronics"),c.ge(3)),2592e6)),10000324:c.q(c.tw(c.cw(0,c.pc_(0,220),c.ge(3)),2592e6)),10000325:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/business and industrial/company/annual report"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/business and industrial/company/bankruptcy"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/business and industrial/company/earnings"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/business and industrial/company/joint venture"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/business and industrial/company/merger and acquisition"),c.ge(3)),2592e6))),10000327:c.q(c.tw(c.cw(0,c.pc_(0,"/finance/personal finance/debt management"),c.ge(3)),2592e6)),10000328:c.q(c.tw(c.cw(0,c.pc_(0,"/finance/personal finance/insurance"),c.ge(3)),2592e6)),10000329:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/finance/accounting and auditing/billing and invoicing"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/finance/accounting and auditing/bookkeeping"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,225),c.ge(3)),2592e6))),10000330:c.q(c.tw(c.cw(0,c.pc_(0,"/finance/investing"),c.ge(3)),2592e6)),10000687:c.q(c.tw(c.cw(0,c.pc_(0,"/science/social science"),c.ge(3)),2592e6)),10000688:c.q(c.tw(c.cw(0,c.pc_(0,223),c.ge(3)),2592e6)),10000689:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,219),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/scooters and mopeds"),c.ge(3)),2592e6))),10000690:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/fiat"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/ford"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/honda"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/hyundai"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/nissan"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/peugeot"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/subaru"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/suzuki"),c.ge(3)),2592e6))),10000691:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,218),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/audi"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/bentley"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/ferrari"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/lamborghini"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/land rover"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/maserati"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/mercedes-benz"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/porsche"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/rolls-royce"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/toyota"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/volkswagen"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/vehicle brands/volvo"),c.ge(3)),2592e6))),10000692:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/cars/coupe"),c.ge(3)),2592e6)),10000693:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/auto parts"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/auto repair"),c.ge(3)),2592e6))),10000694:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/cars"),c.ge(3)),2592e6)),10000695:c.q(c.tw(c.cw(0,c.pc_(0,"/automotive and vehicles/cars/sedan"),c.ge(3)),2592e6)),10000696:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/books and literature/children\'s books"),c.ge(3)),2592e6)),10000697:c.q(c.tw(c.cw(0,c.pc_(0,206),c.ge(3)),2592e6)),10000698:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/careers/career advice"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/careers/resume writing and advice"),c.ge(3)),2592e6))),10000699:c.q(c.tw(c.cw(0,c.pc_(0,"/careers/telecommuting"),c.ge(3)),2592e6)),10000700:c.q(c.tw(c.cw(0,c.pc_(0,"/careers/career planning"),c.ge(3)),2592e6)),10000701:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/careers/job fairs"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/careers/job search"),c.ge(3)),2592e6))),10000702:c.q(c.tw(c.cw(0,c.pc_(0,222),c.ge(3)),2592e6)),10000703:c.q(c.tw(c.cw(0,c.pc_(0,"/education/distance learning"),c.ge(3)),2592e6)),10000704:c.q(c.tw(c.cw(0,c.pc_(0,"/education/special education"),c.ge(3)),2592e6)),10000705:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,205),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,223),c.ge(3)),2592e6))),10000706:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/education/homework and study tips"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/education/teaching and classroom resources/lesson plans"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/education/teaching and classroom resources/school supplies"),c.ge(3)),2592e6))),10000707:c.q(c.tw(c.cw(0,c.pc_(0,232),c.ge(3)),2592e6)),10000708:c.q(c.tw(c.cw(0,c.pc_(0,217),c.ge(3)),2592e6)),10000709:c.q(c.tw(c.cw(0,c.pc_(0,126),c.ge(3)),2592e6)),10000710:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,128),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,230),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,129),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/pets/animal welfare"),c.ge(3)),2592e6))),10000711:c.q(c.tw(c.cw(0,c.pc_(0,"/food and drink/beverages/non alcoholic beverages"),c.ge(3)),2592e6)),10000712:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/food and drink/kosher food"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,230),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,129),c.ge(3)),2592e6))),10000713:c.q(c.tw(c.cw(0,c.pc_(0,"/food and drink/cuisines"),c.ge(3)),2592e6)),10000714:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/food and drink/food/condiments and dressings"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/food and drink/food/frozen food"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,228),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/food and drink/food/grains and pasta"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/food and drink/food/herbs and spices"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,229),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/food and drink/food/snack foods"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/food and drink/gastronomy/slow food"),c.ge(3)),2592e6))),10000715:c.q(c.tw(c.cw(0,c.pc_(0,"/health and fitness/aging"),c.ge(3)),2592e6)),10000716:c.q(c.tw(c.cw(0,c.pc_(0,"/health and fitness/weight loss"),c.ge(3)),2592e6)),10000717:c.q(c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/arts and crafts"),c.ge(3)),2592e6)),10000718:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/collecting"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/collecting/stamps and coins"),c.ge(3)),2592e6))),10000719:c.q(c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/games/board games and puzzles"),c.ge(3)),2592e6)),10000720:c.q(c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/magic and illusion"),c.ge(3)),2592e6)),10000721:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music/musical instruments"),c.ge(3)),2592e6)),10000722:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,233),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,236),c.ge(3)),2592e6))),10000723:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/radio"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/technology and computing/consumer electronics/radios"),c.ge(3)),2592e6))),10000724:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/books and literature/fan fiction"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/books and literature/science fiction"),c.ge(3)),2592e6))),10000725:c.q(c.tw(c.cw(0,c.pc_(0,"/home and garden/appliances"),c.ge(3)),2592e6)),10000726:c.q(c.tw(c.cw(0,c.pc_(0,235),c.ge(3)),2592e6)),10000727:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/design/interior design"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/drawing"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/art and entertainment/visual art and design/painting"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/hobbies and interests/arts and crafts/woodworking"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,235),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/home and garden/remodeling and construction"),c.ge(3)),2592e6))),10000728:c.q(c.tw(c.cw(0,c.pc_(0,234),c.ge(3)),2592e6)),10000729:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/home and garden/bed and bath/bathroom"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/home and garden/bed and bath/bedroom"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/home and garden/home furnishings"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/home and garden/home furnishings/lamps and lighting"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/home and garden/interior decorating"),c.ge(3)),2592e6))),10000730:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/movies and tv/independent"),c.ge(3)),2592e6)),10000731:c.q(c.tw(c.cw(0,c.pc_(0,212),c.ge(3)),2592e6)),10000732:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/movies and tv/dramas"),c.ge(3)),2592e6)),10000733:c.q(c.tw(c.cw(0,c.pc_(0,124),c.ge(3)),2592e6)),10000734:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,123),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,124),c.ge(3)),2592e6))),10000735:c.q(c.tw(c.cw(0,c.pc_(0,215),c.ge(3)),2592e6)),10000736:c.q(c.tw(c.cw(0,c.pc_(0,215),c.ge(3)),2592e6)),10000737:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music/music genres/jazz"),c.ge(3)),2592e6)),10000738:c.q(c.tw(c.cw(0,c.pc_(0,125),c.ge(3)),2592e6)),10000739:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music/music genres/blues"),c.ge(3)),2592e6)),10000740:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music/music genres/country music"),c.ge(3)),2592e6)),10000741:c.q(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music/music genres/hip hop"),c.ge(3)),2592e6)),10000742:c.q(c.tw(c.cw(0,c.pc_(0,127),c.ge(3)),2592e6)),10000743:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/music/music genres/electronic music"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,127),c.ge(3)),2592e6))),10000744:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,125),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,126),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,216),c.ge(3)),2592e6))),10000745:c.q(c.tw(c.cw(0,c.pc_(0,"/news/local news"),c.ge(3)),2592e6)),10000746:c.q(c.tw(c.cw(0,c.pc_(0,"/news/international news"),c.ge(3)),2592e6)),10000747:c.q(c.tw(c.cw(0,c.pc_(0,"/finance/personal finance/financial planning/retirement and pension"),c.ge(3)),2592e6)),10000748:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,225),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/finance/personal finance/financial planning"),c.ge(3)),2592e6))),10000749:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,241),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,242),c.ge(3)),2592e6))),10000750:c.q(c.tw(c.cw(0,c.pc_(0,"/pets/aquariums"),c.ge(3)),2592e6)),10000751:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,123),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,124),c.ge(3)),2592e6))),10000752:c.q(c.tw(c.cw(0,c.pc_(0,"/real estate/architects"),c.ge(3)),2592e6)),10000753:c.q(c.tw(c.cw(0,c.pc_(0,"/real estate/apartments"),c.ge(3)),2592e6)),10000754:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/business and industrial/agriculture and forestry"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/business and industrial/agriculture and forestry/organic farming"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,233),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,237),c.ge(3)),2592e6))),10000755:c.q(c.tw(c.cw(0,c.pc_(0,"/real estate/buying and selling homes"),c.ge(3)),2592e6)),10000756:c.q(c.tw(c.cw(0,c.pc_(0,245),c.ge(3)),2592e6)),10000757:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/water polo"),c.ge(3)),2592e6)),10000758:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/table tennis and ping-pong"),c.ge(3)),2592e6)),10000759:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/softball"),c.ge(3)),2592e6)),10000760:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/sports/volleyball"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,245),c.ge(3)),2592e6))),10000761:c.q(c.tw(c.cw(0,c.pc_(0,243),c.ge(3)),2592e6)),10000762:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/rowing"),c.ge(3)),2592e6)),10000763:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/badminton"),c.ge(3)),2592e6)),10000764:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/sailing"),c.ge(3)),2592e6)),10000765:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,241),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,242),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/polo"),c.ge(3)),2592e6))),10000766:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/skating/figure skating"),c.ge(3)),2592e6)),10000767:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/cheerleading"),c.ge(3)),2592e6)),10000768:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/auto racing"),c.ge(3)),2592e6)),10000769:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/weightlifting"),c.ge(3)),2592e6)),10000770:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/gymnastics"),c.ge(3)),2592e6)),10000771:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/swimming"),c.ge(3)),2592e6)),10000772:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/running and jogging"),c.ge(3)),2592e6)),10000773:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/sports/hockey"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/sports/hockey/field hockey"),c.ge(3)),2592e6))),10000774:c.q(c.tw(c.cw(0,c.pc_(0,240),c.ge(3)),2592e6)),10000775:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/sports/bicycling/mountain biking"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/sports/canoeing and kayaking"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/climbing"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,240),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/go kart"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/parachuting"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/scuba diving"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/skating"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,244),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/skiing/waterskiing"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/snowboarding"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/sports/surfing and bodyboarding"),c.ge(3)),2592e6))),10000776:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/wrestling"),c.ge(3)),2592e6)),10000777:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,"/sports/olympics"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,243),c.ge(3)),2592e6))),10000778:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/martial arts"),c.ge(3)),2592e6)),10000779:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/cricket"),c.ge(3)),2592e6)),10000780:c.q(c.tw(c.cw(0,c.pc_(0,"/sports/soccer"),c.ge(3)),2592e6)),10000781:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/art and entertainment/shows and events"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,218),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,221),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,227),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/home and garden/luxury homes"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/style and fashion/fashion designers"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/style and fashion/luxury goods"),c.ge(3)),2592e6))),10000782:c.q(c.tw(c.cw(0,c.pc_(0,"/style and fashion/beauty/hair care"),c.ge(3)),2592e6)),10000783:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/style and fashion/accessories"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,246),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/style and fashion/jewelry"),c.ge(3)),2592e6))),10000784:c.q(c.tw(c.cw(0,c.pc_(0,"/style and fashion/clothing"),c.ge(3)),2592e6)),10000785:c.q(c.tw(c.cw(0,c.pc_(0,"/business and industrial/automation/robotics"),c.ge(3)),2592e6)),10000786:c.q(c.tw(c.cw(0,c.pc_(0,"/science/computer science/artificial intelligence"),c.ge(3)),2592e6)),10000787:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,212),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000788:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,213),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000789:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,123),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000790:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,209),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000791:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,210),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000792:c.q(c.ocq(c.tw(c.cw(0,c.pc_(0,211),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,13),c.ge(3)),2592e6))),10000793:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/seaside resort"),c.ge(3)),2592e6)),10000794:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/africa"),c.ge(3)),2592e6)),10000795:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/tourist facilities/camping"),c.ge(3)),2592e6)),10000796:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/south america"),c.ge(3)),2592e6)),10000797:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/transports/road travel/road accident"),c.ge(3)),2592e6)),10000798:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/japan"),c.ge(3)),2592e6)),10000799:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/australia and new zealand"),c.ge(3)),2592e6)),10000800:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/eastern europe"),c.ge(3)),2592e6),c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/europe"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/france"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/greece"),c.ge(3)),2592e6)),c.tw(c.cw(0,c.pc_(0,"/travel/tourist destinations/italy"),c.ge(3)),2592e6))),10000801:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/specialty travel/adventure travel"),c.ge(3)),2592e6)),10000802:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/business travel"),c.ge(3)),2592e6)),10000803:c.q(c.tw(c.cw(0,c.pc_(0,"/travel/traveling with kids"),c.ge(3)),2592e6)),100524:c.q(c.ocq(c.tw(c.cw(0,c.o([c.ref(15),c.os(c.s,12,[0,"cambridge","computer science","engineering","faculty","harvard","imperial college","life sciences","oxford",58,"teacher","virginia tech"])]),c.ge(1)),7776e6),c.tw(c.cw(1,c.pc_(3,89),c.ge(1)),7776e6))),100580:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(2,112),c.ref(19)]),c.ge(1)),2592e6),c.tw(c.cw(1,c.pc_(3,54),c.ge(1)),2592e6)),c.tw(c.cw(0,c.ref(0),c.ge(1)),2592e6))),100608:c.q(c.cw(0,c.ps(1,"storyworks/future/vision-2022"),c.ge(1))),100609:c.q(c.cw(0,c.ps(1,"storyworks/reframing-your-world"),c.ge(1))),100669:c.q(c.acq(c.tw(c.cw(0,c.ps(6,131),c.ge(1)),15552e6),c.tw(c.cw(0,c.z(6,131),c.ge(1)),864e5))),100760:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.ref(7),c.ge(1)),7776e6),c.scq(c.tw(c.cw(5,c.a([c.pg(22,15),c.ref(22)])),7776e6),c.vq(c.sw(6,c.ref(22),["properties","engaged_time"],c.g(15))),c.ge(2))),c.tw(c.cw(2,c.os(c.s,1,[248,285,64,139,140,"charles schwab",45,160,2,26,"t. rowe price","td ameritrade"]),c.ge(2)),7776e6)),c.tw(c.cw(1,c.os(c.cx,3,[520,"pr_financial_certifciation"]),c.ge(2)),7776e6))),100803:c.q(c.ocq(c.cw(3,c.pe(4,2988317492),c.ge(1)),c.cw(4,c.pe(4,2988317492),c.ge(1)))),100878:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(2,1),c.y(11,102),c.os(c.s,12,[286,133,107,"prosperous",537,591,596,598,599])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,47),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[286,133,107,"properous",537,591,596,598,599]),c.ge(2)),7776e6))),100882:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(2,112),c.ref(19)]),c.ge(1)),2592e6),c.tw(c.cw(1,c.pc_(3,54),c.ge(1)),2592e6)),c.scq(c.cw(5,c.pg(22,60)),c.vq(c.sw(6,c.t,["properties","engaged_time"],c.g(60))),c.ge(1)))),100885:c.q(c.cw(4,c.pe(4,2986709259),c.ge(1))),100886:c.q(c.ocq(c.tw(c.cw(0,c.a([c.y(2,112),c.ref(19)]),c.ge(1)),6048e5),c.tw(c.cw(1,c.pc_(3,54),c.ge(1)),6048e5))),100887:c.q(c.acq(c.ocq(c.tw(c.cw(0,c.a([c.y(2,112),c.ref(19)]),c.ge(1)),2592e6),c.tw(c.cw(1,c.pc_(3,54),c.ge(1)),2592e6)),c.vq(c.mxw(6,c.t,["properties","completion"],c.g(.7))))),101196:c.q(c.cw(0,c.ps(1,"storyworks/travel/a-way-to-get-away"),c.ge(1))),101197:c.q(c.cw(0,c.ps(1,"storyworks/future/tech4all/because-learning-should-never-stop"),c.ge(1))),101316:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,1,["cargo","energy utility","ericsson","fdi","fedex","freight",460,"logistics","manufacturing","maritime","mining","network computing","ports","raillway","shipping",4,"trade","transportation","ups"]),c.ge(3)),7776e6),c.tw(c.cw(1,c.pc_(3,24),c.ge(3)),7776e6))),102092:c.q(c.cw(0,c.ps(1,"storyworks/travel/maldives-calling/"),c.ge(1))),103672:c.q(c.cw(4,c.pe(4,2992992232),c.ge(1))),103853:c.q(c.cw(0,c.ps(1,"storyworks/travel/wakayama-prefecture/wakayama-a-foodies-delight"),c.ge(1))),103854:c.q(c.cw(0,c.ps(1,"storyworks/advertiser-content/building-a-better-australia/"),c.ge(1))),104004:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.ref(19),c.ge(1)),2592e6),c.tw(c.cw(1,c.pc_(3,54),c.ge(1)),2592e6)),c.tw(c.cw(0,c.ref(0),c.ge(1)),2592e6))),104984:c.q(c.ocq(c.tw(c.cw(0,c.os(c.cx,8,[277,"Japanese-Yen-(JPY)","Japanese","Japanese-knotweed",266]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,"bbc_japaneseenthusiasts"),c.ge(2)),7776e6))),105312:c.q(c.cw(0,c.pe(2,"future_futureplanet_content"),c.ge(1))),105314:c.q(c.cw(0,c.y(2,113),c.ge(1))),105315:c.q(c.cw(0,c.y(2,1),c.ge(1))),105316:c.q(c.cw(0,c.y(9,17),c.ge(1))),105318:c.q(c.ocq(c.cw(0,c.pe(2,"culture_thecollection_content"),c.ge(1)),c.cw(0,c.pe(14,"premium_the_collection"),c.ge(1)))),105320:c.q(c.ocq(c.cw(0,c.pe(2,"worklife_familytree_content"),c.ge(1)),c.cw(0,c.ps(14,521),c.ge(1)))),105321:c.q(c.ocq(c.cw(0,c.pe(2,"future_familytree_content"),c.ge(1)),c.cw(0,c.ps(14,521),c.ge(1)))),105526:c.q(c.ocq(c.cw(0,c.pe(2,"travel_worldstable_content"),c.ge(1)),c.cw(0,c.ps(14,"premium_worlds_table"),c.ge(1)))),105532:c.q(c.ocq(c.cw(0,c.pe(2,"worklife_equalitymatters_content"),c.ge(1)),c.cw(0,c.os(c.s,14,["equaity_matters","equalitymatters"]),c.ge(1)))),105717:c.q(c.cw(0,c.os(c.w,5,[204,203,253,252]),c.ge(1))),105718:c.q(c.cw(0,c.os(c.w,5,[253,252]),c.ge(1))),105719:c.q(c.cw(0,c.os(c.w,5,[204,203]),c.ge(1))),105851:c.q(c.cw(4,c.os(c.e,4,[3055937714,3019042483,3019752402,2841568772,2682282610,2999259803,2834193989,2770890848,2799185480,3008409510,2998594294]),c.ge(1))),106050:c.q(c.acq(c.ocq(c.tw(c.cw(2,c.ref(12),c.ge(2)),5184e6),c.tw(c.cw(1,c.ref(3),c.ge(2)),5184e6)),c.ocq(c.cw(9,c.os(c.cx,23,[198,195,192,201,184,90,190,98,60,44]),c.ge(2)),c.cw(9,c.os(c.s,["platform"],[44,90,98,184,190,192,195,198,60,201]),c.ge(2))))),106248:c.q(c.cw(4,c.pe(4,2156579277),c.ge(1))),106249:c.q(c.cw(3,c.pe(4,2156579277),c.ge(1))),106370:c.q(c.cw(3,c.pe(4,3018925106),c.ge(1))),106371:c.q(c.cw(4,c.pe(4,3018925106),c.ge(1))),106405:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ref(21),c.os(c.s,1,[311,38,66,67,68,315,0,143,346,40,"cryto exchange",77,78,"etf",389,156,392,159,25,50,2,4])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.ref(1),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ref(21),c.os(c.s,1,[311,38,66,67,68,40,"cryto currency",77,78,94,2,"metverse","nft","non-fungible token"])]),c.ge(2)),7776e6))),106567:c.q(c.cw(0,c.ps(1,"www.bbc.com/storyworks/travel/experience-serbia"),c.ge(1))),106837:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.s,1,["astrazeneca","bio tech",342,"eli lilly","fda","gphc",464,105,"moderna","novartis","npa","pfizer",513]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[163,"gs_predicts_pharma_compassion"]),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.w,1,["vaccination","vaccine",464,"NPA","pharmaceutical","FDA","Moderna","Pfizer","Gphc","biotech",104,105,513]),c.ge(2)),7776e6))),106906:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/be-it-building-on-excellence"),c.ge(1))),106920:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/brewing-ambition"),c.ge(1))),106921:c.q(c.cw(0,c.os(c.s,1,["bbc.com/storyworks/caring-with-courage","https://www.bbc.com/storyworks/specials/advanced-nursing-research-is-helping-us-live-longer-happier-lives/","https://www.bbc.com/storyworks/specials/caring-with-courage","https://www.bbc.com/storyworks/specials/how-a-marriage-of-traditional-and-modern-midwifery-is-transforming-lives-in-rural-mexico/"]),c.ge(1))),107324:c.q(c.cw(3,c.pe(4,3023028146),c.ge(1))),107326:c.q(c.cw(3,c.os(c.e,4,[3022411165,3022606940]),c.ge(1))),109402:c.q(c.acq(c.cw(0,c.y(5,11),c.ge(1)),c.cw(9,c.y(9,5),c.ge(1)))),109408:c.q(c.acq(c.cw(0,c.os(c.w,2,["sport_live_content",552,"sport_topics_content",120,553]),c.ge(1)),c.cw(9,c.y(9,17),c.ge(1)))),109523:c.q(c.cw(4,c.pe(4,3032522764),c.ge(1))),109524:c.q(c.cw(4,c.pe(4,3019826589),c.ge(1))),109525:c.q(c.cw(4,c.pe(4,3035158506),c.ge(1))),109585:c.q(c.ocq(c.lm("416134c4-057e-4254-bee6-870dff0f3f81",c.ge(.7381523)),c.ifp("109402"))),109586:c.q(c.ocq(c.lm("7d505c3c-29c7-4f64-a47f-a520a5a13d78",c.ge(.6895669)),c.ifp("109408"))),109669:c.q(c.cw(0,c.ps(1,"storyworks/crafted-with-purpose/"),c.ge(1))),109700:c.q(c.cw(0,c.ps(1,"storyworks/travel/unplugged/"),c.ge(1))),110071:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/future/blancpain-beyond-the-waves"),c.ge(1))),110674:c.q(c.vq(c.cw(0,c.o([c.os(c.cx,18,[273,28]),c.os(c.cx,8,[273,28]),c.os(c.s,12,[28]),c.os(c.s,16,[28]),c.os(c.s,17,[28]),c.os(c.s,1,[28])]),c.ge(1)))),112089:c.q(c.ocq(c.tw(c.cw(4,c.os(c.e,21,[4444499458,4792935597,27941658,5114989851,28263378,28322058,28209378,28472538,28438338,28444938,5053195576,4509682758,5097842574,5001810430,28369458,4931153700,28197618,191644578,5138250841,78804138,4715836537,5053833112,4833359673,4460314787,4679735174,5175876667,4936823160,50239938]),c.ge(1)),15552e6),c.tw(c.cw(4,c.pe(4,2720229577),c.ge(1)),15552e6))),113969:c.q(c.cw(0,c.y(1,450),c.ge(1))),113994:c.q(c.acq(c.tw(c.cw(0,c.ref(6),c.ge(1)),2592e6),c.tw(c.cw(0,c.os(c.cx,18,["Gender","Gadget","programming","Housing","idea","Grand Challenges","light",176,"Japan 2020",62,"Mars","mangrove","love","Materials science",63,"mega build","mental health","Unmanned aerial vehicle","Mobile phone",269,"nanotechnology","Ocean","Moon","quantum mechanics","Religion","Philosophy","satellite","Sex","slow travel","Climate change","snake","Vaccine","Universe","Social Media"]),c.ge(1)),2592e6))),114028:c.q(c.cw(3,c.pe(4,3042182312),c.ge(1))),114096:c.q(c.ocq(c.lm("4faff316-9043-402f-bcca-8e50dbf0b34c",c.ge(.7369714)),c.ifp("112089"))),114097:c.q(c.cw(0,c.ps(1,"storyworks/travel/time-to-escape/"),c.ge(1))),114098:c.q(c.cw(0,c.ps(1,"storyworks/advertiser-content/mori-building/"),c.ge(1))),114099:c.q(c.cw(0,c.ps(1,560),c.ge(1))),114192:c.q(c.cw(3,c.pe(4,2989138504),c.ge(1))),114701:c.q(c.ocq(c.cw(3,c.pe(4,3043169964),c.ge(1)),c.cw(4,c.pe(4,3043169964),c.ge(1)))),114702:c.q(c.cw(0,c.ps(1,"storyworks/advertiser-content/go-beyond/"),c.ge(1))),114973:c.q(c.ocq(c.lm("4faff316-9043-402f-bcca-8e50dbf0b34c",c.ge(.66708475)),c.ifp("112089"))),114974:c.q(c.ocq(c.tw(c.cw(0,c.ps(2,"sport_americanfootball_content"),c.ge(2)),72576e5),c.tw(c.cw(1,c.pc_(3,"gs_sport_usfootball"),c.ge(2)),72576e5))),115491:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.s,1,["camilla parker","duchess of cambridge","duke of cambridge","jubilee","kate middleton","meghan markle","prince charles","prince harry","prince phillip","prince william","queen","royal family","royals","sussex","windors"]),c.ge(1)),2592e6),c.tw(c.cw(0,c.os(c.cx,8,["Royalty","UK-Royal-Family","Windsor","Monarchy"]),c.ge(1)),2592e6)),c.tw(c.cw(1,c.pc_(3,"pr_royals"),c.ge(1)),2592e6))),115515:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.pe(2,"culture_music_content"),c.os(c.s,1,["beatles","def leopard","depheche mode","eric clapton","freddie mercury","genesis","glastonbury festival","john lennon","led zepplin","mumford & sons","oasis","paul mccartney","phil collins","pink floyd","radiohead","rolling stones","the cure","the kinks","the smiths","the who","yes"])]),c.ge(1)),2592e6),c.tw(c.cw(1,c.pc_(3,"pr_uk_music"),c.ge(1)),2592e6)),c.tw(c.cw(0,c.os(c.cx,8,["Freddie-Mercury","Glastonbury","Frampton","Music","John-Lennon","Paul-McCartney","The-Rolling-Stones","The-Beatles"]),c.ge(1)),2592e6))),115754:c.q(c.tw(c.cw(0,c.o([c.y(9,17),c.ps(2,17)]),c.ge(1)),6048e5)),115801:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[0,21,343,348,73,97,525,536,194,555]),c.ge(1)),6048e5),c.tw(c.cw(0,c.y(2,1),c.ge(1)),6048e5))),115892:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.cx,8,[258,63,"Dentistry"]),c.ge(1)),5184e6),c.tw(c.cw(2,c.os(c.s,1,["dental student","dentist",372,104,105,"physician","surgeon"]),c.ge(1)),5184e6)),c.tw(c.cw(1,c.pc_(3,"gs_health_dentistry"),c.ge(1)),5184e6)),c.cw(0,c.os(c.w,13,["https://www.cda-adc.ca","https://www.cma.ca"]),c.ge(1)))),116152:c.q(c.cw(7,c.as(c.x,["ctry"],[null,202]),c.ge(1))),116153:c.q(c.sq(c.cw(7,c.as(c.x,15,[null,202]),c.ge(1)))),116199:c.q(c.cw(0,c.pe(1,"https://www.bbc.com/storyworks/advertiser-content/hec-paris/executive-mba"),c.ge(1))),116495:c.q(c.cw(0,c.os(c.s,1,["https://www.bbc.com/storyworks/the-power-of-investing-in-africas-potential/arts-","https://www.bbc.com/storyworks/the-power-of-investing-in-africas-potential/creative-solutions","https://www.bbc.com/storyworks/the-power-of-investing-in-africas-potential/education-","https://www.bbc.com/storyworks/the-power-of-investing-in-africas-potential/home-"]),c.ge(1))),116925:c.q(c.ocq(c.tw(c.cw(0,c.a([c.os(c.w,14,["films_that_were_never_made",82]),c.os(c.cx,8,["Toronto-Film-Festival","Cannes-Film-Festival","Film"])]),c.ge(1)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_entertain_movies","gs_predicts_filmfestivalsawards",428]),c.ge(1)),5184e6))),116930:c.q(c.ocq(c.tw(c.cw(0,c.a([c.pc_(8,"Television"),c.os(c.w,2,["culture_collection_film_tags_television_content","culture_tags_television_index"])]),c.ge(2)),2592e6),c.tw(c.cw(1,c.ref(11),c.ge(2)),2592e6))),116942:c.q(c.cw(0,c.ps(1,"storyworks/future/tech4all/thinking-digitally-thinking-critically"),c.ge(1))),117139:c.q(c.cw(0,c.ps(1,"storyworks/travel/grand-openings/wellness-on-the-move"),c.ge(1))),117190:c.q(c.cw(0,c.ps(1,450),c.ge(1))),117409:c.q(c.cw(4,c.pe(4,3065098272),c.ge(1))),117410:c.q(c.cw(3,c.pe(4,3065098272),c.ge(1))),117411:c.q(c.ocq(c.ocq(c.ocq(c.cw(4,c.pe(4,3067388564),c.ge(1)),c.cw(3,c.pe(4,3067388564),c.ge(1))),c.cw(4,c.pe(4,3067388114),c.ge(1))),c.cw(3,c.pe(4,3067388114),c.ge(1)))),120508:c.q(c.cw(0,c.os(c.s,1,["https://www.bbc.com/storyworks/travel/luxury-of-time/alaska-cruising-americas-last-frontier","https://www.bbc.com/storyworks/travel/luxury-of-time/solo-serenity-the-appeal-of-traveling-on-your-own","https://www.bbc.com/storyworks/travel/luxury-of-time/the-calm-of-the-sea",560,"storyworks/travel/a-way-to-get-away/only-at-sea"]),c.ge(1))),120510:c.q(c.ocq(c.cw(3,c.pe(4,3059224949),c.ge(1)),c.cw(4,c.pe(4,3059224949),c.ge(1)))),120744:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ps(1,3),c.os(c.s,1,[282,288,299,301,65,304,139,69,0,335,349,352,74,355,386,393,395,400,160,"government investment",408,409,440,457,93,25,"investment advisor","investment trust",50,2,95,99,485,108,495,510,511,522,529,189,535,541,551,556,569,579,199])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[520,"apac_institutionalinvestments"]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ps(1,3),c.os(c.s,1,[282,288,299,301,65,304,139,69,0,335,349,352,74,355,386,393,395,400,407,408,409,440,457,"invesment advisor",93,94,2,95,99,485,108,495,510,511,522,529,535,541,551,556,569,579,199])]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.os(c.cx,8,["Pensions","Banking","Investment-management"]),c.os(c.cx,18,[269,"Business"]),c.os(c.s,11,[0,21,92,"private bank","trust fund",199])]),c.ge(2)),7776e6))),120787:c.q(c.cw(0,c.os(c.s,1,["https://www.bbc.com/culture/article/20220825-longshots-2022-the-directors-behind-the-shortlisted-films","https://www.bbc.com/culture/article/20220825-longshots-festival-six-films-that-take-us-on-a-journey","https://www.bbc.com/culture/article/20220826-longshots-2022-meet-the-esteemed-film-festival-jury","https://www.bbc.com/culture/article/20220830-longshots-2022-six-outstanding-short-films-to-stream","https://www.bbc.com/reel/longshots"]),c.ge(1))),120920:c.q(c.cw(4,c.pe(4,3075074301),c.ge(1))),121269:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/specials/beneath-the-surface"),c.ge(1))),121486:c.q(c.ocq(c.tw(c.cw(0,c.a([c.pc_(18,249),c.os(c.cx,8,["Maintenance-and-repair","Modelling","Construction-industry",249]),c.os(c.s,1,["architecture",141,"business owner","cleaners","commercial property","contractors","electrician","painter","plumber",528,"property manager","remodel","renovation","renovator","repairer","residential property","tradesperson"])]),c.ge(1)),5184e6),c.tw(c.cw(1,c.pc_(3,"gs_business_construction"),c.ge(1)),5184e6))),122020:c.q(c.cw(0,c.a([c.pc_(18,"Nutrition"),c.pc_(8,"Vitamin-D"),c.os(c.s,1,["acidophilus","ashwaghandha","b-complex","calcium","collagen","coq10","cranberry","elderberry","folic acid","iron","magnesium","melatonin","omega-3","postnatal","potassium","prenatal","priobiotic","supplement","tumeric","vitamin","zinc"])]),c.ge(1))),122319:c.q(c.ocq(c.tw(c.cw(0,c.o([c.os(c.cx,18,["Health",63]),c.os(c.cx,8,["Prescription-drugs","Health-and-Safety-Executive-",63])]),c.ge(1)),5184e6),c.tw(c.cw(0,c.os(c.s,1,[342,"experimental drug","medical trial",105,"new medication"]),c.ge(1)),5184e6))),122439:c.q(c.ocq(c.cw(3,c.pe(4,3084542392),c.ge(1)),c.cw(4,c.pe(4,3084542392),c.ge(1)))),122535:c.q(c.cw(4,c.pe(4,3085442608),c.ge(1))),122601:c.q(c.cw(3,c.pe(4,3084542392),c.ge(1))),122645:c.q(c.cw(4,c.pe(4,3009851469),c.ge(1))),122646:c.q(c.cw(4,c.pe(4,3084820946),c.ge(1))),122813:c.q(c.vq(c.cw(0,c.o([c.os(c.cx,18,[262,"Genetic disorders","Genes",259,260,"Genetic research",257,263,261]),c.os(c.cx,8,[262,"Genetic Disorders","Genese",259,260,"Genetic Research",257,263,261]),c.os(c.s,12,[76,85,86,87]),c.os(c.s,16,[76,85,86,87]),c.os(c.s,17,[76,85,86,87]),c.os(c.s,1,[76,85,86,87])]),c.ge(1)))),122845:c.q(c.ocq(c.cw(3,c.pe(4,3061426016),c.ge(1)),c.cw(4,c.pe(4,3061426016),c.ge(1)))),122871:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/thailand-gateway-to-asia/home"),c.ge(1))),122872:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/thailand-gateway-to-asia/easing-the-expat-experience-new-visa-makes-thailand-more-business-friendly"),c.ge(1))),122873:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/thailand-gateway-to-asia/beyond-farming-finding-opportunities-in-thailands-green-fields"),c.ge(1))),122874:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/thailand-gateway-to-asia/business-in-the-fast-lane-how-thailand-is-supercharging-connectivity"),c.ge(1))),123650:c.q(c.ocq(c.cw(3,c.pe(4,3091748046),c.ge(1)),c.cw(4,c.pe(4,3091748046),c.ge(1)))),123886:c.q(c.ocq(c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_latin_grammys","gs_predicts_latin_music"]),c.ge(1)),7776e6),c.tw(c.cw(0,c.a([c.ps(2,"news_latin_content"),c.os(c.s,1,["hispanic","latin culture","latin heritage","latina","latino","latinx"])]),c.ge(1)),7776e6))),124030:c.q(c.cw(0,c.os(c.s,1,["https://www.bbc.co.uk/news/av/business-63304623","https://www.bbc.co.uk/news/business-62894499","https://www.bbc.com/news/business-44813754"]),c.ge(1))),124278:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,17,[326,42,150,23,51,101,52,122,200]),c.ge(2)),7776e6),c.tw(c.cw(1,c.ref(8),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.os(c.s,5,[8,138]),c.os(c.s,2,[1,113]),c.os(c.s,1,[0,42,150,390,23,51,101,52,567,122])]),c.ge(2)),7776e6))),124335:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/travel/its-time-for-bali/discover-bali-the-island-of-the-gods"),c.ge(1))),124336:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/advertiser-content/its-time-for-bali/the-charming-vibrant-and-unique-cultural-richness-of-bali"),c.ge(1))),124337:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/advertiser-content/its-time-for-bali/bali-a-destination-for-the-body-and-mind"),c.ge(1))),124338:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/advertiser-content/its-time-for-bali/the-endless-adventure-of-bali"),c.ge(1))),124339:c.q(c.ocq(c.tw(c.cw(1,c.pc_(3,"gs_business_sme"),c.ge(2)),5184e6),c.tw(c.cw(0,c.os(c.s,16,["small and medium-sized enterprise",194]),c.ge(2)),5184e6))),124354:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/travel/an-invitation-to-dream/the-wonder-and-allure-of-phu-quoc"),c.ge(1))),124359:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/travel/an-invitation-to-dream/a-crafted-culinary-affair"),c.ge(1))),124361:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/travel/experience-tokyo/tokyos-great-outdoors"),c.ge(1))),124365:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/travel/experience-tokyo/it-all-started-with-anime-moving-to-tokyo-and-why-we-stayed"),c.ge(1))),124457:c.q(c.ocq(c.cw(3,c.pe(4,3097249439),c.ge(1)),c.cw(4,c.pe(4,3097249439),c.ge(1)))),124656:c.q(c.ocq(c.cw(3,c.pe(4,3093551512),c.ge(1)),c.cw(4,c.pe(4,3093551512),c.ge(1)))),124722:c.q(c.ocq(c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_singlesdayshopper","gs_predicts_blackfridaycybermon","gs_event_blackfriday"]),c.ge(2)),5184e6),c.tw(c.cw(0,c.a([c.os(c.cx,8,["Online-shopping","Shopping"]),c.os(c.s,1,["black friday",72,"online purchase",56])]),c.ge(2)),5184e6))),124946:c.q(c.tw(c.cw(2,c.os(c.s,10,["a.lange & shne","alange-soehne","alpina",292,"arnold & son","audemars","bamford","baume & mercier","bell & ross","blancpain","bovet fleurier","breitling","bremont","bulgari","bulova","cartier","chopard","f.p.journe","girard-perregaux","glashtte",437,"hamilton","hublot","iwc","jaeger-lecoultre","jaquet droz","junghans","laurent ferrier","liv watches","longines",177,"maurice de mauriac","maurice lacroix","mont blanc","montblanc","nordgreen","omega","oris","panerai","parmigiani fleurier","patek","piaget","rado","ressence","roger dubuis","rolex","seiko","tag heuer","tiffany","tissot","tudor","ulysse nardin","vacheron","van cleef","vincero","weiss","zenith"]),c.ge(1)),5184e6)),125103:c.q(c.cw(0,c.ps(1,"https://www.bbc.com/storyworks/thailand-gateway-to-asia/gateway-to-asia"),c.ge(1))),125148:c.q(c.tw(c.cw(1,c.pc_(3,"pr_bbc_tradeevent"),c.ge(2)),7776e6)),125544:c.q(c.ocq(c.cw(0,c.os(c.cx,8,["Business of Sport","Business-of-Sport"]),c.ge(1)),c.cw(2,c.pe(1,"https://www.bbc.com/news/business/business_of_sport"),c.ge(1)))),126037:c.q(c.tw(c.cw(2,c.os(c.s,10,["3.1 phillip lim","alaa","alexander mcqueen","amina muaddi","apc",292,"balenciaga","balmain","bottega veneta","brother vellies","burberry",337,"chlo","coach","cline","d&g","dior","dolce & gabbana","fendi","givenchy",437,"hermes","herms","hilde palladino","hspalladino","jill sander","jw anderson","karl","kate spade","loewe",177,"lv","marc jacobs","michael kors","mulberry","off---white","off-white","prada","proenza schouler","staud","stella mccartney","tom ford","valentino","versace","ysl","yves saint laurent"]),c.ge(1)),5184e6)),126038:c.q(c.tw(c.cw(0,c.o([c.pc_(18,"Electric car"),c.os(c.cx,8,["Tesla","Electric-bikes-and-scooters","Electric-buses","Electric-cars"]),c.os(c.s,16,[152,153,154,"electric cars",155,"electric vehicles",157,197]),c.os(c.s,17,[152,153,154,155,384,157,197]),c.os(c.s,1,[152,153,154,"electric car",155,384,157,197])]),c.ge(1)),2592e6)),39204:c.q(c.cw(0,c.t,c.ge(1))),41376:c.q(c.cw(0,c.a([c.nt(c.ps(25,"chrome")),c.os(c.s,25,["ios","safari"])]),c.ge(1))),41414:c.q(c.cw(4,c.t,c.ge(1))),55747:c.q(c.ocq(c.tw(c.cw(0,c.o([c.ref(17),c.os(c.s,1,["50 reasons",284,134,"destination","discover",83,5,"untold america"])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_singlesday_travel","gs_predicts_frequenttravelers","gs_predicts_travelingfortheholidays","gs_predicts_travel_by_rail",49,169]),c.ge(2)),5184e6))),55749:c.q(c.tw(c.cw(0,c.y(2,111),c.ge(1)),7776e6)),55753:c.q(c.tw(c.cw(0,c.o([c.ref(16),c.ps(1,"bbc.com/culture")]),c.ge(1)),7776e6)),55754:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.y(9,17),c.os(c.s,1,[135,305,36,321,75,148,"extreme sports",399,402,88,441,491,492,496,110,505,509,539,568,196]),c.ps(2,17)]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_combatsports","gs_predicts_extremesports",429,"gs_predicts_ussports","gs_predicts_sportstopstories",168]),c.ge(2)),5184e6)),c.tw(c.cw(2,c.os(c.s,1,[135,305,36,321,75,148,"extreme sport",399,402,88,441,173,"mixed martial arts",491,492,496,110,"nhl",505,509,539,568,196]),c.ge(2)),5184e6))),55755:c.q(c.acq(c.tw(c.cw(0,c.o([c.y(2,1),c.ps(7,0),c.ps(11,0)]),c.ge(2)),5184e6),c.ocq(c.tw(c.cw(0,c.o([c.ref(17),c.pe(2,"travel_story_content")]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,434),c.ge(2)),5184e6)))),56153:c.q(c.tw(c.cw(0,c.y(2,120),c.ge(1)),7776e6)),56154:c.q(c.ocq(c.tw(c.cw(0,c.o([c.y(9,84),c.y(5,19),c.y(2,113),c.y(20,247),c.os(c.s,1,["bbc.com/future","bbc.com/news/technology"])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_tech_cameras",433,"gs_tech_social",432,48,9]),c.ge(2)),5184e6))),56156:c.q(c.ocq(c.tw(c.cw(0,c.o([c.ref(16),c.pe(2,"news_entertainmentarts_content"),c.os(c.s,1,["apple +","art","ballet","books",41,"designed","entertainment",82,"hulu","movie","museum",109,"netflix","opera","reading",561,121,"stylish","television","theater","tv"])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[165,428,"gs_entertain_perfarts","gs_entertain"]),c.ge(2)),5184e6))),56157:c.q(c.tw(c.cw(0,c.o([c.os(c.w,2,["news_election_content","news_politics_content"]),c.pe(7,"politics"),c.ps(11,383)]),c.ge(1)),7776e6)),56158:c.q(c.tw(c.cw(0,c.o([c.os(c.w,2,[183,114]),c.pe(7,"worlduscanada"),c.pe(11,"us2020")]),c.ge(2)),5184e6)),56160:c.q(c.acq(c.tw(c.cw(0,c.ps(6,280),c.ge(1)),7776e6),c.tw(c.cw(0,c.z(6,280),c.ge(1)),864e5))),56161:c.q(c.tw(c.cw(0,c.o([c.pe(2,"news_scienceenvironment_content"),c.os(c.s,2,["climate","energy"])]),c.ge(1)),7776e6)),56162:c.q(c.tw(c.cw(0,c.pe(2,"news_middleeast_content"),c.ge(1)),7776e6)),56163:c.q(c.tw(c.cw(0,c.a([c.y(2,499),c.pn(26,"Africa")]),c.ge(1)),7776e6)),56164:c.q(c.tw(c.cw(0,c.o([c.ref(20),c.pe(2,"news_inpictures_content"),c.ps(13,452),c.ps(1,306),c.os(c.s,2,[358,"photography"])]),c.ge(1)),7776e6)),56165:c.q(c.tw(c.cw(0,c.y(2,182),c.ge(1)),7776e6)),56166:c.q(c.tw(c.cw(0,c.o([c.pe(2,"news_australia_content"),c.pe(7,"worldaustralia")]),c.ge(1)),7776e6)),56168:c.q(c.tw(c.cw(0,c.o([c.y(14,109),c.ps(1,109),c.ps(2,109)]),c.ge(1)),7776e6)),56169:c.q(c.acq(c.tw(c.cw(0,c.y(6,62),c.ge(1)),7776e6),c.tw(c.cw(0,c.z(6,62),c.ge(1)),864e5))),56170:c.q(c.tw(c.cw(0,c.y(2,499),c.ge(1)),7776e6)),56171:c.q(c.tw(c.cw(0,c.o([c.ref(15),c.ps(2,"worklife_tags_education")]),c.ge(1)),7776e6)),56172:c.q(c.tw(c.cw(0,c.o([c.y(2,500),c.y(7,439)]),c.ge(1)),7776e6)),56173:c.q(c.tw(c.cw(0,c.o([c.pe(2,"sport_athletics_content"),c.y(7,135),c.os(c.s,1,["sport/athletics","sport/live/athletics"])]),c.ge(1)),7776e6)),56174:c.q(c.tw(c.cw(0,c.o([c.y(2,553),c.y(7,196),c.os(c.s,1,["sport/live/tennis","sport/tennis"])]),c.ge(1)),7776e6)),56175:c.q(c.tw(c.cw(0,c.o([c.y(9,151),c.pe(5,"bbcearth.com"),c.ps(1,"bbc.com/earth")]),c.ge(1)),7776e6)),56176:c.q(c.ocq(c.tw(c.cw(0,c.o([c.pe(2,"sport_rugbyunion_content"),c.ps(1,"sport/rugby")]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_rugby_world_cup","gs_predicts_rugby","gs_sport_rugby"]),c.ge(2)),5184e6))),56177:c.q(c.ocq(c.tw(c.cw(0,c.o([c.pe(2,"sport_golf_content"),c.y(7,88),c.os(c.s,1,[88,"pga","ryder cup","the masters"])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_golf","gs_sport_golf"]),c.ge(2)),5184e6))),56178:c.q(c.tw(c.cw(0,c.o([c.pe(2,"sport_formula1_content"),c.y(7,158),c.os(c.s,1,["sport/formula1","sport/live/formula1"])]),c.ge(1)),7776e6)),56179:c.q(c.ocq(c.tw(c.cw(0,c.o([c.y(2,552),c.y(7,75),c.os(c.s,1,["bat","bowler",75,"wicket"])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,"gs_sport_cricket"),c.ge(2)),5184e6))),56180:c.q(c.ocq(c.tw(c.cw(0,c.o([c.pe(2,"sport_cycling_content"),c.y(7,148),c.os(c.s,1,["sport/cycling","sport/live/cycling"])]),c.ge(1)),7776e6),c.tw(c.cw(1,c.pc_(3,"gs_sport_cycling"),c.ge(1)),7776e6))),56181:c.q(c.tw(c.cw(0,c.o([c.pe(5,"bbcworldservice.live.site.mundo"),c.pe(2,"news_latinamerica_content")]),c.ge(1)),7776e6)),56182:c.q(c.acq(c.tw(c.cw(0,c.y(6,130),c.ge(1)),7776e6),c.tw(c.cw(0,c.z(6,130),c.ge(1)),864e5))),56184:c.q(c.tw(c.cw(0,c.pe(2,"news_coronavirus_content"),c.ge(1)),7776e6)),56185:c.q(c.tw(c.cw(0,c.o([c.pe(2,"sport_horseracing_content"),c.pe(7,"horse-racing"),c.os(c.s,1,["sport/horse-racing","sport/live/horse-racing"])]),c.ge(1)),7776e6)),56186:c.q(c.ocq(c.tw(c.cw(0,c.a([c.y(2,111),c.y(11,453)]),c.ge(1)),7776e6),c.tw(c.cw(0,c.a([c.y(2,111),c.ps(1,453)]),c.ge(1)),7776e6))),56187:c.q(c.ocq(c.tw(c.cw(0,c.a([c.y(2,120),c.pe(11,"premier-league")]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_premierleague","gs_sport_soccer"]),c.ge(2)),5184e6))),56189:c.q(c.acq(c.tw(c.cw(0,c.ref(5),c.ge(1)),7776e6),c.tw(c.cw(0,c.o([c.pe(11,"england"),c.os(c.s,1,["news/england","news/live/uk-england","news/uk-england"])]),c.ge(1)),7776e6))),56190:c.q(c.acq(c.tw(c.cw(0,c.ref(16),c.ge(1)),7776e6),c.tw(c.cw(0,c.o([c.ps(["article","title"],70),c.ps(17,70),c.ps(1,70),c.ps(2,"culture_tags_books"),c.ps(20,70)]),c.ge(1)),7776e6))),56191:c.q(c.acq(c.tw(c.cw(0,c.ref(5),c.ge(1)),7776e6),c.tw(c.cw(0,c.o([c.y(11,542),c.os(c.s,1,["news/live/uk-scotland","news/scotland","news/uk-scotland"])]),c.ge(1)),7776e6))),56192:c.q(c.acq(c.tw(c.cw(0,c.ref(5),c.ge(1)),7776e6),c.tw(c.cw(0,c.o([c.y(11,595),c.os(c.s,1,["news/live/wales","news/topics/c52ew8q50z2t/wales-business","news/uk-wales","news/wales"])]),c.ge(1)),7776e6))),56344:c.q(c.cw(3,c.pe(4,2725338666),c.ge(1))),56622:c.q(c.acq(c.tw(c.cw(0,c.ps(6,15),c.ge(1)),7776e6),c.tw(c.cw(0,c.z(6,15),c.ge(1)),864e5))),56633:c.q(c.tw(c.cw(0,c.o([c.y(2,111),c.os(c.s,1,["news/world-asia-china","news/world/asia/china"])]),c.ge(1)),7776e6)),56634:c.q(c.tw(c.cw(0,c.o([c.y(5,137),c.ps(1,"bbc.com/reel")]),c.ge(1)),7776e6)),56691:c.q(c.cw(0,c.ps(1,"the-new-normal"),c.ge(1))),56747:c.q(c.acq(c.tw(c.cw(0,c.y(6,29),c.ge(1)),15552e6),c.tw(c.cw(0,c.z(6,29),c.ge(1)),1728e5))),57643:c.q(c.tw(c.cw(0,c.o([c.ref(20),c.ps(13,452),c.ps(1,306),c.ps(2,358)]),c.ge(1)),7776e6)),58133:c.q(c.tw(c.cw(4,c.o([c.os(c.w,27,["bbccom_native_pwa_1","bbccom_native_slice_l","bbccom_native"]),c.os(c.s,27,["native_pwa","native_slice"])]),c.ge(1)),7776e6)),58444:c.q(c.cw(0,c.ps(1,"control-to-customise"),c.ge(1))),60378:c.q(c.cw(2,c.pe(13,"utm_medium=Clicks&utm_campaign=SABIC"),c.ge(1))),62161:c.q(c.cw(3,c.pe(4,2746577167),c.ge(1))),62212:c.q(c.cw(0,c.ps(1,"follow-the-food"),c.ge(1))),62507:c.q(c.acq(c.ocq(c.ocq(c.cw(2,c.pe(10,"http://www.bbc.com/news/world/us_and_canada"),c.ge(1)),c.cw("FormSubmission",c.a([c.ps(["form","action"],"search"),c.af_u(["properties","form","properties"],c.o([c.s_(["value"],142),c.s_(["value"],587),c.s_(["value"],"us")]))]),c.ge(1))),c.tw(c.cw(0,c.os(c.s,17,[289,142]),c.ge(1)),5184e6)),c.ocq(c.tw(c.cw(0,c.as(c.x,6,[142,15]),c.ge(1)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[425,"gs_predicts_insurance",427]),c.ge(1)),5184e6)))),63713:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[0,21,343,348,73,"hr",97,525,536,194,"staff",555]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,6),c.ge(2)),5184e6))),63714:c.q(c.ocq(c.tw(c.cw(2,c.ref(12),c.ge(2)),5184e6),c.tw(c.cw(1,c.ref(3),c.ge(2)),5184e6))),63722:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["eco conscious","eco friendly","eco-conscious","eco-friendly","esg",185,58]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,167),c.ge(2)),5184e6))),63723:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["flying","http://www.bbc.com/travel",478,118]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[434,"gs_predicts_luxuryautoenthus","gs_auto_luxury",162,430]),c.ge(2)),5184e6))),63749:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["enthusiast",55,"science",4]),c.ge(2)),5184e6),c.tw(c.cw(1,c.ref(4),c.ge(2)),5184e6))),64327:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[295,297,317,331,333,377,378,158,444,451,463,467,469,470,484,517,531,532,543,565,566,581]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_nascar",424,"gs_predicts_autoracing_f1",423,415]),c.ge(2)),5184e6)),c.tw(c.cw(0,c.os(c.s,1,[295,297,317,331,333,377,378,158,444,451,463,467,469,470,484,517,531,532,543,565,566,"topgear",581]),c.ge(2)),5184e6))),64328:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[283,294,145,175,471,472,473,186,549,550,59,574,578,597]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,9),c.ge(2)),5184e6))),64337:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[394,"jewelry",478,"retail",118,"stores"]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[162,430]),c.ge(2)),5184e6))),64339:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[43,"entreprenuer",45,"https://www.bbc.com/new/business",51,107,"techofbiz"]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[12,"gs_economy",418]),c.ge(2)),5184e6))),64449:c.q(c.acq(c.cw(0,c.a([c.z(6,29),c.tl(16094592e5)]),c.ge(1)),c.tw(c.cw(0,c.y(6,29),c.ge(1)),102816e5))),64766:c.q(c.cw(0,c.ps(1,"gems-of-jiangsu"),c.ge(1))),64767:c.q(c.cw(0,c.ps(1,"innovation-and-ip-driving-growth"),c.ge(1))),64768:c.q(c.cw(0,c.ps(1,"through-new-eyes"),c.ge(1))),64911:c.q(c.cw(3,c.os(c.e,4,[2700822141,2566801081]),c.ge(1))),65451:c.q(c.cw(0,c.ps(1,"imagining-the-future-of-air-travel"),c.ge(1))),65452:c.q(c.cw(0,c.ps(1,"bridge-to-a-better-tomorrow"),c.ge(1))),65454:c.q(c.cw(0,c.ps(1,"the-technology-transforming-agriculture"),c.ge(1))),66541:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.ref(7),c.ge(1)),15552e6),c.scq(c.tw(c.cw(5,c.a([c.pg(22,15),c.ref(18)])),48384e5),c.vq(c.sw(6,c.ref(18),["properties","engaged_time"],c.g(15))),c.ge(2))),c.tw(c.cw(2,c.os(c.s,1,[248,285,64,45,2,26]),c.ge(1)),15552e6)),c.tw(c.cw(1,c.pc_(3,419),c.ge(1)),15552e6))),66542:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[339,340,376,"donor",508,"philanthropist","philanthropy",534,586]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_charity","gs_society_charity"]),c.ge(3)),7776e6)),c.cw(0,c.a([c.os(c.s,13,[44,46,60]),c.os(c.s,12,[339,340,376,508,534,586])]),c.ge(1)))),66683:c.q(c.cw(3,c.pe(4,2790291991),c.ge(1))),66684:c.q(c.cw(3,c.pe(4,2805516146),c.ge(1))),68016:c.q(c.ocq(c.scq(c.tw(c.cw(5,c.pc(["aggregations","SegmentEntry"],63722)),5184e6),c.tw(c.cw(8,c.pe(19,63722)),5184e6),c.ge(1)),c.tw(c.cw(1,c.os(c.cx,3,[423,424,"gs_predicts_driversofhybrids","gs_auto_hybrid","gs_auto_misc","gs_auto_4wd",415]),c.ge(1)),5184e6))),69166:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["https://www.bbc.com/news/england","https://www.bbc.com/news/localnews","https://www.bbc.com/news/northern_ireland","https://www.bbc.com/news/scotland","https://www.bbc.com/news/wales",584]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["mh_permutive_uk-abroad_expats_2","mh_permutive_uk-abroad_expats"]),c.ge(2)),5184e6))),69630:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,17,["children","family holidays",503,"parenting",193]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[307,"gs_family_children"]),c.ge(2)),5184e6)),c.scq(c.cw(5,c.pc(["aggregations","SegmentEntry"],69633)),c.cw(8,c.pe(19,69633)),c.ge(1)))),69633:c.q(c.ocq(c.tw(c.cw(0,c.os(c.s,17,["baby","first-time mom","newborn",503,"primary school","toddler"]),c.ge(1)),5184e6),c.tw(c.cw(1,c.pc_(3,307),c.ge(2)),5184e6))),69766:c.q(c.tw(c.cw(0,c.y(6,15),c.ge(1)),2592e6)),69768:c.q(c.acq(c.tw(c.cw(0,c.y(6,15),c.ge(3)),6048e5),c.tw(c.cw(0,c.t,c.ge(1)),2592e6))),70301:c.q(c.acq(c.acq(c.tw(c.cw(0,c.t,c.ge(3)),6048e5),c.tw(c.cw(0,c.t,c.ge(1)),2592e6)),c.scq(c.sw(5,c.t,["properties","aggregations","PageviewEngagement","engaged_time"]),c.vq(c.sw(6,c.t,["properties","engaged_time"])),c.g(60)))),70302:c.q(c.cw(3,c.pe(4,2841341756),c.ge(1))),70838:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[329,330,"customer",172,"intender",27,116]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[425,47]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ps(13,46),c.os(c.s,12,["buying a home",330,"home purchase",91,27,"streeteasy",571,"trulia","zillow"])]),c.ge(1)),7776e6))),71206:c.q(c.tw(c.cw(10,c.t,c.ge(1)),2592e6)),71214:c.q(c.acq(c.acq(c.tw(c.cw("VideoAdEvent",c.pe(24,"www.bbc.com"),c.ge(3)),6048e5),c.tw(c.cw(10,c.t,c.ge(1)),2592e6)),c.scq(c.sw(5,c.t,["properties","aggregations","PageviewEngagement","engaged_time"]),c.vq(c.sw(6,c.t,["properties","engaged_time"])),c.g(60)))),71215:c.q(c.tw(c.cw(10,c.t,c.ge(3)),2592e6)),71808:c.q(c.acq(c.tw(c.cw(0,c.y(6,15),c.ge(1)),864e5),c.tw(c.cw(0,c.y(6,15),c.ge(1)),2592e6))),71816:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[134,398]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,"gs_travel_air"),c.ge(3)),5184e6)),c.tw(c.cw(0,c.a([c.os(c.s,13,["baidu",44,46,90,98,"qzone","tumblr",60]),c.os(c.s,12,[134,398])]),c.ge(1)),7776e6))),72866:c.q(c.acq(c.tw(c.cw(0,c.t,c.ge(1)),864e5),c.scq(c.sw(5,c.t,["properties","aggregations","PageviewEngagement","engaged_time"]),c.vq(c.sw(6,c.t,["properties","engaged_time"])),c.g(300)))),72867:c.q(c.acq(c.tw(c.cw(0,c.a([c.y(2,183),c.ref(5)]),c.ge(3)),864e5),c.tw(c.cw(0,c.a([c.y(2,183),c.ref(5)]),c.ge(1)),2592e6))),72868:c.q(c.tw(c.cw(0,c.a([c.y(2,114),c.ref(5)]),c.ge(1)),2592e6)),73008:c.q(c.cw(0,c.ps(1,"resourcing-our-future"),c.ge(1))),73009:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["civil servant","councillor",383,"government employees"]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,"gs_politics"),c.ge(3)),5184e6)),c.tw(c.cw(0,c.ps(13,".gov"),c.ge(2)),5184e6)),c.tw(c.cw(0,c.ps(["isp_info","organization"],"gov"),c.ge(2)),5184e6))),73010:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[302,323,347,364,410,480,103,494,506,576,585,589,590]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,89),c.ge(3)),5184e6)),c.tw(c.cw(0,c.a([c.ps(13,46),c.os(c.s,12,[302,323,347,364,410,480,103,494,506,576,585,589,590])]),c.ge(1)),7776e6))),73331:c.q(c.tw(c.cw(4,c.t,c.ge(1)),2592e6)),73342:c.q(c.ocq(c.scq(c.tw(c.sw(5,c.t,["properties","aggregations","PageviewEngagement","engaged_time"]),12096e5),c.vq(c.sw(6,c.t,["properties","engaged_time"])),c.ge(120)),c.scq(c.tw(c.cw(5,c.pge(22,90)),2592e6),c.vq(c.sw(6,c.t,["properties","engaged_time"],c.ge(90))),c.ge(3)))),73874:c.q(c.cw(3,c.os(c.e,4,[2856802045,2810282764]),c.ge(1))),74314:c.q(c.tw(c.cw(0,c.ref(6),c.ge(1)),2592e6)),74764:c.q(c.ocq(c.tw(c.cw(0,c.o([c.os(c.s,16,["catwalk",337,"designer",394,"haute couture",177,"lvmh",121]),c.ps(1,"https://www.bbc.com/culture/style")]),c.ge(1)),72576e5),c.tw(c.cw(1,c.pc_(3,162),c.ge(1)),72576e5))),74765:c.q(c.ocq(c.tw(c.cw(0,c.pe(14,"premium_designed"),c.ge(1)),5184e6),c.tw(c.cw(1,c.pc_(3,"gs_home"),c.ge(1)),5184e6))),74820:c.q(c.cw(0,c.ps(1,"giving-back-to-nature"),c.ge(1))),74821:c.q(c.cw(0,c.ps(1,"how-forerunners-keep-up-with-the-future"),c.ge(1))),74822:c.q(c.cw(0,c.ps(1,"transitioning-to-net-carbon-zero"),c.ge(1))),74978:c.q(c.ocq(c.tw(c.cw(0,c.os(c.s,13,[149,375,570,583,604]),c.ge(1)),72576e5),c.tw(c.cw(0,c.os(c.s,16,[149,375,"emmerson mnangagwa","harare","kampala","mugabe","philip mpanjo","samia suluhu",570,583,"yoweri museveni",604]),c.ge(1)),72576e5))),75270:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["break","brocations","cruise",442,"on leave","staycation","time away",5,"vacation"]),c.ge(1)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_travel_cruise","gs_travel_holidays","gs_travel_family"]),c.ge(1)),78624e5)),c.tw(c.cw(0,c.a([c.y(9,5),c.y(5,11)]),c.ge(1)),7776e6))),75548:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,["app development",366,"enterprise",45,"http://www.bbc.com/news/business/","infrastructure",175,"operations",186,"product engineer",59,"user experience"]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[418,9]),c.ge(2)),5184e6))),75605:c.q(c.acq(c.tw(c.cw(0,c.t,c.ge(1)),15552e6),c.ocq(c.ocq(c.cw(1,c.os(c.cx,3,[427,47,421]),c.ge(1)),c.tw(c.cw(2,c.os(c.s,1,[133,"household income",91,"movers","moving",502,187,572]),c.ge(1)),15552e6)),c.scq(c.cw(5,c.pc(["aggregations","SegmentEntry"],62507)),c.cw(8,c.pe(19,62507)),c.ge(1))))),77303:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[283,"apple",294,21,145,42,150,23,175,471,472,473,"mac",186,116,549,550,"surface pro",59,574,578,200,597]),c.ge(2)),648e7),c.tw(c.cw(1,c.os(c.cx,3,[6,9]),c.ge(2)),648e7)),c.scq(c.cw(5,c.pc(["aggregations","SegmentEntry"],82036)),c.cw(8,c.pe(19,82036)),c.ge(1)))),77811:c.q(c.cw(3,c.pe(4,2872219128),c.ge(1))),77869:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,13,[303,354,"https://www.clearscore.com/","https://www.equifax.com/","https://www.experianplc.com/","https://www.moneysupermarket.com/","https://www.paysafe.com/",456]),c.ge(2)),5184e6),c.tw(c.cw(1,c.pc_(3,420),c.ge(2)),5184e6)),c.tw(c.cw(0,c.os(c.s,16,[303,147,"credit check","credit score",363,456,475,"personal finance"]),c.ge(2)),72576e5)),c.tw(c.cw(0,c.os(c.cx,8,["Loan-sharks","UK-national-debt","Student-debt","Personal-debt","Credit-cards","Personal-finance"]),c.ge(2)),72576e5))),79208:c.q(c.ocq(c.tw(c.cw(0,c.a([c.os(c.s,1,[284,"adventurous","excite","experience","feat","fun","inspiration","inspire","involve","moment","pleasure","thrill",582]),c.os(c.s,5,[37,19,11])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[49,"gs_predicts_alpinevacations",168,"gt_positive_happiness",169,435,436,170,"gt_positive"]),c.ge(2)),5184e6))),79209:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ref(21),c.os(c.s,1,[293,300,0,368,455,174,25,50,2,"knowledgeable",504,512,55,548,4,"thoughtful",601])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[164,161,12,48,170,6]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ref(21),c.os(c.s,1,[293,300,0,368,455,174,94,2,504,512,55,548,4,601])]),c.ge(2)),7776e6))),79210:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ref(13),c.os(c.s,1,[308,360,438,171,479,493,497,538,121])]),c.ge(2)),5184e6),c.tw(c.cw(0,c.a([c.ref(13),c.os(c.s,1,["behavior",308,360,438,171,479,493,497,538,121])]),c.ge(2)),5184e6)),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_womenshealth","gs_predicts_healthylifestyle","gs_predicts_menshealth",436,168,170,435,"gs_health_diet",163]),c.ge(2)),5184e6))),79654:c.q(c.cw(0,c.ps(1,"the-new-world-of-work"),c.ge(1))),79655:c.q(c.cw(0,c.ps(1,"taiwan-the-future-of-smart-tech"),c.ge(1))),80707:c.q(c.cw(3,c.pe(4,2866909353),c.ge(1))),81843:c.q(c.cw(3,c.pe(4,2871051266),c.ge(1))),82015:c.q(c.cw(3,c.pe(4,2865610271),c.ge(1))),82022:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.ps(5,19),c.ps(2,1),c.os(c.s,1,[322,0,351,151,84,413,92,185,58,564])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,[167,"gs_business_agri","gs_predicts_energy_topics","gs_business_energy"]),c.ge(2)),5184e6)),c.tw(c.cw(2,c.os(c.s,1,[322,351,151,84,413,92,185,58,564]),c.ge(2)),5184e6))),82036:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,17,[326,21,336,341,73,356,42,23,51,101,52,122,200]),c.ge(2)),7776e6),c.tw(c.cw(1,c.ref(8),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ps(5,8),c.ps(2,1),c.os(c.s,1,[0,21,336,341,73,356,42,390,23,51,101,52,567,122])]),c.ge(2)),7776e6))),82106:c.q(c.cw(0,c.ps(1,"the-next-wave-empowering-global-change"),c.ge(1))),82234:c.q(c.cw(3,c.pe(4,2851553710),c.ge(1))),83092:c.q(c.ocq(c.tw(c.cw(0,c.a([c.ps(5,137),c.os(c.s,2,["culture_tv_content","news_radiotv_content"]),c.os(c.s,1,["cnn","documentaries","documentary","msnbc","news television","news tv",561])]),c.ge(2)),5184e6),c.tw(c.cw(1,c.ref(11),c.ge(2)),5184e6))),84002:c.q(c.cw(3,c.os(c.e,["line_item_id"],[5770331024,5770329533,5769780646]),c.ge(1))),84072:c.q(c.cw(0,c.ps(1,"advertiser-content/microsoft-education"),c.ge(1))),84222:c.q(c.cw(4,c.pe(4,2884226383),c.ge(1))),85209:c.q(c.cw(0,c.ps(1,"advertiser-content/amazing-thailand"),c.ge(1))),85210:c.q(c.cw(0,c.ps(1,"future/roborock"),c.ge(1))),85485:c.q(c.ocq(c.tw(c.cw(0,c.o([c.os(c.cx,8,["Nintendo","Gaming"]),c.ps(1,"https://www.bbc.com/future/article/20130826-can-video-games-be-good-for-you")]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_gamers","gs_entertain_games","gs_entertain_vidgames",432]),c.ge(2)),7776e6))),85580:c.q(c.ocq(c.tw(c.cw(0,c.os(c.s,1,["coaching","contracting","enlistment","enrollment","hire","hiring","human resources",454,"job","profession group",523,"recruit","service","servicing","title","training","worker",10]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,180),c.ge(2)),7776e6))),85882:c.q(c.ocq(c.ocq(c.cw(0,c.o([c.y(2,500),c.os(c.cx,8,["Nursing","Midwifery",258,"NHS"])]),c.ge(1)),c.cw(1,c.os(c.cx,3,[163,"gs_health_specialities","gs_health_emergency","gs_health_misc"]),c.ge(1))),c.cw(0,c.os(c.s,1,["cardiologist",372,"emergency accident","general practice","healthcare worker","hospital administrator","midwife","nurse"]),c.ge(1)))),85968:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.t,c.ge(2)),15552e6),c.tw(c.cw(2,c.os(c.s,1,[136,72,361,379,380,118]),c.ge(2)),15552e6)),c.tw(c.cw(1,c.pc_(3,431),c.ge(2)),15552e6))),87159:c.q(c.ocq(c.cw(4,c.pe(4,2907306462),c.ge(1)),c.cw(0,c.ps(1,"www.bbc.com/storyworks/being-your-best"),c.ge(1)))),87319:c.q(c.cw(3,c.pe(4,2914256546),c.ge(1))),88024:c.q(c.cw(0,c.ps(1,"a-considered-holiday"),c.ge(1))),88026:c.q(c.cw(0,c.ps(1,"storyworks/pioneers-of-the-sea"),c.ge(1))),88489:c.q(c.acq(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.cx,8,["COP27","COP26"]),c.ge(1)),7776e6),c.tw(c.cw(1,c.pc_(3,"bbc_cop26"),c.ge(1)),7776e6)),c.tw(c.cw(0,c.ps(1,"https://www.bbc.com/news/topics/cgdwpywgeegt/cop26"),c.ge(1)),7776e6)),c.scq(c.sw(5,c.t,["properties","aggregations","PageviewEngagement","engaged_time"]),c.vq(c.sw(6,c.t,["properties","engaged_time"])),c.g(45)))),88504:c.q(c.ocq(c.tw(c.cw(4,c.os(c.e,21,[5076836393,5072904230,5058138122,5047638231,4990176602,4970895254,4970460956,4891280791,4886488532,4881151403,4827617267,4754380283,4740987040,4572069502,4567219608,4524357727,4444499458,4436930813,217117098,216122538,208575258,56834418,53072298,48515898,28476858,28415658,28376778,28324098,28314858,28250898,28238898,28025658,27972378,27941658,27910938]),c.ge(1)),15552e6),c.tw(c.cw(4,c.os(c.e,4,[2925485275,2925485179,2925484969]),c.ge(1)),15552e6))),88505:c.q(c.cw(4,c.os(c.e,4,[3061668446,3057993263,3057993350,3057993554,3032144578,3034332908,3034333679,3035283801,3002574154,3002451566,3002592370,3003077498,2972262958,2972277497,2972368522,2972942581,2945987886,2944444006,2945021217,2945021718,2926126212,2925485275,2925485179,2925484969]),c.ge(1))),88624:c.q(c.ocq(c.cw(4,c.os(c.e,4,[2816998798,2816889836,2802835618,2379689675,2579030840,2802679106,2824815990,2842871468,2878850083,2805509243,2816999176,2824116142,2824116643,2479899798,2830003663,2805509699,2781633095,2824117675,2905467317,2827721208,2782639197,2827288533,2824026197,2479410394,2843114320,2829987512,2479900473,2866239556,2702669221,2716878473,2716878719,2789220893,2879351968,2893866387,2856436692,2766183250,2688501075,2890603810,2653579816,2494154289,2806266660,2462984099,2759981987,2397342179,2900945649,2692028848,2497378544,2917386217,2387473326,2362258689,2396730683,2424940266,2581973887,2763833695,2862249823,2355707960,2517688288,2439532019,2399604909,2489668016,2918744365,2644337966,2918744296,2415392044,2887071256,2620857003,2835469430,2588885924,2637663767,2856522192,2714727082,2483038024,2746945426,2493023210,2775972662,2691753531,2529264699,2658143995,2634099747,2841981797,2727170613,2800037997,2765628436,2657897666,2760226076,2752754385,2513855473,2522980294,2752752651,2657896271,2790148042,2542921866,2830973757,2753361060,2529595383,2550101925,2667600469,2773395779,2402039968,2675836703,2414159482,2702716490,2682058722,2881934598,2730649189,2754580224,2882624071,2773785973,2773785739,2846384777,2754112213,2847225060,2706955394,2707850634,2871718251,2870994419,2728210473,2774367801,2774333691,2727127373,2820110791,2820110608,2707486021,2871228166,2870995421,2782205234,2783205105,2908955452,2753607014,2783204616,2783203623,2820111298,2819976845,2846635915,2846381243,2706945062,2736728777,2726764484,2833619745,2896195864,2768599578,2685396937,2733899666,2744153175,2721854099,2720130435,2719758223,2654217089,2690442127,2707453091,2816773094,2706235893,2691195332,2730347511,2767845013,2803161014,2738924335,2769629653,2708590491,2708215657,2708217565,2708217805,2740337444,2697276402,2740916609,2885774604,2770166620,2740338620,2718729100,2910915985,2681420800,2913948704,2914188859,2743979201,2769094974,2749623355,2769629656,2885262181,2878005510,2899804276,2718729325,2805814923,2813009204,2676358962,2813056938,2732689569,2773748563,2719519638,2651734682,2838466006,2778339259,2647004099,2732690838,2696908505,2914944452,2841126125,2841121349,2675856878,2866304866,2869354212,2854055194,2884833819,2857412139,2676138407,2745180693,2743322353,2676138668,2721174425,2775143467,2690691589,2615596762,2847564940,2754442686,2905543616,2775836315,2838371930,2615473602,2907965163,2879370622,2897288797,2851553710,2874288867,2868765507,2804427579,2904043399,2823094496,2640831318,2843093261,2773055897,2793335478,2744062291,2700822141,2753805575,2749270799,2798880386,2685963815,2783860281,2793646927,2901019903,2903811060,2799132955,2736542307,2725437484,2790285502,2789973077,2743941249,2622589647,2832889810,2878008882,2688181107,2790440547,2810536246,2920698427,2661634253,2793266593,2904280474,2886376991,2790228626,2844755207,2894649967,2907605503,2751411279,2824476860,2740856799,2845010314,2896847404,2882033950,2774034712,2908020843,2808163860,2889065925,2757151148,2732488977,2740811662,2757283130,2769862701]),c.ge(1)),c.cw(4,c.os(c.e,21,[5068371990,5005294506,5005104362,4940695334,4926838965,4924694773,4913131816,4863619382,4791750912,4692647973,4677041403,4644763394,4632121188,4628308522,4601206509,4572069502,4484577481,218579418,215886618,212663538,198611178,101741778,91522578,84667098,39726018,36644538,28442058,28375818,28346538,28325538,28317378,28287618,28229058,28225578,28209978,28201938,28191618,28185738,28125378,28116258,28108818,28073658,28045338,28041618,28029018,28005618,27948018,27938658,27930138,27927378]),c.ge(1)))),88766:c.q(c.cw(3,c.os(c.e,4,[2816889836,2802835618,2379689675,2579030840,2802679106,2824815990,2842871468,2878850083,2805509243,2816999176,2824116142,2824116643,2830003663,2805509699,2781633095,2824117675,2905467317,2827721208,2782639197,2827288533,2824026197,2843114320,2829987512,2479900473,2866239556,2702669221,2716878473,2716878719,2789220893,2879351968,2893866387,2856436692,2766183250,2688501075,2890603810,2653579816,2494154289,2806266660,2462984099,2759981987,2900945649,2692028848,2497378544,2917386217,2362258689,2396730683,2424940266,2581973887,2763833695,2862249823,2355707960,2517688288,2489668016,2918744365,2644337966,2918744296,2415392044,2887071256,2835469430,2588885924,2637663767,2856522192,2714727082,2746945426,2775972662,2691753531,2529264699,2658143995,2634099747,2841981797,2727170613,2800037997,2765628436,2657897666,2760226076,2752754385,2513855473,2522980294,2752752651,2657896271,2790148042,2542921866,2830973757,2753361060,2529595383,2550101925,2667600469,2773395779,2402039968,2675836703,2414159482,2702716490,2682058722,2881934598,2730649189,2754580224,2882624071,2773785973,2773785739,2846384777,2754112213,2847225060,2706955394,2707850634,2871718251,2870994419,2728210473,2774367801,2774333691,2727127373,2820110791,2820110608,2707486021,2871228166,2870995421,2782205234,2783205105,2908955452,2753607014,2783204616,2783203623,2820111298,2819976845,2846635915,2846381243,2706945062,2736728777,2726764484,2833619745,2896195864,2685396937,2733899666,2744153175,2721854099,2720130435,2719758223,2654217089,2690442127,2707453091,2816773094,2706235893,2691195332,2767845013,2738924335,2769629653,2708590491,2708215657,2708217565,2708217805,2740337444,2697276402,2740916609,2885774604,2770166620,2740338620,2718729100,2910915985,2681420800,2914188859,2913948704,2743979201,2769094974,2749623355,2769629656,2885262181,2878005510,2899804276,2718729325,2805814923,2813009204,2676358962,2813056938,2732689569,2773748563,2719519638,2651734682,2838466006,2778339259,2647004099,2732690838,2696908505,2914944452,2841126125,2841121349,2675856878,2866304866,2869354212,2854055194,2884833819,2857412139,2676138407,2745180693,2743322353,2676138668,2721174425,2775143467,2690691589,2615596762,2847564940,2754442686,2905543616,2775836315,2838371930,2615473602,2907965163,2879370622,2897288797,2851553710,2874288867,2868765507,2804427579,2904043399,2823094496,2640831318,2843093261,2773055897,2793335478,2744062291,2700822141,2753805575,2749270799,2798880386,2685963815,2783860281,2793646927,2901019903,2903811060,2799132955,2736542307,2725437484,2790285502,2789973077,2743941249,2746141827,2622589647,2832889810,2878008882,2688181107,2790440547,2810536246,2920698427,2661634253,2793266593,2904280474,2886376991,2790228626,2844755207,2894649967,2907605503,2751411279,2824476860,2740856799,2845010314,2896847404,2882033950,2774034712,2908020843,2808163860,2889065925,2757151148,2732488977,2740811662,2757283130,2769862701]),c.ge(1))),89492:c.q(c.cw(7,c.pe(15,"1"),c.ge(1))),89493:c.q(c.cw(7,c.pe(15,"2"),c.ge(1))),89494:c.q(c.cw(7,c.pe(15,"3"),c.ge(1))),89495:c.q(c.cw(7,c.pe(15,"4"),c.ge(1))),89496:c.q(c.cw(7,c.pe(15,"5"),c.ge(1))),89497:c.q(c.cw(7,c.pe(15,"6"),c.ge(1))),89747:c.q(c.cw(3,c.pe(4,2930747743),c.ge(1))),89780:c.q(c.ocq(c.lm("99a76b81-e95a-4414-bda7-fee2c836b6ac",c.ge(.68464655)),c.ifp("89492"))),89781:c.q(c.ocq(c.lm("0f87b626-b6bd-494b-b4c1-959ac9648408",c.ge(.7061623)),c.ifp("89493"))),89782:c.q(c.ocq(c.lm("b7df4daf-d41e-4b1e-b59b-0de486d002f2",c.ge(.69690907)),c.ifp("89494"))),89783:c.q(c.ocq(c.lm("f38f49ef-3896-4718-8d8c-b154cc5bb4b5",c.ge(.7215554)),c.ifp("89495"))),89784:c.q(c.ocq(c.lm("fbb35975-7003-4e29-9f26-edd82857979d",c.ge(.7068782)),c.ifp("89496"))),89786:c.q(c.ocq(c.lm("4284a398-9bd4-4cef-ba13-d2079de2573f",c.ge(.725531)),c.ifp("89497"))),90007:c.q(c.cw(3,c.pe(4,2932530920),c.ge(1))),90032:c.q(c.ocq(c.lm("9be767a9-d9f4-41e0-b5f0-295c0e143145",c.ge(.7235995)),c.ifp("88504"))),90033:c.q(c.ocq(c.lm("9be767a9-d9f4-41e0-b5f0-295c0e143145",c.ge(.87724257)),c.ifp("88504"))),90034:c.q(c.ocq(c.lm("9be767a9-d9f4-41e0-b5f0-295c0e143145",c.ge(.8201423)),c.ifp("88504"))),90449:c.q(c.tw(c.cw(4,c.os(c.e,21,[5067056375,5045316233,4943102608,4411210969,222089058,217566858,194235738,80478498,78819258,73132818,73108458,47436738,28472538,28386378,28346178,28322058,28263378,28209378,28156818,28156458,28050498,28049898,27967098,27929898]),c.ge(1)),15552e6)),90876:c.q(c.cw(3,c.pe(4,2891032075),c.ge(1))),91029:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.y(2,1),c.ge(2)),7776e6),c.tw(c.cw(2,c.os(c.s,1,["administrator",0,"entrepreneur",23,"founder","industrialist",2,"self-employed","self-employment"]),c.ge(2)),7776e6)),c.tw(c.cw(1,c.pc_(3,6),c.ge(2)),7776e6))),91037:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.os(c.w,2,["travel_columns_content","sport_food_content"]),c.os(c.s,1,[146,357,367,83])]),c.ge(2)),15552e6),c.tw(c.cw(2,c.os(c.s,1,[146,357,367,83,"organic"]),c.ge(2)),15552e6)),c.tw(c.cw(1,c.os(c.cx,3,["gs_food_diet",422,"gs_predicts_foodies","gs_food"]),c.ge(2)),15552e6))),91049:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(9,5),c.y(5,11)]),c.ge(2)),7776e6),c.tw(c.cw(2,c.os(c.s,1,["agean","europe",462,"mediterranean",542,5,584,"united kingdom",595]),c.ge(2)),7776e6)),c.tw(c.cw(1,c.os(c.cx,3,[49,"permutive_uk-abroad_expats"]),c.ge(2)),7776e6))),91050:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.ps(1,"www.bbc.com/travel/destinations/asia"),c.ge(2)),7776e6),c.tw(c.cw(2,c.os(c.s,1,["asia",442,540,"sightsee",5,582,"visit"]),c.ge(2)),7776e6)),c.tw(c.cw(1,c.a([c.pc_(3,49),c.pc_(8,"Asia")]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.pc_(8,"Travellers"),c.os(c.w,6,["Taiwan","Macao","Yemen","Vietnam",281,"United Arab Emirates",279,278,"Timor-Leste",276,"South Korea","Saudi Arabia",14,"Qatar","Philippines","Pakistan","Oman","Nepal","Myanmar","Mongolia","Maldives","Lebanon","Laos",268,267,"Kuwait","Jordan","Israel","Iraq","Indonesia",264,"Egypt",256,"Cocos Islands","Christmas Island","Cambodia","Brunei","Bhutan","Banglasdesh","Bahrain",251,250,"Sri Lanka",130,266,"Thailand","Malaysia","Hong Kong",274,"New Zealand",62,29])]),c.ge(2)),7776e6))),91059:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(5,8),c.y(2,1),c.os(c.w,9,["worklife","weather",498,17])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,180),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,["anchor",136,"broadcast","business to business",144,"digital","editor","employer","employment","host",454,"information",460,"journalist","linear",52,178,482,498,"occupation","ott","out of home","out-of-home",523,530,188,"reporter","vod","work",602]),c.ge(2)),7776e6))),91149:c.q(c.ocq(c.lm("df2d4c11-12b5-4676-9f37-ded17d0728e2",c.ge(.74556607)),c.ifp("90449"))),91291:c.q(c.cw(3,c.pe(4,2897809376),c.ge(1))),91442:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.s,12,[290,313,319,328,332,147,369,406,414,481,116,56,594]),c.ge(1)),15552e6),c.tw(c.cw(2,c.os(c.s,1,[290,"amex",313,319,328,332,"chase sapphire",147,369,406,414,481,"payment","platinum card",116,56,594]),c.ge(1)),15552e6)),c.tw(c.cw(1,c.pc_(3,420),c.ge(1)),15552e6))),91443:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.s,1,["https://www.bbc.com/future/article/20130917-truth-about-drink-and-antibiotics","https://www.bbc.com/future/article/20151102-why-do-the-british-drink-so-much","https://www.bbc.com/future/article/20180618-why-alcohol-affects-women-more-than-men","https://www.bbc.com/future/article/20190313-will-mosquitoes-bite-me-more-when-ive-been-drinking","https://www.bbc.com/news/topics/cp7r8vglgq1t/food","https://www.bbc.com/reel/playlist/follow-the-food-series-2","https://www.bbc.com/reel/playlist/the-truth-about-food","https://www.bbc.com/reel/video/p09h36ld/the-ancient-drink-serving-the-world-for-13-000-years","https://www.bbc.com/travel/article/20150511-why-you-should-never-drink-whisky-on-the-rocks","https://www.bbc.com/travel/columns/food-hospitality","https://www.bbc.com/worklife/article/20200917-the-impact-of-banning-alcohol-during-covid-19"]),c.ge(1)),15552e6),c.tw(c.cw(2,c.os(c.s,1,["alcohol","beer","booze","champagne","drink","liquor","perseco","rye","tequila","vodka","whiskey","wine"]),c.ge(1)),15552e6)),c.tw(c.cw(1,c.pc_(3,422),c.ge(1)),15552e6))),91444:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.ps(2,1),c.ps(11,102)]),c.ge(1)),15552e6),c.tw(c.cw(2,c.os(c.s,1,[64,38,354,40,363,45,"financial management","financial manager","financial service",91,"interest rate",25,475,107,27,"nyse","options","stock","tax"]),c.ge(1)),15552e6)),c.tw(c.cw(1,c.pc_(3,419),c.ge(1)),15552e6))),91445:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.ps(11,92),c.os(c.cx,8,[191,"tax rates","tax rate",27,"property taxes","property tax","investment property","rental","real estate investment","selling",72,"real estate agency","real estate agent","farm","ranch","acre","acerage","landed property",325,544,"SFDU",547,528,"land","rent","lease","property lessors","property investors","property investor",533,443,"home loans",172,187])]),c.ge(1)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_finance_tax",421,"gs_predicts_realestateind",47]),c.ge(1)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[325,"cap rate","foreclosure investment","home equity",443,"loan to value","ltv","mortgage broker","mortgage loan",187,533,"rental lease",544,"sfdu",547]),c.ge(1)),7776e6))),91446:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[64,329,172,27,507,191,572]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_home_gardening",47]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ps(13,46),c.os(c.s,12,["home owner","homeowner",91,27,"own a home",191,571])]),c.ge(1)),7776e6))),91447:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.os(c.s,1,["academic",22,381,382,"higher education",524,193,573,588,61]),c.ge(1)),15552e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_backtoschool","gs_predicts_parentsteachers","gs_education"]),c.ge(1)),15552e6)),c.tw(c.cw(2,c.os(c.s,1,[22,381,16,382,524,193,573,"univerity",588]),c.ge(1)),15552e6))),91448:c.q(c.cw(0,c.ps(1,"storyworks/future/tech4all"),c.ge(1))),91449:c.q(c.cw(0,c.ps(1,"storyworks/future/creating-a-healthier-asia"),c.ge(1))),91628:c.q(c.ocq(c.tw(c.cw(0,c.pe(12,"techbiz"),c.ge(3)),7776e6),c.tw(c.cw(0,c.y(20,247),c.ge(3)),7776e6))),91654:c.q(c.tw(c.cw(1,c.os(c.cx,3,["gs_predicts_interestedmillennial","gs_predicts_millennialmoms"]),c.ge(2)),7776e6)),91780:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.os(c.s,1,[71,39,79,96,100,106,53,115,57,10]),c.ps(2,1)]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,24),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[80,81,96,100,106,53,117,119,57,10]),c.ge(2)),7776e6))),91819:c.q(c.cw(0,c.ps(1,"being-your-best"),c.ge(1))),91821:c.q(c.cw(0,c.ps(1,"storyworks/uncompromised-elegance"),c.ge(1))),92185:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(9,5),c.y(5,11),c.ps(2,"travel_destinations_content"),c.os(c.cx,8,["America","USA","Canada",502])]),c.ge(2)),7776e6),c.tw(c.cw(2,c.os(c.s,1,["alaska",289,"hawaii",5,587,"usa"]),c.ge(2)),7776e6)),c.tw(c.cw(1,c.pc_(3,49),c.ge(2)),7776e6))),92709:c.q(c.acq(c.tw(c.cw(0,c.os(c.s,6,["albania","andorra","armenia","austria","azerbaijan","belarus","belgium","bosnia and herzegovina","bulgaria","croatia","cyprus","czechia","denmark","estonia","faroe islands","finland","france","georgia","germany","gibraltar","greece","greenland","hungary","iceland",462,"italy","kazakhstan","kosovo","kyrgyzstan","latvia","liechtenstein","lithuania","luxembourg","macedonia","malta","moldova","monaco","montenegro","netherlands","norway","poland","portugal","romania",540,"san marino","serbia","slovakia","slovenia","spain","sweden","switzerland","tajikistan","turkey","turkmenistan","ukraine","uzbekistan","vatican city"]),c.ge(1)),15552e6),c.tw(c.cw(0,c.as(c.x,6,["Kosovo","Greenland","Gibraltar","Faroe Islands","Vatican City",281,18,279,278,276,"Switzerland","Sweden","Spain","Slovakia","Serbia","San Marino",14,"Romania","Portugal","Poland","Norway","Netherlands","Montenegro","Monaco","Moldova","Malta","Macedonia","Luxembourg","Lithuania","Liechtenstein","Latvia",268,267,"Italy","Ireland","Iceland","Hungary","Greece","Germany",264,131,"Finland","Estonia","Denmark","Czechia",256,"Croatia","Bulgaria","Bosnia and Herzegovina","Belgium","Belarus",251,"Austria",250,"Andorra","Albania","Slovenia"]),c.ge(1)),1728e5))),92885:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(2,1),c.os(c.cx,8,[179,22,61,16,272])]),c.ge(1)),7776e6),c.tw(c.cw(1,c.ref(2),c.ge(1)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[327,22,16,411,412,466,103,"school of business","stern",562,563,61,600]),c.ge(1)),7776e6))),92886:c.q(c.acq(c.tw(c.cw(0,c.t,c.ge(3)),7776e6),c.scq(c.cw(5,c.pc(["aggregations","SegmentEntry"],89780)),c.cw(8,c.pe(19,89780)),c.ge(1)))),92946:c.q(c.cw(4,c.os(c.e,4,[2686060527,2711211814,2725427477,2769245666,2597489220,2805509243,2878850083,2805509699,2890291613,2703570477,2711572794,2707782206,2703926315,2885455891,2599020445,2714852637,2884981855,2699688611,2472635035,2731641572,2802188767,2746325700,2351652932,2805894141,2587316565,2671063808,2662401822,2579678303,2671000210,2671268044,2671000792,2918744296,2804027977,2898341979,2639500789,2863061483,2637663767,2752753581,2756913501,2849841304,2679937908,2826760283,2683160768,2750066595,2687617825,2768986732,2869027574,2685818078,2679909028,2750408116,2726561686,2687470250,2815475267,2805762442,2521120723,2537302486,2724520481,2626308212,2675317081,2552410218,2748496208,2772262796,2411527887,2903043355,2897800263,2736266588,2882508906,2906821320,2727532775,2699546624,2871782065,2769826231,2862992102,2869234936,2872135164,2865301348,2779704363,2885749578,2792309248,2859608362,2820835639,2792897037,2819849417,2734452865,2910358504,2722305593,2779774242,2900464950,2706993293,2890806647,2787737202,2892620786,2746692935,2674055497,2651218771,2823840854,2879213654,2901153531,2900729979,2884874622,2824012269,2780095560,2823840638,2697724316,2722106763,2869792497,2750436628,2815518628,2684839427,2683236201,2715113919,2801798822,2837265505,2804070160,2872516789,2872970076,2872969575,2871595585,2765473844,2682054158,2834842247,2783627950,2688404307,2822770686,2764528984,2757413933,2883115375,2659892041,2722756932,2860113593,2847649907,2891032075,2868140865,2881118308,2733834416,2779811166,2749519613,2783685966,2671974693,2693493022,2711741955,2741556646,2854540952,2682114387,2735545176,2853510714,2918278446,2790228224,2776948781,2911077797,2890371736,2810459886,2801352717,2854091205,2632886152,2884567661,2821519851,2881557003,2867675201,2720615691,2689918282,2687935601,2913453753,2764139032,2859417559,2917552763,2881069171,2875019003,2757222892,2806004542,2757030159,2881069156,2839088305,2753043296,2725557599]),c.ge(1))),92947:c.q(c.cw(3,c.os(c.e,4,[2686060527,2711211814,2725427477,2769245666,2601321818,2816999176,2597489220,2579030840,2805509243,2878850083,2708262641,2805509699,2890291613,2696048525,2700309249,2703926315,2707782206,2711572794,2703570477,2885455891,2599020445,2397342179,2806266660,2362667981,2493528196,2805489980,2523811330,2362665755,2714852637,2884981855,2699688611,2387473326,2379984694,2472635035,2731641572,2802188767,2746325700,2351652932,2805894141,2741383135,2671063808,2662401822,2579678303,2671000210,2671268044,2671000792,2385085188,2918744365,2918744296,2859999066,2400909281,2804027977,2863061483,2639500789,2637663767,2752753581,2756913501,2849841304,2679937908,2826760283,2683160768,2750066595,2687617825,2768986732,2869027574,2685818078,2679909028,2750408116,2726561686,2687470250,2815475267,2805762442,2521120723,2537302486,2724520481,2626308212,2641238577,2675317081,2761711169,2552410218,2748496208,2772262796,2411527887,2903043355,2897800263,2736266588,2882508906,2906821320,2727532775,2699546624,2871782065,2769826231,2862992102,2869234936,2872135164,2865301348,2779704363,2781972931,2885749578,2792309248,2859608362,2820835639,2792897037,2792325748,2819849417,2734452865,2910358504,2722305593,2779774242,2900464950,2706993293,2700080057,2890806647,2787737202,2892620786,2746692935,2674055497,2651218771,2823840854,2879213654,2901153531,2900729979,2884874622,2824012269,2780095560,2769281469,2652291322,2823840638,2697724316,2722106763,2869792497,2750436628,2815518628,2684839427,2683236201,2715113919,2801798822,2837265505,2804070160,2872516789,2872970076,2872969575,2871595585,2682054158,2834842247,2783627950,2688404307,2822770686,2764528984,2757413933,2883115375,2659892041,2810213004,2722756932,2860113593,2746577167,2847649907,2891032075,2868140865,2766033820,2881118308,2790996924,2733834416,2779811166,2749519613,2783685966,2671974693,2693493022,2711741955,2741556646,2854540952,2682114387,2735545176,2853510714,2918278446,2790228224,2911077797,2890371736,2810459886,2801352717,2854091205,2632886152,2884567661,2821519851,2881557003,2867675201,2720615691,2687935601,2851946041,2913453753,2859417559,2917552763,2881069171,2875019003,2757222892,2806004542,2757030159,2881069156,2839088305,2753043296,2725557599]),c.ge(1))),92951:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.y(2,181),c.os(c.cx,8,[176,365,104,"dental school","medical school",465,"law school",514,374,373,"masters degree",459,458,"post graduate",518,519,179,22,61,16,272])]),c.ge(1)),7776e6),c.tw(c.cw(1,c.ref(2),c.ge(1)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,["booth school of business",327,22,365,373,374,16,411,412,"haas school of business",458,459,465,466,176,179,103,104,"nyu stern",514,518,519,562,563,61,600]),c.ge(1)),7776e6))),92952:c.q(c.ocq(c.ocq(c.tw(c.cw(1,c.os(c.cx,3,["gs_entertain_radio",433]),c.ge(2)),15552e6),c.tw(c.cw(0,c.a([c.ps(2,113),c.os(c.cx,8,[385,"electronic communication",144,"computer networks","computer network","networks",516,"podcasts",296,188,4,"phone technology","telecommunications","telecommunication",291,461,"phone"])]),c.ge(2)),15552e6)),c.tw(c.cw(2,c.os(c.s,1,[291,296,144,145,385,"google pixel",461,516,188,"samsung phone","telcomm","telecomm"]),c.ge(2)),15552e6))),92953:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.t,c.ge(3)),5184e6),c.tw(c.cw(9,c.os(c.cx,23,[184,195,190,201,198,192,98,90,60,44]),c.ge(3)),5184e6)),c.tw(c.cw("VideoPlay",c.t,c.ge(3)),5184e6))),92954:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ref(21),c.os(c.s,1,[132,"analyst",65,69,0,"capital creation",74,160,93,25,50,2,95,99,486,108,"predict markets",189,4])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[164,161,12,48,6]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ref(21),c.os(c.s,1,[132,65,69,0,74,407,174,93,94,2,95,99,486,108,189,4])]),c.ge(2)),7776e6))),92956:c.q(c.cw(3,c.ref(14),c.ge(1))),92957:c.q(c.cw(4,c.ref(14),c.ge(1))),92973:c.q(c.cw(0,c.ps(1,"little-red-dot-big-possibilities"),c.ge(1))),93049:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.os(c.s,1,[71,39,79,474,53,489,490,115,57,580,10]),c.ps(2,1)]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,24),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[80,81,474,53,489,490,117,119,57,580,10]),c.ge(2)),7776e6))),93056:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.os(c.s,1,[298,71,39,79,483,106,488,115,10]),c.ps(2,1)]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,24),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[298,80,81,483,106,488,117,119,10]),c.ge(2)),7776e6))),93057:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.os(c.s,1,[309,71,39,350,79,387,"grand size","huge",96,100,115,"sizable",10]),c.ps(2,1)]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,24),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[309,350,80,81,387,"grand",96,100,117,119,"vast",10]),c.ge(2)),7776e6))),93154:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ref(9),c.os(c.s,1,[132,0,359,391,401,403,"fxcm",25,50,2,558,559,4,"trader","trading"])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[161,12,6]),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ref(9),c.os(c.s,1,[0,359,391,401,403,2,558,559,4])]),c.ge(2)),7776e6))),93385:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.t,c.ge(2)),7776e6),c.tw(c.cw(2,c.os(c.s,1,[136,72,361,379,380,"marketers","profession",118]),c.ge(2)),7776e6)),c.tw(c.cw(1,c.os(c.cx,3,[164,"gs_predicts_newjob",180,431]),c.ge(2)),7776e6))),93387:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[141,353,"dev",515,59]),c.ge(2)),7776e6),c.tw(c.cw(1,c.ref(4),c.ge(2)),7776e6)),c.tw(c.cw(0,c.t,c.ge(2)),7776e6))),93652:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.os(c.s,1,[320,0,39,178,53,507,56,57,"sole proprietor"]),c.ps(2,1)]),c.ge(2)),7776e6),c.tw(c.cw(1,c.pc_(3,24),c.ge(2)),7776e6)),c.tw(c.cw(2,c.os(c.s,1,[320,0,"company size","individual owner","individual proprietor","limited liability company",178,56,"size of company"]),c.ge(2)),7776e6))),93661:c.q(c.ocq(c.ocq(c.tw(c.cw(2,c.a([c.ref(21),c.os(c.s,1,[287,310,38,66,67,68,315,318,324,334,344,143,345,346,40,362,371,77,78,388,389,156,404,405,159,468,477,487,526,527,546,"solana",554,575,592,593,603])]),c.ge(2)),7776e6),c.tw(c.cw(1,c.ref(1),c.ge(2)),7776e6)),c.tw(c.cw(0,c.a([c.ref(21),c.os(c.s,1,[287,310,38,66,67,68,318,324,334,344,143,345,"cold wallet",40,362,371,77,78,388,156,392,404,405,159,468,477,487,526,527,546,554,575,592,593,603])]),c.ge(2)),7776e6))),93845:c.q(c.ocq(c.ocq(c.itp("liveramp_DunandBradstreet","1001640136",!1,"93845"),c.itp("liveramp_DunandBradstreet","1001640156",!1,"93845")),c.itp("liveramp_DunandBradstreet","1001640126",!1,"93845"))),93846:c.q(c.ocq(c.itp("liveramp_DunandBradstreet","1001640146",!1,"93846"),c.itp("liveramp_DunandBradstreet","1001640116",!1,"93846"))),93847:c.q(c.ocq(c.ocq(c.ocq(c.ocq(c.ocq(c.itp("liveramp_DunandBradstreet","1003342619",!1,"93847"),c.itp("liveramp_DunandBradstreet","1000311026",!1,"93847")),c.itp("liveramp_DunandBradstreet","1003342629",!1,"93847")),c.itp("liveramp_DunandBradstreet","1000311006",!1,"93847")),c.itp("liveramp_DunandBradstreet","1000311016",!1,"93847")),c.itp("liveramp_DunandBradstreet","1000310996",!1,"93847"))),94397:c.q(c.cw(0,c.ps(1,"future/looking-ahead-with-tecno"),c.ge(1))),94508:c.q(c.cw(4,c.pe(4,2947967441),c.ge(1))),94510:c.q(c.cw(4,c.pe(4,2947967645),c.ge(1))),94752:c.q(c.cw(3,c.pe(4,2961520316),c.ge(1))),94903:c.q(c.cw(4,c.pe(4,2935408077),c.ge(1))),94908:c.q(c.cw(0,c.ps(1,"storyworks/advertiser-content/spectra"),c.ge(1))),94909:c.q(c.cw(0,c.ps(1,"storyworks/travel/a-locals-guide-to-the-west-midlands"),c.ge(1))),95077:c.q(c.cw(0,c.y(5,37),c.ge(1))),95078:c.q(c.cw(0,c.y(5,137),c.ge(1))),95079:c.q(c.cw(0,c.y(5,11),c.ge(1))),95080:c.q(c.cw(0,c.y(5,138),c.ge(1))),95081:c.q(c.cw(0,c.y(5,19),c.ge(1))),95201:c.q(c.isp("liveramp_Citi_bbc_e488cdb0e7cb4d91964860d437d8e491","276976950",!1,"95201")),96020:c.q(c.cw(3,c.pe(4,2970152092),c.ge(1))),97261:c.q(c.cw(0,c.ps(1,"future/inspire-greatness"),c.ge(1))),97262:c.q(c.cw(0,c.os(c.s,1,["storyworks/happy-chinese-lunar-new-year","storyworks/specials/happy-chinese-lunar-new-year"]),c.ge(1))),98239:c.q(c.ocq(c.tw(c.cw(0,c.o([c.y(2,120),c.pe(7,"Worldcup")]),c.ge(2)),7776e6),c.tw(c.cw(2,c.os(c.s,1,["fifa","world cup"]),c.ge(2)),7776e6))),98469:c.q(c.cw(3,c.pe(4,2978312102),c.ge(1))),98609:c.q(c.tw(c.cw(0,c.ps(1,"how-one-company-turns-inspiration-into-greatness"),c.ge(1)),5184e6)),98610:c.q(c.tw(c.cw(0,c.ps(1,"women-helping-women-how-one-leader-does-it"),c.ge(1)),5184e6)),98612:c.q(c.tw(c.cw(0,c.ps(1,"www.bbc.com/future/bespoke/follow-the-food/"),c.ge(1)),5184e6)),98706:c.q(c.cw(3,c.pe(4,2973000843),c.ge(1))),98925:c.q(c.ocq(c.tw(c.cw(0,c.os(c.s,16,["atta","embassy"]),c.ge(2)),72576e5),c.cw(1,c.pc_(3,169),c.ge(1)))),99059:c.q(c.cw(4,c.pe(4,2931808062),c.ge(1))),99147:c.q(c.ocq(c.tw(c.cw(2,c.os(c.s,10,[141,"carbon footprint",353,366,"envionment","global warming",515,"sea level",58,59]),c.ge(2)),7776e6),c.tw(c.cw(1,c.os(c.cx,3,[167,9,166]),c.ge(2)),7776e6))),99365:c.q(c.cw(0,c.ps(1,"storyworks/travel/experience-tokyo/"),c.ge(1))),99366:c.q(c.cw(0,c.ps(1,"storyworks/travel/japans-heart-and-spirit"),c.ge(1))),99372:c.q(c.tw(c.cw(0,c.os(c.w,["geo_info","city"],["Dublin","Wuhan","Shenyang","Hangzhou","Dongguan","Nanjing","Shenzhen","Guangzhou","Chongqing","Shanghai","Beijing","Guadalajara","Khartoum","Fukuoka","Atlanta","Belo Horizonte","Miami","Pune","Baghdad","Riyadh","Ahmedabad","Luanda","Ho Chi Minh City","Hyderabad","Nagoya","Seoul","Lima","Chennai","Jakarta","Kinshasa","Rio de Janeiro","Manila","Kolkata","Buenos Aires","Karachi","Osaka","Dhaka","Mexico City","So Paulo","Delhi",277,"Nashville","Denver","Seattle","San Francisco","Charlotte","Indianapolis","Columbus","Fort Worth","Jacksonville","Austin","San Jose","Dallas","San Diego","San Antonio","Philadelphia","Phoenix","Houston","Chicago","Zurich","Warsaw","Vienna","Valencia","Turin","Stockholm","Samara","Saratov","St Petersburg","Rotterdam","Rome","Prague","Porto","Odessa","Nice","Naples","Munich","Moscow","Minsk","Milan","Madrid","Lyon","Lisbon","Lille","Krakow","Katowice","Istanbul","Helsinki","Hamburg","Frankfurt am Main","Donetsk","Copenhagen","Budapest","Bucharest","Brussels","Berlin","Barcelona","Athens","Antwerp","Amsterdam","Freetown","marrakech","Tunis","Accra",149,"johannesberg","cairo","Paris","Los Angeles","Adelaide","Mumbai","Kuala Lumpur","Bangkok","Nairobi","Washington","Vancouver","Central","Dubai","Brisbane","New York","Perth","Auckland","Melbourne",274,"Toronto","Sydney"]),c.ge(2)),7776e6)),99387:c.q(c.cw(3,c.pe(4,2906261752),c.ge(1))),99394:c.q(c.ocq(c.ocq(c.ocq(c.tw(c.cw(0,c.a([c.os(c.w,9,[84,"reel",5,41]),c.os(c.s,16,[146,83,171,"plant-based","vegan","vegetarian"])]),c.ge(2)),72576e5),c.tw(c.cw(1,c.os(c.cx,3,["gs_food_ingredients_vegetables","gs_predicts_vegetarianvegan"]),c.ge(2)),72576e5)),c.tw(c.cw(0,c.y(7,439),c.ge(2)),72576e5)),c.tw(c.cw(0,c.os(c.cx,8,["Heath","Vegetables","Vegetarianism","Food","Veganism"]),c.ge(2)),72576e5))),99470:c.q(c.ocq(c.tw(c.cw(0,c.o([c.os(c.cx,8,[314,"BLM","Indigenous and people of color","black","people of color",370,312]),c.os(c.s,16,[312,314,"blm",370,"indigenous and people of color"]),c.ps(2,"future_changeagents_content")]),c.ge(1)),72576e5),c.tw(c.cw(1,c.pc_(3,"gs_society_misc"),c.ge(1)),72576e5))),99471:c.q(c.ocq(c.tw(c.cw(0,c.y(5,138),c.ge(2)),5184e6),c.tw(c.cw(0,c.os(c.s,16,["content creation","content creator","journalism",482,"producer","production","publisher",530,602,"writing"]),c.ge(2)),5184e6))),99961:c.q(c.ocq(c.ocq(c.tw(c.cw(0,c.o([c.y(7,36),c.ref(10)]),c.ge(2)),5184e6),c.tw(c.cw(1,c.os(c.cx,3,["gs_sport_basketball",429]),c.ge(2)),5184e6)),c.tw(c.cw(2,c.ref(10),c.ge(2)),5184e6)))}||{},queriesByEvent:{"!UpdateLookalikeModels":["109585","109586","114096","114973","89780","89781","89782","89783","89784","89786","90032","90033","90034","91149"],"!UpdateSecondPartyData":["95201"],"!UpdateThirdPartyData":["93845","93846","93847"],DeclaredData:["116152","116153","89492","89493","89494","89495","89496","89497"],FormSubmission:["62507"],Grapeshot:["100524","100580","100760","100878","100882","100886","100887","101316","104004","104984","106050","106405","106837","114974","115491","115515","115892","116925","116930","120744","121486","123886","124278","124339","124722","125148","55747","55754","55755","56154","56156","56176","56177","56179","56180","56187","62507","63713","63714","63722","63723","63749","64327","64328","64337","64339","66541","66542","68016","69166","69630","69633","70838","71816","73009","73010","74764","74765","75270","75548","75605","77303","77869","79208","79209","79210","82022","82036","83092","85485","85580","85882","85968","88489","91029","91037","91049","91050","91059","91442","91443","91444","91445","91446","91447","91654","91780","92185","92885","92951","92952","92954","93049","93056","93057","93154","93385","93387","93652","93661","98925","99147","99394","99470","99961"],LinkClick:["100760","100878","101316","106050","106405","106837","115801","115892","120744","124278","124946","125544","126037","55754","60378","62507","63713","63714","63722","63723","63749","64327","64328","64337","64339","66541","66542","69166","69630","70838","71816","73009","73010","75270","75548","75605","77303","77869","79209","79210","82022","82036","85968","91029","91037","91049","91050","91059","91442","91443","91444","91445","91446","91447","91780","92185","92885","92951","92952","92954","93049","93056","93057","93154","93385","93387","93652","93661","98239","99147","99961"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","100524","100580","100608","100609","100669","100760","100878","100882","100886","100887","101196","101197","102092","103853","103854","104004","104984","105312","105314","105315","105316","105318","105320","105321","105526","105532","105717","105718","105719","106405","106567","106837","106906","106920","106921","109402","109408","109669","109700","110071","110674","113969","113994","114097","114098","114099","114702","114974","115491","115515","115754","115801","115892","116199","116495","116925","116930","116942","117139","117190","120508","120744","120787","121269","121486","122020","122319","122813","122871","122872","122873","122874","123886","124030","124278","124335","124336","124337","124338","124339","124354","124359","124361","124365","124722","125103","125544","126038","39204","41376","55747","55749","55753","55754","55755","56153","56154","56156","56157","56158","56160","56161","56162","56163","56164","56165","56166","56168","56169","56170","56171","56172","56173","56174","56175","56176","56177","56178","56179","56180","56181","56182","56184","56185","56186","56187","56189","56190","56191","56192","56622","56633","56634","56691","56747","57643","58444","62212","62507","64327","64449","64766","64767","64768","65451","65452","65454","66541","66542","69633","69766","69768","70301","70838","71808","71816","72866","72867","72868","73008","73009","73010","74314","74764","74765","74820","74821","74822","74978","75270","75605","77869","79208","79209","79210","79654","79655","82022","82036","82106","83092","84072","85209","85210","85485","85580","85882","85968","87159","88024","88026","88489","91029","91037","91049","91050","91059","91442","91443","91444","91445","91446","91447","91448","91449","91628","91780","91819","91821","92185","92709","92885","92886","92951","92952","92953","92954","92973","93049","93056","93057","93154","93385","93387","93652","93661","94397","94908","94909","95077","95078","95079","95080","95081","97261","97262","98239","98609","98610","98612","98925","99365","99366","99372","99394","99470","99471","99961"],PageviewComplete:["100760","100882","66541","68016","69630","70301","71214","72866","73342","75605","77303","88489","92886"],PageviewEngagement:["100760","100882","100887","66541","70301","71214","72866","73342","88489"],SegmentEntry:["68016","69630","75605","77303","92886"],SegmentExit:[],SlotClicked:["100803","100885","103672","105851","106248","106371","109523","109524","109525","112089","114701","117409","117411","120510","120920","122439","122535","122645","122646","122845","123650","124457","124656","41414","58133","73331","84222","87159","88504","88505","88624","90449","92946","92957","94508","94510","94903","99059"],SlotViewable:["100803","106249","106370","107324","107326","114028","114192","114701","117410","117411","120510","122439","122601","122845","123650","124457","124656","56344","62161","64911","66683","66684","70302","73874","77811","80707","81843","82015","82234","84002","87319","88766","89747","90007","90876","91291","92947","92956","94752","96020","98469","98706","99387"],SocialShare:["106050","109402","109408","92953"],VideoAdEvent:["71214"],VideoAdPlay:["71206","71214","71215"],VideoPlay:["92953"]}||{}}}();!function(e){const t=self;function n(e,n,r,c){function o(n){if("function"!=typeof t.postMessage)return e.ports[0].postMessage(n);t.postMessage(n)}if(!r)return o([n,null,c]);"undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",r),o([n,r])}t.addEventListener("message",(function(t){if(r=t,!Array.isArray(r.data)||2!==r.data.length)return;var r;const c=t.data,[o,a]=c;if("function"==typeof e)return function(e,t,r,c){const o=function(e,t){try{return{res:e(t)}}catch(e){return{err:e}}}(t,c);return Boolean(null===(a=o)||void 0===a?void 0:a.err)?n(e,r,o.err):!(i=o.res)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then?n(e,r,null,o.res):void o.res.then((function(t){n(e,r,null,t)}),(function(t){n(e,r,t)}));var a,i}(t,e,o,a);n(t,o,new Error("Please pass a function into register()."))}))}((function(e){return((e,t)=>It(yn(e,t),(t=>Object.assign(Object.assign({},t),{userId:e.userId}))))(e,kn)}))})();',"Worker",void 0,void 0)}var a=n(655);const u=()=>({kind:"null",value:null}),d=e=>({kind:"string",value:e}),l=e=>({kind:"number",value:e}),g=e=>({kind:"array",value:e}),p=e=>({kind:"object",value:e}),h=e=>e,f=()=>({kind:"bottom"}),m=e=>({kind:"inner",a:e}),_=e=>({kind:"top",error:e}),w=e=>({kind:"unbounded",group:e}),v=(e,t)=>({kind:"windowed",key:t,group:e}),b=(e,t,n)=>({kind:"countLimit",n,limit:t,group:e}),y=(e,t,n)=>({kind:"uniqueLimit",n,limit:t,group:e}),k=e=>({kind:"numberGroup",group:e}),q=e=>({kind:"stringGroup",group:e}),E=e=>({kind:"tuple",tuple:e}),D=e=>({state:e}),P=(e,t)=>({commands:e,payload:t});function M(e){return e}function S(e,t,n,r,c,i,s,o,a){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return c(r(n(t(e))));case 6:return i(c(r(n(t(e)))));case 7:return s(i(c(r(n(t(e))))));case 8:return o(s(i(c(r(n(t(e)))))));case 9:return a(o(s(i(c(r(n(t(e))))))));default:for(var u=arguments[0],d=1;d<arguments.length;d++)u=arguments[d](u);return u}}var O=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},x=function(e){return O((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))},I=function(e){return function(t,n){return t===n||0===e(t,n)}},C=function(e){return{equals:I(e),compare:function(t,n){return t===n?0:e(t,n)}}},T=function(e){return function(t){return C((function(n,r){return t.compare(e(n),e(r))}))}},A=function(e){return function(t,n){return-1===e.compare(t,n)}},j=function(e){return function(t,n){return 1===e.compare(t,n)}},U=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}};var L={equals:function(e,t){return e===t}},B={equals:L.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};const R=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return m(t(e.a));case"top":return _(e.error)}},G=e=>C(((t,n)=>{if("bottom"===t.kind&&"bottom"===n.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===n.kind)return 1;if("top"===t.kind&&"top"===n.kind)return B.compare(t.error,n.error);if("top"===t.kind)return 1;if("top"===n.kind)return-1;if("inner"===t.kind&&"inner"===n.kind)return e.compare(t.a,n.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var z=function(e,t){for(var n=0,r=t.length,c=e.length;n<r;n++,c++)e[c]=t[n];return e},N=function(e){return"Some"===e._tag},$={_tag:"None"},K=function(e){return{_tag:"Some",value:e}},W=function(e){return"Left"===e._tag},F=(Object.prototype.hasOwnProperty,function(e){return z([e[0]],e.slice(1))});var J=$,Q=K;function H(e){return function(t){return e(t)?Q(t):J}}var Y=function(e){return"Left"===e._tag?J:Q(e.right)},V=function(e){return{equals:function(t,n){return t===n||(ne(t)?ne(n):!ne(n)&&e.equals(t.value,n.value))}}},Z=function(e){return{equals:V(e).equals,compare:function(t,n){return t===n?0:te(t)?te(n)?e.compare(t.value,n.value):1:-1}}},X=function(e){return function(t){return ne(t)?J:Q(e(t.value))}},ee=Y,te=N,ne=function(e){return"None"===e._tag},re=function(e){return function(t){return ne(t)?e():t.value}};var ce;ce=void 0;var ie=function(e){return e[0]},se=ie;var oe=function(e,t){for(var n=0,r=t.length,c=e.length;n<r;n++,c++)e[c]=t[n];return e},ae=function(e){return e.length>0},ue=function(e,t){return e<0||e>=t.length},de=function(e){return function(t){return oe([e],t)}},le=de,ge=function(e){return function(t){return oe(oe([],t),[e])}},pe=ge,he=F,fe=function(e){return ae(e)?K(e):$},me=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],c=1;c<n;c++)r.push(e(c));return r}};var _e=he;var we=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[_e(t),[]]:[S(t.slice(1,n),le(be(t))),t.slice(n)]}},ve=function(e){return O((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},be=se;var ye={equals:function(e,t){return e===t}},ke={equals:ye.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};var qe=function(e,t){return function(n){for(var r=n.length,c=e,i=0;i<r;i++)c=t(i,c,n[i]);return c}};var Ee=function(e){return 0===e.length},De=ae,Pe=le,Me=pe,Se=function(e,t){return e<=0?[]:me(t)(e)};var Oe=ue,xe=function(e){return function(t){return Oe(e,t)?Te(t):t.slice(0,e)}};var Ie=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};var Ce=function(e){return function(t){return e<=0||Ee(t)?Te(t):e>=t.length?[]:t.slice(e,t.length)}};var Te=function(e){return e.slice()},Ae=function(e){return Ee(e)?[]:e.slice().reverse()},je=function(e){return function(t){return t.length<=1?Te(t):t.slice().sort(e.compare)}},Ue=function(e,t,n){for(var r=[],c=Math.min(e.length,t.length),i=0;i<c;i++)r[i]=n(e[i],t[i]);return r};var Le=function(e){return function(t){return e>=1&&De(t)?we(e)(t):Ee(t)?[Te(t),[]]:[[],Te(t)]}};var Be=function(e){return function(t){return S(t,function(e){return function(t){for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},Re=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var c=e(r,t[r]);N(c)&&n.push(c.value)}return n}},Ge=function(e){return Re((function(t,n){return e(n)}))},ze=Ge(M),Ne=qe,$e=function(e){var t=Ke(e);return function(e){return t((function(t,n){return e(n)}))}},Ke=function(e){return function(t){return Ne(e.of([]),(function(n,r,c){return e.ap(e.map(r,(function(e){return function(t){return S(e,Me(t))}})),t(n,c))}))}},We=function(e){return C((function(t,n){for(var r=t.length,c=n.length,i=Math.min(r,c),s=0;s<i;s++){var o=e.compare(t[s],n[s]);if(0!==o)return o}return ke.compare(r,c)}))},Fe=function(e){return{_tag:"Left",left:e}},Je=function(e){return{_tag:"Right",right:e}},Qe=function(e,t){return S(e,Ve(t))},He=function(e,t){return S(e,Xe(t))},Ye="Either",Ve=function(e){return function(t){return tt(t)?t:Je(e(t.right))}},Ze=Je,Xe=function(e){return function(t){return tt(t)?t:tt(e)?e:Je(t.right(e.right))}},et={URI:Ye,map:Qe,ap:He,of:Ze},tt=W;var nt=function(e){return-1===e?1:1===e?-1:0};function rt(e,t){return ze(e.map(t))}function ct(e,t,n,r){const c=(e,t)=>{if(0===e.length)return ze(t.map((e=>Q({1:e[1],2:n(J,Q(e[2]))}))));if(0===t.length)return ze(e.map((e=>Q({1:e[1],2:n(Q(e[2]),J)}))));if(e.length>0&&t.length>0&&A(r)(e[0][1],t[0][1])){const[r,...i]=e,s=r[1],o=r[2];return Pe({1:s,2:n(Q(o),J)})(c(i,t))}if(e.length>0&&t.length>0&&j(r)(e[0][1],t[0][1])){const[r,...i]=t,s=r[1],o=r[2];return Pe({1:s,2:n(J,Q(o))})(c(e,i))}if(e.length>0&&t.length>0){const[r,...i]=e,[s,...o]=t,a=r[1],u=r[2],d=s[2];return Pe({1:a,2:n(Q(u),Q(d))})(c(i,o))}throw new Error("Non exhaustive match in mapOption2")},i=T((e=>e[1]))(r),s=(e=>{const t=rt(e,(e=>te(e[2])?Q({1:e[1],2:e[2].value}):J));return 0===t.length?J:Q(t)})(c(je(i)([...e].map((e=>({1:e[0],2:e[1]})))),je(i)([...t].map((e=>({1:e[0],2:e[1]}))))));return X((e=>new Map(e.map((e=>[e[1],e[2]])))))(s)}function it(e,t,n,r){const c=T((e=>e[0]))(r),i=je(c)([...t]).reduceRight(((e,t)=>{if(tt(e)){const r=n(t[1],e.left);return te(r)?Fe(r.value):Je(t[0])}return e}),Fe(e));return ee(i)}function st(e,t){return new Map([...e].map(t))}function ot(e,t){return new Map([...e].filter(t))}function at(e){return JSON.stringify(ut(e))}function ut(e){switch(e.kind){case"null":return gt.encode(e);case"string":return pt.encode(e);case"number":return ht.encode(e);case"array":return ft.encode(e);case"object":return mt.encode(e)}}function dt(e){return null===e?gt.decode(e):"number"==typeof e?ht.decode(e):"string"==typeof e?pt.decode(e):Array.isArray(e)?ft.decode(e):mt.decode(e)}const lt=(e,t)=>Fe(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),gt={encode:e=>null,decode:e=>null===e?Je({kind:"null",value:null}):lt(e,"SimpleNull")},pt={encode:e=>e.value,decode:e=>"string"==typeof e?Je(d(e)):lt(e,"SimpleString")},ht={encode:e=>e.value,decode:e=>"number"==typeof e?Je(l(e)):lt(e,"SimpleNumber")},ft={encode:e=>e.value.map(ut),decode:e=>{if(Array.isArray(e)){const t=$e(et)(dt)(e);return Ve(g)(t)}return lt(e,"SimpleArray")}},mt={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:ut(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=$e(et)((([e,t])=>S(dt(t),Ve((t=>function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}(e,t))))))(Object.entries(e));return Ve((e=>p(new Map([...e]))))(t)}return lt(e,"SimpleObject")}};function _t(e){return S(e,vt,X(at),re((()=>"<encode error>")))}function wt(e){return X(Dt)(function(e){switch(e.state.kind){case"top":return Q(d(e.state.error));case"bottom":return J;case"inner":return vt(e.state.a)}}(e))}function vt(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return bt(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?Q(g(function(e,t){const n=X((e=>Pe(e)(t)))(e);return re((()=>t))(n)}(X((e=>d(function(e){const t=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>1===e[2]?t(e[1]):t(e[1])+JSON.stringify(e[2]);return e.map(n).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return d(e.error);case"inner":return l(e.a)}},n=e=>rt([yt,kt,e=>S(e,Et,p,Q)],(t=>t(e))),r=e=>rt([yt,qt,e=>S(e,Et,(e=>st(e,(([e,t])=>[JSON.stringify(e),t]))),p,Q)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return n(e.group);case"numberGroup":return r(e.group)}}(e.payload)))):J}function bt(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||te(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||te(e.limit)}}function yt(e){switch(e.kind){case"unbounded":return J;case"windowed":return Q(d("w"));case"countLimit":return Q(d(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return Q(d(1===e.n?"u":`u${e.n}`))}}function kt(e){switch(e.kind){case"unbounded":return J;case"windowed":return Q(d(te(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return Q(d(te(e.limit)?e.limit.value:""))}}function qt(e){switch(e.kind){case"unbounded":return J;case"windowed":return te(e.key)?Q(l(e.key.value)):Q({kind:"null",value:null});case"countLimit":case"uniqueLimit":return te(e.limit)?Q(l(e.limit.value)):Q({kind:"null",value:null})}}function Et(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function Dt(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?Dt(e.value[0]):g(e.value.map(Dt));case"object":return S(ot(e.value,(([e,t])=>"null"!==t.kind)),(e=>st(e,(e=>[e[0],Dt(e[1])]))),p);default:return e}}function Pt(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return J;const[t,n,r,c]=e;if("string"===t.kind&&"string"===n.kind&&"object"===c.kind){const e=H((e=>Mt(e[1].value)&&St(e[2].value)))({1:t,2:n});return X((e=>({prim:e[1].value,grp:e[2].value,cutoff:r,m:c.value})))(e)}return J})(e);if(te(t)){const{prim:e,grp:n,cutoff:r,m:c}=t.value,i=Ot(r,c,xt(n));return"string"==typeof i?_(i):m(P(It(e),i))}const n=(e=>{if(3!==e.length)return J;const[t,n,r]=e;if("string"===t.kind&&"object"===r.kind){const e=H((e=>St(e.value)))(t);return X((e=>({grp:e.value,cutoff:n,m:r.value})))(e)}return J})(e);if(te(n)){const{grp:e,cutoff:t,m:r}=n.value,c=Ot(t,r,xt(e));return"string"==typeof c?_(c):m(P(J,c))}const r=(e=>{if(2!==e.length)return J;const[t,n]=e;if("string"===t.kind&&"object"===n.kind){const e=H((e=>Mt(e.value)))(t);return X((e=>({prim:e.value,m:n.value})))(e)}return J})(e);if(te(r)){const{prim:e,m:t}=r.value;return m(P(It(e),q(w(t))))}const c=(e=>{if(1!==e.length)return J;const[t]=e;return"object"===t.kind?Q({m:t.value}):J})(e);if(te(c)){const{m:e}=c.value;return m(P(J,q(w(e))))}const i=(e=>{if(e.length<1)return J;const[t,...n]=e;if("string"===t.kind){const e=H((e=>Mt(e.value)))(t);return X((e=>({prim:e.value,rest:n})))(e)}return J})(e);if(te(i)){const{prim:e,rest:t}=i.value;return m(P(It(e),Tt(t)))}return m(P(J,Tt(e)))},n=e=>"array"===e.kind?Be(n)(e.value):[e];return"null"===e.kind?D({kind:"bottom"}):D(t(n(e)))}function Mt(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...n]=t;return-1!=="pmvn".indexOf(e)&&n.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function St(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...n]=t;return-1!=="ux".indexOf(e)&&-1===n.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function Ot(e,t,n){switch(e.kind){case"string":return q(n({1:Q(e.value),2:t}));case"number":case"null":return k(n({1:"null"===e.kind?J:Q(e.value),2:ot(st(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function xt(e){const t=e=>t=>y(t[2],t[1],e),n=e=>t=>b(t[2],t[1],e),r=e.split("");switch(!0){case"w"===r[0]&&void 0===r[1]:return e=>v(e[2],e[1]);case"u"===r[0]&&void 0===r[1]:return t(1);case"u"===r[0]&&void 0!==r[1]:return t(parseInt(r.slice(1).join("")));case"x"===r[0]&&void 0===r[1]:return n(1);case"x"===r[0]&&void 0!==r[1]:return n(parseInt(r.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function It(e){return X(h)(fe(Ct(e,(e=>{const t=e.split("");if(0===t.length)return J;const[n,...r]=t,c=(e=>{switch(e){case"p":return Q("add");case"m":return Q("mul");case"v":return Q("max");case"n":return Q("min");default:return J}})(n);return X((e=>{const{init:t,rest:n}=(c=e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t},function(e){var t=Le(Ie(e,c))(e);return{init:t[0],rest:t[1]}})(r);var c;return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(c)}))))}function Ct(e,t){const n=t(e);return re((()=>[]))(X((e=>[e[1]].concat(Ct(e[2],t))))(n))}function Tt(e){return E(e.map(At))}function At(e){switch(e.kind){case"number":return m(e.value);case"string":return _(e.value);case"null":return{kind:"bottom"};case"object":return _("{object}");case"array":return _("{array}")}}const jt={strategy:(e,t,n)=>r=>{if(ne(n))return t;if("delta"===e&&ne(t))return J;if(ne(t))return n;if(te(t)&&te(n))return r(t.value,n.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,n,r,c,i)=>{const s=We(G(i));if("append"===e&&"add"===t)return Ue(n,r,$t("append",c.plus));if("append"===e&&"mul"===t)return Ue(n,r,$t("append",c.times));if("append"===e&&"max"===t)return U(s)(n,r);if("join"===e&&"add"===t)return Ue(n,r,$t("join",U(i)));if("join"===e&&"mul"===t)return Ue(n,r,$t("join",U(i)));if("join"===e&&"max"===t)return U(s)(n,r);if("min"===t)return jt.operation(e,"max",n,r,c,function(e){return C(((t,n)=>nt(e.compare(t,n))))}(i));if("delta"===e&&"max"===t)return j(s)(n,r)?n:r.map(f);if("delta"===e)return Ue(n,r,((e,t)=>j(G(i))(e,t)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,n,r)=>{if("delta"===e&&"top"===n.kind&&"top"===r.kind)return j(B)(n.error,r.error)?_(n.error):{kind:"bottom"};if("delta"===e&&"bottom"===r.kind)return n;if("delta"===e&&"bottom"===n.kind)return{kind:"bottom"};if("top"===n.kind&&"top"===r.kind)return _(U(B)(n.error,r.error));if("top"===n.kind)return n;if("top"===r.kind)return r;if("inner"===n.kind&&"inner"===r.kind)return t(n.a,r.a);if("bottom"===n.kind)return r;if("bottom"===r.kind)return n;throw new Error("Non exhaustive match in extend")}},Ut={plus:(e,t)=>e+t,times:(e,t)=>e*t};function Lt(e,t,n,r){if("unbounded"===e.kind&&"unbounded"===t.kind){const c=e.group,i=t.group;return re(f)(X((e=>m(w(e))))(ct(c,i,n,r)))}if("windowed"===e.kind&&"windowed"===t.kind){const c=e.key,i=e.group,s=t.key,o=t.group,a=U(Z(r))(c,s);return re(f)(X((e=>m(v(e,a))))(ct(i,o,n,r)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const c=e.n,i=t.n;if(c===i){const i=e.limit,s=e.group,o=t.limit,a=t.group,u=U(Z(r))(i,o);return re(f)(X((e=>m(b(e,u,c))))(ct(s,a,n,r)))}return _("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const c=e.n,i=t.n;if(c===i){const i=e.limit,s=e.group,o=t.limit,a=t.group,u=U(Z(r))(i,o);return re(f)(X((e=>m(y(e,u,c))))(ct(s,a,n,r)))}return _("Non matching counts")}return _("Non matching group types")}function Bt(e,t,n,r,c,i){const s=(e,t)=>({1:xe(e)(t).concat(Se(Math.max(0,e-t.length),f)),2:Ce(e)(t)}),o=(t,n,r)=>{if(0===t.length)return jt.operation(e,"max",n,r,c,i);if(t.length>0){const[a,...u]=t,d=s(a[2],n),l=d[1],g=d[2],p=s(a[2],r),h=p[1],f=p[2];return jt.operation(e,a[1],l,h,c,i).concat(o(u,g,f))}throw new Error("Non exhaustive match in recurse")};return Ae((a=e=>"bottom"===e.kind,function(e){return e.slice(Ie(e,a))})(Ae(o(t,n,r))));var a}function Rt(e,t,n){return re(u)(Gt(e,J)(t,n))}function Gt(e,t){const n=t=>(n,r)=>jt.strategy(e,n,r)(Gt(e,t)),r=(r,c)=>{if(V(ve(x({1:L,2:ye}))).equals(r.commands,c.commands)){const i=((t,r,c)=>{if("stringGroup"===r.kind&&"stringGroup"===c.kind){const e=Lt(r.group,c.group,n(t),B);return R(e,(e=>q(Nt(e,B))))}if("numberGroup"===r.kind&&"numberGroup"===c.kind){const e=Lt(r.group,c.group,n(t),ke);return R(e,(e=>k(Nt(e,ke))))}if("tuple"===r.kind&&"tuple"===c.kind){const n=te(t)?t.value:[];return m(E(Bt(e,n,r.tuple,c.tuple,Ut,ke)))}throw new Error(`Non matching payload. Got ${r.kind} and ${c.kind}`)})(ne(r.commands)?t:r.commands,r.payload,c.payload);return R(i,(e=>P(r.commands,e)))}throw new Error(`Non matching primitive strings. Got ${_t(r)} and ${_t(c)}`)};return(t,n)=>wt(D(jt.extend(e,r,Pt(t).state,Pt(n).state)))}function zt(e,t,n){const r=X((t=>ot(e,(([e,r])=>function(e){return function(t,n){return-1!==e.compare(t,n)}}(n)(e,t)))))(t);return re((()=>e))(r)}function Nt(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return ne(e.key)?e:v(zt(e.group,e.key,t),e.key);case"countLimit":{const n=e.limit,r=e.n,c=e.group,i=(e,t)=>t<=1?J:Q(t-1),s=it(r,c,i,t),o=U(Z(t))(n,s);return b(zt(c,o,t),o,r)}case"uniqueLimit":{const n=e.limit,r=e.n,c=e.group,i=(e,t)=>{if("object"===e.kind){const n=[...e.value.keys(),...t.keys()],c=new Set(n);return c.size>=r?J:Q(c)}return J},s=it(new Set,c,i,t),o=U(Z(t))(n,s);return y(zt(c,o,t),o,r)}}}function $t(e,t){return(n,r)=>jt.extend(e,((e,n)=>m(t(e,n))),n,r)}var Kt=n(6567),Wt=n(64),Ft=n(6013),Jt=n(7545),Qt=n(7121);class Ht{constructor(e,t,n){this.externalData=e,this.localQueries=t,this.externalQueries=n,this.queryCodesAsList=[],this.queryCodesAsMap={};const r=this.externalData.getExternalJsonData(Wt.mL)||[],c=(0,Kt.fS)((()=>[]))((0,Kt.Y3)((()=>r.filter((e=>(0,Qt.UC)(e,this.localQueries,this.externalQueries))))));this.add(c)}has(e){return e in this.queryCodesAsMap}add(e){return(0,c.zG)(e.forEach((e=>this.queryCodesAsMap[e]=!0)),(e=>this.updateSegmentsList()))}remove(e){return(0,c.zG)(e.forEach((e=>delete this.queryCodesAsMap[e])),(e=>this.updateSegmentsList()))}getAllAsList(){return this.queryCodesAsList}getStdAsList(){return this.queryCodesAsList.filter((e=>e>=1e7))}getAllAsMap(){return this.queryCodesAsMap}getUpdates(e){const t=[],n=[];return Object.entries(e).forEach((([e,r])=>{const c=parseInt(e),i=(null==r?void 0:r.result)||{result:!1},s=!0===(null==i?void 0:i.result)&&!(c in this.queryCodesAsMap),o=!1===(null==i?void 0:i.result)&&c in this.queryCodesAsMap;s?t.push(c):o&&n.push(c)})),{entered:t,exited:n}}flush(){this.externalData.setExternalJsonData(Wt.mL,this.getAllAsList())}reset(){this.externalData.removeExternalData(Wt.mL),this.queryCodesAsList=[],this.queryCodesAsMap={}}updateSegmentsList(){this.queryCodesAsList=Object.keys(this.queryCodesAsMap).map((e=>parseInt(e)))}}const Yt="bootstrap",Vt="process",Zt="processTransitions",Xt="updateEnvironment",en="updateExternalState",tn="updateLAL",nn="updateTPD";const rn="permutive:query:changed",cn="internal_query_states",sn="external_query_states",on=e=>class extends e{constructor(...e){super(...e),this.isWorkerReady=!1,this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={},this.userSegments=new Ht(this.externalData,this.queryMetadata,this.externalQueries),this.segmentEntryQueryCodes=new Set,this.segmentExitQueryCodes=new Set,this.cohortEntryQueryCodes=new Set,this.cohortExitQueryCodes=new Set,this.hasNewOrModifiedQueries=!1,this.makeDebouncedProcessTransitions()}makeStateMaps(){const e=this.permutiveData.getData(cn)||{},t=this.permutiveData.getData(sn)||{},n=Object.keys(this.queryMetadata),r=Object.keys(e);this.hasNewOrModifiedQueries=n.length!==r.length||n.filter((t=>{var n;return this.queryMetadata[t]!==(null===(n=e[t])||void 0===n?void 0:n.checksum)})).length>0,this.logger.debug("QueryManager has new or modified queries",this.hasNewOrModifiedQueries);const i=this.hasNewOrModifiedQueries?(0,Ft.fl)(e,(t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.checksum)===this.queryMetadata[t]})):e;this.extStateMap=this.hasNewOrModifiedQueries?(0,c.zG)((0,Ft.fl)(t,(e=>e in i)),(e=>(this.permutiveData.setData(sn,e),e))):t,this.stateMap={value:i,promise:Promise.resolve(i)};this.permutiveData.getData("query_states")&&this.permutiveData.setData("query_states",null)}makeDebouncedProcessTransitions(){this.scheduler=new Jt.b(this.transitionDebounceTime,this.transitionDebounceMaxTime);this.debouncedProcessTransitions=this.scheduler.scheduleAccumulated((e=>this.processTransitions(e)),{concat:(e,t)=>e.concat(t),empty:[]})}makeMessage(e,t,n){return{type:e,payload:(0,c.bc)(this.queryMetadata,this.extStateMap,...t),stateMap:n,userId:this.userId.get()}}trackTransition(e,t){const n=Wt.ED?this.customProperties.getCustomProps():{},r=Object.assign(Object.assign(Object.assign({},n),{segment_number:t}),{});e?(this.segmentEntryQueryCodes.add(t),this.cohortEntryQueryCodes.add(t.toString())):(this.segmentExitQueryCodes.add(t),this.cohortExitQueryCodes.add(t.toString())),this.permutive.track(e?"SegmentEntry":"SegmentExit",r)}trackSegmentsTransition(e,t){e.forEach((e=>{this.trackTransition(!0,e),this.messages.emit(rn,{queryCode:e,result:{result:!0}})})),t.forEach((e=>{this.trackTransition(!1,e),this.messages.emit(rn,{queryCode:e,result:{result:!1}})}))}updateUserSegments(e,t){this.userSegments.add(e),this.userSegments.remove(t),this.userSegments.flush()}onStateChangeReady(e){const{entered:t,exited:n}=this.userSegments.getUpdates(e);this.trackSegmentsTransition(t,n),this.updateUserSegments(t,n),this.logger.debug("QM: Updating cohort and query state cache",e),this.permutiveData.setData(cn,e);const r=t.length>0||n.length>0;return(0,c.zG)(r,(e=>e?this.messages.emit("permutive:segments:updated"):{}),(e=>({segmentsEntered:new Set(t),segmentsExited:new Set(n)})))}onStateChange(e,t){return(0,c.zG)(t.length>0?this.network.error(`QL error(s). Got ${t.join("; ")}`,this.userId.get()):{},(t=>this.stateMap.value=Object.assign(Object.assign({},this.stateMap.value),e)),(e=>this.isWorkerReady?[e,this.onStateChangeReady(e)]:[e,{segmentsEntered:new Set,segmentsExited:new Set}]))}postMessage(e,t){const n=e=>this.userId.get()===e.userId?e:{diff:{},errors:[]};return new Promise((r=>{this.stateMap.promise=this.stateMap.promise.then((0,c.ls)((n=>this.makeMessage(e,t,n)),(e=>this.processMessage(e)))).then((0,c.ls)(n,(({diff:e,errors:t})=>{const[n,c]=this.onStateChange(e,t);return r([e,c]),n}))).catch((e=>(0,c.zG)(this.network.error(`Error during query execution. Got ${e}`,this.userId.get()),(e=>r([{},{segmentsEntered:new Set,segmentsExited:new Set}])),(e=>this.stateMap.value))))}))}processTransitions(e){return this.postMessage(Zt,[e])}bootstrap(e){return this.postMessage(Yt,[{segments:{"1p":this.userSegments.getAllAsMap()},sessionId:this.sessionManager.getSessionId(),viewId:this.viewId.get(),lookalikeModels:{}},e])}updateEnvironment(e){return this.postMessage(Xt,[e])}updateLAL(e){return this.postMessage(tn,[e])}updateTPD(e){return this.postMessage(nn,[e])}process(e,t){return(0,Qt.AG)(e)?this.debouncedProcessTransitions([e]):this.processStandard([e],t)}processStandard(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=yield this.postMessage(Vt,[e]);return t&&this.setAsRealTimeifNeeded(e),n}))}updateExternalState(e){const t=(0,Ft.b0)(e,((e,t)=>{const n=this.queryMetadata[e];return n&&t[n]?(0,Kt.Uo)(dt(t[n])):Kt.YP})),n=(0,Ft.b0)(this.extStateMap,((e,t)=>(0,Kt.Uo)(dt(t)))),r=(e,t,n)=>(0,c.zG)((0,Kt.Y3)((()=>function(e,t){return Rt("join",e,t)}(e,t))),(0,Kt.fS)((()=>(this.network.error(`Failed to join external state for query: ${n}. Had ${at(t)}, received ${at(e)}}`,this.userId.get()),t)))),i=(0,Ft.b0)(Object.assign(Object.assign({},n),t),((e,t)=>n[e]?(0,Kt.G)(ut(r(t,n[e],e))):(0,Kt.G)(ut(t))));return this.permutiveData.setData(sn,i),this.extStateMap=i,this.postMessage(en,[])}reset(){this.userSegments.reset(),this.permutiveData.setData(cn,{}),this.permutiveData.setData(sn,{}),this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={}}setAsReady(){this.isWorkerReady=!0,this.onStateChangeReady(this.stateMap.value),this.messages.emit("permutive:queries:initialised")}getStateSizeInBytes(){return 2*JSON.stringify(this.stateMap.value).length}updateExternalSegments(e){const t={};for(const n of Object.keys(e)){const r=parseInt(n);!isNaN(r)&&this.externalQueries.has(r)&&(t[r]={result:{result:e[r]}})}const{entered:n,exited:r}=this.userSegments.getUpdates(t);this.trackSegmentsTransition(n,r),this.updateUserSegments(n,r);(n.length>0||r.length>0)&&this.messages.emit("permutive:segments:updated")}setAsRealTimeifNeeded(e){return!this.realtime.isRealtime()&&e.filter((e=>"Pageview"===e.name)).length>0?this.realtime.setAsRealtime(this.userSegments.getAllAsList().length):void 0}};function an(){return(0,r.h)(new o)}class un{constructor(e){this.queryMetadata={39204:"0c8b70cdb7",41376:"4bd77cc3a7",41414:"d2f664deef",55747:"555ae43b45",55749:"4b34d30bca",55753:"d458cf1039",55754:"26c0d397bb",55755:"6c104e0b6f",56153:"ca3be8280a",56154:"2c150d98f7",56156:"8e2084ded2",56157:"edd7c0f7e9",56158:"1d61a0bab1",56160:"d957353a0d",56161:"d5bf8e694a",56162:"ce8bbd8946",56163:"136bc67060",56164:"7c31326ec4",56165:"906c9e0137",56166:"aedc7dfff4",56168:"34775f4315",56169:"5eebe0b394",56170:"433a75b233",56171:"7b28ea35a1",56172:"7ea2468f1b",56173:"b1e80eef69",56174:"110e1e5199",56175:"a9e61cb4dc",56176:"76040bef34",56177:"be78541ad3",56178:"b12ce3ae92",56179:"948b0adf5e",56180:"901db3ad78",56181:"bab6a79c92",56182:"a5c766149b",56184:"199e0249e4",56185:"630ebce87f",56186:"18da1b9945",56187:"6f6bad0d1d",56189:"faf86176fe",56190:"728ed29db0",56191:"3412dd37f8",56192:"071df88778",56344:"917d5f981b",56622:"70a5c687c3",56633:"e0de071b3d",56634:"608d95acf4",56691:"44cde31524",56747:"29a83b50ae",57643:"31355af7d3",58133:"612652e2be",58444:"760bb3211e",60378:"385ec3a90f",62161:"1b0d23fd0f",62212:"870878c03e",62507:"123dde8ca4",63713:"ec1f7cb165",63714:"227a4a445d",63722:"2fb7274bdd",63723:"4f497a869e",63749:"6c1db666dd",64327:"dd9523df30",64328:"197c27e400",64337:"dd4b473df7",64339:"0fe3bf51ce",64449:"c201d2ab4f",64766:"ef2efae223",64767:"e150a98c1e",64768:"b1a9a44a5b",64911:"810e7ffc28",65451:"91a96e3c14",65452:"3bf350e506",65454:"b40d19b295",66541:"7ef2a5e51b",66542:"79b403d5b8",66683:"b6651a8c42",66684:"e996b67aed",68016:"e14f159601",69166:"eb321499d2",69630:"8920f45a20",69633:"a8767c55a0",69766:"7a0c78c1cd",69768:"83704e0ca8",70301:"76e950fdd6",70302:"b5306aafc5",70838:"3e9c907b57",71206:"cec4bcb6c3",71214:"9695b60f46",71215:"a8c4a12114",71808:"eceff16d90",71816:"68ce6a0e5a",72866:"a3f5ac6148",72867:"e391d50bf9",72868:"3699e5fd26",73008:"dced81e1b6",73009:"a7e5001f6f",73010:"d7583ca2a4",73331:"a0b1e4511f",73342:"b976303717",73874:"e67353bfa7",74314:"5399a8daa1",74764:"48492484db",74765:"56cbba4177",74820:"f6aa6937b1",74821:"d40f3f25ec",74822:"aa73153f68",74978:"c3bdfa95dd",75270:"14534d07ed",75548:"d7dba2dabf",75605:"4ffeadbd9b",77303:"8c6585fe9d",77811:"f5e8dc27ad",77869:"94fefef896",79208:"4ac73bb0cc",79209:"041783bd89",79210:"caec0a749c",79654:"c14696be07",79655:"b383c91676",80707:"f811a1d094",81843:"14fd905353",82015:"6cc94b651a",82022:"7b8de48f32",82036:"db6b322279",82106:"8dca228fa0",82234:"58243d05a2",83092:"58c78f907e",84002:"55c74290e7",84072:"176f4d22bd",84222:"2bb1193ce0",85209:"d7a36ef2e6",85210:"64fb259806",85485:"89f5b56a20",85580:"c5dd39a27a",85882:"be3d6da026",85968:"05d1fa5934",87159:"b47634ce12",87319:"9c1aadd5a2",88024:"ee8520da5b",88026:"ebb273bda2",88489:"5f02f603ab",88504:"7ffc9f0336",88505:"bafbd2a52b",88624:"e7b8b1b22e",88766:"9924f53742",89492:"1d7afecc14",89493:"47ab3e71ab",89494:"dec2b24bd8",89495:"b277e0e4be",89496:"a2afadd8b5",89497:"f2f5b7a9ee",89747:"ad1877712f",89780:"3fbe77a018",89781:"00cbefc3f4",89782:"62b5c3a54c",89783:"ca819548b2",89784:"b7b2df1aab",89786:"8ddf82084c",90007:"73425b73a2",90032:"2fcf32a703",90033:"eb060da10b",90034:"e8caedcdd8",90449:"ab84fb4ca6",90876:"2720a16372",91029:"7ff5808ef8",91037:"127d981593",91049:"f32a0bc6c2",91050:"7aa8f1edb8",91059:"ea3ccc5e6c",91149:"2cc579a35f",91291:"8317f2ea4b",91442:"44a65cf4c3",91443:"7cb033c22f",91444:"d7b6522e47",91445:"0c78646e45",91446:"21c0c1910a",91447:"c6b61bbfdc",91448:"63202b8b24",91449:"dfab9676c6",91628:"e015fa01f9",91654:"f652bf0988",91780:"4f818a29ee",91819:"07bd1d5586",91821:"6d49fa0947",92185:"dc8f7fa238",92709:"780833ca26",92885:"60b73f3096",92886:"621489374c",92946:"55bc4f648b",92947:"f45f0546bb",92951:"c0791e149d",92952:"b748dea6cd",92953:"7b9fb38d0b",92954:"55fabcd1a0",92956:"7c5797abac",92957:"6beeb11182",92973:"3ec8ad2b40",93049:"a855efb5ed",93056:"46c6018add",93057:"04f2167fd3",93154:"68710238c5",93385:"3009ba236c",93387:"104101fd1e",93652:"a655b4562b",93661:"958559523b",93845:"51ea81c1ed",93846:"2408111945",93847:"bc206503f5",94397:"6ccb50da4f",94508:"c21883ca4b",94510:"faf26dfec3",94752:"f5d7aee65e",94903:"b6dc6b56a2",94908:"022c534e9d",94909:"14b515f499",95077:"6022bedc62",95078:"c3352031cf",95079:"d22dbd9dfc",95080:"3963c4f90f",95081:"504c6efc80",95201:"b72366f7a0",96020:"6b2c325eaf",97261:"0bab3a61a3",97262:"bd67c3c6dd",98239:"5ffc72a768",98469:"ea9d67612f",98609:"b829cf3f01",98610:"0091d83199",98612:"59a2bd0ac3",98706:"e3ec77bb51",98925:"0a93b700a8",99059:"6b10e4219a",99147:"375129b7c0",99365:"bf568cff64",99366:"88cb355e19",99372:"d1c6f53b3a",99387:"a7b85baf39",99394:"1d0c8aef0a",99470:"5377f6125a",99471:"21f11a45c4",99961:"6972976b6d",100524:"e7ce187882",100580:"37966acb43",100608:"2f3ea1c6fe",100609:"63d30a6baa",100669:"19c6f8615f",100760:"8bae762b8a",100803:"7930ecd078",100878:"a0e9f4c8d9",100882:"836a18e528",100885:"d08a5cd8eb",100886:"204dbba2d2",100887:"7bf2f7c8f2",101196:"defcef9093",101197:"5e37f37fd3",101316:"6296fa3da2",102092:"b5dfe3771e",103672:"0bc7db5be5",103853:"bc8db87583",103854:"1353deac56",104004:"30907d6f33",104984:"358c4bccf5",105312:"1a158384c4",105314:"fd862ca0f2",105315:"a7c48413d3",105316:"68c7ba78cf",105318:"3293f96b30",105320:"1ae90e5bdd",105321:"7b2a8706a1",105526:"09af6fb4a0",105532:"78e08c84e0",105717:"6314b9bf3e",105718:"4677d0eb1b",105719:"85b1a80152",105851:"74bb99ccde",106050:"b556f00eb6",106248:"f9f5b8c466",106249:"a618d45e2a",106370:"260a6674c9",106371:"469eb918af",106405:"d458cd9d09",106567:"83e1e09003",106837:"9cd6b362b0",106906:"868ef83416",106920:"4e7dfb2e61",106921:"8d3a595052",107324:"050974bd6e",107326:"cd899aa4b1",109402:"76a9090faa",109408:"b526a9df8b",109523:"1b7301a9ad",109524:"815034a20f",109525:"31a946ddf7",109585:"19e9efb9a1",109586:"3c68c4e48a",109669:"29298bd51b",109700:"e48a1c706e",110071:"1a4b743dc1",110674:"f8deab1946",112089:"4a2ac0597c",113969:"37c46d89a7",113994:"0439f28c8a",114028:"bccc3df53d",114096:"655d96843b",114097:"76f91cf60f",114098:"f5cdb4aa98",114099:"89ac3e8352",114192:"796726b92f",114701:"6519efae75",114702:"47703aa2ae",114973:"3f8013b701",114974:"02f060e782",115491:"93d4db2eb0",115515:"55ac4487dc",115754:"8a1871a342",115801:"f980cc9b22",115892:"bb28492e7a",116152:"c72ffc765b",116153:"46773104ad",116199:"4c39e67188",116495:"1760edddc9",116925:"841acf3ddd",116930:"c2ce12ea90",116942:"7b1ab08c36",117139:"685467e8f5",117190:"769a3831ed",117409:"72a890e220",117410:"b1416ee46d",117411:"79b38fa35e",120508:"56bbe7201a",120510:"f7c401379d",120744:"7366a7ce0c",120787:"65efbf4f32",120920:"8b1d964126",121269:"d8f6ae5163",121486:"45f5f53829",122020:"03a178cc94",122319:"6f67d48eae",122439:"45535ad59b",122535:"042a95ad49",122601:"1adb06e001",122645:"cd92d30130",122646:"b464edee38",122813:"4d0d61c6cd",122845:"90a405e777",122871:"bfbf871dee",122872:"a04a28cce3",122873:"b68c398637",122874:"713e64b1b4",123650:"cb9759d224",123886:"e08a93489c",124030:"5fd4d79990",124278:"7322d89ac8",124335:"8f832a57a5",124336:"b73045bb63",124337:"2929fe6dd5",124338:"a72a0b9ed3",124339:"2faeb01ac2",124354:"9e87361148",124359:"efed972e15",124361:"5d454d2d0e",124365:"0b6b23ff50",124457:"8c75cc6e82",124656:"c21ec407fe",124722:"5abbab30b5",124946:"a66123ba1f",125103:"b33787b90a",125148:"65dbfa2fd8",125544:"3e48ba3f3e",126037:"3f78ff3207",126038:"80bb16db64",1e7:"ab2a79b4e1",10000001:"ea7eca3b49",10000002:"7a0b76bb2f",10000003:"49e502122c",10000004:"f1c67fac3c",10000005:"377db020e8",10000006:"547879da4e",10000007:"ca176545c8",10000008:"1a9d700b97",10000010:"a4cefa7f58",10000011:"aa7075e35b",10000012:"1ae8bddb93",10000013:"1e8886ad72",10000014:"f516ad362e",10000015:"787c19bee4",10000016:"d6475b75d5",10000017:"38ea08fad7",10000018:"5fab00fa2c",10000019:"e109f9b360",10000020:"90a178ea71",10000021:"bd128fcfed",10000022:"cd3face523",10000023:"c2f26784d1",10000024:"eb85193dfd",10000025:"9674e8f207",10000026:"6d37ba6b9a",10000035:"b0aca14cab",10000036:"d36ef645a5",10000037:"adf0bd9d7d",10000038:"0a8427037a",10000039:"9b0eb48861",10000040:"de880ed625",10000041:"82f6856d68",10000042:"98ff38947b",10000043:"3cde49fc7f",10000044:"204ea1bd83",10000045:"87b257dec6",10000046:"5579a14726",10000047:"aca78f9e2e",10000048:"fa2ea1e2fa",10000049:"673bfae6e5",10000050:"6f4e13e789",10000051:"d7f4837226",10000052:"53669c17cf",10000053:"cd9d4baf1b",10000054:"36a6a1b8ac",10000055:"61fbd3f45d",10000056:"36169adc34",10000057:"4dcf4dc5ea",10000058:"91ed3d5df9",10000059:"9975f2d18a",10000060:"291bb4c201",10000061:"835df65992",10000062:"8af22f787c",10000063:"13625d9512",10000064:"865b534730",10000065:"711a803835",10000066:"3f5a01518e",10000067:"a90790be86",10000068:"840b4c697a",10000069:"5b811cacf3",10000070:"26f90895bf",10000071:"ecfb5c1cab",10000072:"49ab120d1d",10000073:"8816deadae",10000074:"5c7a1ac24a",10000075:"0dc58fe713",10000076:"c791f64ecd",10000077:"fb2601505c",10000078:"ec0d63e687",10000079:"9f1a1f7510",10000080:"e51622030c",10000081:"c7a8cae6d0",10000082:"8ce761d02d",10000083:"7b6a42ef76",10000084:"479977505c",10000085:"930fdc5c22",10000086:"39e47fa144",10000087:"08cf53e104",10000088:"a2e20ffb1f",10000089:"68f37c2880",10000090:"be04a0b54e",10000324:"1ccab119ee",10000325:"1f783b581b",10000327:"21c25a4900",10000328:"482cefaa5d",10000329:"8ea8e0687e",10000330:"7f88a52c7e",10000687:"8cfe8cac9d",10000688:"6e4f7fa14e",10000689:"52ef8e630f",10000690:"e072687254",10000691:"3fe53e0c18",10000692:"9d30d89615",10000693:"d7956f1d3d",10000694:"05129d3c08",10000695:"74ef454681",10000696:"7ae9936d9c",10000697:"26fc0f70c4",10000698:"ae27296fe1",10000699:"d5f5b0f0cd",10000700:"eb8125a768",10000701:"3bea66735c",10000702:"16ae6df770",10000703:"761e431f4d",10000704:"063893f005",10000705:"55d48462e7",10000706:"5c3875edd3",10000707:"8968e719ff",10000708:"c517d35d9c",10000709:"5a2afc0cd9",10000710:"3e7a4e35f2",10000711:"44912da274",10000712:"e4ce60c3dd",10000713:"f18696c094",10000714:"017f28f8bb",10000715:"55116c14c3",10000716:"0f4395c2c4",10000717:"f3450f1ac2",10000718:"d1bc7ccfce",10000719:"88d3e1a480",10000720:"8eda205ac0",10000721:"f384ae2fa0",10000722:"4a3d1ff840",10000723:"68fd2589c4",10000724:"bae84a23bd",10000725:"d0f5458a4e",10000726:"6676d3d9a9",10000727:"aae1e1dcd7",10000728:"91ed3d5df9",10000729:"8f0eb3e289",10000730:"f1cea45a0b",10000731:"9351a7c7b0",10000732:"8ff05a8c34",10000733:"03f2821968",10000734:"7e89a633cb",10000735:"5f368efb3a",10000736:"5f368efb3a",10000737:"5bb87220bd",10000738:"6254881159",10000739:"1e02537eb0",10000740:"39270e0a06",10000741:"012978eb27",10000742:"d04b907379",10000743:"7070b1a14e",10000744:"6fc892f976",10000745:"8669619b19",10000746:"8b94534036",10000747:"7a40512ab1",10000748:"38d2e91fcf",10000749:"257cd6d50c",10000750:"3aa7ebea4f",10000751:"7e89a633cb",10000752:"a5abec86a6",10000753:"abafd1fcfc",10000754:"26fe7dbd61",10000755:"66d80d09bc",10000756:"08faf112c3",10000757:"05fedf88fd",10000758:"7680d4aba9",10000759:"f634153f8a",10000760:"46657a12ff",10000761:"64531a69c2",10000762:"904c2afaa9",10000763:"a3a3991956",10000764:"603cbf8d13",10000765:"78b12b1080",10000766:"211483a594",10000767:"07a0d69300",10000768:"183297f1ac",10000769:"e1c66b1569",10000770:"66b9851322",10000771:"fea86fbb59",10000772:"79a6fb7d55",10000773:"17f646de43",10000774:"468b27f1e6",10000775:"dab0ea43a2",10000776:"c3dc556a6d",10000777:"5b4df291a5",10000778:"17f4fcfd36",10000779:"47f71b40c3",10000780:"5c22398d33",10000781:"be5e562f33",10000782:"8b1de71fa0",10000783:"fdad521149",10000784:"d9dd4fd30f",10000785:"78e513e696",10000786:"5d44629314",10000787:"a5ab24f97d",10000788:"fb921aed0e",10000789:"d7f4f9500b",10000790:"8e63833564",10000791:"e3f4d88317",10000792:"533d5822ba",10000793:"4b226ceeb1",10000794:"a479c5c4c7",10000795:"df7301c3d9",10000796:"54fc95930e",10000797:"0c10dbde30",10000798:"b91b525b50",10000799:"6a4d2d099e",10000800:"0adbbddcf3",10000801:"38c747aefd",10000802:"f33b4f3f34",10000803:"a2d275785b"},this.externalQueries=new Set([]),this.customProperties=e.customProperties,this.externalData=e.externalData,this.logger=e.logger,this.messages=e.messages,this.network=e.network,this.permutive=e.permutive,this.permutiveData=e.permutiveData,this.queryWorker=e.queryWorker,this.realtime=e.realtime,this.sessionManager=e.sessionManager,this.transitionDebounceMaxTime=e.transitionDebounceMaxTime,this.transitionDebounceTime=e.transitionDebounceTime,this.userId=e.userId,this.viewId=e.viewId}processMessage(e){return this.queryWorker.postMessage(e)}}class dn extends((()=>(0,c.zG)(un,on))()){constructor(e){super(e),this.makeStateMaps()}}},3253:(e,t,n)=>{n.d(t,{S:()=>s});var r=n(655),c=n(3735),i=n(6013);class s{constructor(e,t){var n;this.db=e,this.options=t,this.hasChanged=!1,this.options=null!==(n=this.options)&&void 0!==n?n:{},this.options.timeout_seconds=this.options.timeout_seconds||1800,this.options.session_data_key=this.options.session_data_key||"permutive-session",this.session_id=null}getSessionId(){return this.session_id}sessionHasChanged(){return this.hasChanged}decodeSessionData(e){return null===e?null:"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?Object.assign(Object.assign({},e),{last_updated:new Date(e.last_updated)}):null}reset(){return this.db.delete(this.options.session_data_key)}persistSessionData(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=e.last_updated.toISOString();yield this.db.put(Object.assign(Object.assign({},e),{last_updated:t}),this.options.session_data_key)}))}newSession(e){return this.hasChanged=!0,{session_id:(0,i.k$)(),last_updated:e}}hasExpired(e,t){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*this.options.timeout_seconds)}static initialise(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r=new s(t,n);e.deleteCookie(r.options.session_data_key);const i=new Date,o=yield r.db.get(r.options.session_data_key).catch(c.gn),a=r.decodeSessionData(o),u=null===a||r.hasExpired(i,a.last_updated)?r.newSession(i):Object.assign(Object.assign({},a),{last_updated:i});return yield r.persistSessionData(u),r.session_id=u.session_id,r}))}}},2747:(e,t,n)=>{n.d(t,{S:()=>f});var r=n(3735),c=n(787),i=n(6013),s=n(7545);class o{constructor(e,t,n,r,c){this.config=e,this.namespace=t,this.logger=n,this.network=r,this.userId=c,this.permutiveData={},this.permutiveDataSize=0,this.localStorageQueue=new Set,this.localStorageScheduler=new s.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getDataChunk("misc")),this.getDataChunk("models")),this.getDataChunk("queries")),this.getDataChunk("tpd")),this.getDataChunk("enrichers"))}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),n=window.localStorage.getItem(t),r=(0,c.A)(n);return null===r?{}:(this.permutiveDataSize+=2*n.length,r)}chunkKeyToStorageKey(e){switch(e){case"models":return this.config.permutiveDataModelsKey;case"queries":return this.config.permutiveDataQueriesKey;case"tpd":return this.config.permutiveDataTPDKey;case"enrichers":return this.config.permutiveDataEnrichersKey;case"misc":return this.config.permutiveDataMiscKey;default:return(0,i.Fi)(e)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,n]=this.dataKeyToChunkInfo(e);return(0,i.Z_)(this.network,this.userId,(()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(n))))()}dataKeyToChunkInfo(e){const t=e=>(0,i.eu)(this.permutiveData,e);switch(e){case"models_data":case"models_last_updated":return[this.chunkKeyToStorageKey("models"),t(a)];case"query_states":case"internal_query_states":case"external_query_states":case"state_offset":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(u)];case"third-party-data":case"third-party-data-session-id":case"third-party-data-usage":return[this.chunkKeyToStorageKey("tpd"),t(d)];case"enricher:geoip":return[this.chunkKeyToStorageKey("enrichers"),t(l)];case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:twitter_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(g)];default:return(0,i.Fi)(e)}}}const a=["models_data","models_last_updated"],u=["query_states","internal_query_states","external_query_states","state_offset","event-source-id"],d=["third-party-data","third-party-data-session-id","third-party-data-usage"],l=["enricher:geoip"],g=["identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:twitter_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"];var p=n(5097);const h=e=>{const{logger:t,consentTracking:n}=e,r=e=>{t.debug(`Data Store: Failed to write ${e} as consent is revoked`)};return e=>class extends e{constructor(){super(...arguments),this.writeData=(0,p.v)(super.writeData.bind(this),r,n.isRevoked)}}},f=(e,t,n,c,i,s)=>new((0,r.zG)(o,h({consentTracking:s,logger:n})))(e,t,n,c,i)},1823:(e,t,n)=>{n.d(t,{$:()=>c});var r=n(6013);class c{constructor(e){this.permutiveData=e,this.eventSourceId=e.getData("event-source-id")||this.generateAndStoreEventSourceId()}get(){return this.eventSourceId}generateAndSet(){this.eventSourceId=this.generateAndStoreEventSourceId()}generateAndStoreEventSourceId(){const e=(0,r.k$)();return this.permutiveData.setData("event-source-id",e),e}}},7738:(e,t,n)=>{n.d(t,{L:()=>r});class r{constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}},4528:(e,t,n)=>{n.d(t,{u:()=>r});class r{constructor(e,t){this.metrics=e,this.messages=t}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){this._isRealtime=!0,this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{}),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){this._isReady=!0,this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{sdk_version:"v19.37.1"}),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},2472:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(655),c=n(3735),i=n(356);class s{constructor(e,t,n,r,c,i,s,o){this.config=e,this.localStorage=t,this.logger=n,this.queryManager=r,this.permutiveData=c,this.eventSourceId=i,this.cookies=s,this.externalData=o}reset(){return(0,r.mG)(this,void 0,void 0,(function*(){return this.logger.log("Resetting State"),(0,c.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>(0,i.XP)({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfwqp:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,_pclmc:!0,"permutive-prebid-rtd":!0,"permutive-events-cache":!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.queryManager.reset()),(e=>this.permutiveData.reset()),(e=>this.eventSourceId.generateAndSet()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataModelsKey),this.localStorage.delete(this.config.permutiveDataQueriesKey),this.localStorage.delete(this.config.permutiveDataTPDKey),this.localStorage.delete(this.config.permutiveDataEnrichersKey),this.localStorage.delete(this.config.permutiveDataMiscKey)])),c.Q1)}))}}},1714:(e,t,n)=>{n.d(t,{N:()=>f,e:()=>p});var r=n(655),c=n(2688),i=n(7183),s=n(8198),o=n(3735),a=n(477),u=n.n(a);function d(){return u()('/*! permutive-javascript-sdk v19.37.1 (web) (built 2022-10-27T06:32:28.699Z) */(()=>{"use strict";const n=()=>({kind:"null",value:null}),r=n=>({kind:"string",value:n}),t=n=>({kind:"number",value:n}),e=n=>({kind:"array",value:n}),u=n=>({kind:"object",value:n}),i=n=>n,o=()=>({kind:"bottom"}),c=n=>({kind:"inner",a:n}),a=n=>({kind:"top",error:n}),s=n=>({kind:"unbounded",group:n}),f=(n,r)=>({kind:"windowed",key:r,group:n}),l=(n,r,t)=>({kind:"countLimit",n:t,limit:r,group:n}),d=(n,r,t)=>({kind:"uniqueLimit",n:t,limit:r,group:n}),p=n=>({kind:"numberGroup",group:n}),m=n=>({kind:"stringGroup",group:n}),g=n=>({kind:"tuple",tuple:n}),v=n=>({state:n}),h=(n,r)=>({commands:n,payload:r});function k(n){return n}function w(n,r,t,e,u,i,o,c,a){switch(arguments.length){case 1:return n;case 2:return r(n);case 3:return t(r(n));case 4:return e(t(r(n)));case 5:return u(e(t(r(n))));case 6:return i(u(e(t(r(n)))));case 7:return o(i(u(e(t(r(n))))));case 8:return c(o(i(u(e(t(r(n)))))));case 9:return a(c(o(i(u(e(t(r(n))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}}var y=function(n){return{equals:function(r,t){return r===t||n(r,t)}}},b=function(n){return y((function(r,t){for(var e in n)if(!n[e].equals(r[e],t[e]))return!1;return!0}))},x=function(n){return function(r,t){return r===t||0===n(r,t)}},j=function(n){return{equals:x(n),compare:function(r,t){return r===t?0:n(r,t)}}},N=function(n){return function(r){return j((function(t,e){return r.compare(n(t),n(e))}))}},q=function(n){return function(r,t){return-1===n.compare(r,t)}},L=function(n){return function(r,t){return 1===n.compare(r,t)}},O=function(n){return function(r,t){return r===t||n.compare(r,t)>-1?r:t}};var M={equals:function(n,r){return n===r}},S={equals:M.equals,compare:function(n,r){return n<r?-1:n>r?1:0}};const G=(n,r)=>{switch(n.kind){case"bottom":return{kind:"bottom"};case"inner":return c(r(n.a));case"top":return a(n.error)}},E=n=>j(((r,t)=>{if("bottom"===r.kind&&"bottom"===t.kind)return 0;if("bottom"===r.kind)return-1;if("bottom"===t.kind)return 1;if("top"===r.kind&&"top"===t.kind)return S.compare(r.error,t.error);if("top"===r.kind)return 1;if("top"===t.kind)return-1;if("inner"===r.kind&&"inner"===t.kind)return n.compare(r.a,t.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var _=function(n,r){for(var t=0,e=r.length,u=n.length;t<e;t++,u++)n[u]=r[t];return n},A=function(n){return"Some"===n._tag},$={_tag:"None"},I=function(n){return{_tag:"Some",value:n}},C=function(n){return"Left"===n._tag},z=(Object.prototype.hasOwnProperty,function(n){return _([n[0]],n.slice(1))});var J=$,P=I;function R(n){return function(r){return n(r)?P(r):J}}var F=function(n){return"Left"===n._tag?J:P(n.right)},W=function(n){return{equals:function(r,t){return r===t||(H(r)?H(t):!H(t)&&n.equals(r.value,t.value))}}},B=function(n){return{equals:W(n).equals,compare:function(r,t){return r===t?0:D(r)?D(t)?n.compare(r.value,t.value):1:-1}}},T=function(n){return function(r){return H(r)?J:P(n(r.value))}},U=F,D=A,H=function(n){return"None"===n._tag},K=function(n){return function(r){return H(r)?n():r.value}};var Q;Q=void 0;var V=function(n){return n[0]},X=V;var Y=function(n,r){for(var t=0,e=r.length,u=n.length;t<e;t++,u++)n[u]=r[t];return n},Z=function(n){return n.length>0},nn=function(n,r){return n<0||n>=r.length},rn=function(n){return function(r){return Y([n],r)}},tn=rn,en=function(n){return function(r){return Y(Y([],r),[n])}},un=en,on=z,cn=function(n){return Z(n)?I(n):$},an=function(n){return function(r){for(var t=Math.max(0,Math.floor(r)),e=[n(0)],u=1;u<t;u++)e.push(n(u));return e}};var sn=on;var fn=function(n){return function(r){var t=Math.max(1,n);return t>=r.length?[sn(r),[]]:[w(r.slice(1,t),tn(dn(r))),r.slice(t)]}},ln=function(n){return y((function(r,t){return r.length===t.length&&r.every((function(r,e){return n.equals(r,t[e])}))}))},dn=X;var pn={equals:function(n,r){return n===r}},mn={equals:pn.equals,compare:function(n,r){return n<r?-1:n>r?1:0}};var gn=function(n,r){return function(t){for(var e=t.length,u=n,i=0;i<e;i++)u=r(i,u,t[i]);return u}};var vn=function(n){return 0===n.length},hn=Z,kn=tn,wn=un,yn=function(n,r){return n<=0?[]:an(r)(n)};var bn=nn,xn=function(n){return function(r){return bn(n,r)?qn(r):r.slice(0,n)}};var jn=function(n,r){for(var t=n.length,e=0;e<t&&r(n[e]);e++);return e};var Nn=function(n){return function(r){return n<=0||vn(r)?qn(r):n>=r.length?[]:r.slice(n,r.length)}};var qn=function(n){return n.slice()},Ln=function(n){return vn(n)?[]:n.slice().reverse()},On=function(n){return function(r){return r.length<=1?qn(r):r.slice().sort(n.compare)}},Mn=function(n,r,t){for(var e=[],u=Math.min(n.length,r.length),i=0;i<u;i++)e[i]=t(n[i],r[i]);return e};var Sn=function(n){return function(r){return n>=1&&hn(r)?fn(n)(r):vn(r)?[qn(r),[]]:[[],qn(r)]}};var Gn=function(n){return function(r){return w(r,function(n){return function(r){for(var t=[],e=0;e<r.length;e++)t.push.apply(t,n(e,r[e]));return t}}((function(r,t){return n(t)})))}},En=function(n){return function(r){for(var t=[],e=0;e<r.length;e++){var u=n(e,r[e]);A(u)&&t.push(u.value)}return t}},_n=function(n){return En((function(r,t){return n(t)}))},An=_n(k),$n=gn,In=function(n){var r=Cn(n);return function(n){return r((function(r,t){return n(t)}))}},Cn=function(n){return function(r){return $n(n.of([]),(function(t,e,u){return n.ap(n.map(e,(function(n){return function(r){return w(n,wn(r))}})),r(t,u))}))}},zn=function(n){return j((function(r,t){for(var e=r.length,u=t.length,i=Math.min(e,u),o=0;o<i;o++){var c=n.compare(r[o],t[o]);if(0!==c)return c}return mn.compare(e,u)}))},Jn=function(n){return{_tag:"Left",left:n}},Pn=function(n){return{_tag:"Right",right:n}},Rn=function(n,r){return w(n,Bn(r))},Fn=function(n,r){return w(n,Un(r))},Wn="Either",Bn=function(n){return function(r){return Hn(r)?r:Pn(n(r.right))}},Tn=Pn,Un=function(n){return function(r){return Hn(r)?r:Hn(n)?n:Pn(r.right(n.right))}},Dn={URI:Wn,map:Rn,ap:Fn,of:Tn},Hn=C;var Kn=function(n){return-1===n?1:1===n?-1:0};function Qn(n,r){return An(n.map(r))}function Vn(n,r,t,e){const u=(n,r)=>{if(0===n.length)return An(r.map((n=>P({1:n[1],2:t(J,P(n[2]))}))));if(0===r.length)return An(n.map((n=>P({1:n[1],2:t(P(n[2]),J)}))));if(n.length>0&&r.length>0&&q(e)(n[0][1],r[0][1])){const[e,...i]=n,o=e[1],c=e[2];return kn({1:o,2:t(P(c),J)})(u(i,r))}if(n.length>0&&r.length>0&&L(e)(n[0][1],r[0][1])){const[e,...i]=r,o=e[1],c=e[2];return kn({1:o,2:t(J,P(c))})(u(n,i))}if(n.length>0&&r.length>0){const[e,...i]=n,[o,...c]=r,a=e[1],s=e[2],f=o[2];return kn({1:a,2:t(P(s),P(f))})(u(i,c))}throw new Error("Non exhaustive match in mapOption2")},i=N((n=>n[1]))(e),o=(n=>{const r=Qn(n,(n=>D(n[2])?P({1:n[1],2:n[2].value}):J));return 0===r.length?J:P(r)})(u(On(i)([...n].map((n=>({1:n[0],2:n[1]})))),On(i)([...r].map((n=>({1:n[0],2:n[1]}))))));return T((n=>new Map(n.map((n=>[n[1],n[2]])))))(o)}function Xn(n,r,t,e){const u=N((n=>n[0]))(e),i=On(u)([...r]).reduceRight(((n,r)=>{if(Hn(n)){const e=t(r[1],n.left);return D(e)?Jn(e.value):Pn(r[0])}return n}),Jn(n));return U(i)}function Yn(n,r){return new Map([...n].map(r))}function Zn(n,r){return new Map([...n].filter(r))}function nr(n){return JSON.stringify(rr(n))}function rr(n){switch(n.kind){case"null":return ur.encode(n);case"string":return ir.encode(n);case"number":return or.encode(n);case"array":return cr.encode(n);case"object":return ar.encode(n)}}function tr(n){return null===n?ur.decode(n):"number"==typeof n?or.decode(n):"string"==typeof n?ir.decode(n):Array.isArray(n)?cr.decode(n):ar.decode(n)}const er=(n,r)=>Jn(`Failed to decode. Input was ${JSON.stringify(n)}. Codec type was ${r}`),ur={encode:n=>null,decode:n=>null===n?Pn({kind:"null",value:null}):er(n,"SimpleNull")},ir={encode:n=>n.value,decode:n=>"string"==typeof n?Pn(r(n)):er(n,"SimpleString")},or={encode:n=>n.value,decode:n=>"number"==typeof n?Pn(t(n)):er(n,"SimpleNumber")},cr={encode:n=>n.value.map(rr),decode:n=>{if(Array.isArray(n)){const r=In(Dn)(tr)(n);return Bn(e)(r)}return er(n,"SimpleArray")}},ar={encode:n=>{const r=[...n.value.entries()];return Object.assign({},...Array.from(r,(([n,r])=>({[n]:rr(r)}))))},decode:n=>{if(n&&n.constructor===Object){const r=In(Dn)((([n,r])=>w(tr(r),Bn((r=>function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n}(n,r))))))(Object.entries(n));return Bn((n=>u(new Map([...n]))))(r)}return er(n,"SimpleObject")}};function sr(n){return w(n,lr,T(nr),K((()=>"<encode error>")))}function fr(n){return T(hr)(function(n){switch(n.state.kind){case"top":return P(r(n.state.error));case"bottom":return J;case"inner":return lr(n.state.a)}}(n))}function lr(n){return function(n){switch(n.kind){case"numberGroup":case"stringGroup":return dr(n.group);case"tuple":return n.tuple.length>0}}(n.payload)?P(e(function(n,r){const t=T((n=>kn(n)(r)))(n);return K((()=>r))(t)}(T((n=>r(function(n){const r=n=>{switch(n){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},t=n=>1===n[2]?r(n[1]):r(n[1])+JSON.stringify(n[2]);return n.map(t).join("")}(n))))(n.commands),function(n){const e=n=>{switch(n.kind){case"bottom":return{kind:"null",value:null};case"top":return r(n.error);case"inner":return t(n.a)}},i=n=>Qn([pr,mr,n=>w(n,vr,u,P)],(r=>r(n))),o=n=>Qn([pr,gr,n=>w(n,vr,(n=>Yn(n,(([n,r])=>[JSON.stringify(n),r]))),u,P)],(r=>r(n)));switch(n.kind){case"tuple":return n.tuple.map(e);case"stringGroup":return i(n.group);case"numberGroup":return o(n.group)}}(n.payload)))):J}function dr(n){switch(n.kind){case"unbounded":return n.group.size>0;case"windowed":return n.group.size>0||D(n.key);case"countLimit":case"uniqueLimit":return n.group.size>0||D(n.limit)}}function pr(n){switch(n.kind){case"unbounded":return J;case"windowed":return P(r("w"));case"countLimit":return P(r(1===n.n?"x":`x${n.n}`));case"uniqueLimit":return P(r(1===n.n?"u":`u${n.n}`))}}function mr(n){switch(n.kind){case"unbounded":return J;case"windowed":return P(r(D(n.key)?n.key.value:""));case"countLimit":case"uniqueLimit":return P(r(D(n.limit)?n.limit.value:""))}}function gr(n){switch(n.kind){case"unbounded":return J;case"windowed":return D(n.key)?P(t(n.key.value)):P({kind:"null",value:null});case"countLimit":case"uniqueLimit":return D(n.limit)?P(t(n.limit.value)):P({kind:"null",value:null})}}function vr(n){switch(n.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return n.group}}function hr(n){switch(n.kind){case"array":return 0===n.value.length?{kind:"null",value:null}:1===n.value.length?hr(n.value[0]):e(n.value.map(hr));case"object":return w(Zn(n.value,(([n,r])=>"null"!==r.kind)),(n=>Yn(n,(n=>[n[0],hr(n[1])]))),u);default:return n}}function kr(n){const r=n=>{if(0===n.length)return{kind:"bottom"};const r=(n=>{if(4!==n.length)return J;const[r,t,e,u]=n;if("string"===r.kind&&"string"===t.kind&&"object"===u.kind){const n=R((n=>wr(n[1].value)&&yr(n[2].value)))({1:r,2:t});return T((n=>({prim:n[1].value,grp:n[2].value,cutoff:e,m:u.value})))(n)}return J})(n);if(D(r)){const{prim:n,grp:t,cutoff:e,m:u}=r.value,i=br(e,u,xr(t));return"string"==typeof i?a(i):c(h(jr(n),i))}const t=(n=>{if(3!==n.length)return J;const[r,t,e]=n;if("string"===r.kind&&"object"===e.kind){const n=R((n=>yr(n.value)))(r);return T((n=>({grp:n.value,cutoff:t,m:e.value})))(n)}return J})(n);if(D(t)){const{grp:n,cutoff:r,m:e}=t.value,u=br(r,e,xr(n));return"string"==typeof u?a(u):c(h(J,u))}const e=(n=>{if(2!==n.length)return J;const[r,t]=n;if("string"===r.kind&&"object"===t.kind){const n=R((n=>wr(n.value)))(r);return T((n=>({prim:n.value,m:t.value})))(n)}return J})(n);if(D(e)){const{prim:n,m:r}=e.value;return c(h(jr(n),m(s(r))))}const u=(n=>{if(1!==n.length)return J;const[r]=n;return"object"===r.kind?P({m:r.value}):J})(n);if(D(u)){const{m:n}=u.value;return c(h(J,m(s(n))))}const i=(n=>{if(n.length<1)return J;const[r,...t]=n;if("string"===r.kind){const n=R((n=>wr(n.value)))(r);return T((n=>({prim:n.value,rest:t})))(n)}return J})(n);if(D(i)){const{prim:n,rest:r}=i.value;return c(h(jr(n),qr(r)))}return c(h(J,qr(n)))},t=n=>"array"===n.kind?Gn(t)(n.value):[n];return"null"===n.kind?v({kind:"bottom"}):v(r(t(n)))}function wr(n){const r=n.split("");if(!0==(0===r.length))return!1;{const[n,...t]=r;return-1!=="pmvn".indexOf(n)&&t.every((n=>-1!=="pmvn0123456789".indexOf(n)))}}function yr(n){const r=n.split("");switch(!0){case 0===r.length:return!1;case"w"===r[0]&&void 0===r[1]:return!0;default:{const[n,...t]=r;return-1!=="ux".indexOf(n)&&-1===t.map((n=>!isNaN(parseInt(n)))).indexOf(!1)}}}function br(n,r,t){switch(n.kind){case"string":return m(t({1:P(n.value),2:r}));case"number":case"null":return p(t({1:"null"===n.kind?J:P(n.value),2:Zn(Yn(r,(([n,r])=>[Number(n),r])),(n=>!isNaN(n[0])))}));default:return"{bad cutoff}"}}function xr(n){const r=n=>r=>d(r[2],r[1],n),t=n=>r=>l(r[2],r[1],n),e=n.split("");switch(!0){case"w"===e[0]&&void 0===e[1]:return n=>f(n[2],n[1]);case"u"===e[0]&&void 0===e[1]:return r(1);case"u"===e[0]&&void 0!==e[1]:return r(parseInt(e.slice(1).join("")));case"x"===e[0]&&void 0===e[1]:return t(1);case"x"===e[0]&&void 0!==e[1]:return t(parseInt(e.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function jr(n){return T(i)(cn(Nr(n,(n=>{const r=n.split("");if(0===r.length)return J;const[t,...e]=r,u=(n=>{switch(n){case"p":return P("add");case"m":return P("mul");case"v":return P("max");case"n":return P("min");default:return J}})(t);return T((n=>{const{init:r,rest:t}=(u=n=>{return"number"==typeof(r=parseInt(n))&&isFinite(r)&&Math.floor(r)===r;var r},function(n){var r=Sn(jn(n,u))(n);return{init:r[0],rest:r[1]}})(e);var u;return{1:{1:n,2:0===r.length?1:parseInt(r.join(""))},2:t.join("")}}))(u)}))))}function Nr(n,r){const t=r(n);return K((()=>[]))(T((n=>[n[1]].concat(Nr(n[2],r))))(t))}function qr(n){return g(n.map(Lr))}function Lr(n){switch(n.kind){case"number":return c(n.value);case"string":return a(n.value);case"null":return{kind:"bottom"};case"object":return a("{object}");case"array":return a("{array}")}}const Or={strategy:(n,r,t)=>e=>{if(H(t))return r;if("delta"===n&&H(r))return J;if(H(r))return t;if(D(r)&&D(t))return e(r.value,t.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(n,r,t,e,u,i)=>{const c=zn(E(i));if("append"===n&&"add"===r)return Mn(t,e,Ir("append",u.plus));if("append"===n&&"mul"===r)return Mn(t,e,Ir("append",u.times));if("append"===n&&"max"===r)return O(c)(t,e);if("join"===n&&"add"===r)return Mn(t,e,Ir("join",O(i)));if("join"===n&&"mul"===r)return Mn(t,e,Ir("join",O(i)));if("join"===n&&"max"===r)return O(c)(t,e);if("min"===r)return Or.operation(n,"max",t,e,u,function(n){return j(((r,t)=>Kn(n.compare(r,t))))}(i));if("delta"===n&&"max"===r)return L(c)(t,e)?t:e.map(o);if("delta"===n)return Mn(t,e,((n,r)=>L(E(i))(n,r)?n:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(n,r,t,e)=>{if("delta"===n&&"top"===t.kind&&"top"===e.kind)return L(S)(t.error,e.error)?a(t.error):{kind:"bottom"};if("delta"===n&&"bottom"===e.kind)return t;if("delta"===n&&"bottom"===t.kind)return{kind:"bottom"};if("top"===t.kind&&"top"===e.kind)return a(O(S)(t.error,e.error));if("top"===t.kind)return t;if("top"===e.kind)return e;if("inner"===t.kind&&"inner"===e.kind)return r(t.a,e.a);if("bottom"===t.kind)return e;if("bottom"===e.kind)return t;throw new Error("Non exhaustive match in extend")}},Mr={plus:(n,r)=>n+r,times:(n,r)=>n*r};function Sr(n,r,t,e){if("unbounded"===n.kind&&"unbounded"===r.kind){const u=n.group,i=r.group;return K(o)(T((n=>c(s(n))))(Vn(u,i,t,e)))}if("windowed"===n.kind&&"windowed"===r.kind){const u=n.key,i=n.group,a=r.key,s=r.group,l=O(B(e))(u,a);return K(o)(T((n=>c(f(n,l))))(Vn(i,s,t,e)))}if("countLimit"===n.kind&&"countLimit"===r.kind){const u=n.n,i=r.n;if(u===i){const i=n.limit,a=n.group,s=r.limit,f=r.group,d=O(B(e))(i,s);return K(o)(T((n=>c(l(n,d,u))))(Vn(a,f,t,e)))}return a("Non matching counts")}if("uniqueLimit"===n.kind&&"uniqueLimit"===r.kind){const u=n.n,i=r.n;if(u===i){const i=n.limit,a=n.group,s=r.limit,f=r.group,l=O(B(e))(i,s);return K(o)(T((n=>c(d(n,l,u))))(Vn(a,f,t,e)))}return a("Non matching counts")}return a("Non matching group types")}function Gr(n,r,t,e,u,i){const c=(n,r)=>({1:xn(n)(r).concat(yn(Math.max(0,n-r.length),o)),2:Nn(n)(r)}),a=(r,t,e)=>{if(0===r.length)return Or.operation(n,"max",t,e,u,i);if(r.length>0){const[o,...s]=r,f=c(o[2],t),l=f[1],d=f[2],p=c(o[2],e),m=p[1],g=p[2];return Or.operation(n,o[1],l,m,u,i).concat(a(s,d,g))}throw new Error("Non exhaustive match in recurse")};return Ln((s=n=>"bottom"===n.kind,function(n){return n.slice(jn(n,s))})(Ln(a(r,t,e))));var s}function Er(r,t,e){return K(n)(_r(r,J)(t,e))}function _r(n,r){const t=r=>(t,e)=>Or.strategy(n,t,e)(_r(n,r)),e=(e,u)=>{if(W(ln(b({1:M,2:pn}))).equals(e.commands,u.commands)){const i=((r,e,u)=>{if("stringGroup"===e.kind&&"stringGroup"===u.kind){const n=Sr(e.group,u.group,t(r),S);return G(n,(n=>m($r(n,S))))}if("numberGroup"===e.kind&&"numberGroup"===u.kind){const n=Sr(e.group,u.group,t(r),mn);return G(n,(n=>p($r(n,mn))))}if("tuple"===e.kind&&"tuple"===u.kind){const t=D(r)?r.value:[];return c(g(Gr(n,t,e.tuple,u.tuple,Mr,mn)))}throw new Error(`Non matching payload. Got ${e.kind} and ${u.kind}`)})(H(e.commands)?r:e.commands,e.payload,u.payload);return G(i,(n=>h(e.commands,n)))}throw new Error(`Non matching primitive strings. Got ${sr(e)} and ${sr(u)}`)};return(r,t)=>fr(v(Or.extend(n,e,kr(r).state,kr(t).state)))}function Ar(n,r,t){const e=T((r=>Zn(n,(([n,e])=>{return(u=t,function(n,r){return-1!==u.compare(n,r)})(n,r);var u}))))(r);return K((()=>n))(e)}function $r(n,r){switch(n.kind){case"unbounded":return n;case"windowed":return H(n.key)?n:f(Ar(n.group,n.key,r),n.key);case"countLimit":{const t=n.limit,e=n.n,u=n.group,i=(n,r)=>r<=1?J:P(r-1),o=Xn(e,u,i,r),c=O(B(r))(t,o);return l(Ar(u,c,r),c,e)}case"uniqueLimit":{const t=n.limit,e=n.n,u=n.group,i=(n,r)=>{if("object"===n.kind){const t=[...n.value.keys(),...r.keys()],u=new Set(t);return u.size>=e?J:P(u)}return J},o=Xn(new Set,u,i,r),c=O(B(r))(t,o);return d(Ar(u,c,r),c,e)}}}function Ir(n,r){return(t,e)=>Or.extend(n,((n,t)=>c(r(n,t))),t,e)}function Cr(n,r,t,e,u,i,o,c,a){switch(arguments.length){case 1:return n;case 2:return r(n);case 3:return t(r(n));case 4:return e(t(r(n)));case 5:return u(e(t(r(n))));case 6:return i(u(e(t(r(n)))));case 7:return o(i(u(e(t(r(n))))));case 8:return c(o(i(u(e(t(r(n)))))));case 9:return a(c(o(i(u(e(t(r(n))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}}var zr=function(n){return"Some"===n._tag},Jr={_tag:"None"},Pr=function(n){return{_tag:"Some",value:n}},Rr=function(n){return"Left"===n._tag},Fr=Object.prototype.hasOwnProperty,Wr=Rr,Br=function(n){return function(r){return Wr(r)?n(r.left):r.right}};var Tr=function(n){return function(r){return!n(r)}};var Ur=Jr,Dr=Pr;var Hr=zr;var Kr=function(n){for(var r in n)if(Fr.call(n,r))return!1;return!0};function Qr(n){return function(r){var t={},e=!1;for(var u in r)if(Fr.call(r,u)){var i=r[u];n(u,i)?t[u]=i:e=!0}return e?t:r}}var Vr=function(n){return Qr((function(r,t){return n(t)}))};var Xr=Kr;var Yr=Vr;Yr(Tr(Xr));Tr((function(n){return 0===n.length}));function Zr(n,r){const t=Object.keys(n),e=t.length,u={};for(let i=0;i<e;i++){const e=t[i],o=r(e,n[e]);Hr(o)&&(u[e]=o.value)}return u}function nt(n,r){const t=Cr((n=>Zr(n,((n,r)=>r.state?Dr({[r.checksum]:r.state}):Ur)))(n),tr,Br((n=>u(new Map)))),e=Cr(tr(r),Br((n=>u(new Map))));return Cr(function(n,r){return Er("delta",n,r)}(t,e),(n=>rr(n)))||{}}!function(n){const r=self;function t(n,t,e,u){function i(t){if("function"!=typeof r.postMessage)return n.ports[0].postMessage(t);r.postMessage(t)}if(!e)return i([t,null,u]);"undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",e),i([t,e])}r.addEventListener("message",(function(r){if(e=r,!Array.isArray(e.data)||2!==e.data.length)return;var e;const u=r.data,[i,o]=u;if("function"==typeof n)return function(n,r,e,u){const i=function(n,r){try{return{res:n(r)}}catch(n){return{err:n}}}(r,u);return Boolean(null===(o=i)||void 0===o?void 0:o.err)?t(n,e,i.err):!(c=i.res)||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.then?t(n,e,null,i.res):void i.res.then((function(r){t(n,e,null,r)}),(function(r){t(n,e,r)}));var o,c}(r,n,i,o);t(r,i,new Error("Please pass a function into register()."))}))}((function(n){switch(n.type){case"delta":return nt(n.stateMap,n.lastSentStateMapWithChecksum);case"noop":return{}}}))})();',"Worker",void 0,void 0)}var l=n(7545),g=n(7121);function p(){return(0,i.h)(new d)}const h={concat:(e,t)=>Object.assign(Object.assign({},e),t),empty:{}};class f{constructor(e,t,n,r,c,i,s,o,a){this.api=e,this.network=t,this.sessionManager=n,this.permutiveData=r,this.queryManager=c,this.metrics=i,this.userId=s,this.eventSourceId=o,this.stateWorker=a,this.DEBOUNCE_TIME=1e3,this.MAX_DEBOUNCE_TIME=5e3,this.fetchUnseenState=!0,this.scheduler=new l.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedSyncIfNotEmpty=this.scheduler.scheduleAccumulated((e=>this.syncIfNotEmpty.bind(this)("standard",e)),h),this.fetchUnseenState=!!m.includes("e488cdb0-e7cb-4d91-9648-60d437d8e491")||this.sessionManager.sessionHasChanged(),this.stateOffset=this.permutiveData.getData("state_offset")||0,this.lastSentStateMapWithChecksum=(0,g.Yh)(this.permutiveData.getData("internal_query_states")||{}),this.stateWorker.postMessage({type:"noop"})}sync(e){return(0,o.zG)(this.debouncedSyncIfNotEmpty(e),(e=>Promise.resolve()))}syncWithUnseen(){return this.syncIfNotEmpty("unseen",{}).then(o.Q1)}syncIfNotEmpty(e,t){const[n,r,i]="standard"===e?[this.stateOffset,t,this.fetchUnseenState]:"unseen"===e?[this.stateOffset,this.queryManager.stateMap.value,!0]:[0,{},!0],s=this.metrics.startTimer("sdk_compute_delta_seconds",{}),a={type:"delta",stateMap:r,lastSentStateMapWithChecksum:this.lastSentStateMapWithChecksum},u=this.stateWorker.postMessage(a).then((e=>(this.metrics.stopTimer("sdk_compute_delta_seconds",s),e))),d=e=>{this.fetchUnseenState=!1;const t=(0,o.ls)((e=>this.network.error(`Error sending state delta. Got ${(0,c.w)(e)}`,this.userId.get())),(e=>({})));return this.api.state(this.metrics,this.userId.get(),this.eventSourceId.get(),e,n,i).then((e=>function(e){return!!e}(e)?this.onStateResponse(e):{})).then((t=>(this.lastSentStateMapWithChecksum=e,t))).catch(t)};return u.then((e=>i||Object.keys(e).length>0?d(e):Promise.resolve({})))}resetSync(){return(0,r.mG)(this,void 0,void 0,(function*(){this.reset(),yield this.syncIfNotEmpty("reset",{})}))}reset(){this.lastSentStateMapWithChecksum={}}onStateResponse(e){const t=(0,s.Y3)((()=>JSON.parse(e.state)),(e=>this.network.error(`Failed to parse State API response, got ${e}`,this.userId.get()))),n=e=>e?this.queryManager.updateExternalState(e):(0,o.Q1)();return(0,s.tO)(t)?(0,o.zG)(e.state_offset,(e=>this.stateOffset=e),(e=>this.permutiveData.setData("state_offset",e)),(e=>n(t.right)),(e=>t.right)):{}}}const m=["fe68d1f7-c9f4-45b3-8905-7cda73d3fd74"]},7258:(e,t,n)=>{n.d(t,{u:()=>r});class r{constructor(e,t,n,r,c){this.permutiveData=e,this.permutiveReset=t,this.userId=n,this.viewId=r,this.eventsCache=c}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.permutiveData.getDataSize()+this.eventsCache.getStateSizeInBytes()}reset(){return this.permutiveReset.reset()}}},7846:(e,t,n)=>{n.d(t,{M:()=>s});var r=n(3735),c=n(6567),i=n(6013);class s{constructor(e,t,n,r){this.config=e,this.clientContext=t,this.cookies=n,this.externalData=r,this.userId=this.getOrGenerateUserId(),this.set(this.userId)}isEqual(e){return this.userId===e}get(){return this.userId}set(e){this.cookies.setCookie(this.config.cookieName,e,!0),this.externalData.setExternalData(this.config.cookieName,e),this.clientContext.updateContext(["user_id",e]),this.userId=e}getOrGenerateUserId(){return(0,c.fS)((()=>(0,c.fS)(i.k$)(this.getUserIdFromLocalStorage())))(this.getUserIdFromCookie())}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=(0,c.DT)(i.Gz);return(0,r.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),c.ij,(0,c.tS)(t))}}},6919:(e,t,n)=>{n.d(t,{W:()=>c});var r=n(6013);class c{constructor(e,t){this.clientContext=e,this.config=t,t.viewId&&(0,r.Gz)(t.viewId)?this.set(t.viewId):this.generateAndSet()}get(){return this.viewId}generateAndSet(){return this.set((0,r.k$)())}set(e){return this.viewId=e,this.clientContext.updateContext(["view_id",this.viewId]),this.viewId}}},2485:(e,t,n)=>{n.d(t,{_:()=>c});var r=n(5097);const c=e=>{const{logger:t,consentTracking:n}=e,c=(e,n)=>(t.debug(`DB: Failed to write ${String(n)} as consent is revoked`),Promise.resolve(n));return e=>class extends e{constructor(){super(...arguments),this.put=(0,r.v)(super.put.bind(this),c,n.isRevoked)}}}},3195:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(3735),c=n(2485),i=n(787);class s{constructor(e){this.namespace=e}put(e,t){return(0,r.zG)(this.namespace.getNamespacedStorageKey(String(t)),(t=>window.localStorage.setItem(t,JSON.stringify(e))),(e=>Promise.resolve(t)))}get(e){return(0,r.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>window.localStorage.getItem(e)),i.A,(e=>Promise.resolve(e)))}delete(e){return(0,r.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>Promise.resolve(window.localStorage.removeItem(e))))}deleteStore(){return Promise.resolve()}}const o=(e,t,n)=>new((0,r.zG)(s,(0,c._)({logger:t,consentTracking:n})))(e)},5595:(e,t,n)=>{n.d(t,{m:()=>r});class r extends Error{constructor(e){super(e),this.name="StoreClosingError"}}},1057:(e,t,n)=>{n.d(t,{Ec:()=>s,_8:()=>i});var r=n(6567),c=n(6013);const i=e=>{const t=e.__tcfapi,n={type:"aborted"},i=["tcloaded","useractioncomplete"];return t?(0,c.a4)((()=>o(t,"getTCData")),(()=>o(t,"getTCData").then((e=>"loaded"===(null==e?void 0:e.cmpStatus)&&i.includes(null==e?void 0:e.eventStatus))))).then((0,r.g_)((()=>n),(e=>({type:"loaded",data:e})))):Promise.resolve({type:"missing"})},s=e=>e.gdprApplies?(0,r.G)(e.vendor.consents):r.YP,o=(e,t)=>new Promise((n=>{e(t,2,(e=>{n(e)}))}))},3351:(e,t,n)=>{n.d(t,{D:()=>r});const r={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468}},2520:(e,t,n)=>{n.d(t,{U:()=>a});var r=n(655),c={equals:function(e,t){return e===t}},i=n(3735),s=n(2688),o=n(6013);class a{constructor(e,t,n,r,c,i,s,o,a,u,d){this.network=e,this.logger=t,this.api=n,this.permutiveData=r,this.messages=c,this.sessionManager=i,this.metrics=s,this.permutiveIdentity=o,this.queryManager=a,this.permutive=u,this.userId=d,this.lastUserIdentitiesChecked=new Date,this.logger.log("Enabling tpd reporting"),this.messages.on("permutive:segments:updated",(()=>{this.reportUsage()})),this.readThirdPartyCohorts(),this.lastCheckedSession=this.permutiveData.getData("third-party-data-session-id")||""}readThirdPartyCohorts(){this.userSegments=this.permutiveData.getData("third-party-data")||{},this.segmentsPromise=Promise.resolve(this.userSegments)}shouldUseSegmentsInMemory(){const e=this.lastUserIdentitiesChecked>=this.permutiveIdentity.getIdentitiesLastModified;return this.lastUserIdentitiesChecked=new Date,e&&this.lastCheckedSession===this.sessionManager.getSessionId()&&!!this.segmentsPromise}segments(){if(this.shouldUseSegmentsInMemory())return this.segmentsPromise;const e=this.sessionManager.getSessionId(),t=(0,o.b2)();this.lastCheckedSession=e;const n=this.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{}),r=Object.assign(Object.assign({},this.permutiveIdentity.getCustomerDefinedIdentitiesMap()),this.permutiveIdentity.getTPDIdentitiesMap());if(Object.keys(r).length>0){const e=this.permutiveIdentity.getPrioritizedIdentities(r),n=u(e),c=e=>(this.userSegments=d(e),this.userSegments),a=e=>{t.resolve(e)},l="Audience matching retrieval failed with reason:",g="Third Party Data segments retrieval failed with reason:",p=(e,t)=>{const n=(0,s.w)(`${e} ${t}`);this.network.error(n,this.userId.get())},h=e=>this.metrics.track({name:e,value:1,labels:{}}),f=()=>this.api.audienceMatching(this.metrics,this.userId.get(),{identities:e.map((e=>(0,o.eu)(e,["tag","id"])))}),m=()=>this.api.tpd(this.metrics,n),_=(0,i.ls)(c,a),w=e=>(0,i.zG)(h("sdk_audience_matching_request_fail_count"),(()=>p(l,e)),m),v=e=>(0,i.zG)(p(g,e),(()=>a({})));f().then((e=>_(e.items))).catch((e=>w(e).then((e=>_(e))).catch((e=>v(e)))))}else t.resolve({});const a=t.promise.then((e=>this.userSegments));return a.then((t=>{this.permutiveData.setData("third-party-data-session-id",e),this.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",n);const r=this.permutiveData.getData("third-party-data")||{},i=(0,o.rB)((0,o.rB)(c)),s=(0,o.rB)(c);if(0===Object.keys(r).length||!i.equals(r,t)){this.permutiveData.setData("third-party-data",this.userSegments);const e=Object.entries(t||{});(r?e.filter((([e,t])=>!s.equals(r[e]||{},t))):e).forEach((([e,t])=>this.fireSegments(e,Object.keys(t))))}})),this.segmentsPromise=a}reset(){this.segmentsPromise=null,this.userSegments={}}fireSegments(e,t){this.permutive.track("ThirdPartySegments",{data_provider:e,segments:t})}reportUsage(){const e=l(this.queryManager.stateMap.value),t=(0,o.vp)(JSON.stringify(e));if(this.permutiveData.getData("third-party-data-usage")!==t&&Object.keys(e).length>0){this.permutiveData.setData("third-party-data-usage",t);const n={user_id:this.userId.get(),time:new Date,tpd_segments:e};this.api.tpdUsage(this.metrics,n)}}}const u=e=>(null==e?void 0:e.reduce(((e,t)=>(e[t.tag]=t.id,e)),{}))||{},d=e=>Object.entries(e).reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:(0,o.j5)(n)})),{}),l=e=>{const t={},n=Object.keys(e),c=n.length;for(let i=0;i<c;i++){const c=n[i],s=e[c],{activations:o}=s;(0,r._T)(s,["activations"]);o&&Object.keys(o).length>0&&(t[c]=o)}return t}},2223:(e,t,n)=>{n.d(t,{C:()=>a});var r=n(655),c=n(9320),i=n(3735);const s=(o=[[{name:"dfp",import:Promise.resolve().then(n.bind(n,242))}],[],[],[],[],[],[],[{name:"clean_room",import:Promise.resolve().then(n.bind(n,6584))}],[],[],[],[],[],[{name:"gam_log",import:Promise.resolve().then(n.bind(n,850))}],[],[],[{name:"overlays",import:Promise.resolve().then(n.bind(n,718))}],[],[],[],[],[],[],[],[{name:"scriptrunner",import:Promise.resolve().then(n.bind(n,7926))}],[],[],[],[{name:"web",import:Promise.resolve().then(n.bind(n,8482))}],[],[]],(0,i.zG)((0,c.xH)(o),(0,c.u4)({},((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.import})))));var o;const a=({_internals:e,logger:t,network:n,permutiveMethods:c,q:i,clientContext:o})=>{const a=Object.entries(s).map((([s,a])=>(0,r.mG)(void 0,void 0,void 0,(function*(){return t.log(`Loading addon ${s}`),(yield a).load(i,c,e,n,o)}))));return Promise.all(a)}},2127:(e,t,n)=>{n.r(t),n.d(t,{createAddon:()=>E,getCachedClassificationModelSegments:()=>w,getCachedCleanRoomSegments:()=>v,getCachedDFPSegments:()=>b});var r=n(2688),c=n(9320),i=n(3735),s=n(6567),o=n(2751);var a=n(8863),u=n(5506),d=n(6013);const l=e=>Array.isArray(e)?{gam:e,xandrSsp:[]}:e,g="_pdfps";n(9678);let p=!1;let h;const f=e=>{const{logger:t}=e;!0!==p&&googletag.pubadsReady&&(null!=h||(h=({slot:n})=>{const{getContentUrl:r}=n;if(!r||"function"!=typeof r)return;(0,i.zG)(r(),(0,o.pn)("&trunc=1"))&&(t.debug("DFP content URL has been truncated!"),(({metrics:e,logger:t})=>{p||(e.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),p=!0,t.debug("DFP has exceeded targeting limit"))})(e),googletag.pubads().removeEventListener("slotRenderEnded",h),h=null)}),googletag.pubads().addEventListener("slotRenderEnded",h))},m={liveSegments:[],classificationModelSegments:[],cleanRoomSegments:[],eligibleSegments:{}},_={segments:m,getGAMKeyValues:()=>({permutive:_.segments.liveSegments.join(",")})},w=e=>{const t=s.fS((()=>({gam:[],xandrSsp:[]})));return(0,i.zG)(e.getExternalJsonData("_pclmc"),s.ij,(0,s.UI)(l),t)},v=e=>{const t=e.getExternalJsonData(a.P)||[],n=e.getExternalJsonData(a.l)||[];return(0,c.G0)(o.Eq)(t)(n)},b=e=>e.getExternalJsonData(g)||[],y=(e,t)=>e.filter((e=>e in t)).map((e=>t[e])),k=(e,t)=>{const{logger:n,externalData:i,network:s}=e;let o=t.map(String).concat(m.classificationModelSegments).concat(m.cleanRoomSegments);if(0===o.length)return n.debug("DFP has no targeting values, skipping update"),m.liveSegments;n.debug("DFP is updating with targeting values",o),((e,t,n)=>{const{logger:r}=e;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],f(e),window.googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:i}=googletag.pubads(),s=e("permutive")||[],o=Object.values(t.eligibleSegments).map(String).concat(t.classificationModelSegments).concat(t.cleanRoomSegments).concat("rts"),a=(0,c.uK)((e=>o.includes(e))),{left:u}=a(s),d=n.concat(u).concat("rts");r.debug("DFP setting GPT targeting to",d),i("permutive",d)}))})(e,m,o);try{i.setExternalJsonData(g,o)}catch(e){const t=(0,r.w)(e),c="DFP failed to set data. Got:";n.error(c,t),s.error(`${c} ${t.message}`)}return(({api:e,logger:t},n)=>{(0,u.$S)("sync_segments_cookie",!1)?(t.debug("DFP syncing segment cookie _pdfps"),e.segmentSync({key:g,value:n})):t.debug("DFP sync segments cookie not enabled, skipping sync")})(e,JSON.stringify(o)),n.debug("DFP live segments updated to",t),t},q=e=>{const{logger:t,messages:n,queryManager:r,externalData:c,cookies:i,network:s,userId:o}=e;n.on("permutive:segments:updated",(0,d.Z_)(s,o,(()=>{t.debug("DFP received 'permutive:segments:updated' event");const n=r.userSegments.getAllAsList();m.liveSegments=((e,t)=>{const{logger:n}=e,r=y(t,m.eligibleSegments);return(0,d.cO)(r,m.liveSegments)?(n.debug("DFP new segments are equal to live segments, skipping update"),m.liveSegments):k(e,r)})(e,n)}))),n.on("permutive:classificationmodels:db:updated",(0,d.Z_)(s,o,(n=>{t.debug("DFP received 'permutive:classificationmodels:db:updated' event"),m.classificationModelSegments=n.gam,m.liveSegments=k(e,m.liveSegments)}))),n.on("permutive:cleanroom:db:updated",(0,d.Z_)(s,o,(n=>{t.debug("DFP received 'permutive:cleanroom:db:updated' event"),m.cleanRoomSegments=n,m.liveSegments=k(e,m.liveSegments)}))),n.on("permutive:reset",(0,d.Z_)(s,o,(()=>{t.debug("DFP received 'permutive:reset' event"),c.removeExternalData(g),i.deleteCookie(g),m.liveSegments=[]})))},E=e=>{const{logger:t,activationManager:n,queryManager:r,messages:c,externalData:i}=e;m.classificationModelSegments=w(i).gam,m.cleanRoomSegments=v(i),m.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),n={};for(const e of t.dfp)n[e]=e;for(const e of Object.keys(t.dfp_legacy)){const r=Number(e);n[r]=t.dfp_legacy[r]}return n})(n),m.liveSegments=b(i),t.debug("DFP initialised with segments",m);const s=r.userSegments.getAllAsList(),o=y(s,m.eligibleSegments);return m.liveSegments=k(e,o),q(e),c.emit("permutive:dfp:ready"),_}},242:(e,t,n)=>{n.r(t),n.d(t,{load:()=>o});var r=n(64),c=n(6013),i=n(2127);const s={},o=(e,t,n)=>{e.push({functionName:"addon",arguments:["dfp",{}]});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>a(t,n)))},a=(e,t)=>{e.ready(t.makeSafe((()=>_(t.metrics))),"realtime"),w(t.externalData),y(t.userId,t.viewId),p(e),googletag.cmd.push((()=>{h(e),f(e)})),window.addEventListener("message",d(e),!1)},u=({advertiserId:e,campaignId:t,lineItemId:n,creativeId:r})=>({advertiser_id:(0,c.ke)(e),campaign_id:(0,c.ke)(t),line_item_id:(0,c.ke)(n),creative_id:(0,c.ke)(r)}),d=e=>t=>{var n;try{const r=JSON.parse(t.data);if(!r.permutive_type||"google_ad_click"!==r.permutive_type)return;const{ad_unit_path:c,creative_id:i,advertiser_id:o,order_id:a,line_item_id:d}=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},g=u({lineItemId:d,advertiserId:o,campaignId:a,creativeId:i});let p;Object.keys(s).some((e=>{const{slot:t,creative_id:n}=s[e];if((null==t?void 0:t.ad_unit_path)===c&&n===g.creative_id)return p=s[e],!0})),p=null!=p?p:Object.assign(Object.assign({},g),{is_empty:!1}),l(e,p)}catch(e){}},l=(e,t)=>{r.PH&&t&&e.track("SlotClicked",t)},g=(e,t,n)=>{s[t]=n,m(e,n),b(e,t)},p=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const n=t.getResponseInformation();if(!n)return;const r=Object.assign(Object.assign({},u(n)),{is_empty:!1,service_name:"publisher_ads",slot:v(t)}),c=t.getSlotElementId();g(e,c,r)}))},h=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const n=Object.assign(Object.assign({},u(t)),{is_empty:t.isEmpty,service_name:t.serviceName,slot:v(t.slot)});if(t.size){const[e,r]=t.size;"number"==typeof e&&"number"==typeof r&&(n.width=e,n.height=r)}const r=t.slot.getSlotElementId();g(e,r,n)}))},f=e=>{r.EW&&googletag.pubads().addEventListener("impressionViewable",(({slot:t,serviceName:n})=>{const r=t.getResponseInformation();if(!r)return;const c=Object.assign(Object.assign({},u(r)),{service_name:n,slot:v(t)});e.track("SlotViewable",c)}))},m=(e,t)=>{if(!r.CL)return;var n;n=Object.assign(Object.assign({},t),{rendered_timestamp:Date.now()}),e.track("SlotRendered",n)},_=e=>{let t=0;const n=googletag.pubadsReady&&googletag.pubads().getSlots();n&&n.forEach((e=>e.getResponseInformation()&&t++));const r=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:r,value:1,labels:{target:"dfp"}})},w=e=>{const t=(0,i.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:n}=googletag.pubads(),r=e("permutive")||[];n("permutive",[...new Set([...t.map(String),...r])])}))},v=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return r.jH?Object.assign(Object.assign({},t),(()=>{const t={},n=[];let r=[];const c=(e,c)=>{const i="slot"===e?e=>t[e]=1:()=>{},s=c.getTargetingKeys();r=s;for(let s=0;s<r.length;s++){const o=r[s];if(void 0!==t[o]&&"service"===e)continue;const a=[],u=c.getTargeting(o);for(let e=0;e<u.length;e++)a.push(u[e].toString());a.length>0&&(i(o),n.push({key:o,value:a}))}};return c("slot",e),c("service",googletag.pubads()),{targeting_keys:n}})()):t},b=(e,t)=>{let n=!1;const r=()=>{n&&"hidden"===document.visibilityState&&l(e,s[t])},c=()=>{n=!0},i=()=>{n=!1};try{document.addEventListener("visibilitychange",r);const e=document.getElementById(t);e.addEventListener("mouseover",c),e.addEventListener("mouseout",i)}catch(e){}},y=(e,t)=>{const{setTargeting:n}=googletag.pubads()}},850:(e,t,n)=>{n.r(t),n.d(t,{GamLogAddon:()=>c,load:()=>r});const r=(e,t,n)=>{e.push({functionName:"addon",arguments:["gam_log",{}]}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]};class c{constructor(e){this.setTargeting({puid:e.userId.get(),prmtvvid:e.viewId.get(),prmtvsid:e.sessionManager.getSessionId(),prmtvwid:"e488cdb0-e7cb-4d91-9648-60d437d8e491"})}setTargeting(e){window.googletag.cmd.push((()=>Object.entries(e).forEach((([e,t])=>window.googletag.pubads().setTargeting(e,t)))))}}},718:(e,t,n)=>{n.r(t),n.d(t,{OverlaysAddon:()=>i,load:()=>c});var r=n(6013);const c=e=>{e.unshift({functionName:"addon",arguments:["overlays",{}]})};class i{constructor(e){const t=this;this.permutive=e.permutive,this.options=e,this.activations=this.options.activationManager.getActivations("overlays"),this.loadedImageCounts={};for(let n=0;n<this.activations.length;n++){const c=this.activations[n],i=c.getSegmentCode(),s=c.getTriggerType(),o=c.getConfig(),a=this.buildOverlayCss(o,n);document.head.insertAdjacentHTML("beforeend",a);const u=this.buildOverlayBody(o,n);document.body.insertAdjacentHTML("beforeend",u);const d=`permutive-overlay-${n}`,l=document.getElementById(d),g=l.getElementsByClassName("close")[0],p=l.getElementsByClassName("content")[0],h=()=>{l.style.visibility="hidden",l.style.opacity="0"},f=e=>{p.contains(e.target)||(h(),l.removeEventListener("click",f))};g.addEventListener("click",h),l.addEventListener("click",f);[].slice.call(l.getElementsByTagName("a")).slice(1).forEach((e=>{e.addEventListener("click",(function(){c.trackConversion({useBeacon:!0})}))}));const m=l.getElementsByTagName("form")[0];m&&m.addEventListener("submit",(function(e){e.preventDefault(),c.trackConversion({success:function(){m.submit()}})}));const _=function(e,n){t.showOverlay(e),n.trackImpression()};"EveryTime"===s?this.permutive.segment(i,(0,r.Z_)(e.network,e.userId,(e=>{e?_(d,c):this.permutive.trigger(i,"result",(function(e){e.result&&_(d,c)}))}))):"OnEntry"===s?this.permutive.trigger(i,"result",(0,r.Z_)(e.network,e.userId,(function(e){e.result&&_(d,c)}))):"OnExit"===s&&this.permutive.trigger(i,"result",(0,r.Z_)(e.network,e.userId,(function(e){e.result||_(d,c)})))}}buildOverlayCss(e,t){return'<style type="text/css">.${overlay_class}{position:fixed;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background:rgba(0,0,0,0.${opacity_percentage});transition:opacity ${opacity_transition_ms}ms;visibility:hidden;opacity:0;z-index:1000000;}.${modal_class}{position:fixed;padding:10px;background:#fff;border-radius:5px;z-index:1000001}.${modal_class} .content{overflow:auto;z-index:1000002;}.${modal_class} .close{position:absolute;top:20px;right:30px;transition:all 200ms;font-size:30px;font-weight:bold;text-decoration:none;color:#333;z-index:1000003}.${modal_class} .close:hover{color:orange;}</style>'.replace(/\${overlay_class}/g,"permutive-overlay-"+t).replace(/\${modal_class}/g,"permutive-modal-"+t).replace("${opacity_percentage}",e.opacity_percentage.toString()).replace("${opacity_transition_ms}",e.opacity_transition_ms.toString())}buildOverlayBody(e,t){const n=this.options.config.windowKey;let r="";return!function(e){return void 0!==e.html}(e)?function(e){return void 0!==e.image_url&&void 0!==e.image_link}(e)&&(r='<a href="'+e.image_link+'"><img src="'+e.image_url+'"/></a>'):r=e.html,'<div id="${overlay_class}" class="${overlay_class}"><div id="${modal_class}" class="${modal_class}"><a class="close" href="javascript:;">&times;</a><div class="content">${content}</div></div></div>'.replace(/\${overlay_class}/g,"permutive-overlay-"+t).replace(/\${modal_class}/g,"permutive-modal-"+t).replace("${content}",r).replace(/<img /g,`<img onload='window[${n}].addons.overlays.loadedImage("permutive-overlay-" + num + "")' `)}showOverlay(e){const t=document.getElementById(`${e}`),n=()=>{const e=t.getElementsByTagName("div")[0],n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;e.style.left=window.innerWidth/2-r/2+"px",e.style.top=window.innerHeight/2-n/2+"px",t.style.visibility="visible",t.style.opacity="1"},r=t.getElementsByTagName("img");if(r.length>0){let t=0;const c=()=>{t<10&&(!(e in this.loadedImageCounts)||this.loadedImageCounts[e]<r.length)?(t+=1,setTimeout(c,500)):n()};c()}else n()}loadedImage(e){e in this.loadedImageCounts?this.loadedImageCounts[e]=this.loadedImageCounts[e]+1:this.loadedImageCounts[e]=1}}},7926:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ScriptRunnerAddon:()=>ScriptRunnerAddon,load:()=>load});const load=e=>{e.unshift({functionName:"addon",arguments:["scriptrunner",{}]})};class ScriptRunnerAddon{constructor(options){this.permutive=options.permutive,this.options=options,this.network=options.network,this.activations=this.options.activationManager.getActivations("scriptrunner");for(let i=0;i<this.activations.length;i++){const activation=this.activations[i],triggerType=activation.getTriggerType(),segmentCode=activation.getSegmentCode(),run=activation=>{const script=activation.getConfig().script.replace(/impression\(\)/g,"activation.trackImpression();").replace(/conversion\(\)/g,"activation.trackConversion();");try{eval(script)}catch(e){e instanceof Error&&(e.message="Error running custom script: "+e.message,this.network.error(e,this.options.userId.get()))}};"EveryTime"===triggerType?this.permutive.segment(segmentCode,(e=>{e?run(activation):this.permutive.trigger(segmentCode,"result",(function(e){e.result&&run(activation)}))})):"OnEntry"===triggerType?this.options.queryManager.segmentEntryQueryCodes.has(segmentCode)?run(activation):this.permutive.trigger(segmentCode,"result",(function(e){e.result&&run(activation)})):"OnExit"===triggerType&&(this.options.queryManager.segmentExitQueryCodes.has(segmentCode)?run(activation):this.permutive.trigger(activation.getSegmentCode(),"result",(function(e){e.result||run(activation)})))}}}},8482:(e,t,n)=>{n.r(t),n.d(t,{WebAddon:()=>E,load:()=>q});var r=n(655),c=n(2688),i=n(8198),s=n(3735),o=n(4011),a=n(6567),u=n(7209),d=n(64),l=n(6013),g=n(3760),p=n(5506);const h=(0,p.MU)("add_alchemy_entities",!1),f=(0,p.MU)("add_alchemy_taxonomy",!1);function m(e){return Object.assign(Object.assign(Object.assign({},e&&f?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{}),e&&h?{entity_names:"$alchemy_entity_names"}:{}),{classifications_watson:{taxonomy_labels:"$taxonomy_labels"}})}function _(e,t,n,r){const c=Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},{}),e),t);n.track("Pageview",c).then((e=>{r.emit("permutive:event:pageview",e)}))}function w(e,t,n,r,c,i,s=!0,o=a.YP){const u=v(e,t,n,r,c),d=(0,a.fS)((()=>null))(o);let l={useBeacon:s};null!==d&&(l=Object.assign(Object.assign({},l),{unprocessedData:d})),i.track("PageviewComplete",u,l)}function v(e,t,n,r,c){return Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},r),n),{aggregations:Object.assign({PageviewEngagement:Object.assign({engaged_time:e},d.UW?{completion:t}:{})},d.ED?{SegmentEntry:Array.from(c.segmentEntryQueryCodes),SegmentExit:Array.from(c.segmentExitQueryCodes),CohortEntry:Array.from(c.cohortEntryQueryCodes),CohortExit:Array.from(c.cohortExitQueryCodes)}:{})})}const b=["mousemove","click","scroll"],y=["email","tel","submit","reset","button","file","password","radio","checkbox"],k=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],q=(e,t)=>{0};class E{constructor(e){this.dirtyState=!1,this.totalCompletion=0,this.totalEngagedTime=0,this.hasPageviewCompleteFired=!1,this.cleanupPageEngagementDetection=s.Q1,this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.unprocessedPVC=e.unprocessedEvents.PageviewComplete,this.options.customProperties.overrideCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0,d.Uy&&this.resetTimeout()}).bind(this),_(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),d.t2&&(this.timerHandle=this.registerEngagementInterval(this.getEventInterval())),d.Uy&&(this.setPageviewCompleteTimeout(d.MU),(0,l.aq)((()=>{this.hasPageviewCompleteFired||w(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive)})))}sendLinkClickEvent(e,t){if(window.location.href&&e.href){const n=0===e.href.indexOf("data:")?"NOT_URL":e.href;this.permutive.track("LinkClick",{dest_url:n},{useBeacon:t})}}sendFormSubmissionEvent(e){{const t=e.currentTarget,n={form:Object.assign(Object.assign(Object.assign({method:t.method||"GET",properties:this.serializeForm(t)},"string"==typeof t.id?{id:t.id}:{}),t.name&&"string"==typeof t.name?{name:t.name}:{}),t.action&&"string"==typeof t.action?{action:t.action}:{})};this.permutive.track("FormSubmission",n)}}trackEngagementInterval(e){return(0,s.zG)(this.updateState(e),(({engaged_time:e,total_engaged_time:t,completion:n,total_completion:r})=>function(e,t,n,r,c,i){const s=Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t},c),{completion:n,total_completion:r});i.track("PageviewEngagement",s)}(e,t,n,r,this.options.customProperties.getCustomProps(),this.permutive)),(e=>{if(!this.hasPageviewCompleteFired)return function(e,t,n,r,c,i,s,o,a){const u=v(e,t,s,o,a);return c.then((e=>{const t={props:u,sessionId:n,viewId:r,client:e};i.put(t)}))}(this.totalEngagedTime,this.totalCompletion,this.options.sessionManager.getSessionId(),this.options.viewId.get(),this.clientContext.getClient(),this.unprocessedPVC,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager)}))}reset(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.disablePageEngagementDetection(),d.Uy){const e=yield this.unprocessedPVC.getIfPresent();this.hasPageviewCompleteFired=!1,w(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1,e)}this.dirtyState=!1,this.options.state.viewId.generateAndSet(),this.totalCompletion=0,this.totalEngagedTime=0,this.options.customProperties.overrideCustomProps(e.page||{}),this.updateWebOptions(e),this.enablePageEngagementDetection();const t={logger:this.logger,config:Object.assign(Object.assign({},this.options.config),{watson:e.watson}),clientContext:this.clientContext,api:this.api,permutiveData:this.options.permutiveData,metrics:this.options.metrics,sessionManager:this.options.sessionManager,enrichers:this.options.enrichers,network:this.options.network};(0,g.H)(t)().then((()=>{_(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),d.t2&&(clearInterval(this.timerHandle),this.timerHandle=this.registerEngagementInterval(this.getEventInterval()))}))}))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==y.indexOf(e.type.toLowerCase())||-1!==k.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return setInterval((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=n=>e(n)?(0,a.G)(n):n.parentElement?e(n.parentElement)?(0,a.G)(n.parentElement):t(n.parentElement):a.YP;d.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>{e.addEventListener("submit",(0,l.Z_)(this.options.network,this.options.userId,this.sendFormSubmissionEvent.bind(this)))})),d.qr&&document.body.addEventListener("click",(e=>{if(e.target instanceof Element){const n=t(e.target);return(0,a.g_)((()=>{}),(t=>this.sendLinkClickEvent(t,((e,t)=>!("_blank"===t.target||e.metaKey||e.ctrlKey||e.shiftKey||2===e.which||3===e.which))(e,t))))(n)}}),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),n=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:n,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,s.zG)((0,i.Y3)((0,s.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,u.uZ)(o.Df)(0,1)),c.w),(0,i.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}setPageviewCompleteTimeout(e){return window.setTimeout((()=>{this.hasPageviewCompleteFired||(w(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1),this.hasPageviewCompleteFired=!0)}),e)}resetTimeout(){clearTimeout(this.pageviewCompleteTimeoutHandle),this.pageviewCompleteTimeoutHandle=this.setPageviewCompleteTimeout(d.MU)}registerPageEngagementCleanup(e){if("function"!=typeof e)return this.logger.warn("No page detection cleanup was registered"),null;this.cleanupPageEngagementDetection=()=>(0,i.Y3)((()=>{e(),this.cleanupPageEngagementDetection=s.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,c.w)(e))))}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,s.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const n=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>n(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||b}getEventInterval(){return this.options.eventInterval||5}updateWebOptions(e){var t;e.watson={enabled:"boolean"==typeof(null===(t=e.watson)||void 0===t?void 0:t.enabled)?e.watson.enabled:this.options.config.watson.enabled};const n={addPageEngagementDetection:void 0,dirtyEvents:void 0,eventInterval:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options=Object.assign(Object.assign(Object.assign({},this.options),n),e)}}},7735:(e,t,n)=>{n.d(t,{J:()=>c});var r=n(416);class c{constructor(){this.replacementMap={}}register(e){this.replacementMap=Object.assign(Object.assign({},this.replacementMap),e.getReplacementMap)}enrich(e,t){return this.enrichRecursive(e,t)}enrichRecursive(e,t){const n={output:{},isFullyEnriched:!0},c=Object.keys(e);for(let i=0;i<c.length;i++){const s=c[i],o=e[s];switch(!0){case(0,r.t)(o):const[e,c]=this.isPropertyReplaceable(o);n.output[s]=e?c:o,this.replacementMap.hasOwnProperty(o)&&c===o&&t&&delete n.output[s],n.isFullyEnriched=!!e&&n.isFullyEnriched;break;case null!==o&&"object"==typeof o&&o.constructor===Object:const i=this.enrichRecursive(o,t);n.output[s]=i.output,n.isFullyEnriched=n.isFullyEnriched&&i.isFullyEnriched;break;default:n.output[s]=o}}return n}isPropertyReplaceable(e){const t=this.replacementMap[e];return[this.replacementMap.hasOwnProperty(e)&&t!==e,t]}}},3760:(e,t,n)=>{n.d(t,{B:()=>o,H:()=>a});var r=n(3735),c=n(5151),i=n(7112);const s=[],o=e=>{s.push(e)},a=e=>{const t=s.map((t=>(0,i.Y3)((()=>t.load(e)),(t=>{e.network.error(t)}))));return(0,r.zG)((0,c.RD)(t),(0,c.UI)(r.Q1))}},416:(e,t,n)=>{n.d(t,{t:()=>r});const r=e=>"string"==typeof e&&"$"===e[0]},4762:(e,t,n)=>{n.d(t,{F:()=>i});var r=n(3735),c=n(6567);class i{constructor(e,t,n){this.urls=e,this.config=t,this.network=n}identify(e,t,n){const r=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",(0,c.G)(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:n},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(r):this.identifyPromise=r()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",(0,c.G)(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}track(e,t,n){const r=this.getTrackUrl(t,{isFullyEnriched:n,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:r,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBatch(e,t){const n=this.getTrackUrl(t,{isFullyEnriched:!0,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:n,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBeacon(e,t){const n=this.getTrackUrl(e,{isFullyEnriched:t,useBeacon:!0});return this.network.reqWithBeacon({url:n,payload:e})}trackBatchBeacon(e){const t=this.getTrackUrl(e,{isFullyEnriched:!0,useBeacon:!0});return this.network.reqWithBeacon({url:t,payload:e})}tpd(e,t){return this.reqWithMetrics(e,"sdk_http_tpd_seconds",{url:this.urls.getEndpointUrl("/tpd",(0,c.G)(this.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1})}tpdUsage(e,t){return this.reqWithMetrics(e,"sdk_http_tpd_usage_seconds",{url:this.urls.getEndpointUrl("/tpd/usage",(0,c.G)(this.config.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}audienceMatching(e,t,n){return this.reqWithMetrics(e,"sdk_http_audience_matching_seconds",{url:this.urls.getAudienceMatchingEndpointUrl("/id",(0,c.G)("v1"),t),payload:n,method:"POST",withCredentials:!1,dataType:"json"})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",(0,c.G)(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}modelsBinary(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1})}modelsJson(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})}state(e,t,n,r,i,s){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/state",(0,c.G)("v1.0"),[["fetch_unseen",JSON.stringify(s)]]),method:"POST",payload:{group_id:t,event_source_id:n,state:JSON.stringify(r),last_seen_offset:i},contentType:"text/plain",dataType:"json",withCredentials:!1})}cleanRoom(e,t){return this.network.req({url:this.urls.getAdvertiserEndpointUrl("/segment",(0,c.G)(this.config.advertiserApiVersion),[["new-session",e.toString()]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}classificationModels(e){return this.network.req({url:this.urls.getClassificationModelsEndpointUrl("/segment",(0,c.G)(this.config.classificationModelsApiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"json",withCredentials:!1})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/e488cdb0-e7cb-4d91-9648-60d437d8e491-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}getSocioDemoPredictions(e){return this.network.req({method:"POST",url:this.urls.getEndpointUrl("/demographic/infer/v3",(0,c.G)(this.config.apiVersion)),dataType:"json",payload:e,withCredentials:!1})}reqWithMetrics(e,t,n){const c=e.startTimer(t,{});return this.network.req(n).then((n=>(0,r.zG)(e.stopTimer(t,c),(e=>n))))}getTrackUrl(e,t){const{isFullyEnriched:n,useBeacon:r}=t,i=Array.isArray(e),s=!n;return this.urls.getEndpointUrl(i?"/batch/events":"/events",(0,c.G)(this.config.apiVersion),[["enrich",JSON.stringify(s)],["sdkp",JSON.stringify(!r)]])}getModelsUrl(e){const t=`https://${this.config.cdnBaseUrl}`;switch(e){case"binary":return`${t}/models/v2/e488cdb0-e7cb-4d91-9648-60d437d8e491-models.bin`;case"json":return`${t}/models/e488cdb0-e7cb-4d91-9648-60d437d8e491-models.json`}}}},550:(e,t,n)=>{n.d(t,{XO:()=>c,bk:()=>s,kJ:()=>r,mh:()=>i,sv:()=>o});const r=e=>Object.assign({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{}},a(e)),c=e=>Object.assign({id:e.id||null,name:e.name,time:(u(e.time)?e.time:new Date).toISOString(),properties:e.properties||{}},a(e)),i=(e,t)=>Object.assign({id:e.id,time:new Date(e.time),name:t.name,properties:t.properties},a(t)),s=e=>void 0!==e.request_id,o=e=>void 0!==e.properties,a=e=>Object.assign(Object.assign({},e.session_id?{session_id:e.session_id}:{}),e.view_id?{view_id:e.view_id}:{}),u=e=>isFinite(e)&&e instanceof Date},8110:(e,t,n)=>{n.d(t,{s:()=>c});var r=n(6567);class c{constructor(e){this.config=e,this.PATH_JOINER_Q="?",this.PATH_JOINER_A="&"}getEndpointUrl(e,t,n=[]){return this.getUrl("base",e,t,n)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t,n=[]){return this.getUrl("adv",e,t,n)}getClassificationModelsEndpointUrl(e,t,n=[]){return this.getUrl("clm",e,t,n)}getAudienceMatchingEndpointUrl(e,t,n,r=[]){const c=`${e}/${n}/audiences`;return this.getUrl("audience-matching",c,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching"}}getUrl(e,t,n,c){const i=this.getUrlPrefix(e),s=(0,r.g_)((()=>""),(e=>`/${e}`))(n),o=`${this.config.apiProtocol}://${this.config.apiHost}${i}${s}${t}`;return this.makeUrlWithQueryParams(o,c.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const n=t.map((([e,t])=>`${e}=${t}`)).join(this.PATH_JOINER_A),r=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${r}${n}`}}},6146:(e,t,n)=>{n.d(t,{NY:()=>g,vk:()=>u,qA:()=>a});var r=n(655),c=n(3735),i=n(3195),s=n(4438);var o=n(1728);const a=()=>({opt_in:!0,token:s.L}),u=()=>({opt_in:!1,token:""}),d=e=>{return(0,c.ls)((t=e,e=>(0,c.zG)((0,o.J)(t.consentRequired,e),(({consentData:e,isValid:n})=>(t.consentDatabase.put(e,s.L),n)))),(({logger:e,messages:t})=>n=>{const r=n?"given":"revoked";return e.log("Consent has been",r),t.emit(`permutive:consent:${r}`),n})(e));var t},l=e=>(t,n)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",n)},g=(e,t,n,{consentRequired:a})=>(0,r.mG)(void 0,void 0,void 0,(function*(){const r={isRevoked:()=>!1,listenForConsent:c.Q1},u=(0,i.S)(n,t,r),{giveConsent:g,revokeConsent:p,isRevoked:h}=(()=>{let e=!0;return{revokeConsent:()=>e=!1,giveConsent:()=>e=!0,isRevoked:()=>!1===e}})(),f=yield u.get(s.L);(0,o.J)(a,f).isValid?g():p();const m={isRevoked:h,listenForConsent:l(e)};m.listenForConsent(p,g);return{consentTracking:m,consentValidation:d({consentDatabase:u,consentRequired:a,logger:t,messages:e}),consentDatabase:u}}))},4438:(e,t,n)=>{n.d(t,{L:()=>r});const r="permutive-consent"},9658:(e,t,n)=>{n.d(t,{D:()=>l});var r=n(9320),c=n(8198),i=n(3735),s=n(6567),o=n(5151),a=n(6992),u=n(4438),d=n(1728);const l=e=>{const{partialTagWithKey:t}=e,n=t.key;var l;window[n].consent=(l=e,(0,i.ls)(l.consentModule.consentValidation,(e=>e?(0,a.H)(l)():null)));const g=(0,s.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,i.zG)((0,i.a9)(t.consentDatabase.get(u.L)),(0,o.UI)((e=>(0,d.J)(t.consentRequired,e).isValid)));var t}),o.of);return(0,i.zG)((0,i.zG)((({consentModule:e,tag:t})=>{const n=(0,r.Ew)((function(e){return"consent"===e.functionName}))(t.q);return(0,s.UI)((t=>e.consentValidation(t.arguments[0])))(n)})(e),g),(0,o.UI)((e=>e?(0,c.F2)(!0):(0,c.t$)("No consent to run on the page"))))}},5097:(e,t,n)=>{n.d(t,{v:()=>r});const r=(e,t,n)=>(...r)=>(n()?t:e)(...r)},1728:(e,t,n)=>{n.d(t,{J:()=>s});var r=n(3735),c=n(6567),i=n(6146);const s=(e,t)=>(0,r.zG)((0,c.ij)(t),(t=>!1===e&&(0,c.Wi)(t)?{isValid:!0,consentData:(0,i.qA)()}:(e=>(0,c.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,i.vk)()}))},1407:(e,t,n)=>{n.d(t,{S:()=>R});var r=n(3735),c=n(655),i=n(6567),s=n(8206),o=n(4011),a=n(5857),u=n(64),d=n(550);const l=(e,t)=>{switch(g(e.event,e.isEventFullyEnriched,t)){case"immediate":return h(e);case"memoryOnly":return f(e);case"response":return m(e);case"deferred":return _(e);case"never":return w(e)}},g=(e,t,n)=>n?"deferred":p(e.name,t),p=(e,t)=>D.has(e)?"memoryOnly":E.has(e)?"never":t?"immediate":"response",h=({event:e,requestData:t,requestOptions:n,queryManager:i,eventsBatch:s,stateSync:u,metrics:d,logger:l})=>(0,c.mG)(void 0,void 0,void 0,(function*(){const[c,{segmentsEntered:g,segmentsExited:p}]=yield k(e,d,i,l),h=(0,a.e5)(o.Eq)((0,a.G0)(o.Eq)(new Set(t.segments),g),p);return l.log(`Adding ${e.name} to batch, with segments`,h),Promise.all([s.add(Object.assign(Object.assign({},t),{segments:[...h],cohorts:[...(()=>{let e=new Set;for(const t of h)e.add(t.toString());return t.cohorts.forEach((t=>e.add(t))),e})()]}),n,"immediate"),u.sync(c)]).then(r.Q1)})),f=({event:e,metrics:t,queryManager:n,logger:c})=>k(e,t,n,c).then(r.Q1),m=({requestData:e,requestOptions:t,queryManager:n,eventsCache:r,eventHandler:c,api:i,metrics:s,logger:o})=>i.track(s,e,!1).then((c=>v(c,e,t,r,s,n,o))).then((({event:e,error:t})=>q(c,e,t))),_=({event:e,isEventFullyEnriched:t,requestData:n,api:c,eventHandler:s})=>Promise.all([c.trackBeacon(n,t),q(s,e,i.YP)]).then(r.Q1),w=({requestData:e,requestOptions:t,eventsBatch:n})=>n.add(e,t,"never"),v=(e,t,n,r,c,i,s)=>(0,d.bk)(e)?b(e,t,n):y(e,t,n,r,c,i,s),b=(e,t,n)=>{const c={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,id:null,time:new Date};return(0,r.zG)(n.error(e.error.message),(t=>Promise.resolve({event:c,error:(0,i.G)(e)})))},y=(e,t,n,c,s,o,a)=>{const u=(0,d.sv)(e)?(0,d.kJ)(Object.assign(Object.assign({},e),{session_id:t.session_id,view_id:t.view_id})):(0,d.mh)(e,t);return k(u,s,o,a).then((e=>(0,r.zG)(n.success(u),(e=>c.add(u,{persistOnDisk:!0})),(e=>({event:u,error:i.YP})))))},k=(e,t,n,c)=>S.has(e.name)?(0,r.zG)(t.startTimer("sdk_events_querylanguage_seconds",{}),(i=>n.process(e,!0).then((n=>(0,r.zG)(t.stopTimer("sdk_events_querylanguage_seconds",i),(t=>c.log("Processing event",e,"caused the following update",n)),(e=>n)))))):Promise.resolve([{},{segmentsEntered:new Set,segmentsExited:new Set}]),q=(e,t,n)=>{M.has(t.name)||e.newEvent((0,d.XO)(t),(0,i.fS)((()=>null))(n))},E=new Set(["ThirdPartySegments","SlotRendered"]),D=new Set([...u.D0?["PageviewEngagement"]:[],...u.ED?["SegmentEntry","SegmentExit"]:[]]),P=new Set(["PageviewComplete"]),M=new Set(["PrebidAuctions"]),S=new Set(["!UpdateLookalikeModels","!UpdateSecondPartyData","!UpdateThirdPartyData","DeclaredData","FormSubmission","Grapeshot","LinkClick","Pageview","PageviewComplete","PageviewEngagement","SegmentEntry","SlotClicked","SlotViewable","SocialShare","VideoAdEvent","VideoAdPlay","VideoPlay"]);var O=n(1057),x=n(3351);var I=n(6013);class C{constructor(e,t={}){this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var T=n(8941);function A(e){const t=j();let n=e;return{addListener(e){let r=n;return t.addListener((()=>{Object.is(n,r)||(r=n,e(n.value))}))},notify(e){!(0,i.Wi)(n)&&Object.is(e,n.value)||(n=(0,i.G)(e),t.notify())}}}function j(){let e=[];return{addListener(t){const n=()=>t();e=[...e,n];return()=>{e=e.filter((e=>e!==n))}},notify(){e.forEach((e=>{try{e()}catch(e){}}))}}}class U{constructor(e,t,n,r,c,i,s,o,a,u,d,l,g,p,h,f,m,_,w,v,b,y,k,q,E,D,P,M,S,O,x,I,C,T){this.namespace=e,this.logger=t,this.api=n,this.eventHandler=r,this.activationManager=c,this.sessionManager=i,this.metrics=s,this.viewId=o,this.userId=a,this.network=u,this.enrichers=d,this.clientContext=l,this.unprocessedEvents=g,this.eventsBatch=p,this.queryManager=h,this.stateSync=f,this.eventsCache=m,this.taskQueue=_,this.identities=w,this.permutiveReset=v,this.messages=b,this.addons=y,this.trace=k,this.permutiveRealtime=q,this.state=E,this.customProperties=D,this.config=P,this.permutiveData=M,this.externalData=S,this.cookies=O,this.thirdParty=x,this.models=I,this.identitiesIngestor=C,this.global=T,this.initialisedAddons=[],this.triggerListeners=[],this.cloudCohorts=this.setupCloudCohortRef()}identify(e){this.logger.debug("<call> identify",e);const t=(0,I.b2)(),n=this.identities.parseCustomerDefinedIdentities(e),r=Object.assign(Object.assign({},this.identities.getIdentitiesMap()),n.reduce(((e,{tag:t,id:n,priority:r,expiry:c})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({id:n},void 0!==r?{priority:r}:{}),void 0!==c?{expiry:c}:{})})),{})),i=Object.values(r).map((e=>e.id)),o=this.identities.getPrioritizedIdentities(r);if("string"==typeof e&&(0,s.Bt)("e488cdb0-e7cb-4d91-9648-60d437d8e491","e488cdb0-e7cb-4d91-9648-60d437d8e491",i,window.location.hostname,this.userId.get()))return t.resolve(),t.promise;const a=()=>(0,c.mG)(this,void 0,void 0,(function*(){yield(0,T.WI)({logger:this.logger,queryManager:this.queryManager,thirdParty:this.thirdParty,trace:this.trace})})),u=e=>(0,c.mG)(this,void 0,void 0,(function*(){yield(0,T.Yj)({clientContext:this.clientContext,eventsCache:this.eventsCache,global:this.global,identities:this.identities,logger:this.logger,metrics:this.metrics,models:this.models,queryManager:this.queryManager,reset:this.permutiveReset,stateSync:this.stateSync,thirdParty:this.thirdParty,trace:this.trace,userId:this.userId},e.user_id)}));return this.taskQueue.add(new C((e=>(0,c.mG)(this,void 0,void 0,(function*(){this.logger.debug("<task> identify ",n);const r=yield this.api.identify(this.metrics,this.userId,o);this.identities.setIdentities(n),this.userId.isEqual(r.user_id)?yield a():yield u(r),this.logger.debug("<done> identify",n),e(),t.resolve(),yield this.identitiesIngestor.ingestIfEligible(n).catch((e=>this.network.error(`Couldn't ingest identities, got ${e}`,this.userId.get())))}))),{wait_prev:!0,block_next:!0})),t.promise}on(e,t){return this.eventHandler.addListener({name:e,callback:t,once:!1})}once(e,t){return this.eventHandler.addListener({name:e,callback:t,once:!0})}track(...e){var t,n,c;const[i,s,o]=[e[0],e[1]||{},e[2]||{}],a=this.trace.startSpan("track_event");this.logger.log("<call> track",i);const u=(0,I.b2)();if(!this.api)return this.network.error("The API hasn't been loaded."),u.reject(),u.promise;const d=null!==(t=o.unprocessedData)&&void 0!==t?t:{},g=null!==(n=d.sessionId)&&void 0!==n?n:this.sessionManager.getSessionId(),p=null!==(c=d.viewId)&&void 0!==c?c:this.viewId.get(),h={success:o.success||(e=>{}),error:o.error||((e,t)=>{})};return this.taskQueue.add(new C((e=>{this.logger.log("<task> track",i);const{output:t,isFullyEnriched:n}=this.enrichers.enrich(s,D.has(i));this.metrics.track({name:n?"sdk_event_enrichment_success_count":"sdk_event_enrichment_fail_count",value:1,labels:{}});return(d.client?Promise.resolve(d.client):this.clientContext.getClient()).then((c=>{var d;const f=Object.assign(Object.assign({},t),{client:s.client?(0,I.PM)(c,s.client):c}),m={user_id:this.userId.get(),name:i,cohorts:Array.from(this.cloudCohorts.current).concat(this.queryManager.userSegments.getAllAsList().map(String)),segments:this.queryManager.userSegments.getAllAsList(),properties:f,session_id:g,view_id:p},_={name:i,properties:f,session_id:g,view_id:p,time:new Date};return((e,t)=>l(e,t).then((t=>P.has(e.event.name)?e.unprocessedPVC.reset():(0,r.Q1)())))({event:_,requestData:m,isEventFullyEnriched:n,requestOptions:h,logger:this.logger,queryManager:this.queryManager,stateSync:this.stateSync,eventsCache:this.eventsCache,eventHandler:this.eventHandler,metrics:this.metrics,eventsBatch:this.eventsBatch,api:this.api,unprocessedPVC:this.unprocessedEvents.PageviewComplete},null!==(d=o.useBeacon)&&void 0!==d&&d).then((t=>{this.logger.log("<done> track",_.name),u.resolve(_),e(),a.finish()})).catch((e=>{h.error(e),this.network.error(e,this.userId.get())}))}))}))),u.promise}trigger(e,t,n){const r=(0,I.b2)();this.logger.log("<call> trigger",e),this.triggerListeners=this.triggerListeners||[];return this.taskQueue.add(new C((t=>{this.logger.log("<task> trigger",e);const c=this.messages.on("permutive:query:changed",(function(t){t.queryCode===e&&(n(t.result),r.resolve(t.result))}));this.triggerListeners.push(c),this.logger.log("<done> trigger",e),t()}))),r.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const n=(0,I.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new C((r=>{var c;this.logger.log("<task> segment",e);const i=this.queryManager.stateMap.value[e];i&&(t((null===(c=null==i?void 0:i.result)||void 0===c?void 0:c.result)||!1),n.resolve()),this.logger.log("<done> segment",e),r()}))),n.promise}segments(e,t="all"){const n=(0,I.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new C((r=>{this.logger.log("<task> segments ("+t+")");const c=c=>{e(c),n.resolve(c),this.logger.log("<done> segments ("+t+")"),r()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{c(this.addons.dfp.segments.liveSegments)})):c(this.queryManager.userSegments.getAllAsList())}))),n.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.stateSync.reset(),this.unprocessedEvents.PageviewComplete.reset(),this.queryManager.bootstrap([])]).then((([e])=>(this.userId.set(e.id),this.eventsCache.reset()))).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.network.error(`Error resetting internals. Got ${e}`)}))}addon(e,t){const r=Object.assign(Object.assign({},t),{permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,namespace:this.namespace,state:this.state,queryManager:this.queryManager,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,userSegments:this.queryManager.userSegments,addons:this.addons,enrichers:this.enrichers,externalData:this.externalData,cookies:this.cookies});if(-1===this.initialisedAddons.indexOf(e))switch(this.initialisedAddons.push(e),e){case"web":Promise.resolve().then(n.bind(n,8482)).then((e=>this.addons.web=new e.WebAddon(r))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":case"nativo":case"freewheel":case"facebook_pixel_v2":case"eyeota_pixel":case"rubicon":case"rubicon_ssp":case"tracking_pixel":case"twitter_pixel":case"pinterest_pixel":case"local_storage":case"appnexus_adserver":case"prebid":case"classification_models":case"socio_demo_cohorts":case"smart":case"tradedesk":case"ddp":case"dbm":case"appnexus":case"pubmatic":case"ctv":0;break;case"overlays":Promise.resolve().then(n.bind(n,718)).then((e=>this.addons.overlays=new e.OverlaysAddon(r)));break;case"scriptrunner":Promise.resolve().then(n.bind(n,7926)).then((e=>this.addons.scriptrunner=new e.ScriptRunnerAddon(r)));break;case"dfp":Promise.resolve().then(n.bind(n,2127)).then((e=>this.addons.dfp=e.createAddon(r)));break;case"clean_room":Promise.resolve().then(n.bind(n,6584)).then((e=>this.addons.clean_room=new e.CleanRoomAddon(r)));break;case"gam_log":Promise.resolve().then(n.bind(n,850)).then((e=>this.addons.gam_log=new e.GamLogAddon(r)))}else"web"===e&&!0!==t.auto_init?((e,t,n,r)=>new Promise(((c,s)=>{var o;const a=(0,i.Y3)(e);if((0,i.pC)(a))return c(a.value);n.once(t,(()=>(0,i.g_)((()=>s(new Error(`Error after waiting for event ${t}`))),c)((0,i.Y3)(e))));const u=null!==(o=null==r?void 0:r.timeout)&&void 0!==o?o:1e4;setTimeout((()=>s(new Error(`Event ${t} was not received within the timeout period ${u}ms`))),u)})))((()=>this.addons.web.reset(t)),"permutive:web:ready",this.messages).catch((e=>{this.network.error(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())})):"ctv"===e&&(null==t||t.auto_init)}addonIfTCFConsent(e,t){const n=()=>{switch(e.key){case"tradedesk":this.addons.tradedesk=new e.Addon(t);break;case"ddp":this.addons.ddp=new e.Addon(t);break;case"appnexus":this.addons.appnexus=new e.Addon(t);break;case"pubmatic":this.addons.pubmatic=new e.Addon(t)}},c=t=>t[x.D[e.key]]?n():(0,r.Q1)();return(0,O._8)(window).then((e=>{switch(e.type){case"missing":return n();case"aborted":return(0,r.Q1)();case"loaded":return(0,r.zG)((0,O.Ec)(e.data),(0,i.g_)(n,c))}}))}ready(e,t="initialised"){const n=(0,I.b2)(),r=()=>{e(),n.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?r():this.messages.on("permutive:ready",r);break;case"realtime":this.permutiveRealtime.isRealtime()?r():this.messages.once("permutive:realtime",r)}return n.promise}setupCloudCohortRef(){const[e,t]=function(e){const t=A((0,i.G)(e)),n=j(),r=j();let c=e;return[{get current(){return c},onChange:t.addListener,beforeChange:n.addListener,afterChange:r.addListener},e=>{Object.is(e,c)||(n.notify(),c=e,t.notify(c),r.notify())}]}(new Set);return this.messages.on("permutive:cleanroom:db:updated",(n=>t(new Set([...e.current,...n])))),this.messages.on("permutive:classificationmodels:db:updated",(n=>t(new Set([...e.current,...n.all])))),e}}var L=n(5097);const B=e=>{const{logger:t,consentTracking:n}=e,i=(...e)=>(t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null));return e=>class extends e{constructor(...e){super(...e),this.track=(0,L.v)(super.track.bind(this),i,n.isRevoked),n.listenForConsent((()=>this.consentRevoked()),r.Q1)}consentRevoked(){return(0,c.mG)(this,void 0,void 0,(function*(){return yield this.sessionManager.reset(),this.reset()}))}}},R=(e,t,n,c,i,s,o,a,u,d,l,g,p,h,f,m,_,w,v,b,y,k,q,E,D,P,M,S,O,x,I,C,T,A,j)=>new((0,r.zG)(U,B({consentTracking:j,logger:t})))(e,t,n,c,i,s,o,a,u,d,l,g,p,h,f,m,_,w,v,b,y,k,q,E,D,P,M,S,O,x,I,C,T,A)},7281:(e,t,n)=>{n.d(t,{Oc:()=>d,l9:()=>l});var r=n(1828),c=n(8198),i=n(3735);class s{constructor(){}setItem(e,t){return(0,i.zG)(JSON.stringify(t),(t=>window.sessionStorage.setItem(e,t)))}getItem(e){return(0,i.zG)(window.sessionStorage.getItem(e),JSON.parse)}}class o{constructor(){}setItem(){}getItem(){return null}}const a=e=>(0,c.tS)((e=>1===e.size?(0,c.F2)(null):(0,c.t$)("Iterable Maps not supported")))((e=>"function"==typeof e.Map?(0,c.F2)(new e.Map([["a",1]])):(0,c.t$)("Maps not supported"))(e)),u=e=>(0,c.tS)((e=>2===e.size?(0,c.F2)(null):(0,c.t$)("Iterable Sets not supported")))((e=>"function"==typeof e.Set?(0,c.F2)(new e.Set([1,2])):(0,c.t$)("Sets not supported"))(e)),d=e=>(0,i.zG)((0,r.gz)(c.G5)(a(e),u(e),(e=>{const t=["QuotaExceededError","QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED"];return(0,c.Y3)((()=>{const t="_permutive_ls_test";e.localStorage.setItem(t,t),e.localStorage.removeItem(t)}),(n=>e.localStorage&&0===e.localStorage.remainingSpace||t.some((e=>-1!==String(n).indexOf(e)))?"localStorage quota exceeded":"localStorage not supported"))})(e),(e=>e.Worker&&e.Blob?(0,c.F2)(null):(0,c.t$)("WebWorkers not supported"))(e)),(e=>(0,c.UI)(i.Q1)(e))),l=e=>{const t=(0,c.Y3)((()=>{const t="_permutive_ls_test";e.sessionStorage.setItem(t,t),e.sessionStorage.getItem(t),e.sessionStorage.removeItem(t)}),(e=>"sessionStorage not supported"));return(0,i.zG)(t,(0,c.g_)((()=>new o),(()=>new s)))}},8941:(e,t,n)=>{n.d(t,{Yj:()=>l,TZ:()=>d,MA:()=>p,WI:()=>h});var r=n(655),c=n(2688),i=n(3735),s=n(6567);var o=n(8206),a=n(449);const u=e=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield e.identityPromise,yield function(e,t){return(0,o.Bt)("e488cdb0-e7cb-4d91-9648-60d437d8e491","e488cdb0-e7cb-4d91-9648-60d437d8e491",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=yield function(e){const t=e.trace.startSpan("identify");0;return(e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const{logger:t,network:n,api:c,userId:i,identities:s,metrics:o,identitiesIngestor:a,messages:u}=e,d=s.extractIdentifyFromQueue(e),l=s.getIdentitiesMap(),g=d.reduce(((e,{tag:t,id:n,priority:r,expiry:c})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({id:n},c?{expiry:c}:{}),void 0!==r?{priority:r}:{})})),{}),p=Object.assign(Object.assign({},l),g);t.log("Starting identification... Identities are:",p);const h=s.getPrioritizedIdentities(p),f=yield c.identify(o,i,h).then((e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const n=e.user_id;return i.isEqual(n)?{identityChanged:!1}:(t.log(`Got different user id from API: ${n}`),{identityChanged:!0,userId:n})})))).catch((e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const t=i.get();return n.error(`Couldn't set identity for user ${t}. Got ${e}`,t),{identityChanged:!1}}))));return s.setIdentities(Object.entries(p).map((([e,{id:t,priority:n,expiry:r}])=>Object.assign(Object.assign({tag:e,id:t},r?{expiry:r}:{}),void 0!==n?{priority:n}:{})))),a.ingestIfEligible(h).catch((e=>n.error(`Couldn't ingest identities, got ${e}`,f.identityChanged?f.userId:i.get()))),u.emit("permutive:user:ready"),t.debug("<done> init identity ",f),f})))(e).catch((t=>(e.network.error(`Failed to identify. Got ${(0,c.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?(e.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{}}),yield l(e,t.userId)):(e.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{}}),e.logger.log("Identity has not changed"),yield h(e)),t})),d=e=>(0,r.mG)(void 0,void 0,void 0,(function*(){u(e),yield function(e,t,n,c,o,a,u){e.log("Assuming identity hasn't changed");const d=o.hasNewOrModifiedQueries,l=t.startSpan(`qm_bootstrap_${d}`),g=()=>d?a.all().then((e=>o.bootstrap(e))):o.bootstrap([]);return a.resetIfNeeded().then((e=>e?(u.track({name:"sdk_reset_hearst_count",value:1,labels:{}}),n.reset()):Promise.resolve())).then(g).then((()=>c.PageviewComplete.getIfPresent())).then((0,s.g_)((()=>e.log("No unprocessed PVC data detected")),(t=>(0,i.zG)(e.log("Unprocessed PVC data detected",t),(e=>{const{props:n}=t;return{props:n,unprocessedData:(0,r._T)(t,["props"])}}),(({props:e,unprocessedData:t})=>n.track("PageviewComplete",e,{unprocessedData:t}).finally((()=>c.PageviewComplete.reset()))))))).then((()=>l.finish()))}(e.logger,e.trace,e.permutiveMethods,e.unprocessedEvents,e.queryManager,e.eventsCache,e.metrics),g(e.global,e.clientContext)}));function l(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){e.logger.log("Identity has changed"),yield e.reset.reset(),e.userId.set(t),g(e.global,e.clientContext),e.identities.setIdentities([]);const n=yield e.eventsCache.reset(a.m),r=e.trace.startSpan("ss_reset_sync");e.thirdParty.reset(),yield m(e,n),r.finish()}))}function g(e,t){return e.context=t.getContext()}function p({logger:e,queryManager:t,models:n,trace:c}){return(0,r.mG)(this,void 0,void 0,(function*(){const r=c.startSpan("lal_http"),i=yield n.getModels();r.finish(),e.debug("Updating lookalike models");const s=c.startSpan("update_env_lal");return yield t.updateLAL(i),s.finish(),i}))}function h({logger:e,queryManager:t,thirdParty:n,trace:c}){return(0,r.mG)(this,void 0,void 0,(function*(){const r=c.startSpan("tpd_http"),i=yield n.segments();r.finish(),e.log("Updating TPD segments");const s=c.startSpan("update_env_tpd");return yield t.updateTPD(i),s.finish(),i}))}function f(e){const t=e.trace.startSpan("tpd_models");return Promise.all([h(e),p(e)]).then((([n,r])=>{e.logger.debug("Loaded TPD segments and lookalike models",n,r),t.finish()}))}const m=(e,t)=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield Promise.all([f(e),e.stateSync.resetSync(),e.queryManager.bootstrap(t)])}))},6785:(e,t,n)=>{function r(e,t,n,r,c){c.debug("set SDK as ready"),e.setAsReady(),t.emit("permutive:api:ready"),n.track({name:"sdk_local_storage_byte_total",value:r.getStateSizeInBytes(),labels:{}}),n.track({name:"sdk_query_states_byte_total",value:e.getStateSizeInBytes(),labels:{}})}n.d(t,{R:()=>r})},3368:(e,t,n)=>{n.d(t,{$o:()=>_,uU:()=>v,je:()=>w});var r=n(8198),c=n(3735),i=n(655),s=n(2688),o=n(6567),a=n(3629);class u{constructor(e,t,n){this.urls=e,this.config=t,this.logger=n}req(e){return this.reqImpl(e).then((e=>(0,c.MZ)(e)))}reqWithBeacon({url:e,payload:t}){return null===navigator||void 0===navigator?void 0:navigator.sendBeacon(e,JSON.stringify(t))}error(e,t,n){return(0,i.mG)(this,void 0,void 0,(function*(){this.logger.error((0,s.w)(e)),this.config.sendClientErrors&&(yield this.errorNetwork(e,t,n).catch((0,c.ls)(s.w,(e=>this.logger.error(e)))))}))}errorNetwork(e,t,n){var r,c,i,s,u,d,l,g;const p=e instanceof Error?e:new Error(JSON.stringify(e)),h={error_message:null!==(c=null===(r=null==p?void 0:p.message)||void 0===r?void 0:r.toString())&&void 0!==c?c:"",stack_trace:null===(i=null==p?void 0:p.stack)||void 0===i?void 0:i.split("\n")},f=t?{user_id:t}:{},m=Object.assign({platform:"web",sdk_version:"v19.37.1",ql_runtime_version:"v5.1.1",timestamp:null!=n?n:new Date,domain:null!==(u=null===(s=null===window||void 0===window?void 0:window.location)||void 0===s?void 0:s.hostname)&&void 0!==u?u:"",url:(0,a.bk)(null===(d=null===window||void 0===window?void 0:window.location)||void 0===d?void 0:d.href),referrer:(0,a.bk)(null===document||void 0===document?void 0:document.referrer),user_agent:null!==(l=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==l?l:"",error_message:null!==(g=h.error_message)&&void 0!==g?g:String(e),stack_trace:h.stack_trace},f);return this.req({url:this.urls.getSdkErrorsUrl("/errors",(0,o.G)(this.config.sdkErrorsApiVersion)),method:"POST",payload:[m],contentType:"text/plain",dataType:"text",withCredentials:!1})}reqImpl(e){const{url:t,dataType:n,contentType:c,method:i,withCredentials:s,timeout:o}=e;return new Promise(((a,u)=>{const d=new XMLHttpRequest,l="POST"===e.method?"string"==typeof(g=e.payload)?g:JSON.stringify(g):null;var g;d.onload=function(){if(this.status>=400){const e="text"===this.responseType||""===this.responseType?this.responseText:"Couldn't access response text";u(`Failed ajax request. Status code was ${this.status}. ${e}`)}else if("json"===n){const e=this.responseText?(0,r.Y3)((()=>JSON.parse(this.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(this.responseText)}. Got ${e}`)):(0,r.F2)(null);(0,r.g_)(u,a)(e)}else a("text"===n?this.responseText:this.response)},d.onerror=()=>u(new Error("Network request failed")),d.ontimeout=()=>u(new Error("Network request timed out")),d.open(i,t,!0),c&&d.setRequestHeader("content-type",c),d.timeout=o||d.timeout,d.withCredentials=s||d.withCredentials,d.responseType="binary"===n?"arraybuffer":d.responseType,d.send(l)}))}}var d=n(6013);const l="__permutive.",g="__permutiveConfigQueryParams";const p={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",cdnBaseUrl:"cdn.permutive.com",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",apiProtocol:"https",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,a._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataModelsKey:"permutive-data-models",permutiveDataQueriesKey:"permutive-data-queries",permutiveDataTPDKey:"permutive-data-tpd",permutiveDataEnrichersKey:"permutive-data-enrichers",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"e488cdb0-e7cb-4d91-9648-60d437d8e491.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:["internal_query_states"],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0}},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},h=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},n={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((r,c)=>{if(t.hasOwnProperty(c)){const t="true"===e[c];return Object.assign(Object.assign({},r),{[c]:t})}if(n.hasOwnProperty(c)){const t=Number(e[c]);return isNaN(t)?r:Object.assign(Object.assign({},r),{[c]:t})}return Object.assign(Object.assign({},r),{[c]:e[c]})}),{})},f=e=>Object.entries(e).reduce(((e,[t,n])=>{if(!(0===t.indexOf(l)))return e;const r=t.replace(l,"");return[...e,[r,n]]}),[]),m=(e,t,n)=>{var r;const i=(0,c.zG)(t,f,(e=>(0,d.m8)(...e)),h),s=null!==(r=p[e.environment])&&void 0!==r?r:{};return(0,d.PM)(p.default,s,e,((e,t)=>{const n=t.getItem(g),r=(0,d.PM)(n,e);return t.setItem(g,r),r})(i,n))},_=e=>{var t,n;const i="e488cdb0-e7cb-4d91-9648-60d437d8e491",s=void 0!==(null===(t=e[i])||void 0===t?void 0:t.q)&&void 0!==(null===(n=e[i])||void 0===n?void 0:n.config)?i:"permutive";return(0,c.zG)(e[s],(0,r.ij)("Can't find permutive tag on the page"),(0,r.UI)((e=>({tag:e,key:s}))))},w=({tag:e,key:t},n,r)=>Object.assign(Object.assign({},e),{config:m(Object.assign(Object.assign({},e.config),{windowKey:t}),n,r)}),v=(e,t,n)=>new u(e,t,n)},6112:(e,t,n)=>{n.d(t,{F:()=>i});var r=n(7112),c=n(4938);const i=(0,r.Y3)((()=>{const e=(0,c.e)();return e.postMessage({type:"noop",userId:null}),Promise.resolve(e)}),(e=>`Failed to start QueryWorker. Got ${e}`))},9848:(e,t,n)=>{n.d(t,{LA:()=>o});var r=n(9320),c=n(7209),i=n(6013);const s=(e,t,{network:n,state:r})=>{n.error(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,r.userId.get())};function o(e,t,n,o,g,p,h=d){const f=function(e){const t=(0,r.uK)((e=>-1!==u.indexOf(e.functionName)))(e),n=t.right,s=t.left.filter((e=>"consent"!==e.functionName)),o=(0,c.Zt)(((e,t)=>a(e)&&a(t)?(0,i.lW)(l).compare(e.arguments[0],t.arguments[0]):(0,i.lW)(u).compare(e.functionName,t.functionName))),d=(0,r.DY)(o)(n);return d.concat(s)}(e),m=p.startSpan("queued_methods"),_={network:g,state:t.state};f.forEach((e=>{try{t=e.functionName,h.includes(t)||(e=>{e.functionName in n?n[e.functionName].apply(o,e.arguments):s(new Error("Does not exist."),e,_)})(e)}catch(t){const n=t instanceof Error?t:new Error("Unknown error.");s(n,e,_)}var t})),m.finish()}const a=e=>"addon"===e.functionName,u=["identify","trigger","addon","track"],d=["identify"],l=["dfp","appnexus_adserver","web"]},5791:(e,t,n)=>{n.d(t,{y:()=>w});var r=n(655),c=n(2688),i=n(9320),s=n(3735),o=n(9384),a=function(e,t){return function(){return t(e())}},u=function(e){return function(t){return a(t,e)}},d=s.a9,l=(s.yR,s.yR,o.F4,o.Xl,function(){return Math.random()});function g(e,t){return(0,s.zG)(l,u((function(n){return Math.floor((t-e+1)*n+e)})))}u((function(e){return e<.5}));var p=n(356),h=n(274),f=n(6013);class m{constructor(e,t,n,c,i){this.sdkInitTimestamp=e,this.api=t,this.messages=n,this.logger=c,this.enrichers=i,this.environment="web",this.pendingMetrics=[],this.pendingTimers={},this.messages.on("permutive:ready",(()=>{const e=g(3e4,9e4),t=n=>window.setTimeout((()=>(0,r.mG)(this,void 0,void 0,(function*(){const n=(yield this.processPending())?5e3:e();t(n)}))),n);t(5e3),(0,f.aq)((()=>{this.processPending.bind(this)}))})),this.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}})}track(e){this.pendingMetrics.push(e)}trackTimeSinceInit(e,t){const n=(performance.now()-this.sdkInitTimestamp)/1e3;this.logger.debug("metrics: timer stopped",e,n),this.track({name:e,value:n,labels:t})}startTimer(e,t){const n=performance.now(),r=this.generateRandomKey(e);return this.pendingTimers[r]={startTime:n,labels:t},r}stopTimer(e,t){const n=this.pendingTimers[t];if(n){const r=(performance.now()-n.startTime)/1e3;this.logger.debug("metrics: timer stopped",e,r),this.track({name:e,value:r,labels:n.labels}),delete this.pendingTimers[t]}}processPending(){return(0,r.mG)(this,void 0,void 0,(function*(){if((0,i.xb)(this.pendingMetrics))return!0;const e=this.pendingMetrics;this.pendingMetrics=[];const t=()=>(0,s.zG)({},(e=>(0,p.dx)("continent",h.U.$ip_geo_info_continent)(e)),(e=>this.enrichers.enrich(e,!0).output));try{return yield this.api.metrics({context:Object.assign(Object.assign({},t()),{environment:this.environment,events_count:0,segments_count:0}),items:e}),!0}catch(t){return this.logger.error(`Metrics: Request failed from error ${(0,c.w)(t).message}`,e),this.pendingMetrics=[...this.pendingMetrics,...e],!1}}))}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}}class _{track(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}function w(e,t,n,r,c,i,s){return(null!==(o=r.getData("metricsEnabled"))&&void 0!==o?o:(()=>{const e=Math.random()<=n.metricsSamplingPercentage/100;return r.setData("metricsEnabled",e),e})())?new m(e,t,c,i,s):new _;var o}},6992:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>initialiseWebSDK,f:()=>initialisationSequence});var tslib__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(655),fp_ts_Either__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(8198),fp_ts_function__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(3735),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(7112),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9417),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8206),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(6815),_publisher_cohorts_legacy_models_PermutiveModelsWeb__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(8306),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8764),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5506),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(427),_core_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4572),_core_events_EventsCacheWeb__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8231),_core_events_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(2923),_core_events_PermutiveEventsBatch__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4314),_core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(6515),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(3937),_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9175),_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(3319),_core_internals_PermutiveInternals__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(6715),_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(4828),_core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(8167),_core_queries_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4938),_core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3253),_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2747),_core_state_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1823),_core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(7738),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(4528),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(2472),_core_state_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1714),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(7258),_core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7846),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6919),_core_store_LocalStorageWeb__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(3195),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1057),_core_third_party_ThirdPartyBase__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2520),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2223),_dynamic_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(7735),_dynamic_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(3760),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(4762),_http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(8110),_utils_event_handler_PermutiveEventHandler__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(9409),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6013),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(7749),_utils_Trace__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(998),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(3629),_Consent_Consent__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(6146),_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(9658),_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(7281),_initialisation_identity__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(8941),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(6785),_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(3368),_initialisation_queryWorkerInit__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(6112),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(9848),_initialisation_setupMetrics__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(5791),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(1407);const sdkInitTimestamp=window.performance.now(),initialiseWebSDK=({queryWorker,tag,partialTagWithKey,urls,network,namespace,messages,logger,consentModule})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.Y3)((()=>(0,tslib__WEBPACK_IMPORTED_MODULE_27__.mG)(void 0,void 0,void 0,(function*(){const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,trace=new _utils_Trace__WEBPACK_IMPORTED_MODULE_28__.l(config),sdkReadySpan=trace.startSpan("sdk_ready"),{consentTracking,consentValidation}=consentModule;window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_18__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_29__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_29__.bk)(document.referrer)}),createInternalsSpan=trace.startSpan("internals"),eventHandler=new _utils_event_handler_PermutiveEventHandler__WEBPACK_IMPORTED_MODULE_30__.b,cookieStore=(0,_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_7__.S)(namespace,config,logger,consentTracking),localStorage=(0,_core_store_LocalStorageWeb__WEBPACK_IMPORTED_MODULE_31__.S)(namespace,logger,consentTracking),externalData=(0,_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_32__.S)(namespace,logger,consentTracking),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_33__.z(context),viewId=new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__.W(clientContext,config),userId=new _core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__.M(config,clientContext,cookieStore,externalData),permutiveData=(0,_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__.S)(config,namespace,logger,network,userId,consentTracking),eventSourceId=new _core_state_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__.$(permutiveData),enrichers=new _dynamic_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_34__.J,api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_35__.F(urls,config,network),metrics=(0,_initialisation_setupMetrics__WEBPACK_IMPORTED_MODULE_24__.y)(sdkInitTimestamp,api,config,permutiveData,messages,logger,enrichers),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_1__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identityPromise=identities.prepareThirdPartyIdentities(),models=new _publisher_cohorts_legacy_models_PermutiveModelsWeb__WEBPACK_IMPORTED_MODULE_36__.e(network,logger,api,metrics,permutiveData),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_37__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_38__.u(metrics,messages),sessionManager=yield _core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__.S.initialise(cookieStore,localStorage),_internals=new _core_internals_PermutiveInternals__WEBPACK_IMPORTED_MODULE_39__.P(logger,network,userId,viewId,messages,sessionManager,cookieStore,externalData);_internals.metrics=metrics,_internals.identities=identities;const eventsCache=new _core_events_EventsCacheWeb__WEBPACK_IMPORTED_MODULE_5__.K(config,namespace,logger,network,trace,metrics,userId,consentTracking),eventsBatch=new _core_events_PermutiveEventsBatch__WEBPACK_IMPORTED_MODULE_6__.c(eventHandler,api,metrics,userId,network,eventsCache),unprocessedArgs={consentTracking,logger,namespace},unprocessedEvents={PageviewComplete:new _core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_40__.p(unprocessedArgs),PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_41__.J(unprocessedArgs)},customProperties=new _core_events_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_42__.X,queryManagerTransitionDebounceTime=1e3,queryManagerTransitionMaxDebounceTime=1e4,queryManager=new _core_queries_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__.c({customProperties,externalData,logger,messages,network,permutive:permutiveGlobal,permutiveData,queryWorker,realtime:permutiveRealtime,sessionManager,transitionDebounceMaxTime:queryManagerTransitionMaxDebounceTime,transitionDebounceTime:queryManagerTransitionDebounceTime,userId,viewId});_internals.queryManager=queryManager;const permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_43__.a(config,localStorage,logger,queryManager,permutiveData,eventSourceId,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_44__.i(messages),stateSync=new _core_state_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.N(api,network,sessionManager,permutiveData,queryManager,metrics,userId,eventSourceId,(0,_core_state_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.e)()),thirdParty=new _core_third_party_ThirdPartyBase__WEBPACK_IMPORTED_MODULE_16__.U(network,logger,api,permutiveData,messages,sessionManager,metrics,identities,queryManager,permutiveGlobal,userId),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_2__.v(logger,permutiveGlobal,clientContext),state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_45__.u(permutiveData,permutiveReset,userId,viewId,eventsCache);_internals.state=state;const permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_25__.S)(namespace,logger,api,eventHandler,activationManager,sessionManager,metrics,viewId,userId,network,enrichers,clientContext,unprocessedEvents,eventsBatch,queryManager,stateSync,eventsCache,taskQueue,identities,permutiveReset,messages,_internals.addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,thirdParty,models,identitiesIngestor,permutiveGlobal,consentTracking);createInternalsSpan.finish(),[].forEach((s=>{(0,fp_ts_Either__WEBPACK_IMPORTED_MODULE_46__.Y3)((()=>eval(s)),(e=>{network.error(Object.assign(Object.assign({},e),{message:`Error running custom script ${s}`}),userId.get())}))})),_internals.addBlocker("permutive:queries:initialised"),messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods);const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0&&permutiveGlobal.identify(e)})),_internals.messages.on("permutive:blockers:empty",(()=>{permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=_internals.addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_23__.LA)(permutiveGlobal.q,_internals,permutiveGlobal,permutiveMethods,network,trace)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__.C)({_internals,logger,network,permutiveMethods,q:permutiveGlobal.q,clientContext}),loadAddonsSpan.finish();const loadEnrichersSpan=trace.startSpan("load_enrichers"),enricherEnv={api,config,clientContext,logger,permutiveData,metrics,sessionManager:_internals.sessionManager,enrichers,network},loadEnrichersPromise=(0,_dynamic_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_47__.H)(enricherEnv)();loadEnrichersPromise.then((()=>{loadEnrichersSpan.finish()})),yield(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_20__.TZ)({api,clientContext,eventsCache,externalData,global:permutiveGlobal,identities,identitiesIngestor,identityPromise,logger,messages,metrics,models,network,permutiveMethods,queryManager,reset:permutiveReset,stateSync,thirdParty,trace,unprocessedEvents,userId}),(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_20__.MA)({logger,queryManager,models,trace}),yield loadEnrichersPromise,(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_48__.R)(queryManager,messages,metrics,state,logger),sdkReadySpan.finish()}))),(e=>`Exception during initialisation. Got ${e}`)),initialisationSequence=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_49__.zG)(fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.Do,(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("support",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.Uo)((0,_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_50__.Oc)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("queryWorker",(()=>_initialisation_queryWorkerInit__WEBPACK_IMPORTED_MODULE_22__.F)),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("sessionStorage",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)((0,_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_50__.l9)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("partialTagWithKey",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.Uo)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_21__.$o)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("queryParams",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)((0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_29__.zM)()))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("tag",(({partialTagWithKey:e,queryParams:t,sessionStorage:n})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_21__.je)(e,t,n)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("logger",(({tag:e})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)((0,_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_51__.SX)(e.config)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("urls",(({tag:e})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)(new _http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_52__.s(e.config)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("network",(({tag:e,urls:t,logger:n})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_21__.uU)(t,e.config,n)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("namespace",(({tag:e})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)(new _core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_53__.L(e.config)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("messages",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.F2)(new _core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_54__.Q))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("consentModule",(({tag:e,namespace:t,logger:n,messages:r})=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.fF)((()=>(0,_Consent_Consent__WEBPACK_IMPORTED_MODULE_55__.NY)(r,n,t,e.config))))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.ak)("consent",(e=>(0,_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_19__.D)(e))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_26__.tS)((e=>initialiseWebSDK(e))))},6013:(e,t,n)=>{n.d(t,{Fi:()=>M,G6:()=>P,Gz:()=>k,PM:()=>p,PQ:()=>S,Z_:()=>C,a4:()=>m,aq:()=>b,b0:()=>q,b2:()=>f,cO:()=>O,eu:()=>w,fl:()=>D,hk:()=>l,j5:()=>I,k$:()=>y,ke:()=>v,lW:()=>x,m8:()=>E,qh:()=>g,rB:()=>_,vp:()=>h});var r=n(4268),c=n(3735),i=n(6567),s=n(7209),o=n(6017),a=n(356),u=n(5857),d=n(2751);const l=(0,a.hX)((0,o.ff)(a.xb)),g=e=>Object.entries(e);function p(...e){return e.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}function h(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(0,o.ff)(d.xb);function f(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),reject:t,resolve:e}}function m(e,t,n={}){const{waitTimeInMs:r,exponentialBackOff:s,maxAttempts:o}=p({waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},n);let a=0;const u=n=>new Promise((r=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>r((0,i.G)(e)))):(0,c.zG)(a++,(e=>e<o?setTimeout((()=>r(u(n*(s?2:1)))),n):r(i.YP)))))));return u(r)}function _(e){const t={equals:(t,n)=>t[0]===n[0]&&e.equals(t[1],n[1])},n=(0,u.Eh)(t);return(0,r.Uz)((e=>new Set(Object.entries(e))))(n)}function w(e,t){const n=Object.create(null);for(const r of t)n[r]=e[r];return n}function v(e){if("string"==typeof e){const t=+e;if(!isNaN(t))return t}return e}function b(e,t=navigator.userAgent){const n=["beforeunload","pagehide"],r=n.concat(["visibilitychange"]),c=t=>{if(!i&&t)return i=!0,e()};let i=!1;r.forEach((e=>{window.addEventListener(e,(()=>{const n=("visibilitychange"!==e||document.hidden)&&function(e){return/Mobi|Android/i.test(e)}(t);c(n)}))})),n.forEach((e=>{window.addEventListener(e,(()=>c(!0)))}))}function y(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function k(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function q(e,t){const n=Object.keys(e),r=n.length,c={};for(let s=0;s<r;s++){const r=n[s],o=t(r,e[r]);(0,i.pC)(o)&&(c[r]=o.value)}return c}function E(...e){const t={},n=e.length;for(let r=0;r<n;r++){const[n,c]=e[r];t[n]=c}return t}function D(e,t){return q(e,((e,n)=>t(e)?(0,i.G)(n):i.YP))}function P(e){return/^((?!chrome|android).)*safari/i.test(e)}function M(e){}function S(e,t){return new Promise((n=>{var r;setTimeout((()=>{Promise.resolve(e()).then(n)}),null!==(r=null==t?void 0:t.timeout)&&void 0!==r?r:0)}))}function O(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function x(e){return(0,s.Zt)(((t,n)=>{const r=e.indexOf(t),c=e.indexOf(n);switch(!0){case-1===r&&-1===c:return 0;case-1!==r&&-1===c:return-1;case-1===r&&-1!==c:return 1;default:return r<=c?-1:1}}))}function I(e){return e.reduce(((e,t)=>(e[t]=!0,e)),{})}function C(e,t,n){return(...r)=>{try{return n(...r)}catch(n){e.error(n,t.get())}}}},998:(e,t,n)=>{n.d(t,{l:()=>r});class r{constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=!1,this.placeholderSpan={spanId:null,finish:()=>({})},this.shouldUsePerformanceMark=(null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled}startSpan(e){var t;if(this.shouldUsePerformanceMark){const n=this.generateId(),r=`permutive_${e}`,c=`${r}${n}_start`;return null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t||t.mark(c),{spanId:c,finish:()=>{var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.measure)||void 0===t||t.call(e,r,c)}}}return this.placeholderSpan}generateId(){return"_"+Math.random().toString(36).substr(2,9)}}},9409:(e,t,n)=>{n.d(t,{b:()=>r});class r{constructor(){this.events=[],this.listeners=[]}newEvent(e,t){this.events.push([e,t]),[...this.listeners].forEach((n=>{this.handle(e,t,n)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,n){const r="string"==typeof n.name&&e.name===n.name,c=n.name.test&&n.name.test(e.name),i=r||c;if(i)try{n.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}i&&n.once&&this.remove(n)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let n=0;n<this.events.length&&t;n++)this.handle(this.events[n][0],this.events[n][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}},7545:(e,t,n)=>{n.d(t,{b:()=>c});var r=n(6013);class c{constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e,t=this.timeoutDurationInMilliseconds,n=this.maxTimeOutDurationInMilliseconds){return this.debounce(e,t,n)}scheduleAccumulated(e,t,n=this.timeoutDurationInMilliseconds,r=this.maxTimeOutDurationInMilliseconds){return this.debounce(e,n,r,t)}scheduleForPageUnload(e){return(0,r.aq)(e)}debounce(e,t,n,c){let i,s,o=null==c?void 0:c.empty,a=[];return u=>{c&&(o=c.concat(o,u));const d=(0,r.b2)();a.push(d);return i&&window.clearTimeout(i),i=window.setTimeout((()=>{window.clearTimeout(s),s=null;const t=e(c?o:u);a.forEach((e=>e.resolve(t))),o=null==c?void 0:c.empty,a=[]}),t),s||(s=window.setTimeout((()=>{window.clearTimeout(i),s=null;const t=e(c?o:u);a.forEach((e=>e.resolve(t))),o=null==c?void 0:c.empty,a=[]}),n)),d.promise}}}},7749:(e,t,n)=>{n.d(t,{i:()=>r});class r{constructor(e){this.messages=e,this.queue=[],this.nextNotify=null,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,window.setTimeout(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,n=0;for(let r=0;r<this.queue.length;r++){const c=this.queue[r];if(c.complete)n+=1;else if(c.started)t=!0,e=e||c.blocks();else{if(c.waits()&&t)break;e||(t=!0,e=e||c.blocks(),c.execute((()=>{this.notify()})))}}this.queue.splice(0,n)}size(){return this.queue.length}}},3629:(e,t,n)=>{n.d(t,{_Y:()=>s,bk:()=>i,zM:()=>c});var r=n(3735);const c=()=>{var e,t;const n=null===(t=null===(e=window.location.href.split("?")[1])||void 0===e?void 0:e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===n?{}:n.reduce(((e,t)=>{const[n,r]=t.split("=");return Object.assign(Object.assign({},e),{[n]:r})}),{})},i=e=>{if(!e)return"";return(0,r.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function s(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),n=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),r=e.match(/localhost/);if((null==n?void 0:n.length)>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return(null==t?void 0:t.length)>0?t[0]:(null==r?void 0:r.length)>0?"localhost":""}},8306:(e,t,n)=>{n.d(t,{e:()=>l});var r=n(655),c=n(6567);const i=(e,t,n,r)=>t+(n-t)*r/(Math.pow(2,e)-1),s=(e,t)=>{const n=(e,t)=>{const n=e.toString(16);return("0".repeat(t)+n).slice(Math.min(-t,-n.length))};return`${n(e.getUint32(t),8)}-${n(e.getUint16(t+4),4)}-${n(e.getUint16(t+6),4)}-${n(e.getUint16(t+8),4)}-${n(e.getUint32(t+10),8)}${n(e.getUint16(t+14),4)}`},o=e=>{const t=[1,2],n=e.getInt8(0);if(1===n)return a(e);if(2===n)return u(e);{const r=(0,c.Y3)((()=>s(e,1))),i=(0,c.g_)((()=>"Couldn't decode model id"),(e=>`Model id was ${e}`))(r);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${n}; ${i}`)}},a=e=>d(e,1),u=e=>d(e,2),d=(e,t)=>{const n=s(e,1),r=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),c=e.getInt8(18),i=e.getFloat32(19),o=e.getFloat32(23),[a,u]=((e,t,n,r,c,i)=>{const s={};let o=0;do{let n=null;1===i?(o=e.getUint16(t),n=e.getUint16(t+2),t+=4):(o=e.getUint32(t),n=e.getUint16(t+4),t+=6),s[0===o?"const":o]=n.toString(36)}while(0!==o);return[s,t]})(e,27,0,0,0,t);return[{version:t,id:n,data_preference:r,weights:a,precision:c,min:i,max:o},u]};class l{constructor(e,t,n,c,s){this.network=e,this.logger=t,this.api=n,this.metrics=c,this.permutiveData=s,this.MODELS_LAST_UPDATED_KEY="models_last_updated",this.MODELS_DATA_KEY="models_data",this.MODELS_SYNC_TIMEOUT_IN_SECONDS=86400;const o=s.getData(this.MODELS_LAST_UPDATED_KEY),a=c.startTimer("sdk_load_lookalike_models_task_duration_seconds",{}),u=()=>this.fetchModels().then((e=>(this.permutiveData.setData(this.MODELS_DATA_KEY,e),this.permutiveData.setData(this.MODELS_LAST_UPDATED_KEY,(new Date).getTime()),e))).catch((e=>(this.network.error("Failed decoding binary models.\nError: "+e),{}))),d=()=>(0,r.mG)(this,void 0,void 0,(function*(){return this.permutiveData.getData(this.MODELS_DATA_KEY)}));this.models=(()=>(isNaN(o)||(new Date).getTime()>o+1e3*this.MODELS_SYNC_TIMEOUT_IN_SECONDS?u():d()).then((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},n=Object.keys(e),r=e=>{const t={"1p":{}},{precision:n,min:r,max:c}=e,s=e["1p"],o=Object.keys(s);for(let e=0;e<o.length;e++){const a=o[e],u=parseInt(s[a],36);t["1p"][a]=i(n,r,c,u)}return t};for(let c=0;c<n.length;c++){const i=n[c],s=e[i];t[i]=r(s)}return t})(e):e)))().then((e=>(this.metrics.stopTimer("sdk_load_lookalike_models_task_duration_seconds",a),e)))}getModels(){return this.models}extractModelsFromJsonArray(e,t){const n={};for(let r=0;r<e.length;r++){const c=e[r],{id:i,weights:s}=c;if(void 0===i||void 0===s)continue;const o=t(c);Object.keys(s).forEach((e=>{o["1p"][e]=s[e]})),n[i]=o}return n}fetchModels(){const e=()=>this.api.modelsJson(this.metrics).then((e=>this.extractModelsFromJsonArray(e.models,(()=>({"1p":{}}))))).catch((e=>(this.network.error("Failed fetching json models.\nError: "+e),{})));return(()=>this.api.modelsBinary(this.metrics).then((e=>this.extractModelsFromJsonArray(function(e){const t=[];let n=0;for(;n<e.byteLength;){const[r,c]=o(new DataView(e,n));t.push(r),n+=c}return t}(e),(({precision:e,max:t,min:n})=>({"1p":{},precision:e,min:n,max:t}))))).catch((t=>(this.logger.log("Failed fetching binary models, reverting to JSON.\nError: "+t),this.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),e()))))()}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(8198),t=__webpack_require__(3735),n=__webpack_require__(3760),r=__webpack_require__(6567),c=__webpack_require__(274),i=__webpack_require__(9320),s=__webpack_require__(6013),o=__webpack_require__(416);class a{constructor(e,t){this.config=e,this.logger=t,this.defaultReplacementMap=this.filterReplacementMap(this.config.defaultMap),this.replacementMap=this.setReplacementMap(this.config.replacementMap)}get getReplacementMap(){return this.replacementMap}setReplacementMap(e){return this.replacementMap=Object.assign(Object.assign({},this.defaultReplacementMap),this.filterReplacementMap(e)),this.logger.debug(`enrichers[${this.config.name}]: replacement map updated`,this.getReplacementMap),this.getReplacementMap}}class u extends a{filterReplacementMap(e){return(0,t.zG)(e,s.qh,(0,i.DZ)((e=>{const[,t]=e;return(0,o.t)(t)?r.YP:(0,r.G)(e)})),(0,i.u4)({},((e,[t,n])=>(void 0===n||(e[t]=n),e))))}}class d extends a{filterReplacementMap(e){return e}}const l="geoip",g="enricher:geoip",p={},h={include_geo:(null==p?void 0:p.include_geo)||!0,include_isp:(null==p?void 0:p.include_isp)||!0,include_ip_hash:(null==p?void 0:p.include_ip_hash)||!0,include_ip:(null==p?void 0:p.include_ip)||!1},f=(e,n)=>{const{$ip_geo_info_continent:i,$ip_address:s,$ip_address_hash:o}=c.U,a={$ip_geo_info_continent:i,$ip_address:s,$ip_geo_info:{city:c.U.$ip_geo_info_city,continent:c.U.$ip_geo_info_continent,country:c.U.$ip_geo_info_country,postal_code:c.U.$ip_geo_info_postal_code,province:c.U.$ip_geo_info_province},$ip_address_hash:o,$ip_isp_info:{autonomous_system_number:0,isp:c.U.$ip_isp_info_isp,autonomous_system_organization:c.U.$ip_isp_info_autonomous_system_organization,organization:c.U.$ip_isp_info_organization}},u=(0,t.zG)((0,r.Y3)((()=>({$ip_geo_info:e.geo_info,$ip_geo_info_continent:e.geo_info.continent,$ip_isp_info:e.isp_info,$ip_address:e.ip,$ip_address_hash:e.ip_hash}))),(0,r.fS)((()=>({}))));return new d({name:l,defaultMap:a,replacementMap:u},n)},m=({clientContext:e,api:t,permutiveData:n,metrics:r,sessionManager:c,enrichers:i,network:s,logger:o,config:a})=>{const u=t=>{t.isp_info&&e.updateContext(["isp",t.isp_info.isp],["organization",t.isp_info.organization],["autonomous_system_number",t.isp_info.autonomous_system_number],["autonomous_system_organization",t.isp_info.autonomous_system_organization]),t.geo_info&&e.updateContext(["continent",t.geo_info.continent],["country",t.geo_info.country],["city",t.geo_info.city],["province",t.geo_info.province],["postal_code",t.geo_info.postal_code])},d=n.getData(g);return d&&d.session_id===c.getSessionId()?(u(d.data),i.register(f(d.data,o)),Promise.resolve()):(o.debug("enrichers[geoip]: start HTTP request"),_(t,r,a,h).then((e=>(o.debug("enrichers[geoip]: end HTTP request"),u(e),n.setData(g,{session_id:c.getSessionId(),data:e}),e))).catch((e=>(s.error(`Error while registering the geoip enricher: got ${e}`),null))).then((e=>{i.register(f(e,o))})))},_=(e,t,n,c)=>{const i=[];return c.include_geo&&i.push(["include","geo"]),c.include_isp&&i.push(["include","isp"]),c.include_ip&&i.push(["include","ip"]),c.include_ip_hash&&i.push(["include","ip_hash"]),e.reqWithMetrics(t,"sdk_http_geoip_seconds",{url:e.urls.getEndpointUrl("/geoip",(0,r.G)(n.apiVersion),i),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})},w=()=>(0,n.B)({load:m});var v=__webpack_require__(655),b=__webpack_require__(2751);const y="watson";function k(e){if(!e)return[];const t=(0,i.xH)(e.filter(Boolean).map((e=>(e=>{const t=e.split("/").filter((e=>e));return t.map(((e,n)=>"/"+t.slice(0,n+1).join("/")))})(e.label))));return(0,i.jj)(b.Eq)(t)}const q=({api:e,clientContext:t,config:n,enrichers:r,logger:c,metrics:i})=>{c.debug("enrichers[watson]: is enabled",n.watson.enabled);const s=n.watson.enabled?()=>(0,v.mG)(void 0,void 0,void 0,(function*(){const r=yield t.getClient();c.debug("enrichers[watson]: start HTTP request");const s=yield E(e,i,n,r.url);return c.debug("enrichers[watson]: end HTTP request",s),s})):()=>(0,v.mG)(void 0,void 0,void 0,(function*(){return c.debug("enrichers[watson]: stubbing response"),null})),o=s().then((e=>{t.updateContext([y,e]),r.register(((e,t)=>{var n,r,c,i;const s={$alchemy_concepts:null==e?void 0:e.concepts,$alchemy_document_emotion:null===(r=null===(n=null==e?void 0:e.emotion)||void 0===n?void 0:n.document)||void 0===r?void 0:r.emotion,$alchemy_document_sentiment:null===(c=null==e?void 0:e.sentiment)||void 0===c?void 0:c.document,$alchemy_entities:null==e?void 0:e.entities,$alchemy_entity_names:null===(i=null==e?void 0:e.entities)||void 0===i?void 0:i.map((e=>e.text)),$alchemy_keywords:null==e?void 0:e.keywords,$alchemy_taxonomy:null==e?void 0:e.taxonomy,$alchemy_taxonomy_labels:k(null==e?void 0:e.taxonomy),$taxonomy_labels:k(null==e?void 0:e.taxonomy)};return new u({name:y,defaultMap:{$alchemy_concepts:[],$alchemy_document_emotion:null,$alchemy_document_sentiment:null,$alchemy_entities:[],$alchemy_entity_names:[],$alchemy_keywords:[],$alchemy_taxonomy:[],$alchemy_taxonomy_labels:[],$taxonomy_labels:[]},replacementMap:s},t)})(e,c))}));return o.catch((e=>{c.error(`Error while registering the watson enricher: got ${e}`),i.track({name:"sdk_watson_classification_fail_count",value:1,labels:{}})})),o},E=(e,t,n,c)=>e.reqWithMetrics(t,"sdk_http_watson_seconds",{url:e.urls.getEndpointUrl("/watson",(0,r.G)(n.apiVersion)),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1,payload:{url:c,classify:!0}}),D=()=>(0,n.B)({load:q});var P,M=__webpack_require__(6992);P=M.f,w(),D(),P().then((0,e.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),t.Q1))})()})();