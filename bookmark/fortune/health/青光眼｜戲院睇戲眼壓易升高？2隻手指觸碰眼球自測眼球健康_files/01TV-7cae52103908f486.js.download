(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8418],{91296:function(e,t,n){var r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,c=u||s||Function("return this")(),d=Object.prototype.toString,v=Math.max,p=Math.min,y=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||i.test(e)?a(e.slice(2),n?2:8):l.test(e)?NaN:+e}e.exports=function(e,t,n){var r,l,o,i,a,u,s=0,c=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,o=l;return r=l=void 0,s=t,i=e.apply(o,n)}function P(e){return s=e,a=setTimeout(O,t),c?b(e):i}function E(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-s>=o}function O(){var e=y();if(E(e))return A(e);a=setTimeout(O,function(e){var n=t-(e-u);return d?p(n,o-(e-s)):n}(e))}function A(e){return a=void 0,g&&r?b(e):(r=l=void 0,i)}function h(){var e=y(),n=E(e);if(r=arguments,l=this,u=e,n){if(void 0===a)return P(u);if(d)return a=setTimeout(O,t),b(u)}return void 0===a&&(a=setTimeout(O,t)),i}return t=m(t)||0,f(n)&&(c=!!n.leading,o=(d="maxWait"in n)?v(m(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),h.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=u=l=a=void 0},h.flush=function(){return void 0===a?i:A(y())},h}},27183:function(e,t,n){"use strict";n(67294);var r=n(54739),l=n(47706),o=n(73792),i=n(64883),a=n(85893);const u=(0,r.default)(i.Z).withConfig({componentId:"sc-1xa121o-0"})(["opacity:0.3;color:",";"],(0,o.rS)("colors.black40"));t.Z=()=>(0,a.jsx)(l.kC,{justifyContent:"center",py:5,children:(0,a.jsx)(u,{height:32,fontSize:[32,64]})},"loader1")},24287:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ke}});var r=n(59241),l=n.n(r),o=n(67294),i=n(246),a=n.n(i),u=n(12041),s=n(27183),c=n(70283),d=n(82779),v=n(33439),p=n(59499),y=n(4730),f=n(94059);const m=["stickySkipListenScroll"],g=()=>{const e=document.querySelector("nav.cmp-nav-bar"),{height:t}=null===e||void 0===e?void 0:e.getBoundingClientRect();return t},b=e=>document.querySelector(`[data-playlist-index="${e}"]`),P=e=>{const t=b(e);return null===t||void 0===t?void 0:t.getBoundingClientRect()},E=e=>{const t=(e=>{var t;return Number(null===(t=P(e))||void 0===t?void 0:t.top)>=g()})(e)&&(e=>{var t,n;const r=window.innerHeight,l=null===(t=b(e))||void 0===t?void 0:t.querySelector(".card-image__outer");return Number(null===l||void 0===l||null===(n=l.getBoundingClientRect())||void 0===n?void 0:n.bottom)<r})(e);return t},O=(e,t)=>{const n=t??{},{stickySkipListenScroll:r}=n,l=(0,y.Z)(n,m);setTimeout((()=>{var t;r&&document.documentElement.classList.add("js-01tv-sticky-player-skip-listening-scroll"),null===(t=b(e))||void 0===t||t.scrollIntoView(l),r&&(0,f.Ss)().then((()=>{document.documentElement.classList.remove("js-01tv-sticky-player-skip-listening-scroll")})).catch((e=>{console.log(e,"Fail to waitForScrollEnd")}))}),0)};var A=n(13657),h=n.n(A),I=n(94184),x=n.n(I),S=n(11752),C=n(13431),T=n(64883),_=n(75760);let N;!function(e){e.INLINE="INLINE",e.STICKY="STICKY",e.FULLSCREEN="FULLSCREEN"}(N||(N={}));const j=()=>{};var k=(0,o.createContext)({items:[],state:{playlist:[],currentIndex:-1,setCurrentIndex:j,playerFormat:N.INLINE,setPlayerFormat:()=>null,playerManager:null,setPlayerManager:j,isAutoScrollInlineVideoCard:!0,isScrollOnUpdateCurrentIndexRef:null,isAutoPlay:"muted",setIsAutoPlay:j,isAutoNext:!0,setIsAutoNext:j,enableTapToUnmuteOnAutoplay:!0,setEnableTapToUnmuteOnAutoplay:j,inlinePlayerKeyMap:{},dispatchInlinePlayerKey:j,disablePrebid:!0},refs:{videoElementMapRef:null,playerMapRef:null,playerStateRef:null,stickyPlayerRef:null,fullscreenPlayerRef:null},actions:{next:j,prev:j,enterFullscreen:j,exitFullscreen:j,getCurrentVideo:()=>null,setAndSyncIsAutoNext:j,preparePlayerState:j,getPlayerState:()=>null,removePlayerState:j,setPlayerState:j,setPlayerFormatAndPrepareState:j,handleAutoNextToggle:j,resumeOrPause:j,shouldPlayAd:()=>null,handleVolumeChangeAndTapToUnmute:()=>j,generateTrackingEventHandler:()=>j}}),L=n(84367),w=n(5187),R=n(85893);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const{publicRuntimeConfig:{videoAdUnit01TV:M}}=(0,S.default)(),U=Element.prototype.requestFullscreen||Element.prototype.webkitRequestFullscreen||Element.prototype.msRequestFullscreen||Element.prototype.mozRequestFullscreen,V=Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.msExitFullscreen||Document.prototype.mozExitFullscreen;var K=e=>{var t;const{state:{currentIndex:n,playerFormat:r,disablePrebid:l,isAutoNext:i,isAutoPlay:a,enableTapToUnmuteOnAutoplay:u},actions:{next:s,exitFullscreen:c,getCurrentVideo:d,getPlayerState:v,removePlayerState:p,setPlayerState:y,handleAutoNextToggle:f,resumeOrPause:m,shouldPlayAd:g,handleVolumeChangeAndTapToUnmute:b,generateTrackingEventHandler:P},refs:{fullscreenPlayerRef:E},items:O}=(0,o.useContext)(k),A=null===O||void 0===O||null===(t=O[n])||void 0===t?void 0:t.blockAd,I=v(n),S="PAUSED"!==(null===I||void 0===I?void 0:I.state)?a:void 0,{0:j,1:D}=(0,o.useState)(!1),{0:K,1:Z}=(0,o.useState)(!1),Y=(0,o.useCallback)((()=>U&&V),[]),B=(0,o.useCallback)((()=>Y()?document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullscreenElement:void 0),[Y]),z=(0,o.useCallback)((function(e){if(U){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.call(e,...n)}return D(!0),Promise.resolve()}),[]),H=(0,o.useCallback)((()=>Y()?V.call(document):(D(!1),Promise.resolve())),[Y]),$=d(),G=r===N.FULLSCREEN,X=(0,o.useRef)({currentIndex:n,isFullscreen:G,isPseudoFullscreen:j,blockAd:A,isAutoPlay:S});X.current.currentIndex=n,X.current.isFullscreen=G,X.current.isPseudoFullscreen=j,X.current.blockAd=A,X.current.isAutoPlay=S;const W=(0,o.useRef)(),q=(0,o.useCallback)((e=>{E.current=null===e||void 0===e?void 0:e.player}),[E]),J=(0,o.useCallback)((()=>{const e=v(X.current.currentIndex);p(X.current.currentIndex);const t=E.current;t&&m(t,{state:null===e||void 0===e?void 0:e.state,time:null===e||void 0===e?void 0:e.time,autoplay:X.current.isAutoPlay,shouldPlayAd:!X.current.blockAd&&g(e)})}),[v,p,m,g,E]),Q=(0,o.useCallback)((()=>{X.current.isAutoPlay&&J()}),[J]),ee=(0,o.useCallback)((e=>{var t;E.current=e.player,e.player.player.fluid(!1);const r=null===(t=E.current)||void 0===t?void 0:t.player;var l;(null===r||void 0===r||r.on(_.tt.ADEND,(()=>{y(n,{isAdEnded:!0})})),null===r||void 0===r||r.on(_.tt.CLICK_TO_PAUSE,(()=>{y(n,{inactive:"CLICK_TO_PAUSE"})})),null===r||void 0===r||r.on(_.tt.PLAYING,(()=>{y(n,{inactive:void 0})})),null===r||void 0===r||r.on(_.tt.ENDED,(()=>{y(n,{inactive:"ENDED"})})),X.current.isAutoPlay)||(null===(l=E.current)||void 0===l||l.player.one(_.tt.LOADEDMETADATA,(()=>{X.current.isFullscreen&&J()})))}),[E,n,y,J]),te=(0,o.useCallback)((()=>{const e=X.current.currentIndex+1;y(e,{isInitiatedByAutoNext:!0}),s()}),[s,y]),ne=(0,o.useCallback)((()=>Z(!0)),[]),re=(0,o.useCallback)((()=>Z(!1)),[]),le=(0,o.useCallback)((()=>{y(n,{isAdEnded:!0}),re()}),[y,n,re]),oe=(0,o.useCallback)((()=>{!i&&X.current.isFullscreen&&H()}),[i,H]);(0,o.useEffect)((()=>{(async()=>{const e=Y();G?(e?B()===W.current:X.current.isPseudoFullscreen)||await z(W.current):(e?B():X.current.isPseudoFullscreen)&&await H()})().catch((e=>{console.log(e,"Fail to handle fullscreen effect upon fullscreen state change")}))}),[z,H,G,B,Y]),(0,o.useEffect)((()=>{const e=()=>{B()||c({index:X.current.currentIndex})},t=()=>{c({index:X.current.currentIndex})};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("msfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),L.ZP.on(L.B_.EXIT_PSEUDO_FULLSCREEN,t),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("msfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),L.ZP.off(L.B_.EXIT_PSEUDO_FULLSCREEN,t)}}),[c,E,B]);const ie=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=!h()(ie.current)&&!j;ie.current=j,e&&L.ZP.emit(L.B_.EXIT_PSEUDO_FULLSCREEN)}),[j]),(0,o.useEffect)((()=>{const e=()=>H().catch((()=>{}));return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[H]),(0,R.jsxs)("div",F(F({},e),{},{className:x()("fullscreen-video-player__wrapper",G?"":"hidden",j?"fixed inset-0 z-[9999]":"relative","flex bg-black"),ref:W,children:[(0,R.jsx)("div",{className:"fullscreen-video-player__spinner flex items-center justify-center",children:(0,R.jsx)(T.Z,{height:48})}),(0,R.jsxs)("div",{className:x()("fullscreen-video-player__exit-button",!K&&"fullscreen-video-player__exit-button--hidden"),onClick:H,children:[(0,R.jsx)(w.Z,{icon:"ico-exit-fullscreen",className:"mr-2 sm:h-6 sm:w-6"}),"\u96e2\u958b\u5168\u5c4f"]}),G&&(null===$||void 0===$?void 0:$.videoId)&&(0,R.jsx)(C.Z,{disablePrebid:l,videoId:$.videoId,blockAd:A||!g(I),innerRef:q,useProgrammaticAutoplay:!0,uiOptions:{disableNativeFullscreenToggle:!0,enableAutoNextBar:!0,enableTapToUnmuteOnAutoplay:u,enableSyncVolumeAndMuted:!0,enableSyncResolution:"live"!==$.videoType},onFullscreenToggle:H,onInit:ee,onAutoNextVideoRequested:te,onPlay:re,onAdStart:ne,autoplay:S,onCanPlay:Q,onAdEnd:le,onEnded:oe,onUserVolumeChange:(e,t)=>b(null===t||void 0===t?void 0:t.player),onAutoNextToggle:(e,t,n)=>f(n),adUnit:M,eventTrackingHandler:P({isAutoNext:null===I||void 0===I?void 0:I.isInitiatedByAutoNext,articleId:O[n].articleId})},`${n}_${$.videoId}`)]}))},Z=n(6960),Y=n(77385),B=n(97682),z=n(86820);var H=e=>{const{currentIndex:t,isInlinePlayerActive:n,disposeIdlePlayer:r=!1,playerMapRef:l,removePlayerState:i}=e,a=(0,o.useRef)({disposeIdlePlayer:r});a.current.disposeIdlePlayer=r,(0,o.useEffect)((()=>{if(h()(t)||-1===t)return;const e=[...l.current.keys()],{disposeIdlePlayer:r}=a.current;e.forEach((e=>{var o,a;const u=t===e;if(n&&u)return;const s=l.current.get(e);if(!s)return;const c=null===s||void 0===s||null===(o=s.player)||void 0===o||null===(a=o.getAdsManagerPlugin)||void 0===a?void 0:a.call(o);var d,v;u||(i(e),null===s||void 0===s||null===(d=s.player)||void 0===d||null===(v=d.currentTime)||void 0===v||v.call(d,0));if(r)null===s||void 0===s||s.player.trigger(_.nj.DISPOSE_PLAYER_AND_RESTORE_VIDEO_ELEMENT,{index:e});else{var p,y,f,m,g,b;if(null!==c&&void 0!==c&&null!==(p=c.state)&&void 0!==p&&p.isComplete)null===s||void 0===s||null===(f=s.disposeAdsManagerPlugin)||void 0===f||f.call(s);else null===s||void 0===s||null===(m=s.resetAdsManagerPlugin)||void 0===m||null===(g=m.call(s,{adsManagerStartMode:"interaction"}))||void 0===g||g.init();if(null===s||void 0===s||null===(y=s.paused)||void 0===y||!y.call(s))null===s||void 0===s||null===(b=s.pause)||void 0===b||b.call(s)}}))}),[n,l,t,i])};var $=e=>{let{playerFormat:t,isScrollOnUpdateCurrentIndexRef:n,isAutoScrollInlineVideoCard:r,currentIndex:l}=e;const i=(0,o.useRef)({prevPlayerFormat:t});(0,o.useEffect)((()=>{i.current.prevPlayerFormat===N.FULLSCREEN&&(n.current=!0),i.current.prevPlayerFormat=t}),[t,n]),(0,o.useEffect)((()=>{h()(l)||-1===l||r&&n.current&&(n.current=!1,O(l,{stickySkipListenScroll:!0}))}),[l,n,r])};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const{publicRuntimeConfig:{mediaServerUrl:W,dfpAccountId:q,videoAdUnit01TV:J}}=(0,S.default)();var Q=e=>{const{items:t,currentIndex:n,setCurrentIndex:r,playerManager:l,isAutoScrollInlineVideoCard:i,isScrollOnUpdateCurrentIndexRef:a,isAutoPlay:u,isAutoNext:s,playerFormat:c,videoElementMapRef:d,playerMapRef:v,getPlayerState:p,removePlayerState:y,setIsAutoNext:f,inlinePlayerKeyMap:m,dispatchInlinePlayerKey:g,disposeIdlePlayer:b=!1,setPlayerState:P,next:E,resumeOrPause:O,shouldPlayAd:A,enableTapToUnmuteOnAutoplay:I,handleVolumeChangeAndTapToUnmute:x,enterFullscreen:S,generateTrackingEventHandler:C}=e,T=c===N.INLINE,j=(0,o.useRef)({isAutoPlay:u,isAutoNext:s,isInlinePlayerActive:T,playerFormat:c,currentIndex:n,items:t,disposeIdlePlayer:b,inlinePlayerKeyMap:m,dispatchInlinePlayerKey:g,enableTapToUnmuteOnAutoplay:I});j.current=X(X({},j.current),{},{isAutoPlay:u,isAutoNext:s,isInlinePlayerActive:T,playerFormat:c,currentIndex:n,items:t,disposeIdlePlayer:b,inlinePlayerKeyMap:m,dispatchInlinePlayerKey:g,enableTapToUnmuteOnAutoplay:I});const k=(0,o.useCallback)((()=>{const{currentIndex:e,isAutoNext:t,items:n,isInlinePlayerActive:r}=j.current,l=e+1,o=null===n||void 0===n?void 0:n[l];if(P(l,{isInitiatedByAutoNext:!0}),t&&r&&o){var i;const t=(0,B.P)(null===(i=d.current.get(e))||void 0===i?void 0:i.current);E({scroll:t})}}),[E,d,P]);return H({currentIndex:n,playerMapRef:v,disposeIdlePlayer:b,isInlinePlayerActive:T,removePlayerState:y}),$({currentIndex:n,playerFormat:c,isScrollOnUpdateCurrentIndexRef:a,isAutoScrollInlineVideoCard:i}),(0,o.useEffect)((()=>{var e;if(h()(n)||-1===n)return;const t=n,r=null===(e=d.current.get(t))||void 0===e?void 0:e.current;if(!T)return;const{items:o}=j.current;(async()=>{if(!l||!o||!r)return;const e=o[t],i=null===e||void 0===e?void 0:e.video,a=p(n);if(y(n),!i)return;const u=v.current.get(t);if(u)return void O(u,{state:null===a||void 0===a?void 0:a.state,time:null===a||void 0===a?void 0:a.time,autoplay:j.current.isAutoPlay,shouldPlayAd:!(null!==e&&void 0!==e&&e.blockAd)&&A(a)});const s=(0,z.ah)({item:e}),c=await l.createPlayerAsync(r,{isVideoNodePrepared:!0,mediaServerURL:W,videoID:i.videoId,vjsOptions:X(X({},"PAUSED"!==(null===a||void 0===a?void 0:a.state)&&{autoplay:j.current.isAutoPlay}),{},{resizeManager:!0}),adCustomParams:s,adUnitCode:`/${q}/${J}`,adDescriptionUrl:window.location.href,adSize:"640x360",blockAd:e.blockAd||!A(a),useProgrammaticAutoplay:!0,uiOptions:{aspectRatio:"16:9",disableNativeFullscreenToggle:!0,enableAutoNextBar:!0,enableTapToUnmuteOnAutoplay:j.current.enableTapToUnmuteOnAutoplay,enableSyncVolumeAndMuted:!0,enableSyncResolution:"live"!==i.videoType},onEvent:C({isAutoNext:!(null===a||void 0===a||!a.isInitiatedByAutoNext),articleId:e.articleId})});"PAUSED"===(null===a||void 0===a?void 0:a.state)?c.one(_.tt.LOADEDMETADATA,(()=>{j.current.isInlinePlayerActive&&O(c,{state:null===a||void 0===a?void 0:a.state,time:null===a||void 0===a?void 0:a.time,autoplay:j.current.isAutoPlay,shouldPlayAd:!e.blockAd&&A(a)})})):c.one(_.tt.CANPLAY,(()=>{O(c,{state:null===a||void 0===a?void 0:a.state,time:null===a||void 0===a?void 0:a.time,autoplay:j.current.isAutoPlay,shouldPlayAd:!e.blockAd&&A(a)})})),null===c||void 0===c||c.on(_.tt.FULLSCREENTOGGLED,(()=>{S({index:t,player:null===c||void 0===c?void 0:c.player})})),c.on(_.tt.AUTONEXT_TOGGLED,((e,t)=>{const{selected:n}=t??{};"boolean"===typeof n&&f(n)})),c.on(_.tt.AUTONEXT_VIDEO_REQUESTED,(e=>{k(e,t)})),c.on(_.nj.DISPOSE_PLAYER_AND_RESTORE_VIDEO_ELEMENT,((e,t)=>{const{inlinePlayerKeyMap:n,dispatchInlinePlayerKey:r}=j.current,{index:o}=t??{};if(!h()(o)){const e=v.current.get(o);e&&(l.disposePlayer(e),v.current.delete(o),r({type:"increment",index:o,value:((null===n||void 0===n?void 0:n[o])??0)+1}))}})),v.current.set(n,c),null===c||void 0===c||c.on(_.tt.ADEND,(()=>{P(n,{isAdEnded:!0})})),null===c||void 0===c||c.on(_.tt.CLICK_TO_PAUSE,(()=>{P(n,{inactive:"CLICK_TO_PAUSE"})})),null===c||void 0===c||c.on(_.tt.PLAYING,(()=>{P(n,{inactive:void 0})})),null===c||void 0===c||c.on([_.tt.VOLUME_BAR_SLIDE_INACTIVE,_.tt.MUTE,_.tt.UNMUTE],(()=>{c.one(_.tt.VOLUMECHANGE,(()=>{x(c)}))})),null===c||void 0===c||c.on(_.tt.ENDED,(()=>{P(n,{inactive:"ENDED"})}))})().catch((e=>{Y.Z.error(e,"Fail to create players")}))}),[T,n,l,k,r,f,S,x,v,d,O,A,p,y,P]),{videoElementMapRef:d,playerMapRef:v,items:t}},ee=n(48958);var te=e=>{const{setPlayerManager:t,initialIsAutoNext:n}=e,r=(0,o.useRef)({initialIsAutoNext:n});r.current.initialIsAutoNext=n,(0,o.useEffect)((()=>{(0,ee.o)().then((e=>t((()=>(e.default.playerManager.setIsAutoNext(r.current.initialIsAutoNext),e.default.playerManager))))).catch((e=>{Y.Z.error(e,"Fail to load player manager module")}))}),[t])},ne=n(85518),re=n(16204);const le=["step"],oe=["step"];function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=e=>{let{playlist:t,currentIndex:n,setCurrentIndex:r,playerStateRef:l,setPlayerFormat:i,isAutoNext:a,setIsAutoNext:u,playerManager:s,fullscreenPlayerRef:c,setEnableTapToUnmuteOnAutoplay:d,enableTapToUnmuteOnAutoplay:v}=e;const{isMobile:p}=(0,Z.F)(),f=(0,o.useRef)({enableTapToUnmuteOnAutoplay:v});f.current.enableTapToUnmuteOnAutoplay=v;const m=(0,o.useRef)(null);m.current=t;const g=(0,o.useCallback)((e=>{const t=e??{},{step:n=1}=t,l=(0,y.Z)(t,le);r((e=>{var t;return Math.max(e>=0?0:-1,Math.min(e+n,(null===(t=m.current)||void 0===t?void 0:t.length)-1))}),l)}),[r]),b=(0,o.useCallback)((e=>{const t=e??{},{step:n=1}=t,r=(0,y.Z)(t,oe);g(ae({step:-n},r))}),[g]),P=(0,o.useCallback)((e=>l.current.get(e)),[l]),E=(0,o.useCallback)(((e,t)=>{var n,r,o;const i=(null===e||void 0===e?void 0:e.paused())&&!(null!==e&&void 0!==e&&null!==(n=e.getAdsManagerPlugin)&&void 0!==n&&null!==(r=n.call(e))&&void 0!==r&&null!==(o=r.state)&&void 0!==o&&o.isPlaying);var a,u,s,c,d;h()(e)||h()(t)||l.current.set(t,{state:!0===i?"PAUSED":!1===i?"PLAYING":void 0,time:null===e||void 0===e?void 0:e.currentTime(),progress:(null===e||void 0===e?void 0:e.currentTime())/(null===e||void 0===e?void 0:e.duration()),isAdEnded:(null===(a=P(t))||void 0===a?void 0:a.isAdEnded)||!(null===e||void 0===e||null===(u=e.getAdsManagerPlugin)||void 0===u||null===(s=u.call(e))||void 0===s||null===(c=s.state)||void 0===c||!c.isComplete),inactive:null===(d=P(t))||void 0===d?void 0:d.inactive})}),[l,P]),O=(0,o.useCallback)(((e,t)=>{const{keepAdState:n=!0,keepInactiveState:r=!0}=t??{},o=ae({},l.current.get(e));l.current.delete(e),(n||r)&&l.current.set(e,{isAdEnded:n?null===o||void 0===o?void 0:o.isAdEnded:void 0,inactive:r?null===o||void 0===o?void 0:o.inactive:void 0})}),[l]),A=(0,o.useCallback)(((e,t)=>{if(!h()(e))return l.current.set(e,ae(ae({},l.current.get(e)),t)),l.current.get(e)}),[l]),I=(0,o.useCallback)(((e,t)=>{h()(null===t||void 0===t?void 0:t.player)||h()(null===t||void 0===t?void 0:t.index)||E(null===t||void 0===t?void 0:t.player,null===t||void 0===t?void 0:t.index),i(e)}),[i,E]),x=(0,o.useCallback)((e=>{I(N.FULLSCREEN,e)}),[I]),S=(0,o.useCallback)((e=>{var t,n,r,l;I(p?N.STICKY:N.INLINE,!h()(null===e||void 0===e?void 0:e.index)&&{index:e.index,player:null===(t=c.current)||void 0===t?void 0:t.player}),null===(n=c.current)||void 0===n||null===(r=n.player)||void 0===r||null===(l=r.pause)||void 0===l||l.call(r)}),[I,c,p]),C=(0,o.useCallback)((()=>{var e;return null===(e=m.current)||void 0===e?void 0:e[n]}),[n]),T=(0,o.useCallback)((e=>{var t;const n="function"===typeof e?e(a):e;u(n),null===s||void 0===s||null===(t=s.setIsAutoNext)||void 0===t||t.call(s,n)}),[u,s,a]),j=(0,o.useCallback)((function(){let{selected:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"===typeof e&&u(e)}),[u]),k=(0,o.useCallback)(((e,t)=>{if(null===e||void 0===e||!e.player)return;const{time:n,shouldPlayAd:r,state:l,autoplay:o}=t??{},i="PLAYING"===l||[!0,"muted","play","any"].includes(o)&&h()(l),a="PAUSED"===l;if(!h()(n))if(a&&ne.gn&&ne.UA){var u;const t=null===e||void 0===e||null===(u=e.player.contentEl())||void 0===u?void 0:u.querySelector("video");Promise.race([new Promise((t=>{var n;return null===e||void 0===e||null===(n=e.player)||void 0===n?void 0:n.one(_.tt.LOADEDMETADATA,t)})),new Promise(((e,t)=>setTimeout(t,2500)))]).then((()=>{var t,r,l,o,i,a,u,s,c,d,v;null===(t=e.player)||void 0===t||null===(r=t.currentTime)||void 0===r||r.call(t,n),null===(l=e.player)||void 0===l||null===(o=l.hasStarted)||void 0===o||o.call(l,!0),null===(i=e.player)||void 0===i||i.trigger(_.tt.DISMISS_TRACKER_OVERLAY);const p=null===e||void 0===e||null===(a=e.player)||void 0===a||null===(u=a.getChild)||void 0===u||null===(s=u.call(a,"CustomControlBar"))||void 0===s||null===(c=s.getChild)||void 0===c||null===(d=c.call(s,"BottomControlBar"))||void 0===d||null===(v=d.getChild)||void 0===v?void 0:v.call(d,"CustomSeekBar");setTimeout((()=>{var e;null===p||void 0===p||null===(e=p.update)||void 0===e||e.call(p)}),1500)})).catch((t=>{var n,r;console.log(t,`Fail to load video meta data on resumeOrPause to seek video: ${null===e||void 0===e||null===(n=e.player)||void 0===n||null===(r=n.id)||void 0===r?void 0:r.call(n)}`)}));try{var s,c;null===t||void 0===t||null===(s=t.load)||void 0===s||s.call(t),null===t||void 0===t||null===(c=t.pause)||void 0===c||c.call(t)}catch(O){var d,v;console.log(O,`Fail to trigger loading video on resumeOrPause: ${null===e||void 0===e||null===(d=e.player)||void 0===d||null===(v=d.id)||void 0===v?void 0:v.call(d)}`)}}else{var p,y,f,m,g;null===(p=e.player)||void 0===p||null===(y=p.currentTime)||void 0===y||y.call(p,n),null===(f=e.player)||void 0===f||null===(m=f.hasStarted)||void 0===m||m.call(f,!0),null===(g=e.player)||void 0===g||g.trigger(_.tt.DISMISS_TRACKER_OVERLAY)}const b=null===e||void 0===e?void 0:e.player;if(a||i){var P;const t=null===b||void 0===b||null===(P=b.paused)||void 0===P?void 0:P.call(b);var E;if((()=>{if(r){var t,n,l,o,u,s;const r=null===e||void 0===e||null===(t=e.player)||void 0===t||null===(n=t.getAdsManagerPlugin)||void 0===n?void 0:n.call(t),c=a?"interaction":i?"onAdsManagerLoaded":void 0;if(null!==r&&void 0!==r&&null!==(l=r.state)&&void 0!==l&&l.isPlaying||(null===r||void 0===r||null===(o=r.state)||void 0===o||!o.hasStarted)&&c===(null===r||void 0===r?void 0:r.adsManagerStartMode)||!c)return;null===e||void 0===e||null===(u=e.resetAdsManagerPlugin)||void 0===u||null===(s=u.call(e,{adsManagerStartMode:c}))||void 0===s||s.init()}else{var c;null===e||void 0===e||null===(c=e.disposeAdsManagerPlugin)||void 0===c||c.call(e)}})(),a&&!t)null===b||void 0===b||null===(E=b.pause)||void 0===E||E.call(b);else i&&t&&(null===b||void 0===b||b.play())}}),[]),L=(0,o.useCallback)((function(e){let{maxProgress:t=.5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(null!==e&&void 0!==e&&e.isAdEnded)&&!((null===e||void 0===e?void 0:e.progress)>t)}),[]),w=(0,o.useCallback)((e=>{var t,n,r,l,o;const i=null===e||void 0===e||null===(t=e.player)||void 0===t||null===(n=t.player)||void 0===n?void 0:n.call(t);if(!i)return;const a=null===i||void 0===i||null===(r=i.muted)||void 0===r?void 0:r.call(i),u=null===i||void 0===i||null===(l=i.volume)||void 0===l?void 0:l.call(i);null!==i&&void 0!==i&&null!==(o=i.state)&&void 0!==o&&o.skipNextSyncVolume||((a||0===u)&&f.current.enableTapToUnmuteOnAutoplay?d(!1):a&&!(u>0)||f.current.enableTapToUnmuteOnAutoplay||d(!0))}),[d]),R=(0,re.d8)(null),D=(0,o.useCallback)((e=>(t,n,r)=>{let l={};try{l=JSON.parse(r)}catch(o){console.log(o,"Fail to parse video tracking label")}return R({article_id:null===e||void 0===e?void 0:e.articleId})(t,n,JSON.stringify(ae(ae({},l),"start"===n&&{is_auto_play:!1,is_auto_next:!(null===e||void 0===e||!e.isAutoNext)})))}),[R]);return{next:g,prev:b,enterFullscreen:x,exitFullscreen:S,getCurrentVideo:C,setAndSyncIsAutoNext:T,preparePlayerState:E,getPlayerState:P,removePlayerState:O,setPlayerState:A,setPlayerFormatAndPrepareState:I,handleAutoNextToggle:j,resumeOrPause:k,shouldPlayAd:L,handleVolumeChangeAndTapToUnmute:w,generateTrackingEventHandler:D}};var se=()=>({videoElementMapRef:(0,o.useRef)(new Map),playerMapRef:(0,o.useRef)(new Map),playerStateRef:(0,o.useRef)(new Map),stickyPlayerRef:(0,o.useRef)(null),fullscreenPlayerRef:(0,o.useRef)(null)});function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=e=>{let{items:t}=e;const{isMobile:n}=(0,Z.F)(),r=(0,o.useMemo)((()=>null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.video))),[t]),{0:l,1:i}=(0,o.useState)(-1),{0:a,1:u}=(0,o.useState)(),{0:s,1:c}=(0,o.useState)("any"),{0:d,1:v}=(0,o.useState)(!0),{0:p,1:y}=(0,o.useState)(!0),{0:f,1:m}=(0,o.useState)(N.INLINE),{0:g,1:b}=(0,o.useReducer)(((e,t)=>{if("increment"===t.type)return de(de({},e),{},{[t.index]:t.value})}),{}),P=(0,o.useRef)(!1);return{playlist:r,currentIndex:l,setCurrentIndex:(0,o.useCallback)(((e,t)=>{const{scroll:n=!1}=t??{};n&&(P.current=!0),i(e)}),[]),isScrollOnUpdateCurrentIndexRef:P,playerFormat:f,setPlayerFormat:m,playerManager:a,setPlayerManager:u,isAutoPlay:s,setIsAutoPlay:c,isAutoNext:d,setIsAutoNext:v,isAutoScrollInlineVideoCard:f===N.INLINE||f===N.STICKY&&n,enableTapToUnmuteOnAutoplay:p,setEnableTapToUnmuteOnAutoplay:y,inlinePlayerKeyMap:g,dispatchInlinePlayerKey:b,disablePrebid:!0}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=e=>{let{items:t,loadMore:n,children:r}=e;const l=ve({items:t}),i=se(),a=ue(ye(ye({},l),i));te(ye(ye({},l),{},{initialIsAutoNext:l.isAutoNext})),Q(ye(ye(ye(ye({items:t},l),i),a),{},{disposeIdlePlayer:!0}));const{isMobile:u,isTablet:s,isDesktopOrWider:c}=(0,Z.F)(),d=(0,o.useRef)({state:l,refs:i,actions:a});return d.current.state=l,d.current.refs=i,d.current.actions=a,(0,o.useEffect)((()=>{const{currentIndex:e,playerFormat:t}=d.current.state,{playerMapRef:n,stickyPlayerRef:r}=d.current.refs,{setPlayerFormatAndPrepareState:l}=d.current.actions;if(!(e<0)){if(c||s){var o;if(t===N.STICKY)l(N.INLINE,{index:e,player:null===(o=r.current)||void 0===o?void 0:o.player});O(e)}var i;if(u&&t===N.INLINE)l(N.STICKY,{index:e,player:null===(i=n.current.get(e))||void 0===i?void 0:i.player})}}),[u,s,c]),(0,o.useEffect)((()=>{l.currentIndex+2>=l.playlist.length&&n()}),[l.currentIndex,l.playlist.length]),(0,R.jsxs)(k.Provider,{value:{state:l,actions:a,refs:i,items:t},children:[r,(0,R.jsx)(K,{})]})},me=n(83514),ge=n(86514),be=n(99883),Pe=n(42156),Ee=n(50757),Oe=n(65819),Ae=n(94711),he=n(4930),Ie=n(12906);const xe={0:ge.X.LREC_01TV_SCROLL_1,2:ge.X.LREC_01TV_SCROLL_2,6:ge.X.LREC_01TV_SCROLL_3};var Se=e=>{let{items:t,offset:n}=e;const{state:{setCurrentIndex:r,setPlayerFormat:l,currentIndex:i,inlinePlayerKeyMap:a,playerFormat:u},actions:{removePlayerState:s,setPlayerFormatAndPrepareState:c},refs:{videoElementMapRef:v,stickyPlayerRef:p}}=(0,o.useContext)(k),{isMobile:y,isDetected:f}=(0,Z.F)(),{track:m}=(0,Ie.Z)(),g=(e,t)=>()=>{var n,o;if(!f)return;const a=v.current.get(e);if(null===a||void 0===a||null===(n=a.current)||void 0===n||null===(o=n.focus)||void 0===o||o.call(n),r(e,{scroll:y||!E(e)}),m&&m(be.zW.TV_FEED_CLICK,t),y)s(e),l(N.STICKY);else if(u===N.STICKY){var d;c(N.INLINE,i===e?{index:e,player:null===(d=p.current)||void 0===d?void 0:d.player}:void 0)}else u!==N.FULLSCREEN&&(s(e),l(N.INLINE))},{adSetting:b}=(0,o.useContext)(Ee.Z);return(0,R.jsx)("section",{className:"list-section list-section--01TV sm:mb-4",children:(0,R.jsx)("div",{className:"grid grid-cols-1 gap-4",children:t.map(((e,t)=>{var r;const l=t+(n||0),o=v.current.get(l)||v.current.set(l,{current:void 0}).get(l),s={article_id:e.id,video_id:null===(r=e.data.video)||void 0===r?void 0:r.videoId,item_source:"media_cms",item_type:(0,Ae.C)(e),item_id:e.id,item_position:l+1,button:"title",target_url:e.data.publishUrl,category:e.data.mainCategory},c=y&&(Boolean(xe[l])||(l-6)%4===0),p=xe[l]||ge.X.LREC_01TV_SCROLL_3;return(0,R.jsxs)(he.Z.Provider,{value:{clickTracker:{event:be.zW.TV_FEED_CLICK,data:s}},children:[(0,R.jsx)(Oe.Z,{"data-playlist-index":l,item:e,className:"content-card--highlight section-group__highlight-card--multiple",inlinePlayer:!0,onClickImage:g(l,s),inlinePlayerKey:null===a||void 0===a?void 0:a[l],hideInlinePlayer:y||u!==N.INLINE||l!==i,videoElementRef:o,isPlaying:l===i,cardType:Pe.eT.VIDEO},e.id),c&&(0,R.jsx)(d.Z,{slots:b.slots,targeting:b.targeting,slotType:p,lazyClassName:"ad-wrapper--lrec"})]},e.id)}))})})},Ce=n(91296),Te=n.n(Ce),_e=n(56275),Ne=n(20020),je=n(96769),ke=n(73914);const{publicRuntimeConfig:{videoAdUnit01TV:Le}}=(0,S.default)();var we=()=>{const{state:{currentIndex:e,playlist:t,setCurrentIndex:n,playerFormat:r,disablePrebid:l,isAutoPlay:i,enableTapToUnmuteOnAutoplay:a},actions:{next:u,preparePlayerState:s,getPlayerState:c,removePlayerState:d,setPlayerState:v,setPlayerFormatAndPrepareState:p,handleAutoNextToggle:y,resumeOrPause:f,shouldPlayAd:m,handleVolumeChangeAndTapToUnmute:b,enterFullscreen:O,generateTrackingEventHandler:A},refs:{playerMapRef:h,stickyPlayerRef:I,playerStateRef:S},items:T}=(0,o.useContext)(k),j=null===T||void 0===T?void 0:T[e],L=null===j||void 0===j?void 0:j.blockAd,w=c(e),D="PAUSED"!==(null===w||void 0===w?void 0:w.state)?i:void 0,{isMobile:F,isDesktopOrWider:M}=(0,Z.F)(),U=(0,o.useRef)({currentIndex:e,playerFormat:r,blockAd:L,isAutoPlay:D,isMobile:F});U.current.currentIndex=e,U.current.playerFormat=r,U.current.isAutoPlay=D,U.current.blockAd=L,U.current.isMobile=F;const V=(0,o.useRef)(M);V.current=M;const{0:K,1:Y}=(0,o.useState)(!1),B=null===t||void 0===t?void 0:t[e],H=null===B||void 0===B?void 0:B.videoId,$=r===N.FULLSCREEN,G=r===N.STICKY;(0,o.useEffect)((()=>{if(!M||$)return;if(-1===e)return;const t=Te()((()=>{var t,n,l,o;if(!document.documentElement.classList.contains("js-01tv-sticky-player-skip-listening-scroll")&&(H&&V.current&&r!==N.STICKY&&(r!==N.INLINE||!["CLICK_TO_PAUSE","ENDED"].includes(null===(t=S.current)||void 0===t||null===(n=t.get(e))||void 0===n?void 0:n.inactive))))if(P(e).height>window.innerHeight-g())p(N.INLINE,{index:e,player:null===(l=I.current)||void 0===l?void 0:l.player});else if(E(e))U.current.playerFormat!==N.INLINE&&p(N.INLINE,{index:e,player:null===(o=I.current)||void 0===o?void 0:o.player});else if(U.current.playerFormat!==N.STICKY){var i;const t=null===(i=h.current)||void 0===i?void 0:i.get(e);p(N.STICKY,{index:e,player:null===t||void 0===t?void 0:t.player})}}),100,{maxWait:500});return window.addEventListener("scroll",t,{passive:!0}),()=>{t.cancel(),window.removeEventListener("scroll",t)}}),[M,$,t,e,H,I,h,S,p,s,r]);const X=(0,o.useCallback)((()=>{const e=c(U.current.currentIndex);d(U.current.currentIndex);const t=I.current;t&&f(t,{state:null===e||void 0===e?void 0:e.state,time:null===e||void 0===e?void 0:e.time,autoplay:U.current.isAutoPlay,shouldPlayAd:!U.current.blockAd&&m(e)})}),[c,d,f,m,I]),W=(0,o.useCallback)((()=>{U.current.isAutoPlay&&X()}),[X]),q=(0,o.useCallback)(((t,n)=>{var r;O({index:e,player:null===n||void 0===n||null===(r=n.player)||void 0===r?void 0:r.player})}),[O,e]),J=(0,o.useCallback)((()=>{v(e,{isAdEnded:!0})}),[v,e]),Q=(0,z.ah)({item:j}),{0:ee,1:te}=(0,o.useState)(!1),{0:ne,1:re}=(0,o.useState)(ee);return(0,o.useEffect)((()=>{let t,n;return G&&H&&e>=0?(te(!0),t=setTimeout((()=>{re(!0)}),10)):(re(!1),n=setTimeout((()=>{te(!1)}),250)),()=>{clearTimeout(t),clearTimeout(n)}}),[G,H,e]),ee&&H&&e>=0?(0,R.jsxs)("div",{id:"sticky-player",className:x()("sticky-video-player__wrapper","fixed z-[20] bg-white mobileOnly:left-0 mobileOnly:right-0","overflow-hidden md:sticky",ne?"top-[88px] opacity-100":"top-[68px] opacity-0"),children:[(0,R.jsx)("div",{className:"sticky-video-player__placeholder",children:(0,R.jsx)(C.Z,{disablePrebid:l,blockAd:L||!m(w),innerRef:e=>{I.current=null===e||void 0===e?void 0:e.player},videoId:H,autoplay:D,useProgrammaticAutoplay:!0,uiOptions:{enableAutoNextBar:!0,enableSyncVolumeAndMuted:!0,enableTapToUnmuteOnAutoplay:a,enableSyncResolution:"live"!==(null===B||void 0===B?void 0:B.videoType),disableNativeFullscreenToggle:!0},onAutoNextVideoRequested:()=>{v(e+1,{isInitiatedByAutoNext:!0}),u({scroll:F&&E(e)})},onCanPlay:W,adCustomParams:Q,onFullscreenToggle:q,onInit:e=>{var t,n,l,o,i,a;(I.current=e.player,null===(t=I.current)||void 0===t||t.player.on(_.tt.USERACTIVE,(()=>U.current.isMobile&&Y(!0))),null===(n=I.current)||void 0===n||n.player.on(_.tt.USERINACTIVE,(()=>U.current.isMobile&&Y(!1))),null===(l=I.current)||void 0===l||l.player.on(_.tt.CLICK_TO_PAUSE,(()=>{v(U.current.currentIndex,{inactive:"CLICK_TO_PAUSE"})})),null===(o=I.current)||void 0===o||o.player.on(_.tt.PLAYING,(()=>{v(U.current.currentIndex,{inactive:void 0})})),null===(i=I.current)||void 0===i||i.player.on(_.tt.ENDED,(()=>{v(U.current.currentIndex,{inactive:"ENDED"})})),D)||(null===(a=I.current)||void 0===a||a.player.one(_.tt.LOADEDMETADATA,(()=>{r===N.STICKY&&X()})))},onAdEnd:J,onUserVolumeChange:(e,t)=>b(null===t||void 0===t?void 0:t.player),onAutoNextToggle:(e,t,n)=>y(n),adUnit:Le,eventTrackingHandler:A({isAutoNext:null===w||void 0===w?void 0:w.isInitiatedByAutoNext,articleId:j.articleId})},`${e}_${H}`)}),(0,R.jsxs)("div",{className:"sticky-video-player__text",children:[(0,R.jsx)(je.Z,{href:j.publishUrl,className:"sticky-video-player__title",children:j.title}),(0,R.jsx)(je.Z,{href:(0,_e.bj)(j.mainCategoryId?(0,Ne.QG)(j):`/zone/${j.zoneId}`),className:x()("sticky-video-player__category",(0,ke.PY)(j.mainCategoryId)&&"pointer-events-none"),children:j.mainCategory})]}),(0,R.jsx)("div",{className:x()("sticky-video-player__close-wrapper",K&&F&&"sticky-video-player__close-wrapper--active"),onClick:()=>{var e,t;F&&(null===(e=I.current)||void 0===e||null===(t=e.player)||void 0===t||t.userActive(!K))},children:(0,R.jsx)("div",{className:"sticky-video-player__close-button",onClick:()=>{var t;E(e)&&!F||n(-1),p(N.INLINE,{index:e,player:null===(t=I.current)||void 0===t?void 0:t.player})},children:"\u2715"})})]}):null},Re=n(58392);const De=["children"];function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=e=>{let{children:t}=e,n=(0,y.Z)(e,De);const{state:{playerFormat:r}}=(0,o.useContext)(k);return(0,o.useEffect)((()=>{r===N.FULLSCREEN?document.documentElement.classList.add("scroll-smooth--disable"):setTimeout((()=>{(0,f.Ss)().then((()=>{document.documentElement.classList.remove("scroll-smooth--disable")}))}),100)}),[r]),(0,R.jsx)(Re.Z,Me(Me({},n),{},{className:x()(r===N.STICKY&&"js-sticky-player-active"),children:t}))};const Ve=e=>{var t;let{meta:n,ad:r,items:i,nextOffset:p,loadingStatus:y,itemsPerSection:f=10}=e;const{isLoading:m,skeleton:g}=y,{loadMore:b,items:P,nextOffset:E,isFetching:O}=(0,me.Z)({items:i,nextOffset:p},{apiFn:c.lG,apiFnArg:{}}),{items:A,itemsData:h}=(0,o.useMemo)((()=>{const e=null===P||void 0===P?void 0:P.filter((e=>{var t;const n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.video;return!!n&&n.type===Pe.jp.SELF_HOST_VIDEO}));return{items:e,itemsData:e.map((e=>e.data))}}),[P]);return(0,R.jsx)(fe,{items:h,loadMore:b,children:(0,R.jsxs)(Ue,{metadata:n,ad:r,isLoading:m,skeletonMode:g,topBannerSrc:"/images/bg-01tv.jpg",title:"01TV",description:"\u99ac\u4e0a\u6295\u5165\u6700\u65b0\u7684\u7cbe\u5f69\u5f71\u7247\uff01",children:[(0,R.jsx)("div",{className:"page-01tv__column-left grid grid-cols-1 gap-x-4 lg:grid-cols-12",children:(0,R.jsxs)(v.Z,{userReactionsFetchKey:"page-01tv-list",children:[(0,R.jsx)(a(),{pageStart:0,loadMore:()=>{O||((0,be.j)(be.zW.TV_FEED_LOADMORE,{current_count:P.length}),b())},hasMore:!!E,useWindow:!0,loader:(0,R.jsx)(s.Z,{},"loader"),threshold:1e3,className:"lg:col-span-8",children:null===(t=l()(f,A))||void 0===t?void 0:t.map(((e,t)=>(0,R.jsx)(Se,{items:e,offset:f*t},t)))}),(0,R.jsx)("div",{className:"page-01tv__column-right",children:(0,R.jsx)(we,{})})]})}),(0,R.jsx)(d.Z,{id:u.u.CATFISH,lazy:!1,slots:null===r||void 0===r?void 0:r.slots,slotType:ge.X.CATFISH_01TV_FLOATING,targeting:null===r||void 0===r?void 0:r.targeting})]})})};Ve.getInitialProps=async()=>{const{adV3:e,meta:t,items:n,nextOffset:r}=await(0,c.gm)();return{ad:{targeting:(null===e||void 0===e?void 0:e.targeting)??{},slots:(null===e||void 0===e?void 0:e.config)??[]},meta:t,items:n,nextOffset:r,hasVideo:!0}};var Ke=Ve},83514:function(e,t,n){"use strict";var r=n(59499),l=n(52478),o=n.n(l),i=n(11163),a=n(67294),u=n(70283);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d={category:u.b$,zone:u.Gl,tag:u.jb,recommend:u.YO,zoneIssue:u.CI,hot:u.uL};t.Z=(e,t)=>{const{0:n,1:r}=(0,a.useState)({items:(null===e||void 0===e?void 0:e.items)||[],nextOffset:(null===e||void 0===e?void 0:e.nextOffset)??null}),l=(0,a.useRef)(0),{0:u,1:s}=(0,a.useState)(!1),v=(0,i.useRouter)(),{query:p,route:y,asPath:f}=v,m=y.slice(1),g=f.split("?")[0].slice(1),b=o()(`${m}Id`,p)??o()(`${g}Id`,p),P=(null===t||void 0===t?void 0:t.apiFn)??d[m]??d[g],E=c(c({},(null===t||void 0===t?void 0:t.apiFnArg)??{id:b}),{},{offset:n.nextOffset});return{loadMore:async()=>{if(u)return;s(!0),l.current+=1;const{items:e,nextOffset:t}=await P(E);r({items:[...n.items,...e.map((e=>c({_loadCount:l.current},e)))],nextOffset:t}),s(!1)},items:n.items,nextOffset:n.nextOffset,isFetching:u}}},84367:function(e,t,n){"use strict";let r;n.d(t,{B_:function(){return r}}),function(e){e.CLOSE_POPUP="hk01-web::CLOSE_POPUP",e.PAUSE_SELFHOST_VIDEO="hk01-web::PAUSE_SELFHOST_VIDEO",e.RESUME_SELFHOST_VIDEO="hk01-web::RESUME_SELFHOST_VIDEO",e.EXIT_PSEUDO_FULLSCREEN="hk01-web::EXIT_PSEUDO_FULLSCREEN"}(r||(r={}));const l=new class{constructor(e){this.root=e??document}on(e,t){this.root.addEventListener(e,t,{passive:!0})}off(e,t){this.root.removeEventListener(e,t)}emit(e,t){this.root.dispatchEvent(new CustomEvent(e,{detail:t}))}};t.ZP=l},97682:function(e,t,n){"use strict";n.d(t,{P:function(){return r},Z:function(){return l}});const r=e=>{if(!e)return!1;const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},l=(e,t)=>{const{minPortionWinHeightToTop:n=1,offsetTop:r=0}=t||{},l=null===e||void 0===e?void 0:e.getBoundingClientRect();if(!l)return!1;const o=Math.round(window.innerHeight||document.documentElement.clientHeight);return Math.ceil(l.bottom)>0&&Math.floor(l.top)-r<=o-o*n}},58392:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(94184),l=n.n(r),o=(n(67294),n(85893));var i=e=>{let{bgSrc:t,title:n,description:r}=e;return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"top-bg__image-wrapper",children:(0,o.jsx)("div",{className:"top-bg__image-main",style:{"--bg-img":`url(${t})`}})}),(0,o.jsxs)("div",{className:"top-bg__section-header relative z-10",children:[(0,o.jsx)("h1",{className:"mb-1 pt-15 text-2xl font-semibold text-black-78 md:pt-10 lg:mb-2 lg:text-[32px]",children:n}),(0,o.jsx)("p",{className:"text-black/78 mb-5 pb-5",children:r})]})]})},a=n(1212);var u=e=>{let{metadata:t,ad:n,isLoading:r,skeletonMode:u,children:s,topBannerSrc:c,title:d,description:v,className:p}=e;return(0,o.jsx)(a.Z,{metadata:t,ad:n,isLoading:r,skeletonMode:u,className:l()("page__layout--default",p),children:(0,o.jsxs)("div",{className:"cmp-page-grid px-3 md:px-4 lg:px-7",children:[(0,o.jsx)(i,{bgSrc:c,title:d,description:v}),s]})})}},86820:function(e,t,n){"use strict";n.d(t,{DZ:function(){return f},ah:function(){return p},wM:function(){return y}});var r=n(59499),l=n(36808),o=n.n(l),i=n(80129),a=n.n(i),u=n(85113),s=n(75760),c=n(35553);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=e=>{let{item:t}=e;return a().stringify(v(v({},t?{article_id:t.articleId,zone_id:t.zoneId,zone_name:t.zonePublishName,channel_id:t.mainCategoryId,channel_name:t.mainCategory,tag_id:t.tags.map((e=>null===e||void 0===e?void 0:e.tagId)),tag_name:t.tags.map((e=>null===e||void 0===e?void 0:e.tagName)),video_id:t.video.videoId,main_category_id:t.mainCategoryId}:{}),{},{bucket_id:(0,c.el)(),bucket_target:(0,c.St)(),is_live:!1,Segment_Id:o().get(u.Z.ASP_KEY)||null}),{arrayFormat:"comma",skipNulls:!0})},y=e=>(e=>{var t;const n=null===e||void 0===e?void 0:e.player,r=null===n||void 0===n?void 0:n.player,l=null===r||void 0===r||null===(t=r.getAdsManagerPlugin)||void 0===t?void 0:t.call(r);return{hk01PlayerElement:e,hk01Player:n,vjsPlayer:r,adsManagerPlugin:l,adsManager:null===l||void 0===l?void 0:l.adsManager}})(e.current),f=e=>{var t,n,r,l;const o=null===e||void 0===e?void 0:e.player;if(!o||null!==o&&void 0!==o&&null!==(t=o.state)&&void 0!==t&&t.hasSubscribedSetToLastVolumeOnClickToPlay)return;null===o||void 0===o||o.setState({hasSubscribedSetToLastVolumeOnClickToPlay:!0});const i=[],a=()=>{i.forEach((e=>{let[t,n]=e;null===o||void 0===o||o.off(t,n)})),null===o||void 0===o||o.setState({hasSubscribedSetToLastVolumeOnClickToPlay:!1})},u=()=>{var t;a(),null!==o&&void 0!==o&&null!==(t=o.muted)&&void 0!==t&&t.call(o)&&e.setToLastVolume()};null===o||void 0===o||null===(n=o.one)||void 0===n||n.call(o,s.tt.CLICK_TO_PLAY,u),i.push([s.tt.CLICK_TO_PLAY,u]),null===o||void 0===o||null===(r=o.one)||void 0===r||r.call(o,s.tt.CLICK_TO_PAUSE,a),i.push([s.tt.CLICK_TO_PAUSE,a]),null===o||void 0===o||null===(l=o.one)||void 0===l||l.call(o,s.tt.VOLUMECHANGE,a),i.push([s.tt.VOLUMECHANGE,a])}},39564:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/v2/01TV",function(){return n(24287)}])},97877:function(e,t,n){var r=n(79002),l=n(12618),o=r((function(e,t){return l([e],t)}));e.exports=o},58591:function(e){e.exports=function(e){return"[object Number]"===Object.prototype.toString.call(e)}},4778:function(e,t,n){var r=n(87684);e.exports="function"===typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,l=arguments.length;n<l;){var o=arguments[n];if(null!=o)for(var i in o)r(i,o)&&(t[i]=o[i]);n+=1}return t}},25189:function(e,t,n){var r=n(79002),l=n(62144),o=n(2220),i=n(15243),a=r((function(e,t){return o(e+1,(function(){var n=arguments[e];if(null!=n&&l(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(i(n)+' does not have a method named "'+t+'"')}))}));e.exports=a},18231:function(e,t,n){var r=n(25189)(1,"join");e.exports=r},24234:function(e,t,n){var r=n(76224),l=n(58591),o=r((function(e){return null!=e&&l(e.length)?e.length:NaN}));e.exports=o},79821:function(e,t,n){var r=n(4778),l=n(79002)((function(e,t){return r({},e,t)}));e.exports=l},33411:function(e,t,n){var r=n(76224),l=n(90368),o=r((function(e){for(var t=l(e),n=t.length,r=[],o=0;o<n;)r[o]=e[t[o]],o+=1;return r}));e.exports=o}},function(e){e.O(0,[3009,5466,1069,1179,3892,4858,9963,5718,6982,3431,9414,9774,2888,179],(function(){return t=39564,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=01TV-7cae52103908f486.js.map