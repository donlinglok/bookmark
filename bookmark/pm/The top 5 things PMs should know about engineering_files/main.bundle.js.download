(function(S){var i={};function t(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return S[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=S,t.c=i,t.d=function(e,o,l){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:l})},t.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(o&1&&(e=t(e)),o&8||o&4&&typeof e=="object"&&e&&e.__esModule)return e;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),o&2&&typeof e!="string")for(var s in e)t.d(l,s,function(h){return e[h]}.bind(null,s));return l},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=1502)})([function(S,i,t){"use strict";t.r(i),t.d(i,"render",function(){return P}),t.d(i,"hydrate",function(){return y}),t.d(i,"createElement",function(){return m}),t.d(i,"h",function(){return m}),t.d(i,"Fragment",function(){return r}),t.d(i,"createRef",function(){return n}),t.d(i,"isValidElement",function(){return o}),t.d(i,"Component",function(){return u}),t.d(i,"cloneElement",function(){return A}),t.d(i,"createContext",function(){return K}),t.d(i,"toChildArray",function(){return W}),t.d(i,"options",function(){return e});var e,o,l,s,h,c,d={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function O(N,Y){for(var F in Y)N[F]=Y[F];return N}function b(N){var Y=N.parentNode;Y&&Y.removeChild(N)}function m(N,Y,F){var G,X,q,se=arguments,ie={};for(q in Y)q=="key"?G=Y[q]:q=="ref"?X=Y[q]:ie[q]=Y[q];if(arguments.length>3)for(F=[F],q=3;q<arguments.length;q++)F.push(se[q]);if(F!=null&&(ie.children=F),typeof N=="function"&&N.defaultProps!=null)for(q in N.defaultProps)ie[q]===void 0&&(ie[q]=N.defaultProps[q]);return a(N,ie,G,X,null)}function a(N,Y,F,G,X){var q={type:N,props:Y,key:F,ref:G,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:X??++e.__v};return e.vnode!=null&&e.vnode(q),q}function n(){return{current:null}}function r(N){return N.children}function u(N,Y){this.props=N,this.context=Y}function v(N,Y){if(Y==null)return N.__?v(N.__,N.__.__k.indexOf(N)+1):null;for(var F;Y<N.__k.length;Y++)if((F=N.__k[Y])!=null&&F.__e!=null)return F.__e;return typeof N.type=="function"?v(N):null}function E(N){var Y,F;if((N=N.__)!=null&&N.__c!=null){for(N.__e=N.__c.base=null,Y=0;Y<N.__k.length;Y++)if((F=N.__k[Y])!=null&&F.__e!=null){N.__e=N.__c.base=F.__e;break}return E(N)}}function w(N){(!N.__d&&(N.__d=!0)&&l.push(N)&&!C.__r++||h!==e.debounceRendering)&&((h=e.debounceRendering)||s)(C)}function C(){for(var N;C.__r=l.length;)N=l.sort(function(Y,F){return Y.__v.__b-F.__v.__b}),l=[],N.some(function(Y){var F,G,X,q,se,ie;Y.__d&&(se=(q=(F=Y).__v).__e,(ie=F.__P)&&(G=[],(X=O({},q)).__v=q.__v+1,D(ie,q,X,F.__n,ie.ownerSVGElement!==void 0,q.__h!=null?[se]:null,G,se??v(q),q.__h),U(G,q),q.__e!=se&&E(q)))})}function _(N,Y,F,G,X,q,se,ie,Ee,Ie){var ge,oe,ee,te,le,Q,z,V=G&&G.__k||p,ne=V.length;for(F.__k=[],ge=0;ge<Y.length;ge++)if((te=F.__k[ge]=(te=Y[ge])==null||typeof te=="boolean"?null:typeof te=="string"||typeof te=="number"||typeof te=="bigint"?a(null,te,null,null,te):Array.isArray(te)?a(r,{children:te},null,null,null):te.__b>0?a(te.type,te.props,te.key,null,te.__v):te)!=null){if(te.__=F,te.__b=F.__b+1,(ee=V[ge])===null||ee&&te.key==ee.key&&te.type===ee.type)V[ge]=void 0;else for(oe=0;oe<ne;oe++){if((ee=V[oe])&&te.key==ee.key&&te.type===ee.type){V[oe]=void 0;break}ee=null}D(N,te,ee=ee||d,X,q,se,ie,Ee,Ie),le=te.__e,(oe=te.ref)&&ee.ref!=oe&&(z||(z=[]),ee.ref&&z.push(ee.ref,null,te),z.push(oe,te.__c||le,te)),le!=null?(Q==null&&(Q=le),typeof te.type=="function"&&te.__k!=null&&te.__k===ee.__k?te.__d=Ee=T(te,Ee,N):Ee=k(N,te,ee,V,le,Ee),Ie||F.type!=="option"?typeof F.type=="function"&&(F.__d=Ee):N.value=""):Ee&&ee.__e==Ee&&Ee.parentNode!=N&&(Ee=v(ee))}for(F.__e=Q,ge=ne;ge--;)V[ge]!=null&&(typeof F.type=="function"&&V[ge].__e!=null&&V[ge].__e==F.__d&&(F.__d=v(G,ge+1)),B(V[ge],V[ge]));if(z)for(ge=0;ge<z.length;ge++)j(z[ge],z[++ge],z[++ge])}function T(N,Y,F){var G,X;for(G=0;G<N.__k.length;G++)(X=N.__k[G])&&(X.__=N,Y=typeof X.type=="function"?T(X,Y,F):k(F,X,X,N.__k,X.__e,Y));return Y}function W(N,Y){return Y=Y||[],N==null||typeof N=="boolean"||(Array.isArray(N)?N.some(function(F){W(F,Y)}):Y.push(N)),Y}function k(N,Y,F,G,X,q){var se,ie,Ee;if(Y.__d!==void 0)se=Y.__d,Y.__d=void 0;else if(F==null||X!=q||X.parentNode==null)e:if(q==null||q.parentNode!==N)N.appendChild(X),se=null;else{for(ie=q,Ee=0;(ie=ie.nextSibling)&&Ee<G.length;Ee+=2)if(ie==X)break e;N.insertBefore(X,q),se=q}return se!==void 0?se:X.nextSibling}function $(N,Y,F,G,X){var q;for(q in F)q==="children"||q==="key"||q in Y||g(N,q,null,F[q],G);for(q in Y)X&&typeof Y[q]!="function"||q==="children"||q==="key"||q==="value"||q==="checked"||F[q]===Y[q]||g(N,q,Y[q],F[q],G)}function H(N,Y,F){Y[0]==="-"?N.setProperty(Y,F):N[Y]=F==null?"":typeof F!="number"||f.test(Y)?F:F+"px"}function g(N,Y,F,G,X){var q;e:if(Y==="style")if(typeof F=="string")N.style.cssText=F;else{if(typeof G=="string"&&(N.style.cssText=G=""),G)for(Y in G)F&&Y in F||H(N.style,Y,"");if(F)for(Y in F)G&&F[Y]===G[Y]||H(N.style,Y,F[Y])}else if(Y[0]==="o"&&Y[1]==="n")q=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in N?Y.toLowerCase().slice(2):Y.slice(2),N.l||(N.l={}),N.l[Y+q]=F,F?G||N.addEventListener(Y,q?R:M,q):N.removeEventListener(Y,q?R:M,q);else if(Y!=="dangerouslySetInnerHTML"){if(X)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in N)try{N[Y]=F??"";break e}catch(se){}typeof F=="function"||(F!=null&&(F!==!1||Y[0]==="a"&&Y[1]==="r")?N.setAttribute(Y,F):N.removeAttribute(Y))}}function M(N){this.l[N.type+!1](e.event?e.event(N):N)}function R(N){this.l[N.type+!0](e.event?e.event(N):N)}function D(N,Y,F,G,X,q,se,ie,Ee){var Ie,ge,oe,ee,te,le,Q,z,V,ne,re,de=Y.type;if(Y.constructor!==void 0)return null;F.__h!=null&&(Ee=F.__h,ie=Y.__e=F.__e,Y.__h=null,q=[ie]),(Ie=e.__b)&&Ie(Y);try{e:if(typeof de=="function"){if(z=Y.props,V=(Ie=de.contextType)&&G[Ie.__c],ne=Ie?V?V.props.value:Ie.__:G,F.__c?Q=(ge=Y.__c=F.__c).__=ge.__E:("prototype"in de&&de.prototype.render?Y.__c=ge=new de(z,ne):(Y.__c=ge=new u(z,ne),ge.constructor=de,ge.render=x),V&&V.sub(ge),ge.props=z,ge.state||(ge.state={}),ge.context=ne,ge.__n=G,oe=ge.__d=!0,ge.__h=[]),ge.__s==null&&(ge.__s=ge.state),de.getDerivedStateFromProps!=null&&(ge.__s==ge.state&&(ge.__s=O({},ge.__s)),O(ge.__s,de.getDerivedStateFromProps(z,ge.__s))),ee=ge.props,te=ge.state,oe)de.getDerivedStateFromProps==null&&ge.componentWillMount!=null&&ge.componentWillMount(),ge.componentDidMount!=null&&ge.__h.push(ge.componentDidMount);else{if(de.getDerivedStateFromProps==null&&z!==ee&&ge.componentWillReceiveProps!=null&&ge.componentWillReceiveProps(z,ne),!ge.__e&&ge.shouldComponentUpdate!=null&&ge.shouldComponentUpdate(z,ge.__s,ne)===!1||Y.__v===F.__v){ge.props=z,ge.state=ge.__s,Y.__v!==F.__v&&(ge.__d=!1),ge.__v=Y,Y.__e=F.__e,Y.__k=F.__k,Y.__k.forEach(function(fe){fe&&(fe.__=Y)}),ge.__h.length&&se.push(ge);break e}ge.componentWillUpdate!=null&&ge.componentWillUpdate(z,ge.__s,ne),ge.componentDidUpdate!=null&&ge.__h.push(function(){ge.componentDidUpdate(ee,te,le)})}ge.context=ne,ge.props=z,ge.state=ge.__s,(Ie=e.__r)&&Ie(Y),ge.__d=!1,ge.__v=Y,ge.__P=N,Ie=ge.render(ge.props,ge.state,ge.context),ge.state=ge.__s,ge.getChildContext!=null&&(G=O(O({},G),ge.getChildContext())),oe||ge.getSnapshotBeforeUpdate==null||(le=ge.getSnapshotBeforeUpdate(ee,te)),re=Ie!=null&&Ie.type===r&&Ie.key==null?Ie.props.children:Ie,_(N,Array.isArray(re)?re:[re],Y,F,G,X,q,se,ie,Ee),ge.base=Y.__e,Y.__h=null,ge.__h.length&&se.push(ge),Q&&(ge.__E=ge.__=null),ge.__e=!1}else q==null&&Y.__v===F.__v?(Y.__k=F.__k,Y.__e=F.__e):Y.__e=L(F.__e,Y,F,G,X,q,se,Ee);(Ie=e.diffed)&&Ie(Y)}catch(fe){Y.__v=null,(Ee||q!=null)&&(Y.__e=ie,Y.__h=!!Ee,q[q.indexOf(ie)]=null),e.__e(fe,Y,F)}}function U(N,Y){e.__c&&e.__c(Y,N),N.some(function(F){try{N=F.__h,F.__h=[],N.some(function(G){G.call(F)})}catch(G){e.__e(G,F.__v)}})}function L(N,Y,F,G,X,q,se,ie){var Ee,Ie,ge,oe,ee=F.props,te=Y.props,le=Y.type,Q=0;if(le==="svg"&&(X=!0),q!=null){for(;Q<q.length;Q++)if((Ee=q[Q])&&(Ee===N||(le?Ee.localName==le:Ee.nodeType==3))){N=Ee,q[Q]=null;break}}if(N==null){if(le===null)return document.createTextNode(te);N=X?document.createElementNS("http://www.w3.org/2000/svg",le):document.createElement(le,te.is&&te),q=null,ie=!1}if(le===null)ee===te||ie&&N.data===te||(N.data=te);else{if(q=q&&p.slice.call(N.childNodes),Ie=(ee=F.props||d).dangerouslySetInnerHTML,ge=te.dangerouslySetInnerHTML,!ie){if(q!=null)for(ee={},oe=0;oe<N.attributes.length;oe++)ee[N.attributes[oe].name]=N.attributes[oe].value;(ge||Ie)&&(ge&&(Ie&&ge.__html==Ie.__html||ge.__html===N.innerHTML)||(N.innerHTML=ge&&ge.__html||""))}if($(N,te,ee,X,ie),ge)Y.__k=[];else if(Q=Y.props.children,_(N,Array.isArray(Q)?Q:[Q],Y,F,G,X&&le!=="foreignObject",q,se,N.firstChild,ie),q!=null)for(Q=q.length;Q--;)q[Q]!=null&&b(q[Q]);ie||("value"in te&&(Q=te.value)!==void 0&&(Q!==N.value||le==="progress"&&!Q)&&g(N,"value",Q,ee.value,!1),"checked"in te&&(Q=te.checked)!==void 0&&Q!==N.checked&&g(N,"checked",Q,ee.checked,!1))}return N}function j(N,Y,F){try{typeof N=="function"?N(Y):N.current=Y}catch(G){e.__e(G,F)}}function B(N,Y,F){var G,X,q;if(e.unmount&&e.unmount(N),(G=N.ref)&&(G.current&&G.current!==N.__e||j(G,null,Y)),F||typeof N.type=="function"||(F=(X=N.__e)!=null),N.__e=N.__d=void 0,(G=N.__c)!=null){if(G.componentWillUnmount)try{G.componentWillUnmount()}catch(se){e.__e(se,Y)}G.base=G.__P=null}if(G=N.__k)for(q=0;q<G.length;q++)G[q]&&B(G[q],Y,F);X!=null&&b(X)}function x(N,Y,F){return this.constructor(N,F)}function P(N,Y,F){var G,X,q;e.__&&e.__(N,Y),X=(G=typeof F=="function")?null:F&&F.__k||Y.__k,q=[],D(Y,N=(!G&&F||Y).__k=m(r,null,[N]),X||d,d,Y.ownerSVGElement!==void 0,!G&&F?[F]:X?null:Y.firstChild?p.slice.call(Y.childNodes):null,q,!G&&F?F:X?X.__e:Y.firstChild,G),U(q,N)}function y(N,Y){P(N,Y,y)}function A(N,Y,F){var G,X,q,se=arguments,ie=O({},N.props);for(q in Y)q=="key"?G=Y[q]:q=="ref"?X=Y[q]:ie[q]=Y[q];if(arguments.length>3)for(F=[F],q=3;q<arguments.length;q++)F.push(se[q]);return F!=null&&(ie.children=F),a(N.type,ie,G||N.key,X||N.ref,null)}function K(N,Y){var F={__c:Y="__cC"+c++,__:N,Consumer:function(G,X){return G.children(X)},Provider:function(G){var X,q;return this.getChildContext||(X=[],(q={})[Y]=this,this.getChildContext=function(){return q},this.shouldComponentUpdate=function(se){this.props.value!==se.value&&X.some(w)},this.sub=function(se){X.push(se);var ie=se.componentWillUnmount;se.componentWillUnmount=function(){X.splice(X.indexOf(se),1),ie&&ie.call(se)}}),G.children}};return F.Provider.__=F.Consumer.contextType=F}e={__e:function(N,Y){for(var F,G,X;Y=Y.__;)if((F=Y.__c)&&!F.__)try{if((G=F.constructor)&&G.getDerivedStateFromError!=null&&(F.setState(G.getDerivedStateFromError(N)),X=F.__d),F.componentDidCatch!=null&&(F.componentDidCatch(N),X=F.__d),X)return F.__E=F}catch(q){N=q}throw N},__v:0},o=function(N){return N!=null&&N.constructor===void 0},u.prototype.setState=function(N,Y){var F;F=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=O({},this.state),typeof N=="function"&&(N=N(O({},F),this.props)),N&&O(F,N),N!=null&&this.__v&&(Y&&this.__h.push(Y),w(this))},u.prototype.forceUpdate=function(N){this.__v&&(this.__e=!0,N&&this.__h.push(N),w(this))},u.prototype.render=r,l=[],s=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,C.__r=0,c=0},function(S,i,t){"use strict";t.r(i),t.d(i,"version",function(){return G}),t.d(i,"Children",function(){return b}),t.d(i,"render",function(){return $}),t.d(i,"hydrate",function(){return H}),t.d(i,"unmountComponentAtNode",function(){return ie}),t.d(i,"createPortal",function(){return _}),t.d(i,"createFactory",function(){return X}),t.d(i,"cloneElement",function(){return se}),t.d(i,"isValidElement",function(){return q}),t.d(i,"findDOMNode",function(){return Ee}),t.d(i,"PureComponent",function(){return h}),t.d(i,"memo",function(){return c}),t.d(i,"forwardRef",function(){return f}),t.d(i,"unstable_batchedUpdates",function(){return Ie}),t.d(i,"StrictMode",function(){return ge}),t.d(i,"Suspense",function(){return n}),t.d(i,"SuspenseList",function(){return v}),t.d(i,"lazy",function(){return u}),t.d(i,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",function(){return x}),t.d(i,"unstable_ImmediatePriority",function(){return P}),t.d(i,"unstable_UserBlockingPriority",function(){return y}),t.d(i,"unstable_NormalPriority",function(){return A}),t.d(i,"unstable_LowPriority",function(){return K}),t.d(i,"unstable_IdlePriority",function(){return N}),t.d(i,"unstable_runWithPriority",function(){return Y}),t.d(i,"unstable_now",function(){return F});var e=t(2);t.d(i,"useState",function(){return e.k}),t.d(i,"useReducer",function(){return e.i}),t.d(i,"useEffect",function(){return e.d}),t.d(i,"useLayoutEffect",function(){return e.g}),t.d(i,"useRef",function(){return e.j}),t.d(i,"useImperativeHandle",function(){return e.f}),t.d(i,"useMemo",function(){return e.h}),t.d(i,"useCallback",function(){return e.a}),t.d(i,"useContext",function(){return e.b}),t.d(i,"useDebugValue",function(){return e.c}),t.d(i,"useErrorBoundary",function(){return e.e});var o=t(0);t.d(i,"createElement",function(){return o.createElement}),t.d(i,"createContext",function(){return o.createContext}),t.d(i,"createRef",function(){return o.createRef}),t.d(i,"Fragment",function(){return o.Fragment}),t.d(i,"Component",function(){return o.Component});function l(oe,ee){for(var te in ee)oe[te]=ee[te];return oe}function s(oe,ee){for(var te in oe)if(te!=="__source"&&!(te in ee))return!0;for(var le in ee)if(le!=="__source"&&oe[le]!==ee[le])return!0;return!1}function h(oe){this.props=oe}function c(oe,ee){function te(Q){var z=this.props.ref,V=z==Q.ref;return!V&&z&&(z.call?z(null):z.current=null),ee?!ee(this.props,Q)||!V:s(this.props,Q)}function le(Q){return this.shouldComponentUpdate=te,Object(o.createElement)(oe,Q)}return le.displayName="Memo("+(oe.displayName||oe.name)+")",le.prototype.isReactComponent=!0,le.__f=!0,le}(h.prototype=new o.Component).isPureReactComponent=!0,h.prototype.shouldComponentUpdate=function(oe,ee){return s(this.props,oe)||s(this.state,ee)};var d=o.options.__b;o.options.__b=function(oe){oe.type&&oe.type.__f&&oe.ref&&(oe.props.ref=oe.ref,oe.ref=null),d&&d(oe)};var p=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(oe){function ee(te,le){var Q=l({},te);return delete Q.ref,oe(Q,(le=te.ref||le)&&(typeof le!="object"||"current"in le)?le:null)}return ee.$$typeof=p,ee.render=ee,ee.prototype.isReactComponent=ee.__f=!0,ee.displayName="ForwardRef("+(oe.displayName||oe.name)+")",ee}var O=function(oe,ee){return oe==null?null:Object(o.toChildArray)(Object(o.toChildArray)(oe).map(ee))},b={map:O,forEach:O,count:function(oe){return oe?Object(o.toChildArray)(oe).length:0},only:function(oe){var ee=Object(o.toChildArray)(oe);if(ee.length!==1)throw"Children.only";return ee[0]},toArray:o.toChildArray},m=o.options.__e;o.options.__e=function(oe,ee,te){if(oe.then){for(var le,Q=ee;Q=Q.__;)if((le=Q.__c)&&le.__c)return ee.__e==null&&(ee.__e=te.__e,ee.__k=te.__k),le.__c(oe,ee)}m(oe,ee,te)};var a=o.options.unmount;function n(){this.__u=0,this.t=null,this.__b=null}function r(oe){var ee=oe.__.__c;return ee&&ee.__e&&ee.__e(oe)}function u(oe){var ee,te,le;function Q(z){if(ee||(ee=oe()).then(function(V){te=V.default||V},function(V){le=V}),le)throw le;if(!te)throw ee;return Object(o.createElement)(te,z)}return Q.displayName="Lazy",Q.__f=!0,Q}function v(){this.u=null,this.o=null}o.options.unmount=function(oe){var ee=oe.__c;ee&&ee.__R&&ee.__R(),ee&&oe.__h===!0&&(oe.type=null),a&&a(oe)},(n.prototype=new o.Component).__c=function(oe,ee){var te=ee.__c,le=this;le.t==null&&(le.t=[]),le.t.push(te);var Q=r(le.__v),z=!1,V=function(){z||(z=!0,te.__R=null,Q?Q(ne):ne())};te.__R=V;var ne=function(){if(!--le.__u){if(le.state.__e){var de=le.state.__e;le.__v.__k[0]=function we(Ge,$e,it){return Ge&&(Ge.__v=null,Ge.__k=Ge.__k&&Ge.__k.map(function(st){return we(st,$e,it)}),Ge.__c&&Ge.__c.__P===$e&&(Ge.__e&&it.insertBefore(Ge.__e,Ge.__d),Ge.__c.__e=!0,Ge.__c.__P=it)),Ge}(de,de.__c.__P,de.__c.__O)}var fe;for(le.setState({__e:le.__b=null});fe=le.t.pop();)fe.forceUpdate()}},re=ee.__h===!0;le.__u++||re||le.setState({__e:le.__b=le.__v.__k[0]}),oe.then(V,V)},n.prototype.componentWillUnmount=function(){this.t=[]},n.prototype.render=function(oe,ee){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),le=this.__v.__k[0].__c;this.__v.__k[0]=function z(V,ne,re){return V&&(V.__c&&V.__c.__H&&(V.__c.__H.__.forEach(function(de){typeof de.__c=="function"&&de.__c()}),V.__c.__H=null),(V=l({},V)).__c!=null&&(V.__c.__P===re&&(V.__c.__P=ne),V.__c=null),V.__k=V.__k&&V.__k.map(function(de){return z(de,ne,re)})),V}(this.__b,te,le.__O=le.__P)}this.__b=null}var Q=ee.__e&&Object(o.createElement)(o.Fragment,null,oe.fallback);return Q&&(Q.__h=null),[Object(o.createElement)(o.Fragment,null,ee.__e?null:oe.children),Q]};var E=function(oe,ee,te){if(++te[1]===te[0]&&oe.o.delete(ee),oe.props.revealOrder&&(oe.props.revealOrder[0]!=="t"||!oe.o.size))for(te=oe.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;oe.u=te=te[2]}};function w(oe){return this.getChildContext=function(){return oe.context},oe.children}function C(oe){var ee=this,te=oe.i;ee.componentWillUnmount=function(){Object(o.render)(null,ee.l),ee.l=null,ee.i=null},ee.i&&ee.i!==te&&ee.componentWillUnmount(),oe.__v?(ee.l||(ee.i=te,ee.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(le){this.childNodes.push(le),ee.i.appendChild(le)},insertBefore:function(le,Q){this.childNodes.push(le),ee.i.appendChild(le)},removeChild:function(le){this.childNodes.splice(this.childNodes.indexOf(le)>>>1,1),ee.i.removeChild(le)}}),Object(o.render)(Object(o.createElement)(w,{context:ee.context},oe.__v),ee.l)):ee.l&&ee.componentWillUnmount()}function _(oe,ee){return Object(o.createElement)(C,{__v:oe,i:ee})}(v.prototype=new o.Component).__e=function(oe){var ee=this,te=r(ee.__v),le=ee.o.get(oe);return le[0]++,function(Q){var z=function(){ee.props.revealOrder?(le.push(Q),E(ee,oe,le)):Q()};te?te(z):z()}},v.prototype.render=function(oe){this.u=null,this.o=new Map;var ee=Object(o.toChildArray)(oe.children);oe.revealOrder&&oe.revealOrder[0]==="b"&&ee.reverse();for(var te=ee.length;te--;)this.o.set(ee[te],this.u=[1,0,this.u]);return oe.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var oe=this;this.o.forEach(function(ee,te){E(oe,te,ee)})};var T=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,W=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,k=function(oe){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(oe)};function $(oe,ee,te){return ee.__k==null&&(ee.textContent=""),Object(o.render)(oe,ee),typeof te=="function"&&te(),oe?oe.__c:null}function H(oe,ee,te){return Object(o.hydrate)(oe,ee),typeof te=="function"&&te(),oe?oe.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(oe){Object.defineProperty(o.Component.prototype,oe,{configurable:!0,get:function(){return this["UNSAFE_"+oe]},set:function(ee){Object.defineProperty(this,oe,{configurable:!0,writable:!0,value:ee})}})});var g=o.options.event;function M(){}function R(){return this.cancelBubble}function D(){return this.defaultPrevented}o.options.event=function(oe){return g&&(oe=g(oe)),oe.persist=M,oe.isPropagationStopped=R,oe.isDefaultPrevented=D,oe.nativeEvent=oe};var U,L={configurable:!0,get:function(){return this.class}},j=o.options.vnode;o.options.vnode=function(oe){var ee=oe.type,te=oe.props,le=te;if(typeof ee=="string"){for(var Q in le={},te){var z=te[Q];Q==="value"&&"defaultValue"in te&&z==null||(Q==="defaultValue"&&"value"in te&&te.value==null?Q="value":Q==="download"&&z===!0?z="":/ondoubleclick/i.test(Q)?Q="ondblclick":/^onchange(textarea|input)/i.test(Q+ee)&&!k(te.type)?Q="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(Q)?Q=Q.toLowerCase():W.test(Q)?Q=Q.replace(/[A-Z0-9]/,"-$&").toLowerCase():z===null&&(z=void 0),le[Q]=z)}ee=="select"&&le.multiple&&Array.isArray(le.value)&&(le.value=Object(o.toChildArray)(te.children).forEach(function(V){V.props.selected=le.value.indexOf(V.props.value)!=-1})),ee=="select"&&le.defaultValue!=null&&(le.value=Object(o.toChildArray)(te.children).forEach(function(V){V.props.selected=le.multiple?le.defaultValue.indexOf(V.props.value)!=-1:le.defaultValue==V.props.value})),oe.props=le}ee&&te.class!=te.className&&(L.enumerable="className"in te,te.className!=null&&(le.class=te.className),Object.defineProperty(le,"className",L)),oe.$$typeof=T,j&&j(oe)};var B=o.options.__r;o.options.__r=function(oe){B&&B(oe),U=oe.__c};var x={ReactCurrentDispatcher:{current:{readContext:function(oe){return U.__n[oe.__c].props.value}}}},P=1,y=2,A=3,K=4,N=5;function Y(oe,ee){return ee()}var F=typeof performance=="object"&&typeof performance.now=="function"?performance.now.bind(performance):function(){return Date.now()},G="16.8.0";function X(oe){return o.createElement.bind(null,oe)}function q(oe){return!!oe&&oe.$$typeof===T}function se(oe){return q(oe)?o.cloneElement.apply(null,arguments):oe}function ie(oe){return!!oe.__k&&(Object(o.render)(null,oe),!0)}function Ee(oe){return oe&&(oe.base||oe.nodeType===1&&oe)||null}var Ie=function(oe,ee){return oe(ee)},ge=o.Fragment;i.default={useState:e.k,useReducer:e.i,useEffect:e.d,useLayoutEffect:e.g,useRef:e.j,useImperativeHandle:e.f,useMemo:e.h,useCallback:e.a,useContext:e.b,useDebugValue:e.c,version:"16.8.0",Children:b,render:$,hydrate:H,unmountComponentAtNode:ie,createPortal:_,createElement:o.createElement,createContext:o.createContext,createFactory:X,cloneElement:se,createRef:o.createRef,Fragment:o.Fragment,isValidElement:q,findDOMNode:Ee,Component:o.Component,PureComponent:h,memo:c,forwardRef:f,unstable_batchedUpdates:Ie,StrictMode:o.Fragment,Suspense:n,SuspenseList:v,lazy:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:x}},function(S,i,t){"use strict";t.d(i,"k",function(){return a}),t.d(i,"i",function(){return n}),t.d(i,"d",function(){return r}),t.d(i,"g",function(){return u}),t.d(i,"j",function(){return v}),t.d(i,"f",function(){return E}),t.d(i,"h",function(){return w}),t.d(i,"a",function(){return C}),t.d(i,"b",function(){return _}),t.d(i,"c",function(){return T}),t.d(i,"e",function(){return W});var e=t(0),o,l,s,h=0,c=[],d=e.options.__b,p=e.options.__r,f=e.options.diffed,O=e.options.__c,b=e.options.unmount;function m(D,U){e.options.__h&&e.options.__h(l,D,h||U),h=0;var L=l.__H||(l.__H={__:[],__h:[]});return D>=L.__.length&&L.__.push({}),L.__[D]}function a(D){return h=1,n(R,D)}function n(D,U,L){var j=m(o++,2);return j.t=D,j.__c||(j.__=[L?L(U):R(void 0,U),function(B){var x=j.t(j.__[0],B);j.__[0]!==x&&(j.__=[x,j.__[1]],j.__c.setState({}))}],j.__c=l),j.__}function r(D,U){var L=m(o++,3);!e.options.__s&&M(L.__H,U)&&(L.__=D,L.__H=U,l.__H.__h.push(L))}function u(D,U){var L=m(o++,4);!e.options.__s&&M(L.__H,U)&&(L.__=D,L.__H=U,l.__h.push(L))}function v(D){return h=5,w(function(){return{current:D}},[])}function E(D,U,L){h=6,u(function(){typeof D=="function"?D(U()):D&&(D.current=U())},L==null?L:L.concat(D))}function w(D,U){var L=m(o++,7);return M(L.__H,U)&&(L.__=D(),L.__H=U,L.__h=D),L.__}function C(D,U){return h=8,w(function(){return D},U)}function _(D){var U=l.context[D.__c],L=m(o++,9);return L.__c=D,U?(L.__==null&&(L.__=!0,U.sub(l)),U.props.value):D.__}function T(D,U){e.options.useDebugValue&&e.options.useDebugValue(U?U(D):D)}function W(D){var U=m(o++,10),L=a();return U.__=D,l.componentDidCatch||(l.componentDidCatch=function(j){U.__&&U.__(j),L[1](j)}),[L[0],function(){L[1](void 0)}]}function k(){c.forEach(function(D){if(D.__P)try{D.__H.__h.forEach(H),D.__H.__h.forEach(g),D.__H.__h=[]}catch(U){D.__H.__h=[],e.options.__e(U,D.__v)}}),c=[]}e.options.__b=function(D){l=null,d&&d(D)},e.options.__r=function(D){p&&p(D),o=0;var U=(l=D.__c).__H;U&&(U.__h.forEach(H),U.__h.forEach(g),U.__h=[])},e.options.diffed=function(D){f&&f(D);var U=D.__c;U&&U.__H&&U.__H.__h.length&&(c.push(U)!==1&&s===e.options.requestAnimationFrame||((s=e.options.requestAnimationFrame)||function(L){var j,B=function(){clearTimeout(x),$&&cancelAnimationFrame(j),setTimeout(L)},x=setTimeout(B,100);$&&(j=requestAnimationFrame(B))})(k)),l=void 0},e.options.__c=function(D,U){U.some(function(L){try{L.__h.forEach(H),L.__h=L.__h.filter(function(j){return!j.__||g(j)})}catch(j){U.some(function(B){B.__h&&(B.__h=[])}),U=[],e.options.__e(j,L.__v)}}),O&&O(D,U)},e.options.unmount=function(D){b&&b(D);var U=D.__c;if(U&&U.__H)try{U.__H.__.forEach(H)}catch(L){e.options.__e(L,U.__v)}};var $=typeof requestAnimationFrame=="function";function H(D){var U=l;typeof D.__c=="function"&&D.__c(),l=U}function g(D){var U=l;D.__c=D.__(),l=U}function M(D,U){return!D||D.length!==U.length||U.some(function(L,j){return L!==D[j]})}function R(D,U){return typeof U=="function"?U(D):U}},function(S,i,t){(function(e){var o=Object.defineProperty,l=Object.defineProperties,s=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(P,y,A)=>y in P?o(P,y,{enumerable:!0,configurable:!0,writable:!0,value:A}):P[y]=A,f=(P,y)=>{for(var A in y||(y={}))c.call(y,A)&&p(P,A,y[A]);if(h)for(var A of h(y))d.call(y,A)&&p(P,A,y[A]);return P},O=(P,y)=>l(P,s(y)),b=(P,y)=>{var A={};for(var K in P)c.call(P,K)&&y.indexOf(K)<0&&(A[K]=P[K]);if(P!=null&&h)for(var K of h(P))y.indexOf(K)<0&&d.call(P,K)&&(A[K]=P[K]);return A};const{cleanSlug:m}=t(86),{substack_color:a}=t(49),{CDN_URL:n,substackDomain:r,getSubscribeUrl:u,serializeQuery:v,pathWithQuery:E,getBaseUrl:w,getSubstackUrl:C,getHostname:_,_getUrl:T,getBaseAppLinkUrl:W,getLikelyLoggedInParam:k,getPubAccountSettingsUrl:$,getDashboardUrl:H,getProfileUrlById:g,getReaderProfileUrl:M,cloudinary:R,uncloudinary:D,extractDimensionsFromImageUrl:U}=t(54),L=[/\/embed\/podcast\//];i.TWITTER_CARD_WIDTH=504,i.TWITTER_CARD_HEIGHT=264,i.TWITTER_CARD_LOGO_SIZE=70,i.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=4416942040980",i.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=8613857127700&request_from_search=true",i.CDN_URL=n,i.substackDomain=r,i.getBaseUrl=w,i.getSubstackUrl=C,i.getBaseAppLinkUrl=W,i.getHostname=_,i.serializeQuery=v,i.getSubscribeUrl=u,i.pathWithQuery=E,i.getLikelyLoggedInParam=k,i.getPubAccountSettingsUrl=$,i.getDashboardUrl=H,i.getProfileUrlById=g,i.getReaderProfileUrl=M,i.cloudinary=R,i.uncloudinary=D,i.extractDimensionsFromImageUrl=U,i.updateQuery=function(P,y){typeof P=="object"&&(y=P,P=document.location.pathname+document.location.search+document.location.hash);let A=i.pathWithQuery(P.split("?")[0].split("#")[0],Object.assign(i.parseQuery(P),y));return P.indexOf("#")!==-1&&(A+=P.substr(P.indexOf("#"))),A},i.parseQuery=function(P){const y={},A=((P==null?void 0:P.split("?")[1])||"").split("#")[0].trim();if(A){const K=A.split("&");for(let N=0;N<K.length;N++){const Y=K[N].split("=");y[decodeURIComponent(Y[0])]=decodeURIComponent(Y.slice(1).join("="))}}return y},i.getQueryItem=(P,y)=>{if(typeof y!="string"){if(typeof window=="undefined"||!(window==null?void 0:window.location))return null;y=P,P=window.location.href}const A=i.parseQuery(P);if(y in A)return A[y]},i.getPubUrl=(P,{params:y={},signedIn:A=!1}={})=>{const K=k(A,P);return i.pathWithQuery(`${i.getBaseUrl(P)}/`,f({lli:K},y))},i.DEFAULT_PHOTO_URL=`${i.getSubstackUrl()}/img/avatars/logged-out.png`,i.getCallbackUrl=P=>{const y=!1;return`${y?i.getBaseUrl():i.getBaseUrl({subdomain:"callback"})}${y?"/callback":""}${P}`},i.getTld=P=>{try{return new URL(P).hostname.split(".").slice(-2).join(".")}catch(y){return null}},i.stripProtocol=P=>(P||"").replace(/^(\w+:)?\/\//g,""),i.getUserPhotoUrl=(P,{preferAuthorPhoto:y,noFallbackToSignedOut:A}={})=>y&&(P==null?void 0:P.author_photo_url)?P.author_photo_url:(P==null?void 0:P.photo_url)?P==null?void 0:P.photo_url:(P==null?void 0:P.id)!==void 0?i.getDefaultUserPhotoById(P.id):A?null:i.DEFAULT_PHOTO_URL,i.getDefaultUserPhotoById=P=>{const y=["purple","yellow","orange","green","black"];return`${i.getSubstackUrl()}/img/avatars/${y[P%5]}.png`},i.getUndergroundUrl=P=>{const y=i.substackDomain,A=T(`admin.${y}`);return P?`${A}/publications/${P}`:A},i.getStockLandingUrl=P=>{const y=i.substackDomain;return`${T(`${y}`)}/discover/stocks/${P}`},i.getUserUndergroundUrl=P=>{const y=i.substackDomain,A=T(`admin.${y}`);return P?`${A}/users/${P}`:A},i.getBaseReaderUrl=({utm_source:P}={})=>{const y=i.substackDomain,A=e.env.READER_SUBDOMAIN||"reader";return i.pathWithQuery(T(`${A}.${y}`),{utm_source:P})},i.getReaderSignupUrl=P=>i.pathWithQuery(`${T(i.substackDomain)}/discover`,O(f({},P),{action:"signup"})),i.getReaderUrl=(P,{query:y})=>{const A=i.substackDomain;return i.pathWithQuery(`${T(A)}${P}`,y)},i.getNotificationsUrl=P=>i.getReaderUrl("/activity",{query:P}),i.getLibraryUrl=P=>i.getReaderUrl("/library",{query:P}),i.getSavedPostsUrl=P=>i.getReaderUrl("/saved",P),i.getPostUrl=(P,y,{noBase:A=void 0,edit:K=void 0,email:N=void 0,comments:Y=void 0,commentId:F=void 0,commentInput:G=void 0,highlightComment:X=void 0,replyToComment:q=void 0,commentContextId:se=void 0,uuid:ie=void 0,urlParams:Ee=void 0,signedIn:Ie=!1}={})=>{if(P=[P].concat(P.child_publications||[]).find(ee=>ee.id===y.publication_id)||P,(P==null?void 0:P.type)==="rss")return y.canonical_url||P.rss_website_url;const ge=ie?y.uuid:y.slug;if(K||!ge)return`${A?"":i.getBaseUrl(P)}${i.getEditPostUrlById(P,y.id,Ee)}`;const oe=k(Ie,P);return i.getPostUrlBySlug(P,ge,{noBase:A,email:N,comments:Y,commentId:F,commentInput:G,highlightComment:X,replyToComment:q,commentContextId:se,urlParams:f({lli:oe},Ee)})},i.getPostUrlBySlug=(P,y,{noBase:A,email:K,comments:N,commentId:Y,commentInput:F,highlightComment:G,replyToComment:X,commentContextId:q,urlParams:se}={})=>{let ie="";return A||(ie+=i.getBaseUrl(P)),ie+=`/p/${y}`,N&&(!Y||G)&&(ie+="/comments"),Y&&!G&&!q&&(ie+=`/comment/${Y}`),K&&(ie+="/email"),se&&(ie=i.pathWithQuery(ie,se)),Y&&(G||X)?ie+=`#comment-${Y}${X?"-reply":""}`:F&&(ie+="#input"),Y&&q&&(ie+=`/comment/${q}#comment-${Y}`),ie},i.getDeprecatedPostAppLinkUrl=(P,y,{params:A={},redirect:K=null,source:N=null,postUuid:Y=null}={})=>{const F=Y?`${i.getSubstackUrl()}/app-link/publications/${P}/drafts/${Y}`:`${i.getSubstackUrl()}/app-link/post`,G=f({publication_id:P,post_id:y,utm_source:N,redirect:K},A);return i.pathWithQuery(F,G)},i.getPostAppLinkUrl=(P,y,{params:A={},redirect:K=null,source:N=null,postUuid:Y=null}={})=>{if(!P||!y)return"";const F=Y?`${i.getBaseAppLinkUrl()}/pub/${P}/drafts/${Y}`:`${i.getBaseAppLinkUrl()}/pub/${P}/p/${y}`,G=f({utm_source:N,redirect:K},A);return i.pathWithQuery(F,G)},i.getPostCommentsUrl=function(P,y,A){return i.getPostUrl(P,y,{comments:!0,commentId:A&&A.id})},i.getPostCommentInContextUrl=function(P,y,A,K=3){if(!A.ancestor_path)return i.getPostCommentsUrl(P,y,A);const N=A==null?void 0:A.ancestor_path.split("."),Y=N.length<K?0:N.length-K;return i.getPostUrl(P,y,{comments:!0,commentId:A.id,commentContextId:N[Y]})},i.getSectionUrl=(P,{addBase:y,section:A}={})=>(A=A||P.section,`${y?i.getBaseUrl(P):""}/s/${A.slug||A.id}`),i.getEditSectionUrl=(P,{addBase:y,type:A,id:K}={})=>`${y?i.getBaseUrl(P):""}/publish/settings/${A}/${K}`,i.getArchiveUrl=(P,{params:y}={})=>{const A=P.section?`/s/${P.section.slug||P.section.id}`:"";return i.pathWithQuery(`${A}/archive`,y)},i.getBaseArchiveUrl=(P,{addBase:y,params:A}={})=>{const K=y?i.getBaseUrl(P):"";return i.pathWithQuery(`${K}/archive`,A)},i.getAboutUrl=(P,{addBase:y,params:A}={})=>{const K=y?i.getBaseUrl(P):"";return i.pathWithQuery(`${K}/about`,A)},i.getSitemapUrl=(P,{addBase:y,params:A}={})=>{const K=y?i.getBaseUrl(P):"";return i.pathWithQuery(`${K}/sitemap`,A)},i.getDashboardUrlForSubdomain=(P,{params:y}={})=>{const A=`${i.getBaseUrl({subdomain:P})}/publish`;return i.pathWithQuery(A,y)},i.getConnectTwitterUrl=(P,{addBase:y,params:A}={})=>{const N=`${y?i.getBaseUrl(P):""}/api/v1/twitter/authorize`;return A?i.pathWithQuery(N,A):N},i.getFindTwitterPubsUrl=P=>i.pathWithQuery(`${i.getSubstackUrl()}/twitter/find-pubs`,P),i.getPodcastingUrl=(P,{addBase:y,params:A,slug:K,isSection:N}={})=>{let F=`${y?i.getBaseUrl(P):""}/publish/podcasting`;return K&&(N?F=`${F}/s/${K}`:F=`${F}/${K}`),A?i.pathWithQuery(F,A):F},i.getEditPostUrlById=(P,y,A)=>i.pathWithQuery(`/publish/post/${y}`,A),i.getCreatePostUrl=(P,y={})=>{var A=y,{baseUrl:K=null}=A,N=b(A,["baseUrl"]);return i.pathWithQuery(`${K??i.getBaseUrl(P)}/publish/post`,N)},i.getCreateMarketingPostUrl=(P,y)=>i.pathWithQuery(`${i.getBaseUrl(P)}/publish/post/marketing`,y),i.getSubscriberStatsUrl=(P,{addBase:y,params:A}={})=>{const K=y?i.getBaseUrl(P):"";return i.pathWithQuery(`${K}/publish/subscribers`,A)},i.getAddSubscriberUrl=P=>"/publish/subscribers/add",i.getDomainConfigUrl=(P,{payment:y}={})=>`/publish/domain${y?"/pay":""}`,i.getDomainMigrateUrl=P=>"/publish/domain/migrate",i.getDomainStatusUrl=()=>"/publish/domain/status",i.getSubscriberDetailsUrl=(P,y,{addBase:A,tab:K}={})=>{const N=A?i.getBaseUrl(P):"";return i.pathWithQuery(`${N}/publish/subscribers/legacy`,{email:y,tab:K})},i.getManageGroupsUrl=()=>"/publish/groups",i.getCheckoutUrl=function(P,y={}){const A=i.pathWithQuery(`${i.getBaseUrl(P)}/subscribe`,y);return A.indexOf("?")===-1?`${A}?`:A},i.getFoundingCheckoutUrl=function(P){return`${i.getBaseUrl(P)}/subscribe?plan=founding&`},i.getLoginUrl=(P={})=>i.pathWithQuery("/account/login",P),i.getMfaUrl=(P={})=>i.pathWithQuery(`${i.getSubstackUrl()}/sign-in/mfa`,P),i.getGlobalAccountRedirectForPub=(P,y,A)=>{const K=P==null?void 0:P.subdomain;return i.pathWithQuery(`${i.getSubstackUrl()}${y}`,{redirect:A,for_pub:K})},i.getCancelOrUncancelUrl=(P,{addBase:y,params:A}={})=>{const K=y?i.getBaseUrl(P):"";return i.pathWithQuery(`${K}/account/cancel`,A)},i.getGlobalAccountSettingsUrl=({utm_source:P,section:y}={})=>i.pathWithQuery(`${i.getSubstackUrl()}/settings`,{utm_source:P,section:y}),i.getManageSubscriptionsUrl=({utm_source:P}={})=>i.pathWithQuery(`${i.getSubstackUrl()}/settings/subscriptions`,{utm_source:P}),i.getSharePubUrl=P=>`${i.getBaseUrl(P)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,i.getPodcatcherSetupUrlForAllPodcasts=(P,y)=>{var A=y,{startAtSubscribeFlow:K}=A,N=b(A,["startAtSubscribeFlow"]);let Y=`${i.getBaseUrl(P)}/listen`;if(N){const F=i.serializeQuery(N);F&&(Y+=`?${F}`)}return K?i.getSubscribeUrl(P,f({addBase:!0,next:Y,skipPodcastSetupPage:!0},N)):Y},i.getPodcatcherSetupUrl=(P,{addBase:y,params:A,noSection:K,section:N,user:Y,startAtSubscribeFlow:F}={})=>{let G="";if(y&&(G+=i.getBaseUrl(P)),N=N||(P==null?void 0:P.section),N&&!K&&(G+=`/s/${N.slug||N.id}`),G+="/account/add-podcast",Y&&Y.email&&(A=O(f({},A),{email:Y.email}),G+="/email"),A){const X=i.serializeQuery(A);X&&(G+=`?${X}`)}return F?i.getSubscribeUrl(P,f({addBase:!0,next:G,skipPodcastSetupPage:!0},A)):G};const j=(P,{cdnUrl:y=i.CDN_URL})=>P==null?void 0:P.replace(/^https:\/\/(bucketeer[^/]*|substack-audio|substack-video|substack-video-staging)\.s3\.amazonaws\.com/,y),B="https://chrt.fm/track";i.getAsChartableUrl=(P,y)=>P?`${B}/${encodeURIComponent(P)}/${i.stripProtocol(y)}`:y,i.getCdnUrlForAudio=(P,y,{token:A}={})=>(y=j(y,{cdnUrl:i.CDN_URL}),(P==null?void 0:P.id)&&(y=i.updateQuery(y,{post_id:P.id})),A&&(y=i.updateQuery(y,{podcast_rss_token:A})),y),i.getClientReadyPodcastUrl=(P,y,{rssToken:A})=>{if(y.podcast_upload_id){let K=i.updateQuery(`${i.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${y.podcast_upload_id}/src`,{token:A});return(P==null?void 0:P.chartable_token)&&(K=i.getAsChartableUrl(P.chartable_token,K)),K}if(y.podcast_url){let K=i.getCdnUrlForAudio(y,y.podcast_url,{token:A});return(P==null?void 0:P.chartable_token)&&(K=i.getAsChartableUrl(P.chartable_token,K)),K}return null},i.urlIsRegularlyShownInIframe=P=>{for(let y=0;y<L.length;y++)if(L[y].test(P))return!0;return!1},i.getCurrentUrlForLoginRedirect=({useOriginalUrl:P})=>{if(P&&typeof window!="undefined"&&window._preloads.original_url)try{const y=new URL(window._preloads.original_url);return`${y.pathname}${y.search}${y.hash}`}catch(y){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},i.getSigninUrl=(P={})=>{const{for_pub:y,email:A,with_password:K,error:N,message:Y,change_user:F,justTrying:G,useOriginalUrl:X}=P;let{redirect:q}=P;return typeof q!="string"&&(q=i.getCurrentUrlForLoginRedirect({useOriginalUrl:X})),i.pathWithQuery(`${i.getSubstackUrl()}/sign-in`,{redirect:q,for_pub:y,email:A,with_password:K,error:N,message:Y,change_user:F,justTrying:G})},i.getTermsUrl=({utm_source:P}={})=>i.pathWithQuery(`${i.getSubstackUrl()}/tos`,{utm_source:P}),i.getGoingPaidUrl=()=>`${i.getSubstackUrl()}/going-paid`,i.getInfoCollectionUrl=({utm_source:P}={})=>`${i.pathWithQuery(`${i.getSubstackUrl()}/ccpa`,{utm_source:P})}#personal-data-collected`,i.getHomeUrl=({utm_source:P}={})=>i.pathWithQuery(`${i.getSubstackUrl()}/home`,{utm_source:P}),i.getPrivacyUrl=({pub:P,utm_source:y,hash:A=null}={})=>{const K=P?`${i.getBaseUrl(P)}`:i.getSubstackUrl(),N=A?`#${A}`:"";return`${i.pathWithQuery(`${K}/privacy`,{utm_source:y})}${N}`},i.getLegalUrls=()=>({infoCollection:i.getInfoCollectionUrl(),privacy:i.getPrivacyUrl(),terms:i.getTermsUrl()}),i.getEditProfileUrl=({params:P}={})=>i.pathWithQuery(`${i.getSubstackUrl()}/profile/edit`,P),i.getReaderOnboardingUrl=(P,{isAbbreviated:y,redirect:A,postRedirectToast:K,pubId:N=null}={})=>{let Y=null;if(A)try{Y=new URL(A),K&&Y.searchParams.set("profile-setup-message",K)}catch(F){Y=new URL(i.getSubstackUrl())}return i.pathWithQuery(`${i.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:y,redirect:Y?Y.toString():null,pubId:N})},i.getProfileSetupUrl=({utm_source:P}={})=>i.pathWithQuery(`${i.getSubstackUrl()}/profile/start`,{utm_source:P}),i.getDiscoverCategoryUrl=(P,y)=>`${i.getSubstackUrl()}/discover${P?`/category/${P.slug}`:""}${y==="all"?"/all":""}`,i.getDiscoverSearchUrl=({query:P})=>P?`${i.getSubstackUrl()}/search/${encodeURIComponent(P)}`:`${i.getSubstackUrl()}/search`,i.getSubscribeUrl=(P,y={})=>{var A=y,{signedIn:K=!1,root:N=void 0,user:Y=void 0,addBase:F=void 0}=A,G=b(A,["signedIn","root","user","addBase"]);const X=k(K,P);return u(P,{root:N,user:Y,addBase:F,params:f({lli:X},G)})},i.getRecommendationsPageUrl=(P,y={})=>i.pathWithQuery(`${i.getBaseUrl(P)}/recommendations`,y),i.getStartPublishingUrl=(P={})=>i.updateQuery(`${i.getSubstackUrl()}/signup`,P),i.getImportUrl=(P={})=>i.updateQuery(`${i.getSubstackUrl()}/signup/import`,P);const x=(P,{addBase:y,baseUrlOptions:A}={})=>`${y?i.getBaseUrl(P,A):""}/publish`;i.getPublishSettingsUrl=(P,{addBase:y=!1,baseUrlOptions:A={},section:K=void 0,params:N=void 0}={})=>{let Y=i.pathWithQuery(`${x(P,{addBase:y,baseUrlOptions:A})}/settings`,N);return K&&(Y+=`#${K}`),Y},i.getPublishStripeAccountImportUrl=(P,{addBase:y=!1,baseUrlOptions:A={},params:K=void 0}={})=>i.pathWithQuery(`${x(P,{addBase:y,baseUrlOptions:A})}/stripe-import`,K),i.getPublishStatsUrl=(P,{addBase:y,baseUrlOptions:A,params:K}={})=>{const N=y?i.getBaseUrl(P,A):"";return i.pathWithQuery(`${N}/publish/stats`,K)},i.getPublishSettingsRecommendationsUrl=(P,{addBase:y,baseUrlOptions:A,params:K}={})=>{const N=y?i.getBaseUrl(P,A):"";return i.pathWithQuery(`${N}/publish/settings/recommendations`,K)},i.getPublishStatsRecommendationsUrl=(P,{addBase:y,baseUrlOptions:A,params:K}={})=>{const N=y?i.getBaseUrl(P,A):"";return i.pathWithQuery(`${N}/publish/recommendations`,K)},i.getManageBlurbsUrl=(P,{addBase:y,baseUrlOptions:A,params:K}={})=>{const N=y?i.getBaseUrl(P,A):"";return i.pathWithQuery(`${N}/publish/settings/blurbs`,K)},i.getManageReaderReferralSettingsUrl=P=>{const y=i.getBaseUrl(P);return i.pathWithQuery(`${y}/publish/settings/`,{search:"referral"})},i.getPublishModerationUrl=(P,{addBase:y=!1,baseUrlOptions:A={}}={})=>`${x(P,{addBase:y,baseUrlOptions:A})}/moderation`,i.getPublicationPodcastUrl=P=>"/publish/settings/podcast/edit",i.getInviteUrl=P=>`${i.getBaseUrl(P)}/invite`,i.getProfileSlug=P=>{let y=`${P.author_id||P.id}`;const A=m(P.author_id?P.author_name:P.name,{hashIfEmpty:!0});return A&&(y+=`-${A}`),y},i.getProfileUrl=(P,y,{base:A=!1,utm_source:K}={})=>{if((y.parent_publication||y).subdomain!=="thedispatch")return i.getReaderProfileUrl(P,{utm_source:K});let N=`/people/${i.getProfileSlug(P)}`;const Y=(y.parent_publication||y).base_url;return(A||typeof window!="undefined"&&Y!==`${window.location.protocol}//${window.location.host}`)&&(N=Y+N),i.pathWithQuery(N,{utm_source:K})},i.getPodcastRssUrl=({pub:P,token:y=null})=>{var A;if(P.section){const{section:N}=P;if((A=N.podcastSettings)==null?void 0:A.podcast_feed_url)return N.podcastSettings.podcast_feed_url;let Y=`${i.getBaseUrl({subdomain:"api"})}/feed/podcast/${P.id}/s/`;return y?Y+=`${N.id}/private/${y}.rss`:Y+=`${N.id}.rss`,Y}else if(P.podcast_feed_url)return P.podcast_feed_url;let K=`${i.getBaseUrl({subdomain:"api"})}/feed/podcast/${P.id}`;return y?K+=`/private/${y}.rss`:K+=".rss",K},i.getSupportEmail=(P,{noOverride:y}={})=>{if(P){if(P.support_email&&!y)return P.support_email}else return"support@substack.com";return`support+${P.subdomain}@substack.com`},i.getSupportUrl=(P,y)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(i.getSupportEmail(P,y))}`,i.getPostSelectionPreviewUrl=(P,y,A)=>i.cloudinary(`${i.getPostSelectionPreviewSvgUrl(P,y,A)}`,i.TWITTER_CARD_WIDTH*2,{height:i.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),i.getPostSelectionPreviewSvgUrl=(P,y,A)=>`${i.getBaseUrl(P)}/api/v1/post_selection_image/${y.id}/${A}.svg`,i.getTwitterSubscribeCardUrl=P=>i.cloudinary(`${i.getTwitterSubscribeCardSvgUrl(P)}`,i.TWITTER_CARD_WIDTH*2,{height:i.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),i.getTwitterSubscribeCardSvgUrl=P=>{let y=`${i.getBaseUrl(P)}/twitter/subscribe-card.svg`;return P.subscribeCardVersionHash?y+=`?v=${P.subscribeCardVersionHash}`:y+="?v=bust",y},i.getPressKitUrl=(P,y,A)=>{const K=i.getPressKitImageUrl(P,y,A);return i.cloudinary(K,null,{quality:"auto:best",version:9})},i.getPressKitImageUrl=(P,y,A)=>{const{hashString:K}=t(7),N=K(`${y.social_title+y.title+y.description+y.cover_image}`);return i.pathWithQuery(`${i.getBaseUrl(P)}/api/v1/press_kit/${y.id}.jpg`,O(f({},A),{isDraft:y.is_draft,hash:N}))},i.getThreadUrl=P=>`${i.getSubstackUrl()}/app-link/publications/${P.id}/threads`,i.getThreadDeepLinkUrl=P=>`substack://publications/${P.id}/threads`,i.isPublishPath=(P,y)=>P.startsWith("/publish"),i.getReplyToPostUrl=({pub:P,post:y})=>i.pathWithQuery(`${i.getSubstackUrl()}/api/v1/posts/reply`,{url:i.getPostUrl(P,y)}),i.parseUrl=P=>{const y=P.trim();if(/\s/.test(y))return null;try{const A=new URL(y);return["http:","https:"].includes(A.protocol)?A:null}catch(A){return null}},i.looksLikePostUrl=P=>{const y=i.parseUrl(P);return y?y.pathname.startsWith("/p/"):!1},i.getPostSlug=P=>i.looksLikePostUrl(P)?i.parseUrl(P).pathname.split("/")[2]:null,i.getSignoutUrl=({redirect:P,for_pub:y,utm_source:A}={})=>(P=P||"",i.pathWithQuery(`${i.getSubstackUrl()}/sign-out`,{redirect:P,for_pub:y,utm_source:A})),i.getPodcastOnboardingUrl=P=>`/publish/podcast/new?referrer=${P}`,i.getUrlExtension=P=>{try{const A=new URL(P).pathname.match(/\.(\w+)$/);return A?A[0]:null}catch(y){return null}},i.EMAIL_CONTENT_WIDTH=550,i.WEB_CONTENT_WIDTH=728,i.WEB_CONTENT_WIDTH_MOBILE=424,i.WEB_RESPONSIVE_IMAGE_WIDTHS=[i.WEB_CONTENT_WIDTH_MOBILE,i.WEB_CONTENT_WIDTH_MOBILE*2,i.WEB_CONTENT_WIDTH_MOBILE*3,i.WEB_CONTENT_WIDTH*2],i.LARGE_IMAGE_WIDTH=1200,i.MAX_REASONABLE_SCREEN_WIDTH=2880,i.MIN_GIF_WIDTH=320,i.MAX_GIF_WIDTH=550,i.getMediaUploadThumbnailUrl=P=>{var y;if(!!P)return`https://substack-video.s3.amazonaws.com/video_upload/post/${P.post_id}/${P.id}/transcoded-${((y=P.thumbnail_id)!=null?y:1).toString().padStart(5,"0")}.png`},i.getMediaUploadThumbnailUrlForPlayer=(P,{pub:y,isStatic:A}={})=>{var K;const{colorLuma:N,videoPlayerDimensions:Y}=t(7),{height:F,width:G}=Y(P,{isStatic:A}),X=G/F<1920/1080?"pad":"fill",q=((K=y==null?void 0:y.theme)==null?void 0:K.background_pop_color)||(y==null?void 0:y.theme_var_background_pop)||a,se=N(q)>.6?"#1a1a1a":"#ffffff";return i.cloudinary(i.getMediaUploadThumbnailUrl(P),G*2,{crop:X,height:F*2,extraSegments:A?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${q.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${se.slice(1)}`]:[]})},i.getPreviewInAppUrl=(P,y,A={})=>i.pathWithQuery(`https://substack.com/app-link/publications/${P.id}/drafts/${y}`,A),i.getLinkRedirectUrl=(P,{b36UserId:y}={})=>`${i.getSubstackUrl()}/redirect/${P}?r=${y||""}`,i.getLoginChallengeDeepUrl=P=>i.pathWithQuery("substack://sign-in/challenge",{token:P}),i.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",i.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",i.getSubstackMarketingUrl=(P={})=>i.pathWithQuery(`${i.getSubstackUrl()}/home`),i.getAppMarketingUrl=(P={})=>i.pathWithQuery(`${i.getSubstackUrl()}/app`,P),i.getAppWriterFaqUrl=(P={})=>i.pathWithQuery("https://on.substack.com/p/writerfaq",P),i.getAppStoreRedirectUrl=P=>i.pathWithQuery(`${i.getSubstackUrl()}/app/app-store-redirect`,P),i.getAppStoreUrl=P=>i.pathWithQuery(`${i.getSubstackUrl()}/app/get-ios`,P),i.getPlayStoreUrl=P=>i.pathWithQuery(`${i.getSubstackUrl()}/app/get-android`,P),i.getAndroidWaitListUrl=P=>i.pathWithQuery(`${i.getSubstackUrl()}/app/android-waitlist`,P),i.getDefaultPodcastArtUrl=({pathOnly:P=!1}={})=>{const y="/img/podcast/generic.png";return P?y:`${i.getSubstackUrl()}${y}`},i.getThreadsWebLandingPageUrl=(P,y=null)=>{let A=`${i.getSubstackUrl()}/threads/${P}`;return y&&(A+=`/posts/${y}`),A},i.getNavigationBarItemUrl=(P,y,{addBase:A}={})=>y.section?i.getSectionUrl(P,{addBase:A,section:y.section}):y.post?i.getPostUrl(P,y.post,{noBase:!A}):A&&/^\/[^/]/.test(y.link_url)?`${w(P)}${y.link_url}`:y.link_url}).call(this,t(180))},function(S,i,t){"use strict";var e=t(0),o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const l=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var s=i.a=(h,c)=>{const d=({color:p="currentColor",size:f=24,strokeWidth:O=2,children:b,...m})=>Object(e.h)("svg",{...o,width:f,height:f,stroke:p,"stroke-width":O,class:`lucide lucide-${l(h)}`,...m},[...c.map(([a,n])=>Object(e.h)(a,n)),...Object(e.toChildArray)(b)]);return d.displayName=`${h}`,d}},function(S,i,t){"use strict";t.d(i,"a",function(){return w}),t.d(i,"c",function(){return H}),t.d(i,"i",function(){return g}),t.d(i,"l",function(){return M}),t.d(i,"e",function(){return R}),t.d(i,"h",function(){return D}),t.d(i,"d",function(){return U}),t.d(i,"b",function(){return j}),t.d(i,"g",function(){return G}),t.d(i,"f",function(){return X}),t.d(i,"k",function(){return Ee}),t.d(i,"j",function(){return Ie});var e=t(7),o=t.n(e),l=t(3),s=t.n(l),h=t(163),c=t(8),d=t.n(c),p=t(30),f=t(277),O=t.n(f),b=t(14),m=t.n(b),a=Object.defineProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,v=(ge,oe,ee)=>oe in ge?a(ge,oe,{enumerable:!0,configurable:!0,writable:!0,value:ee}):ge[oe]=ee,E=(ge,oe)=>{for(var ee in oe||(oe={}))r.call(oe,ee)&&v(ge,ee,oe[ee]);if(n)for(var ee of n(oe))u.call(oe,ee)&&v(ge,ee,oe[ee]);return ge};const w=h.a,C=10,_=Object(e.randomString)(),T=typeof window!="undefined"&&window!=window.top&&Object(f.generateVisitIdHelper)(c.uuidV4);let W=null;k();function k(){var ge;typeof window!="undefined"&&((ge=window==null?void 0:window.navigator)==null?void 0:ge.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),se(),q(),$(),Object(c.windowReady)(()=>{const oe=W;W=null,oe&&oe.length>0&&x(oe)})}function $(ge){var oe,ee;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((ee=(oe=window==null?void 0:window._preloads)==null?void 0:oe.pub)==null?void 0:ee.embed_tracking_disabled))return;B(w.PAGES,Object.assign(Y(),ge));const te=P();te&&(new Image().src=`https://www.facebook.com/tr?id=${te}&ev=PageView`),F("pageview"),G("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function H({previous:ge,url:oe}){!ge||oe.includes("_no_an=true")||$()}function g(ge,oe){if(["development","test"].includes("production")&&!ge)throw new Error("`undefined` event passed to FRONTEND track call");B(ge,Object.assign({},oe))}function M(ge,oe,ee={}){g(w.PUBLICATION_VISITED,E({visited_publication_id:ge.id,visited_publication_subdomain:ge.subdomain,source:oe},ee))}function R(ge,oe,ee=1,{plan:te,isSubscription:le}={}){const Q=(ge/100).toFixed(2),z=(ge/ee/100).toFixed(2);oe=oe.toUpperCase(),D();const V=L(),ne=P();ne&&(new Image().src=`https://www.facebook.com/tr?id=${ne}&ev=Purchase&cd[value]=${Q}&cd[currency]=${oe}`),ne&&le&&(new Image().src=`https://www.facebook.com/tr?id=${ne}&ev=Subscribe&cd[value]=${Q}&cd[currency]=${oe}`),F("purchase",{value:z,currency:oe,num_items:ee});const re=Object(e.randomString)();G("transaction",{ti:re,tr:Q,cu:oe}),G("item",{ti:re,in:te&&(te.name||te.nickname||te.id)||"subscription",ip:z,iq:ee,ic:te&&te.id,cu:oe});const de="7AeECMLq68wDEKuN5pYB";X("conversion",(V==null?void 0:V.adwordsAccountId)&&(V==null?void 0:V.adwordsEventSendTo)?{send_to:`${V.adwordsAccountId}/${de}`}:{});const fe=N();if(fe){const{id:we,label:Ge}=fe;new Image().src=`//www.googleadservices.com/pagead/conversion/${we}/?value=${Q}&currency_code=${oe}&label=${Ge}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${te&&(te.name||te.nickname||te.id)||""} Subscription`),y()==="bankless"){const we=te?`paid_${te.interval}ly`:"paid";window.history.replaceState({},document.title,Object(l.updateQuery)({plan:we})),$()}}function D(){const ge=L();if(ge.properties.is_free_subscribed)return;ge.properties.is_free_subscribed=!0,G("event",{ec:"Signup",ea:"Signup Success"});const oe="Yo9oCMOM1MYDEKuN5pYB";X("conversion",(ge==null?void 0:ge.adwordsAccountId)&&(ge==null?void 0:ge.adwordsEventSendTo)?{send_to:`${ge.adwordsAccountId}/${oe}`}:{});const ee=P();ee&&(new Image().src=`https://www.facebook.com/tr?id=${ee}&ev=CompleteRegistration`),F("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),y()==="bankless"&&(window.history.replaceState({},document.title,Object(l.updateQuery)({plan:"free"})),$())}function U(ge={}){X("Publication Created",ge)}function L(){let ge;return typeof window!="undefined"&&(ge=window._analyticsConfig),ge||(ge={}),ge.properties||(ge.properties={}),ge.properties.browserSessionId=_,ge}function j(){return T}function B(ge,oe){var ee,te;if(typeof window=="undefined")return;const le={event:ge,properties:Object.assign({browserSessionId:_,iframeVisitId:T},oe),context:{client_type:"web",page:{referrer:document.referrer,title:document.title,url:document.location.href}}},Q=Object(c.base64encode)(JSON.stringify(le));W&&W.length<C?W.push(Q):new Image().src=Object(l.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:Q}),((te=(ee=window==null?void 0:window._preloads)==null?void 0:ee.user)==null?void 0:te.is_global_admin)&&console.log(`EVENT: ${ge}`,oe)}function x(ge){typeof window!="undefined"&&(new Image().src=Object(l.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:ge.join(",")}))}function P(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}function y(){var ge,oe;const ee=typeof window!="undefined"&&((ge=window._preloads)==null?void 0:ge.pub);return((oe=ee==null?void 0:ee.parent_publication)==null?void 0:oe.subdomain)||(ee==null?void 0:ee.subdomain)}function A(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function K(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id}function N(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function Y(){const ge={};if(typeof window!="undefined"){const oe=window._preloads&&window._preloads.post,ee=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);ee&&oe&&ee[1]===oe.slug&&(ge.post_id=oe.id,ge.post_audience=oe.audience,ge.post_type=oe.type)}return ge}function F(ge,oe=null){const ee=K();if(!ee)return;const te={p_id:"Twitter",p_user_id:0,txn_id:ee,events:JSON.stringify([[ge,oe]]),tw_sale_amount:(oe==null?void 0:oe.value)||0,tw_order_quantity:(oe==null?void 0:oe.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};new Image().src=`https://t.co/i/adsct?${Object(l.serializeQuery)(te)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${Object(l.serializeQuery)(te)}`}function G(ge,oe){var ee;const te=L(),le=A();if(!le)return;const Q=Object(l.parseQuery)(window.location.href);oe=Object.assign({v:1,t:ge,tid:le,cid:te.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:Q.utm_campaign,cs:Q.utm_source,cm:Q.utm_medium,ck:Q.utm_term,cc:Q.utm_content,ci:Q.utm_id},oe),((ee=te.user)==null?void 0:ee.id)&&(oe.uid=te.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${Object(l.serializeQuery)(oe)}`}function X(ge,oe){typeof window=="undefined"||!(window==null?void 0:window.gtag)||window.gtag("event",ge,oe)}function q(){var ge;if(typeof window=="undefined")return;const oe=L();!oe.localGaPixelId&&!oe.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){window.localGaDataLayer.push(arguments)},window.gtag("js",new Date),oe.localGaPixelId&&window.gtag("config",oe.localGaPixelId),oe.adwordsAccountId&&window.gtag("config",oe.adwordsAccountId),((ge=oe.user)==null?void 0:ge.id)&&window.gtag("userId",oe.user.id.toString()),ie(`https://www.googletagmanager.com/gtag/js?id=${oe.localGaPixelId}&l=localGaDataLayer`))}function se(){var ge,oe,ee;if(typeof window=="undefined")return;const te=(oe=(ge=window==null?void 0:window._preloads)==null?void 0:ge.pub)==null?void 0:oe.google_tag_manager_token;if(!te)return;window.dataLayer=window.dataLayer||[],Object(p.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const le=L();((ee=le.user)==null?void 0:ee.id)&&window.dataLayer.push({userId:le.user.id.toString()}),ie(`https://www.googletagmanager.com/gtm.js?id=${te}`,{toHead:!0})}function ie(ge,{toHead:oe}={}){Object(c.windowReady)(()=>{const ee=document.createElement("script");if(ee.async=!0,ee.src=ge,oe)document.head.appendChild(ee);else{const te=document.getElementsByTagName("script")[0];te.parentNode.insertBefore(ee,te)}})}function Ee({post:ge,hasPaywall:oe,surface:ee}){g(w.POST_SEEN,{post_id:ge.id,post_audience:ge.audience,post_type:ge.type,has_paywall:oe,post_age_minutes:ge.post_date&&m()().diff(ge.post_date,"minute"),surface:ee})}function Ie({post:ge,hasPaywall:oe,surface:ee}){g(w.POST_BOTTOM_SEEN,{post_id:ge.id,post_audience:ge.audience,post_type:ge.type,has_paywall:oe,surface:ee})}},function(S,i,t){var e,o;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var l={}.hasOwnProperty;function s(){for(var h=[],c=0;c<arguments.length;c++){var d=arguments[c];if(!!d){var p=typeof d;if(p==="string"||p==="number")h.push(d);else if(Array.isArray(d)){if(d.length){var f=s.apply(null,d);f&&h.push(f)}}else if(p==="object")if(d.toString===Object.prototype.toString)for(var O in d)l.call(d,O)&&d[O]&&h.push(O);else h.push(d.toString())}}return h.join(" ")}S.exports?(s.default=s,S.exports=s):(e=[],o=function(){return s}.apply(i,e),o!==void 0&&(S.exports=o))})()},function(S,i,t){var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(g,M,R)=>M in g?e(g,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):g[M]=R,p=(g,M)=>{for(var R in M||(M={}))h.call(M,R)&&d(g,R,M[R]);if(s)for(var R of s(M))c.call(M,R)&&d(g,R,M[R]);return g},f=(g,M)=>o(g,l(M));const{CDN_URL:O,cloudinary:b,uncloudinary:m}=t(3),a=t(404),{Substitutions:n}=t(28),{exposeExperiment:r}=t(52),u="\u2026",v=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],E=["CA","AU","HK","NZ"];i.MAX_PODCAST_FILE_SIZE=350*1024*1024,i.MAX_MEDIA_FILE_SIZE=20*1024*1024*1024,i.MAX_MEDIA_UPLOAD_CHUNK_SIZE=50*1024*1024,i.MAX_FILE_SIZE=700*1024*1024,i.GRACE_PERIOD_DAYS=16,i.CONFIRMATION_NEEDED_GRACE_PERIOD_DAYS=1,i.MANUAL_BILLING_DAYS_UNTIL_DUE=45,i.STRIPE_DAYS_UNTIL_DUE=30,i.GRACE_PERIOD_COUPON_TRIAL_DAYS=0,i.DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT=1e3,i.DEFAULT_PREVIEW_LIMIT=356,i.MIN_MONTH_GAP_BETWEEN_PAUSES=6,i.TRANSPARENT_IMAGE_URL="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i.MISSING_IMAGE_URL="/img/missing-image.png",i.CONTENT_MODERATION_REASONS=["","illegal","phishing","piracy","porn","spam"].sort(),i.FLAGGED_AS_SPAM_REASONS=[...i.CONTENT_MODERATION_REASONS,"hate","impersonation","plagiarism"].sort(),i.SPECIAL_SUBDOMAINS=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],i.SECURITY_QUESTIONS=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],i.AUDIENCE_ADJECTIVES={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},i.TERSE_AUDIENCE_ADJECTIVES={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},i.HOMEPAGE_TYPE_CHANGE_CUTOFF=new Date("2020-01-16"),i.GIFT_LENGTH_MONTHS=1,i.PODCAST_CATEGORIES={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},i.COMMUNITY_PICKS_CATEGORY_NAME="writer favorites",i.TASTEMAKER_CATEGORY_NAME="featured recommenders",i.OLD_PODCAST_CATEGORIES={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},i.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],i.STRIPE_TAX_ID_TYPES=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"},{name:"unknown",description:"Unknown/Other"}],i.DEFAULT_THEME_COLORS=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],i.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES=["IN"],i.WEEK_IN_SECONDS=60*60*24*7,i.twitterScreenNames={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"},i.AppError=class extends Error{constructor(M,{status:R=500,userVisible:D=!1,messageHtml:U=null,responseBody:L=null}={}){super(M);this.name=this.constructor.name,this.status=R,this.userVisible=!!L||D||!1,this.messageHtml=U,this.response={body:L||(this.userVisible?U?{errors:[{msg:M,msgHTML:U}]}:{error:M}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},i.getByLine=g=>{var M,R;if(g.subdomain==="popularinformation")return"Judd Legum";if(g.subdomain==="whyisthisinteresting")return"Noah & Colin";if(g.subdomain==="informant")return"Nick Martin";if(g.subdomain==="petition"||g.subdomain==="russiandissent"||(g.parent_publication||g).subdomain==="thedispatch"||((M=g.contributors)==null?void 0:M.length)>1)return null;const D=g.name||g.subdomain,U=[g.author_name,g.email_from_name,(R=g==null?void 0:g.author)==null?void 0:R.name];for(let L of U)if(L&&(L=L.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),L&&!L.startsWith(D)&&!D.startsWith(L)&&!L.endsWith(D)&&!D.endsWith(L)))return L;return null},i.getSubscribeText=(g,{now:M=!1,isFreeSubscribed:R=!1,isMobile:D=!1,signupForFreeVariant:U=null}={})=>{var L;let j;const B=i.pubsWithCustomSubscriptionWords.includes(g.subdomain)||i.pubsWithCustomSubscriptionWords.includes((L=g==null?void 0:g.parent_publication)==null?void 0:L.subdomain);return U!==null&&!R&&!D&&!g.plans&&!B?(j=U==="for_free"?"Subscribe for free":U==="for_zero"?"Subscribe for $0":"Subscribe",r("menu_signup_for_free")):j=R&&g.plans?i.toSentenceCase(i.getSubscriptionWord(g,D?"upgrade":"upgradeToPaid")):i.toSentenceCase(i.getSubscriptionWord(g,"subscribe")),I(j)+(M?I(" now"):"")},i.getPostEmbedMeta=({date:g,bylines:M,like_count:R,comment_count:D})=>{const U=t(14),L=[];return L.push(U(g).fromNow()),R&&L.push(i.pluralize(R,"like")),D&&L.push(i.pluralize(D,"comment")),M&&M.length&&L.push(i.formatArray(M.map(j=>j.name))),L.join(" \xB7 ")},i.hidePaidPostsFor=["astralcodexten"],i.shouldUseInlineComments=(g,M)=>g.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(g==null?void 0:g.subdomain)||(M==null?void 0:M.type)==="video");const w=(g="")=>g.toUpperCase().replace(/^(THE|A|AN)\s+/,"");i.sortSubscriptions=g=>g.sort((M,R)=>{var D,U;if(!M)return 1;if(!R||M.membership_state==="subscribed"&&R.membership_state!=="subscribed")return-1;if(R.membership_state==="subscribed"&&M.membership_state!=="subscribed")return 1;const L=w((D=M.publication)==null?void 0:D.name),j=w((U=R.publication)==null?void 0:U.name);return L<j?-1:L>j?1:0}),i.subscriptionTypeText=g=>{if(g.expiry&&new Date(g.expiry)>new Date)switch(g.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!g.email_disabled||g.email_settings&&Object.values(g.email_settings||{}).some(M=>M==="individual")?"Free Subscriber":g.digest_enabled||g.email_settings&&Object.values(g.email_settings||{}).some(M=>M==="digest")?"Follows in Digests":"Emails Disabled"},i.canReplyToPost=({post:g,user:M})=>!!(g&&M&&M.has_publication&&!M.is_admin&&!M.is_contributor&&g.slug!=="coming-soon"),i.NO_REPLY_EMAIL="no-reply@substack.com",i.cloudinary=b,i.uncloudinary=m,i.cdnSvg=g=>!g||!g.startsWith("/")||g.startsWith("//")||!/\.svg(\?|#|$)/.test(g)?g:`${O}/${g}`,i.isHostedBySubstack=g=>!!(g&&(g.startsWith(O)||g.startsWith("https://res.cloudinary.com")||g.startsWith("https://bucketeer"))),i.isHostedByUnsplash=g=>g?g.startsWith("https://images.unsplash.com/"):!1,i.truncateToValidBytes=g=>{for(;;)try{return encodeURIComponent(g),g}catch(M){g=g.substring(0,g.length-1)}},i.truncateText=(g,M,{words:R=null,ellipsis:D=u,extension:U=null}={})=>{if(!g)return g;let L=!1;if(R){const j=new RegExp(`^(\\w+\\W+){${R-1}}\\w+`).exec(g);j&&(L=!0,g=j[0])}return M&&g.length>M&&(L=!0,g=g.substring(0,M-D.length)),L&&(g=i.truncateToValidBytes(g),g+=D,U&&(g+=U)),g},i.truncateWords=(g,M,{ellipsis:R=u}={})=>{if(g&&g.length>M){const D=g.split(/\s+/),U=[];let L=0;for(;L<=M;){const j=D.shift();if(!j||L+j.length>M)break;U.push(j),L+=j.length+1}return i.formatEllipsis(U.join(" "),R)}return g};const C=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;i.formatEllipsis=(g,M=u)=>`${g.replace(C,"")}${M}`,i.endsWithPunctuation=g=>/[!.?](?:\s+)?$/.test(g);const _=new Set([" ","-"]);i.simpleBalanceText=(g,{maxCharsPerLine:M=55,maxLines:R=2,preferWide:D=!1}={})=>{if(g.length<=M)return[g];const U=M*R;if(g.length>U){let P=U;for(;P>=0&&g.charAt(P)!==" ";)P--;g=i.formatEllipsis(g.slice(0,P))}const L=D?M:Math.floor(g.length/R);let j=-1,B=0;const x=[];for(;B+L<g.length-1;){for(B=B+L;B<g.length-1&&!_.has(g.charAt(B));)B++;const P=g.charAt(B)==="-";x.push(g.slice(j+1,P?B+1:B)),j=B}return B<g.length-1&&x.push(g.slice(j+1)),x};const T=g=>/[A-Z]/.test(g),W=g=>/[\s-]/.test(g);i.stringCost=(g,M)=>{let R=0;for(let D=0;D<g.length;D+=1){const U=g[D];T(U)?R+=M:R+=1}return R},i.longestSetOfWordsBelowCost=(g,M,R)=>{const D=[];let U=0,L=!1;for(let x=0;x<g.length;x+=1){const P=g[x];if(W(P)){L=!0;continue}else L&&(D.push(g.slice(U,x)),U=x,L=!1)}if(U<g.length&&D.push(g.slice(U)),!D.length)return"";const j=[D[0]];let B=i.stringCost(D[0],M);for(const x of D.slice(1))if(B+=i.stringCost(x,M),B<=R)j.push(x);else break;return j.join("")},i.balanceTextWithCharacterWidths=(g,{maxCostPerLine:M=55,maxLines:R=2,capitalCost:D=1.2}={})=>{const U=g;if(i.stringCost(g)<=M)return[g];const j=[];for(let B=0;B<R;B+=1){const x=i.longestSetOfWordsBelowCost(g,D,M);if(x)j.push(x),g=g.slice(x.length);else break}return j.reduce((B,x)=>B+x.length,0)<U.length&&(j[j.length-1]=i.formatEllipsis(j[j.length-1].slice(0,j[j.length-1].length-1))),j},i.pubCurrency=g=>{var M,R;return((R=(M=g.draft_plans)==null?void 0:M[0])==null?void 0:R.currency)||"usd"},i.isZeroDecimalCurrency=g=>["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(g.toUpperCase()),i.pubUsesZeroDecimalCurrency=g=>{const M=i.pubCurrency(g);return i.isZeroDecimalCurrency(M)},i.currencySymbol=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:g,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim(),i.satoshiToBitcoin=g=>g/1e8,i.centsToPriceString=(g,M,{forceDecimals:R=!1}={})=>{let U=new Intl.NumberFormat("en-US",{style:"currency",currency:M,minimumFractionDigits:R||g%100?2:0,maximumFractionDigits:M==="btc"?8:2}).format(M==="btc"?i.satoshiToBitcoin(g):g/100);return M==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&E.includes(window._preloads.country)&&(U=`US${U}`),U},i.centsToDollarString=g=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(g/100),i.dollarFormatter=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),i.dollarStringToCents=g=>{if(!g)return null;if(typeof g!="string")throw new Error("Bad type for dollar string");const M=g.replace(/[^0-9.]/g,"");return M?Math.round(Number(M)*100):null},i.getInitalPayment=(g,{quantity:M=1,coupon:R=null,noTrial:D=!1,trial_end_override:U=null}={})=>{if(!D&&(g.trial_period_days||R&&R.trial_period_days||U&&U>Date.now()/1e3+120))return 0;let L=g.amount*M;return R&&R.percent_off?L=Math.round(L*(1-(R.percent_off_precise||R.percent_off)/100)):R&&R.amount_off&&(L=Math.max(0,L-R.amount_off)),L},i.getGiftValueText=(g,{interval:M="month",interval_count:R=i.GIFT_LENGTH_MONTHS,multiplier:D=1,min:U=0}={})=>{let L,j,B;for(const A of g){if(!B)B=A.currency;else if(B!=A.currency)continue;A.interval=="month"?(!L||A.amount<L)&&(L=A.amount):A.interval=="year"&&(!j||A.amount<j)&&(j=A.amount)}let x=L;if(!x&&j&&(x=j/12),!x)return null;let P;switch(M){case"month":P=x;break;case"day":P=x/30;break;case"year":P=j||x*12;break;default:throw new Error(`bad interval: ${M}`)}let y=P*R*D;return y<U?null:(y=Math.floor(y/100)*100,i.centsToPriceString(y,B))},i.planBasePricing=(g,{amount:M,interval:R}={})=>{let D=i.centsToPriceString(M??g.amount,g.currency);return g.interval!=="forever"&&(g.interval_count===1?D+=`/${I(R||g.interval)}`:D+=I(`/${g.interval_count==3?"three ":""}${i.pluralize(g.interval_count,g.interval,{just_word:g.interval_count==3})}`)),D},i.secondsToLargestUnit=(g,{secondsCutoff:M,minutesCutoff:R,hoursCutoff:D,daysCutoff:U,weeksCutoff:L,long:j,noNumber:B,noWord:x,lessThanMinute:P}={})=>{let y,A,K;return g=Math.round(g),g<(M||60)?(y=g,A=j?"second":"sec"):g<(R||60*60)?(y=g/60,A=j?"minute":"min",P&&(K=!0)):g<(D||60*60*24)?(y=g/60/60,A=j?"hour":"hr"):g<(U||60*60*24*7)?(y=g/60/60/24,A="day"):g<(L||60*60*24*365.25)?(y=g/60/60/24/7,A=j?"week":"wk"):(y=g/60/60/24/365.25,A=j?"year":"yr"),y=Math.round(y),[K&&"<",!B&&(x?y:y.toFixed(0)),!x&&(j?i.pluralize(y,A,{just_word:!0}):A)].filter(Boolean).join(" ")},i.secondsToHHMMSS=g=>{const M=Math.floor(g/60/60),R=Math.floor(g/60)%60,D=Math.floor(g%60);return`${(M?`${M}:`:"")+(M?`0${R}`.slice(-2):R)}:${`0${D}`.slice(-2)}`},i.validateHex=g=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(g),i.normalizeHex=g=>(g[0]!=="#"&&(g=`#${g}`),g=g.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(M,R,D,U)=>R+R+D+D+U+U),g),i.hexToHSV=g=>{g=i.normalizeHex(g);function M(K,N){typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1&&(K="100%");const Y=typeof K=="string"&&K.indexOf("%")!=-1;return K=Math.min(N,Math.max(0,parseFloat(K))),Y&&(K=parseInt(K*N,10)/100),Math.abs(K-N)<1e-6?1:K%N/parseFloat(N)}const R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);let D=parseInt(R[1],16),U=parseInt(R[2],16),L=parseInt(R[3],16);D=M(D,255),U=M(U,255),L=M(L,255);const j=Math.max(D,U,L),B=Math.min(D,U,L);let x;const P=j,y=j-B,A=j===0?0:y/j;if(j==B)x=0;else{switch(j){case D:x=(U-L)/y+(U<L?6:0);break;case U:x=(L-D)/y+2;break;case L:x=(D-U)/y+4;break}x/=6}return{h:x,s:A,v:P}},i.hexToRgb=g=>{const M=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i.normalizeHex(g));return M?{r:parseInt(M[1],16),g:parseInt(M[2],16),b:parseInt(M[3],16)}:null},i.rgbToHex=({r:g,g:M,b:R})=>`#${g.toString(16).padStart(2,"0")}${M.toString(16).padStart(2,"0")}${R.toString(16).padStart(2,"0")}`,i.validateColor=g=>{const M=i.hexToHSV(g);if(M.h>.11&&M.h<.56)if(M.s>.25&&M.v>.5){if(M.s<.6&&M.v>.8)return!0;if(M.s>.6)return!0}else return!1;else return M.s>.25&&M.v>.5},i.colorLightness=(g,M)=>{const R=i.hexToRgb(g);return R?(R.r=Math.max(0,Math.min(255,Math.round(R.r*M))),R.g=Math.max(0,Math.min(255,Math.round(R.g*M))),R.b=Math.max(0,Math.min(255,Math.round(R.b*M))),i.rgbToHex(R)):g},i.colorLuma=g=>{let{r:M,g:R,b:D}=i.hexToRgb(g);return M=M/255,R=R/255,D=D/255,M=M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4),R=R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4),D=D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4),.2126*M+.7152*R+.0722*D},i.truncAndFormatArray=(g,M,{name:R=B=>B,restWord:D="other",noNames:U="people",pluralizeRest:L=!0,showRestCount:j=!0}={})=>{const B=g.map(R).filter(Boolean).slice(0,M);if(B.length===0)B.push(i.pluralize(g.length,U));else if(B.length<g.length){const x=g.length-B.length;B.push(`${j?x:""} ${D}${x>1&&L?"s":""}`)}return i.formatArray(B)},i.formatArray=g=>{let M="";return g.length===1?M=g[0]:g.length===2?M=g.join(" and "):g.length>2&&(M=`${g.slice(0,-1).join(", ")}, and ${g.slice(-1)}`),M},i.truncateNumber=(g,{minSignificantDigits:M=1}={})=>{if(g<1e3)return g;let R;Math.round(g/1e3)<1e3?(g/=1e3,R="k"):Math.round(g/1e6)<1e3?(g/=1e6,R="m"):Math.round(g/1e9)<1e3?(g/=1e9,R="b"):(g/=1e12,R="t");const D=Math.max(M-1-Math.floor(Math.log10(g)),0);return g=Math.round(g*Math.pow(10,D))/Math.pow(10,D),`${g}${R}`},i.baschezToCategory=g=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(g,1))/Math.LN10+1e-9))-1),i.baschezScoreToEmojis=g=>"\u{1F525}".repeat(i.baschezToCategory(g)),i.joinLines=(g,M,R)=>{const D=(g||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(L=>L.trim()).filter(L=>L),U=[];for(;D.length>0;){const L=D.shift(),j=U[U.length-1];j&&j.length<R?U[U.length-1]+=M+L:U.push(L)}return U.join(`
`)},i.randomString=()=>Math.random().toString(36).replace(/^0\./,""),i.toTitleCase=function(g){return g.trim().split(/\s+/).filter(Boolean).map(M=>M[0].toUpperCase()+M.substr(1).toLowerCase()).join(" ")},i.toSentenceCase=function(g){return g[0].toUpperCase()+g.substr(1)},i.numberToOrdinal=g=>{const M=["th","st","nd","rd"],R=g%100;return g+(M[(R-20)%10]||M[R]||M[0])},i.numberToString=function(g,M=0){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:M}).format(g)},i.numberToOrderOfMagnitude=g=>Math.pow(10,Math.floor(Math.log10(g)))||0,i.numberToOrderOfMagnitudeString=g=>g<100?"tens":g<1e3?"hundreds":g<1e4?"thousands":g<1e5?"tens of thousands":g<1e6?"hundreds of thousands":g<1e7?"millions":g<1e8?"tens of millions":g<1e9?"hundreds of millions":g<1e10?"billions":g<1e11?"tens of billions":g<1e12?"hundreds of billions":g<1e13?"trillions":g<1e14?"tens of trillions":g<1e15?"hundreds of trillions":"gagillions",i.numberToOrderOfMagnitudeShortString=g=>g<100?"10+":g<1e3?"100+":g<1e4?"1K+":g<1e5?"10K+":g<1e6?"100K+":g<1e7?"1M+":g<1e8?"10M+":g<1e9?"100M+":g<1e10?"1B+":g<1e11?"10B+":g<1e12?"100B+":g<1e13?"1T+":g<1e14?"10T+":g<1e15?"100T+":"gagillions",i.numberToRoughRankingString=function(g){return g<=10?`#${g}`:g<=25?"Top 25":g<=50?"Top 50":g<=100?"Top 100":""},i.formatPercentForDisplay=g=>g<1?"< 1%":`${g}%`,i.decimalToPercent=(g,{rounded:M=!1,display:R=!1,decimalPlaces:D=-1}={})=>{let U=parseFloat(g)*100;return D>=0&&(U=U.toFixed(D)),M&&(U=Math.floor(U)),R&&(U=i.formatPercentForDisplay(U)),U},i.getScheduledAt=function(g){var M;if(((M=g==null?void 0:g.postSchedules)==null?void 0:M.length)&&g.postSchedules[0].trigger_at)return new Date(g.postSchedules[0].trigger_at);if(!(!g||!g.scheduled_at||g.email_sent_at&&g.should_send_email))return new Date(Math.max(+new Date(g.scheduled_at),Date.now()))},i.spellOutNumber=function(g){return g===0?"zero":g===1?"one":g===2?"two":g===3?"three":g===4?"four":g===5?"five":g===6?"six":g===7?"seven":g===8?"eight":g===9?"nine":g===10?"ten":g===11?"eleven":g===12?"twelve":i.numberToString(g)},i.pluralize=(g,M,{zero_fallback:R,just_word:D}={})=>{let U,L;const j=M.lastIndexOf(" ")+1,B=M.substr(j),x=M.substr(0,j);return["person","people"].includes(B)?(U=`${x}person`,L=`${x}people`):["reply","replies"].includes(B)?(U=`${x}reply`,L=`${x}replies`):["entry","entries"].includes(B)?(U=`${x}entry`,L=`${x}entries`):["match","matches"].includes(B)?(U=`${x}match`,L=`${x}matches`):(U=M,L=`${M}s`),D||(U=`${i.numberToString(g)} ${U}`,L=`${i.numberToString(g)} ${L}`),!g&&R?R:g==1?U:L},i.possessive=g=>`${g}\u2019${g[g.length-1]==="s"?"":"s"}`,i.escapeNewlines=g=>g.replace(/\n/g,"\\n"),i.objectMap=(g,M,R)=>{const D={};for(const U in g)D[U]=M.call(R,g[U],U,g);return D},i.deep_equals=(g,M)=>{if(isNaN(g))return isNaN(M);if(g===null)return M===null;switch(typeof object){case"undefined":case"boolean":case"number":case"string":return g===M}const R=Object.keys(g).sort(),D=Object.keys(M).sort();if(R.length!==D.length)return!1;for(let U=0;U<R.length;U+=1){const L=R[U];if(L!==D[U]||!i.deep_equals(g[L],M[L]))return!1}return!0},i.toMap=(g,M="id")=>{const R={};for(const D of g)typeof M=="function"?R[M(D)]=D:R[D[M]]=D;return R},i.splitArray=(g,M)=>{const R=[],D=[];for(const U of g)M(U)?R.push(U):D.push(U);return[R,D]},i.flat=(g,M=1)=>{const R=[];function D(U,L){for(const j of U)Array.isArray(j)&&L>0?D(j,L-1):R.push(j)}return D(g,M),R},i.group_by=(g,M,R)=>{if(typeof M=="string"){const D=M.split(".");M=U=>D.reduce((L,j)=>L[j],U)}return[].reduce.call(g,(D,U,L)=>{const j=M.call(R,U,L,g),B=D.get(j);return B?B.push(U):D.set(j,[U]),D},new Map)},i.commentsEnabledForPost=({publication:g,post:M})=>["adhoc_email","page"].includes(M==null?void 0:M.type)?!1:g.community_enabled&&M&&M.write_comment_permissions!=="none",i.showCommentsOnPost=({publication:g,post:M})=>(M==null?void 0:M.type)==="adhoc_email"||(M==null?void 0:M.slug)==="coming-soon"?!1:M&&M.comment_count>0||i.commentsEnabledForPost({publication:g,post:M}),i.canSeeCommenterEmails=g=>g&&g.is_contributor,i.canSeeComments=(g,M,{bypassContentAccessCheck:R=!1}={})=>{const{userHasFullAccessToPost:D}=t(53);return g&&M.publishedBylines&&M.publishedBylines.find(U=>U.id===g.id)?!0:new Date(M.post_date)<new Date("2018-11-08T19:00:00.000Z")?g&&(g.is_subscribed||g.is_contributor):R||D(g,M)},i.areCommentsLocked=g=>g.type==="thread"&&g.write_comment_permissions==="none",i.canPostComments=(g,M,R)=>{if(g&&M.publishedBylines&&M.publishedBylines.find(D=>D.id===g.id))return!0;if(g&&g.is_contributor)return!0;switch(M.write_comment_permissions||R.default_write_comment_permissions){case"everyone":return!0;case"none":return!1;case"only_paid":return g&&g.is_subscribed}return!1},i.couldPostCommentsIfSubscribed=(g,M,R)=>i.canPostComments(f(p({},g),{is_subscribed:!0}),M,R),i.canEditComment=(g,M)=>g&&g.id===M.user_id,i.canDeleteComment=(g,M)=>g.is_contributor||g.id===M.user_id,i.defaultAudienceForPub=(g,{type:M,coupon:R}={})=>!g.plans||M==="page"?"everyone":R?"only_free":"only_paid",i.validCommentLevels=(g,M,R)=>{if(M==="thread")switch(g){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(g){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return R?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}},i.isValidCommentLevel=(g,M,R,D)=>i.validCommentLevels(M,R,D).includes(g),i.defaultCommentLevelForPub=(g,M,R,D)=>i.isValidCommentLevel(R.default_write_comment_permissions,g,M,D)?R.default_write_comment_permissions:i.validCommentLevels(g,M,D)[0],i.defaultSendEmailForPub=(g,M,R)=>M==="page"?!1:R==="only_free"?!0:Boolean(g.default_post_publish_send_email),i.getTrialEndOverride=(g,M,R)=>M&&M.interval==="forever"?0:Math.max(0,...[g.trial_end_override>Date.now()/1e3?g.trial_end_override:0,M&&M.trial_period_days&&Math.round((Date.now()+M.trial_period_days*24*60*60*1e3)/1e3),R&&R.trial_period_days&&Math.round((Date.now()+R.trial_period_days*24*60*60*1e3)/1e3)].filter(D=>D)),i.guessFirstName=function(g,{prependSpace:M=!1}={}){return g?(M?" ":"")+g.trim().split(/\s+/g)[0]:""},i.guessLastName=function(g){return g?g.trim().split(/\s+/g).slice(1).slice(-1)[0]:""},i.get_month_name=g=>i.MONTH_NAMES[new Date(g).getMonth()],i.oxfordComma=(g,{noBreakSpace:M}={})=>{const R=M?"\xA0":" ";let D=[];if(g.length==1)D=[g[0]];else if(g.length==2)D=[g[0],`${R}and${R}`,g[1]];else if(g.length>=3)for(let U=0;U<g.length;U++)D.push(g[U]),U<g.length-2?D.push(`,${R}`):U===g.length-2&&D.push(`,${R}and${R}`);return D.toString=()=>D.join(""),D},i.mode=g=>{const M=new Map;for(const R of g){let D=M.get(R);D=(D||0)+1,M.set(R,D)}return Array.from(M).sort((R,D)=>D[1]-R[1])[0][0]},i.getPostCtaText=g=>g.type==="thread"?"View thread":g.type==="podcast"?"Listen":"Read",i.getPostCtaPresentParticiple=(g,{isFinalWord:M}={})=>g==="podcast"?`listening${M?"":" to"}`:g==="video"?"watching":"reading",i.getPrintedPostType=g=>g==="newsletter"?"post":g==="podcast"?"episode":g==="adhoc_email"?"email":g,i.getRestackEmailSubject=g=>`${i.truncateText(g.title||"Untitled post",115)}`,i.shouldHidePostFromArchive=g=>g.publication_id===10475&&g.section_id===18994,i.getBylineUsers=(g,{isDraft:M=!1}={})=>g?((M?g.draftBylines:g.publishedBylines)||[]).filter(D=>D.name):[],i.getPrintedByline=(g,M,{isDraft:R=!1}={})=>{const D=i.getBylineUsers(M,{isDraft:R});return D.length>0?i.formatArray(D.map(U=>U.name)):(g.parent_publication||g).subdomain==="thedispatch"?"The Dispatch Staff":null},i.isUUID=g=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(g),i.toMillis=g=>typeof g=="string"?a(g)||0:typeof g=="number"?g:0,i.transformDocumentLink=g=>{const M=R=>new RegExp(`^.*${R}`);if(g){if(g.includes(n.CHECKOUT_URL))return g.replace(M(n.CHECKOUT_URL),"/subscribe?");if(g.includes(n.FOUNDING_CHECKOUT_URL))return g.replace(M(n.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(g.includes(n.REFERRAL_URL))return g.replace(M(n.REFERRAL_URL),"/?showWelcome=true");if(g.includes(n.UNSUBSCRIBE_URL))return g.replace(M(n.UNSUBSCRIBE_URL),"/account?");if(g.includes(n.ONE_CLICK_UNSUBSCRIBE_URL))return g.replace(M(n.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(g))return null}else return g;return g},i.handleDocumentLinkClick=g=>{if(g=i.transformDocumentLink(g),g){const M=window.open(g,"_blank");M.focus&&M.focus()}},i.isNotMainEntry=g=>{if(!g)return!0;const M=document.location&&document.location.pathname||"";return["publish","account"].includes(M.split("/")[1])},i.formatBytes=(g,M=2)=>{if(g===0)return"0 Bytes";const R=1024,D=M<0?0:M,U=Math.floor(Math.log(g)/Math.log(R));return`${parseFloat((g/Math.pow(R,U)).toFixed(D))} ${v[U]}`},i.formattedBytesToNumber=(g="")=>{if(!g)return 0;const[M,R]=g.split(" "),D=v.indexOf(R);return D<0?0:M*Math.pow(1024,D)},i.isSearchEngineCrawlerQuick=g=>/Googlebot/i.test(g||"")?"Google":/bingbot/i.test(g||"")||/BingPreview/i.test(g||"")?"Bing":/Slurp/i.test(g||"")?"Yahoo":/DuckDuckBot/i.test(g||"")?"DDG":/Baiduspider/i.test(g||"")?"Baidu":!1,i.anonymousName=(g,M,R,D)=>g.name?g.name:(R.author_id===D.id||M&&M.publishedBylines&&M.publishedBylines.find(U=>U.id===D.id))&&g.email||"Someone",i.postSocialDescription=(g,M)=>g&&g.description||M.hero_text||`Get ${M.name} in your inbox`,i.SUBSCRIPTION_WORDS=[{pubs:["thebulwark","thedispatch"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}];const k={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"};i.pubsWithCustomSubscriptionWords=i.SUBSCRIPTION_WORDS.flatMap(g=>g.pubs),i.getSubscriptionWord=(g,M)=>{const R=i.SUBSCRIPTION_WORDS.find(U=>{var L;return U.pubs.includes(((L=g==null?void 0:g.parent_publication)==null?void 0:L.subdomain)||(g==null?void 0:g.subdomain))});let D=R&&R[M];if(!D&&(D=k[M],!D))throw new Error(`${M} is not a valid subscription word`);return D},i.getSuperscriptNumberString=g=>{const M={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${g}`).map(R=>M[R]))},i.foundingMemberDescription=g=>{var M,R;return(R=(M=g==null?void 0:g.plans)==null?void 0:M.find(D=>{var U;return(U=D.metadata)==null?void 0:U.founding}))==null?void 0:R.metadata.short_description},i.getOpennodePaymentUrl=g=>`https://checkout.opennode.com/${g}`,i.numberToHumanFileSize=(g=0)=>{const M=g===0?0:Math.floor(Math.log(g)/Math.log(1024));return`${+(g/Math.pow(1024,M)).toPrecision(3)}${["B","KB","MB","GB","TB"][M]}`},i.getReadableAttribution=g=>{if(!g)return null;const M="Substack Network",R={"blog.substack.com":M,"library.substack.com":M,"on.substack.com":M,"post-end-cta":"Post Footer CTA","stories.substack.com":M,"substack-app":M,"substack-boost":M,"substack-categories-discovery":M,"substack-categories-discovery-search":M,"substack-comment-links":M,"substack-onboarding-discovery":M,"substack-post-embeds":M,"substack-post-reply-comment":M,"substack-publication-embeds":M,"substack-reader-discovery":M,"substack-reader-profile-discovery":M,"substack-reader-shared":"Reader sharing","substack-recommendation-email":M,"substack-referral":M,"substack-signup-flow":M,"substack-twitter-link":M,"substack-twitter-suggest":M,"substack-xp-post-template":M,"substack-xp-read-next":M,"substack.com":M,"t.co":"Twitter","www.substack.com":M,external:"external form / api","googleads.g.doubleclick.net":"Google"}[g];return R||(/(\b|\.)facebook\./.test(g)?"Facebook":/(\b|\.)instagram\./.test(g)?"Instagram":/(\b|\.)linkedin\./.test(g)?"LinkedIn":/(\b|\.)youtube\./.test(g)?"YouTube":/(\b|\.)duckduckgo\./.test(g)?"DuckDuckGo":/(\b|\.)medium\./.test(g)?"Medium":/(\b|\.)reddit\./.test(g)?"Reddit":/(\b|\.)bing\./.test(g)?"Bing":/(\b|\.)google\./.test(g)?"Google":(g==null?void 0:g.includes("."))?g:i.toTitleCase(g.replace(/-/g," ")))},i.isProbablyEmail=g=>/^\S+@\S+\.\S+$/.test(g),i.sanitizeInlineText=g=>(g||"").replace(/\s+/g," "),i.PUBLICATION_TIER_DESCRIPTIONS={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}},i.paymentPeriodToPlan=g=>g?g<40*24*60*60?"monthly":g<94*24*60*60?"quarterly":g<186*24*60*60?"semiannual":g<400*24*60*60?"annual":g>45*24*60*60?"lifetime":"other":"free",i.isPinnable=g=>g&&(g.homepage_type==="newspaper"||g.homepage_type==="magaziney"),i.MAX_BYLINES=35,i.videoPlayerDimensions=(g,{isStatic:M}={})=>{let R,D;return g.width>=g.height*(960/540)?(R=M?550:960,D=Math.round(R*(g.height/g.width))):g.width>=g.height?(R=M?550:728,D=Math.round(R*(g.height/g.width))):R=D=M?550:728,{height:D,width:R}},i.setDateToMidnightPST=g=>{const M=t(14),R=M(g);return M.utc([R.year(),R.month(),R.date(),8,0,0]).toDate()},i.getNext5HoursAfterMidnight=({now:g}={})=>{const M=t(14);g||(g=M());let R=g.utc().startOf("day").add(5,"hour");return R.isBefore(g)&&(R=R.utc().add(1,"day")),R},i.formatPodcastDuration=g=>{const M=Math.round(g/60),R=Math.floor(M/60),D=M%60;return`${R?`${R}HR `:""}${D}M`};function $(g){const M=g.toLowerCase()[0];return["a","e","i","o","u"].includes(M)}function H(g){return $(g)?"an":"a"}i.getWithIndefiniteArticle=g=>`${H(g)} ${g}`,i.hashString=g=>g.split("").reduce((M,R)=>(M<<5)-M+R.charCodeAt(0)|0,0),i.kFormatter=g=>Math.abs(g)>9999?`${Math.sign(g)*(Math.abs(g)/1e3).toFixed(1)}K`:(Math.sign(g)*Math.abs(g)).toString(),i.getReaderRecommendationEmailSubject=({recommendedPubs:g})=>{let M=null;return g.map(R=>{R.recommendations.map(D=>{D.hasOwnProperty("blurb")&&D.blurb&&(M=`${D.name} recommended ${R.name}`)})}),M??"Recommendations from your Substacks"}},function(S,i,t){var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(j,B,x)=>B in j?e(j,B,{enumerable:!0,configurable:!0,writable:!0,value:x}):j[B]=x,p=(j,B)=>{for(var x in B||(B={}))h.call(B,x)&&d(j,x,B[x]);if(s)for(var x of s(B))c.call(B,x)&&d(j,x,B[x]);return j},f=(j,B)=>o(j,l(B)),O=(j,B,x)=>new Promise((P,y)=>{var A=Y=>{try{N(x.next(Y))}catch(F){y(F)}},K=Y=>{try{N(x.throw(Y))}catch(F){y(F)}},N=Y=>Y.done?P(Y.value):Promise.resolve(Y.value).then(A,K);N((x=x.apply(j,B)).next())});const{h:b}=t(0),{route:m}=t(34),a=t(438),{getQueryItem:n,pathWithQuery:r,parseQuery:u,getGlobalAccountSettingsUrl:v,getPubAccountSettingsUrl:E,getCurrentUrlForLoginRedirect:w,getBaseUrl:C}=t(3),{centsToPriceString:_,toTitleCase:T,pluralize:W,cloudinary:k}=t(7),$=t(445),{isMobileUserAgent:H,getIosVersion:g}=t(117),M=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"],R=["pinespodcast","test1"];let D=typeof window=="undefined"||!window.addEventListener;D||window.addEventListener("load",()=>{D=!0},!1),typeof window!="undefined"&&window._preloads,i.globalPlaybackNotifier=typeof window!="undefined"?new $:null,i.getPodcastEpisodeImageUrl=(j,B)=>(B==null?void 0:B.cover_image)||(B==null?void 0:B.podcast_art_url)||(j==null?void 0:j.podcast_art_url),i.windowReady=j=>{D?j():window.addEventListener("load",j,!1)},i.debounce=function(j,B,x=this){let P=null;return function(){clearTimeout(P),P=setTimeout(()=>j.apply(x,arguments),B)}},i.planToString=function(j,{totalAmount:B=null,discount:x=null,quantity:P=1,trial_end_override:y=null,noTrial:A=!1,recurring:K=!0,intervalPostfix:N=null}={}){const Y=B===null?j.amount*(P||1):B,F=_(Y,j.currency);let G;j.is_bitcoin?G=W(j.interval_count,j.interval):j.interval_count===1&&K?G=`per ${j.interval}`:G=`${K?"per":"for"} ${W(j.interval_count,j.interval)}`,N&&(G+=` ${N}`);let X="";const q=Math.max(0,j.trial_period_days||0,x&&x.trial_period_days||0,y&&Math.ceil((y-Date.now()/1e3)/60/60/24));!A&&q>0&&(X=b("span",{className:"trial"},` ${I`${q} day free trial`}`));let se;if(x){if(x.loading)X=b("span",{className:"discount-price"}," (coupon loading)");else if(x.error)X=b("span",{className:"discount-price error"}," (coupon invalid or expired)");else if(x.percent_off||x.amount_off){let ie;if(x.percent_off?ie=Math.round(Y*(1-(x.percent_off_precise||x.percent_off)/100)):x.amount_off&&(ie=Math.max(0,Y-x.amount_off)),se=_(ie,j.currency),K){if(ie===0&&(G=""),x.duration==="once")G+=` for first ${j.interval}`;else if(x.duration==="repeating"){const Ee=x.duration_in_months/(j.interval==="year"?12:1)*j.interval_count;Ee>1?G+=` for first ${Ee} ${j.interval}s`:G+=` for first ${j.interval}`}}}}return se?[b("span",{className:"crossed-out"},F)," ",b("span",{className:"discount-price"},se," ",G," ",X)]:[`${F}${j.is_bitcoin?"/":" "}${G}`,X]},i.couponToString=(j,B)=>{if(!j||j.loading||j.error)return;let x;return j.trial_period_days?x=`${j.trial_period_days} day free trial`:(j.percent_off?x=`${Math.round(j.percent_off_precise||j.percent_off)}% off`:j.amount_off&&(x=`${_(j.amount_off,B.currency)} off`),j.duration==="once"?B?x+=` first ${B.interval}`:x+=" first payment":j.duration==="repeating"?j.duration_in_months%12==0?x+=` for ${W(j.duration_in_months/12,"year")}`:x+=` for ${W(j.duration_in_months,"month")}`:x+=" forever"),x},i.preloadImage=function(j,B){const x=new Image;x.onload=()=>{x.onload=x.onerror=null,B&&B(x)},x.onerror=x.onload,x.src=j},i.getHostname=j=>{const B=document.createElement("a");return B.href=j,(B.hostname||"").replace(/\.localhost$/,"")},i.getPathname=j=>{const B=document.createElement("a");return B.href=j,B.pathname||""},i.getPath=j=>{const B=document.createElement("a");return B.href=j,(B.pathname||"")+(B.search||"")+(B.hash||"")},i.getNetworkErrorMessage=(j,B)=>i.getNetworkErrorMessageFromResponse(j&&j.response&&j.response.body,B),i.getNetworkErrorMessageFromXhr=(j,B)=>{let x;try{x=JSON.parse(j&&j.responseText)}catch(P){}return i.getNetworkErrorMessageFromResponse(x,B)},i.getNetworkErrorMessageFromResponse=(j,B)=>(B=B||"Something went wrong",j&&j.error?j.error:j&&j.errors&&j.errors.length>0&&j.errors[j.errors.length-1].msg||B),i.inputPrefillHack=function(){return[b("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),b("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},i.isBrowser=function(){return typeof window!="undefined"},i.isMobileBrowser=function(){if(typeof navigator!="undefined"&&typeof window!="undefined"){const j=navigator.userAgent||navigator.vendor||window.opera;if(H(j,{checkFirst4:!0}))return!0}return!1},i.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),i.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),i.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),i.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),i.isIOs=()=>Boolean(i.iosVersion()),i.isMac=(j=window.navigator)=>j?j.userAgentData&&j.userAgentData.platform?/macOS/.test(j.userAgentData.platform):/Mac/.test(j.platform):!1,i.isSafari=()=>{var j;return typeof window=="undefined"||!((j=window.navigator)==null?void 0:j.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},i.getModKeyLabel=(j=i.isMac())=>j?"\u2318":"^",i.iosVersion=()=>typeof window=="undefined"?null:g(),i.fixSmsUrl=j=>{const B=i.iosVersion();return B?B>=9?j.replace("?body=","&body="):j.replace("?body=",";body="):j};const U=j=>((B,x)=>{let P;const y=()=>x.userAgent.match(/ipad|iphone/i),A=F=>{P=B.createElement("textArea"),P.value=F,B.body.appendChild(P)},K=()=>{let F,G;y()?(F=B.createRange(),F.selectNodeContents(P),G=j.getSelection(),G.removeAllRanges(),G.addRange(F),P.setSelectionRange(0,999999)):P.select()},N=()=>{B.execCommand("copy"),B.body.removeChild(P)};return{copy:F=>{A(F),K(),N()}}})(document,navigator);i.copyToClipboard=j=>{if(typeof window=="undefined")return;U(window).copy(j);const B=x=>{x&&x.clipboardData?(x.clipboardData.setData("text/plain",j),x.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",j)};i.iosVersion()||window.addEventListener("copy",B),setTimeout(()=>{try{const x=document.createElement("input");x.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(x),x.value=j,x.contentEditable=!0,x.readOnly=!1;const P=document.createRange();P.selectNodeContents(x);const y=window.getSelection();y.removeAllRanges(),y.addRange(P),x.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(x)}catch(x){}window.removeEventListener("copy",B)},0)},i.copyNodeToClipboard=j=>{try{i.selectNode(j),document.execCommand("copy")}catch(B){console.error("Failed to copy text:",B)}},i.selectNode=j=>{try{if(["INPUT","TEXTAREA"].includes(j.nodeName)&&j.select)j.select();else if(document.body.createTextRange){const B=document.body.createTextRange();B.moveToElementText(j),B.select()}else if(window.getSelection){const B=window.getSelection(),x=document.createRange();x.selectNodeContents(j),B.removeAllRanges(),B.addRange(x)}else console.warn("Could not select text in node: Unsupported browser")}catch(B){console.error("Failed to select node:",B)}},i.deselectNode=j=>{try{const B=window.getSelection?window.getSelection():document.selection;B&&B.anchorNode===j&&(B.empty?B.empty():B.removeAllRanges&&B.removeAllRanges())}catch(B){console.error("Failed to deselect node:",B)}},i.setMetaData=function({title:j=null,socialTitle:B=null,description:x=null,themeColor:P=null,image:y=null,seoProps:A=null,isLargeImage:K=!1,imageWidth:N=null,imageHeight:Y=null,isPodcast:F=!1,isVideo:G=!1,slug:X=null,pub:q=null,post:se=null,siteConfigs:ie={}}){const Ee={meta:[{property:"og:type",content:"article"}]};j&&(Ee.title=j,Ee.meta.push({property:"og:title",content:B||j},{property:"twitter:title",content:B||j})),x&&Ee.meta.push({name:"description",content:x},{property:"og:description",content:x},{property:"twitter:description",content:x}),P&&Ee.meta.push({name:"theme-color",content:P});const Ie=!!q&&q.invite_only,ge=!!se&&se.audience==="everyone",oe=!Ie&&ge,ee=oe&&ie.twitter_player_card_enabled,te=R.includes(q==null?void 0:q.subdomain)&&oe;if(F){const le=i.getPodcastEpisodeImageUrl(q,se);le&&(y=k(le,1200,{height:600,smartCrop:!0,format:"jpg"}),K=!0)}if(y){let le="summary";K&&(le="summary_large_image"),(F&&ee||G&&te)&&(le="player"),Ee.meta.push({property:"og:image",content:y},{property:"twitter:image",content:y},{property:"twitter:card",content:le}),N&&Ee.meta.push({property:"og:image:width",content:N}),Y&&Ee.meta.push({property:"og:image:height",content:Y})}if(A){const le=["noindex","nofollow","noarchive"];A=Object.fromEntries(Object.entries(A).filter(([Q,z])=>z&&le.includes(Q.toLowerCase()))),Object.keys(A).length>0&&Ee.meta.push({name:"robots",content:Object.keys(A).join(", ")})}return(q==null?void 0:q.explicit)&&Ee.meta.push({name:"rating",content:"adult"}),F&&ee&&Ee.meta.push({property:"twitter:player",content:`${C(q)}/embed/podcast/${X}?autoplay=1`},{property:"twitter:player:width",content:"1"},{property:"twitter:player:height",content:"1"},{property:"twitter:text:player_width",content:"1"},{property:"twitter:text:player_height",content:"1"}),G&&te&&Ee.meta.push({property:"twitter:player",content:`${C(q)}/embed/video/${X}?autoplay=1`},{property:"twitter:player:width",content:"16"},{property:"twitter:player:height",content:"9"},{property:"twitter:text:player_width",content:"16"},{property:"twitter:text:player_height",content:"9"}),b(a,p({},Ee))},i.getBodyOffset=(j,B)=>{const x=`offset${T(B)}`;let P=0;for(;j&&j!==document.body;)P+=j[x],j=j.offsetParent;return P},i.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:window.location.hash.slice(1),i.scrollToHash=function(j){const B=i.getUrlHash();if(!B)return;const x=document.getElementById(B);!x||(typeof j!="number"&&(j=-122),document.documentElement.scrollTop=Math.max(0,i.getBodyOffset(x,"top")+j))},i.mightSupportApplePay=j=>!(!j||!j.stripe_country||j.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),i.addClass=(j,B)=>{j.className+=` ${B}`},i.removeClass=(j,B)=>{j.className=j.className.replace(new RegExp(`\\b${B}\\b`,"g"),"").trim()},i.hasClass=(j,B)=>new RegExp(`\\b${B}\\b`,"g").test(j.className),i.isFocused=(...j)=>i.isRootOrChild(document.activeElement,...j),i.isRootOrChild=(j,...B)=>{for(;j;){for(const x of B)if(typeof x=="function"?x(j):j===x)return!0;j=j.parentNode}return!1},i.getRootOrChild=(j,B,{maxDepth:x}={})=>{const P=[j];let y=0;for(;P.length>0;){y++;const A=P.splice(0);for(const K of A)if(K){if(B(K))return K;(!x||y<x)&&K.children&&P.push(...K.children)}}return null},i.getRootOrParent=(j,B)=>j?B(j)?j:i.getRootOrParent(j.parentNode,B):null,i.getVisibilityApi=()=>{let j,B;return typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(j="visibilitychange",B="hidden"):typeof document.msHidden!="undefined"?(j="msvisibilitychange",B="msHidden"):typeof document.webkitHidden!="undefined"&&(j="webkitvisibilitychange",B="webkitHidden")),{visibilityChange:j,hidden:B}},i.isWindowVisible=()=>{const{hidden:j}=i.getVisibilityApi();return j?!document[j]:!0},i.onWindowVisibilityChange=j=>{const{visibilityChange:B}=i.getVisibilityApi();!B||document.addEventListener(B,j,!1)},i.offWindowVisibilityChange=j=>{const{visibilityChange:B}=i.getVisibilityApi();!B||document.removeEventListener(B,j,!1)},i.disableBackspaceNavigation=()=>{document.addEventListener("keydown",L,!1)},i.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",L,!1)};function L(j){if(j.keyCode!==8)return;const B=j.srcElement||j.target;if(!B.readonly&&!B.disabled){if(B.isContentEditable)return;if(B.nodeName==="TEXTAREA")return;if(B.nodeName==="INPUT"&&M.indexOf((B.getAttribute("type")||"").toLowerCase())>-1)return}return j.preventDefault(),!1}i.getBlob=j=>new Promise((B,x)=>{const P=new XMLHttpRequest;P.open("GET",j,!0),P.responseType="blob",P.onerror=x,P.onload=y=>{P.status==200?B(P.response):x(new Error("Failed to fetch blob"))},P.send()}),i.getDataUrlFromFile=j=>new Promise((B,x)=>{if(!window.FileReader){x(new TypeError("File reader API not found"));return}const P=new FileReader;P.onerror=x,P.onload=()=>{B(P.result)},P.readAsDataURL(j)}),i.getExifOrientationFromFile=j=>new Promise((B,x)=>{if(!window.FileReader){x(new TypeError("File reader API not found"));return}if(!window.DataView){x(new TypeError("DataView API not found"));return}const P=new FileReader;P.onerror=x,P.onload=()=>{const y=new DataView(P.result);if(y.getUint16(0,!1)!=65496)return B(-2);const A=y.byteLength;let K=2;for(;K<A;){if(y.getUint16(K+2,!1)<=8)return B(-1);const N=y.getUint16(K,!1);if(K+=2,N==65505){if(y.getUint32(K+=2,!1)!=1165519206)return B(-1);const Y=y.getUint16(K+=6,!1)==18761;K+=y.getUint32(K+4,Y);const F=y.getUint16(K,Y);K+=2;for(let G=0;G<F;G++)if(y.getUint16(K+G*12,Y)==274)return B(y.getUint16(K+G*12+8,Y))}else{if((N&65280)!=65280)break;K+=y.getUint16(K,!1)}}B(-1)},P.readAsArrayBuffer(j)}),i.getImageDataFromFileInput=j=>O(this,null,function*(){let B,x;const P=(j==null?void 0:j.files)?j.files[0]:null;if(j.value="",P){try{B=yield i.getDataUrlFromFile(P)}catch(y){console.error("Failed to get data URL from file:",y),alert(y.message);return}try{x=yield i.getExifOrientationFromFile(P)}catch(y){console.error("Failed to extract EXIF data from file:",y)}}return{url:B,orientation:x}}),i.transformExifOrientation=j=>{switch(j){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},i.canScroll=()=>i.maxScroll()>0,i.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,i.getLoginRedirect=({redirect:j,email:B,justTrying:x,with_password:P=!1,useOriginalUrl:y=!1}={})=>(typeof j!="string"&&(j=w({useOriginalUrl:y})),r("/account/login",{redirect:j||"",email:B||"",with_password:P?"1":"",justTrying:x||""})),i.redirectToLogin=(j={})=>{document.location.href=i.getLoginRedirect(j)},i.redirectToAccount=j=>{document.location.href=E(j)},i.redirectToAccountSettings=()=>{document.location.href=v()},i.base64encode=j=>{const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let x="",P,y,A,K,N,Y,F,G=0;for(j=i.utf8Encode(j);G<j.length;)P=j.charCodeAt(G++),y=j.charCodeAt(G++),A=j.charCodeAt(G++),K=P>>2,N=(P&3)<<4|y>>4,Y=(y&15)<<2|A>>6,F=A&63,isNaN(y)?Y=F=64:isNaN(A)&&(F=64),x=x+B.charAt(K)+B.charAt(N)+B.charAt(Y)+B.charAt(F);return x},i.utf8Encode=j=>{let B="";for(let x=0;x<j.length;x++){const P=j.charCodeAt(x);P<128?B+=String.fromCharCode(P):P>127&&P<2048?(B+=String.fromCharCode(P>>6|192),B+=String.fromCharCode(P&63|128)):(B+=String.fromCharCode(P>>12|224),B+=String.fromCharCode(P>>6&63|128),B+=String.fromCharCode(P&63|128))}return B},i.redirectNoScroll=j=>{const B=[window.scrollX,window.scrollY];i.redirect(j),window.scrollTo(...B)},i.redirect=(j,{event:B=null,local_navigation:x=!0,replace:P=!1,newTab:y=!1}={})=>{var A;if(B&&B.preventDefault(),!j.trim().startsWith("javascript:")){if(j.startsWith("#")&&x){window.location.hash!==j&&(P&&((A=window.history)==null?void 0:A.replaceState)?window.history.replaceState(null,null,j):window.location.hash=j),i.scrollToHash();return}if(x&&i.getHostname(j)&&i.getHostname(j)!==i.getHostname(window.location.href)&&(x=!1),y||B&&(B.metaKey||B.ctrlKey)){window.open(j,"_blank");return}if(x&&m(i.getPath(j),P)){setTimeout(()=>i.scrollToHash(),0);return}window.location.href=j}},i.setState=(j,B)=>new Promise(x=>{j.setState(B,x)}),i.stateTransaction=(j,B)=>new Promise((x,P)=>{j.setState((...y)=>O(this,null,function*(){try{x(yield B.apply(j,y))}catch(A){P(A)}}))}),i.stateLock=(j,B,x,...P)=>O(this,[j,B,x,...P],function*(y,A,K,{force:N}={}){return typeof A=="function"&&(K=A,A="lock"),yield i.stateTransaction(y,(Y,...F)=>O(this,null,function*(){if(Y[A]&&!N)return;yield i.setState(y,{[A]:!0});const G=yield K.call(y,Y,...F);return yield i.setState(y,{[A]:!1}),G}))}),i.getsMessageQuery=j=>B=>{const x=u(document.location.href),P=n("message");if(P){delete x.message;const y=`${r(document.location.pathname,x)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,y)}return b(j,p({message:P},B))},i.uuidV4=()=>{const j=window.crypto||window.msCrypto;if(typeof(j==null?void 0:j.randomUUID)=="function")return j.randomUUID();if(j)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,B=>(B^j.getRandomValues(new Uint8Array(1))[0]&15>>B/4).toString(16));{let B=new Date().getTime(),x=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(P){let y=Math.random()*16;return B>0?(y=(B+y)%16|0,B=Math.floor(B/16)):(y=(x+y)%16|0,x=Math.floor(x/16)),(P==="x"?y:y&3|8).toString(16)})}},i.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,i.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",i.focusElement=j=>{j.focus&&j.focus(),j.select&&j.select()},i.getRoleOrOwner=(j,B)=>j?j.user_id===B.author_id?"owner":j.role:"byline",i.hexWithOpacity=(j,B)=>{if(!j)return j;j=j.replace("#","");const x=parseInt(j.substring(0,2),16),P=parseInt(j.substring(2,4),16),y=parseInt(j.substring(4,6),16);return`rgba(${x},${P},${y},${B/100})`},i.getSelectTheme=(j,B="#f8f8f8",x="#d8d8d8")=>P=>f(p({},P),{colors:f(p({},P.colors),{primary:j,primary25:i.hexWithOpacity(j,25),primary50:i.hexWithOpacity(j,50),primary75:i.hexWithOpacity(j,75),neutral0:B,neutral20:x})}),i.removeQueryParam=(j,{stripHash:B=!1}={})=>{var x;if(typeof window!="undefined"&&((x=window.history)==null?void 0:x.replaceState)){const P=u(window.location.href);if(!Array.isArray(j))delete P[j];else for(const A of j)delete P[A];const y=`${r(window.location.pathname,P)}${B?"":window.location.hash}`;window.history.replaceState({},document.title,y)}},i.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,i.goFullscreen=j=>typeof window=="undefined"?!1:j.requestFullScreen?(j.requestFullScreen(),!0):j.webkitRequestFullScreen?(j.webkitRequestFullScreen(),!0):j.mozRequestFullScreen?(j.mozRequestFullScreen(),!0):!1,i.exitFullscreen=()=>{if(!i.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},i.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),i.getVideoBlobDuration=(j,...B)=>O(this,[j,...B],function*(x,{timeout:P=5*1e3}={}){const y=document.createElement("video");y.volume=0;const A=Promise.race([new Promise((K,N)=>{y.onloadedmetadata=()=>{y.onloadedmetadata=null,y.duration===1/0?(y.currentTime=Number.MAX_SAFE_INTEGER,y.ontimeupdate=()=>{y.ontimeupdate=null,K(y.duration),y.currentTime=0}):K(y.duration)},y.onerror=Y=>N(Y.target.error)}),new Promise((K,N)=>{setTimeout(()=>{N(new Error("Blob duration fetching timed out"))},P)})]);return y.src=typeof x=="string"||x instanceof String?x:window.URL.createObjectURL(x),A})},function(S,i,t){"use strict";t.d(i,"a",function(){return n});var e=t(0),o=t(7),l=t.n(o),s=t(3),h=t.n(s),c=t(120),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(r,u,v)=>u in r?d(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,m=(r,u)=>{for(var v in u||(u={}))f.call(u,v)&&b(r,v,u[v]);if(p)for(var v of p(u))O.call(u,v)&&b(r,v,u[v]);return r},a=(r,u)=>{var v={};for(var E in r)f.call(r,E)&&u.indexOf(E)<0&&(v[E]=r[E]);if(r!=null&&p)for(var E of p(r))u.indexOf(E)<0&&O.call(r,E)&&(v[E]=r[E]);return v};const n=r=>{var u=r,{name:v,svgParams:E,isStatic:w,height:C,fill:_,stroke:T,version:W=4,strokeWidth:k=1,alt:$,additionalStaticParams:H={},children:g}=u,M=a(u,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","alt","additionalStaticParams","children"]);const R=C?(E.width||1)*C/(E.height||1):E.width||1,D=C||E.height||1;return w?Object(e.h)(c.a,m(m({src:Object(o.cloudinary)(Object(s.pathWithQuery)(`/icon/${v}`,{v:W||4,height:D*2,fill:_,stroke:T,strokeWidth:k*2}),R*2,{format:"png",crop:"scale"}),width:R,height:D,style:{maxWidth:`${R}px`},alt:$||""},H),M)):Object(e.h)("svg",m({role:"img",style:C?{height:`${D}px`,width:`${R}px`}:void 0,width:R,height:D,viewBox:E.viewBox||`0 0 ${E.width} ${E.height}`,fill:_||E.fill||"none",strokeWidth:k||typeof k=="number"?Number(k):typeof E.strokeWidth=="number"?E.strokeWidth:1,stroke:T||E.stroke||"#000",xmlns:"http://www.w3.org/2000/svg"},M),Object(e.h)("g",null,Object(e.h)("title",null,$||""),g))}},function(S,i,t){"use strict";function e(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(W){return typeof W}:e=function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},e(_)}var o;typeof window!="undefined"?o=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),o=void 0):o=self;var l=t(405),s=t(406),h=t(407),c=t(419),d=t(267),p=t(420),f=t(422);function O(){}S.exports=function(_,T){return typeof T=="function"?new i.Request("GET",_).end(T):arguments.length===1?new i.Request("GET",_):new i.Request(_,T)},i=S.exports;var b=i;i.Request=w,b.getXHR=function(){if(o.XMLHttpRequest&&(!o.location||o.location.protocol!=="file:"||!o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(_){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(_){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(_){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(_){}throw new Error("Browser-only version of superagent could not find XHR")};var m="".trim?function(_){return _.trim()}:function(_){return _.replace(/(^\s*|\s*$)/g,"")};function a(_){if(!d(_))return _;var T=[];for(var W in _)Object.prototype.hasOwnProperty.call(_,W)&&n(T,W,_[W]);return T.join("&")}function n(_,T,W){if(W!==void 0){if(W===null){_.push(encodeURI(T));return}if(Array.isArray(W))W.forEach(function($){n(_,T,$)});else if(d(W))for(var k in W)Object.prototype.hasOwnProperty.call(W,k)&&n(_,"".concat(T,"[").concat(k,"]"),W[k]);else _.push(encodeURI(T)+"="+encodeURIComponent(W))}}b.serializeObject=a;function r(_){for(var T={},W=_.split("&"),k,$,H=0,g=W.length;H<g;++H)k=W[H],$=k.indexOf("="),$===-1?T[decodeURIComponent(k)]="":T[decodeURIComponent(k.slice(0,$))]=decodeURIComponent(k.slice($+1));return T}b.parseString=r,b.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":h.stringify,"application/json":s},b.parse={"application/x-www-form-urlencoded":r,"application/json":JSON.parse};function u(_){for(var T=_.split(/\r?\n/),W={},k,$,H,g,M=0,R=T.length;M<R;++M)$=T[M],k=$.indexOf(":"),k!==-1&&(H=$.slice(0,k).toLowerCase(),g=m($.slice(k+1)),W[H]=g);return W}function v(_){return/[/+]json($|[^-\w])/i.test(_)}function E(_){this.req=_,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var T=this.xhr.status;T===1223&&(T=204),this._setStatusProperties(T),this.headers=u(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&_._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}p(E.prototype),E.prototype._parseBody=function(_){var T=b.parse[this.type];return this.req._parser?this.req._parser(this,_):(!T&&v(this.type)&&(T=b.parse["application/json"]),T&&_&&(_.length>0||_ instanceof Object)?T(_):null)},E.prototype.toError=function(){var _=this.req,T=_.method,W=_.url,k="cannot ".concat(T," ").concat(W," (").concat(this.status,")"),$=new Error(k);return $.status=this.status,$.method=T,$.url=W,$},b.Response=E;function w(_,T){var W=this;this._query=this._query||[],this.method=_,this.url=T,this.header={},this._header={},this.on("end",function(){var k=null,$=null;try{$=new E(W)}catch(g){return k=new Error("Parser is unable to parse the response"),k.parse=!0,k.original=g,W.xhr?(k.rawResponse=typeof W.xhr.responseType=="undefined"?W.xhr.responseText:W.xhr.response,k.status=W.xhr.status?W.xhr.status:null,k.statusCode=k.status):(k.rawResponse=null,k.status=null),W.callback(k)}W.emit("response",$);var H;try{W._isResponseOK($)||(H=new Error($.statusText||$.text||"Unsuccessful HTTP response"))}catch(g){H=g}H?(H.original=k,H.response=$,H.status=$.status,W.callback(H,$)):W.callback(null,$)})}l(w.prototype),c(w.prototype),w.prototype.type=function(_){return this.set("Content-Type",b.types[_]||_),this},w.prototype.accept=function(_){return this.set("Accept",b.types[_]||_),this},w.prototype.auth=function(_,T,W){arguments.length===1&&(T=""),e(T)==="object"&&T!==null&&(W=T,T=""),W||(W={type:typeof btoa=="function"?"basic":"auto"});var k=function(H){if(typeof btoa=="function")return btoa(H);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(_,T,W,k)},w.prototype.query=function(_){return typeof _!="string"&&(_=a(_)),_&&this._query.push(_),this},w.prototype.attach=function(_,T,W){if(T){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(_,T,W||T.name)}return this},w.prototype._getFormData=function(){return this._formData||(this._formData=new o.FormData),this._formData},w.prototype.callback=function(_,T){if(this._shouldRetry(_,T))return this._retry();var W=this._callback;this.clearTimeout(),_&&(this._maxRetries&&(_.retries=this._retries-1),this.emit("error",_)),W(_,T)},w.prototype.crossDomainError=function(){var _=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);_.crossDomain=!0,_.status=this.status,_.method=this.method,_.url=this.url,this.callback(_)},w.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},w.prototype.ca=w.prototype.agent,w.prototype.buffer=w.prototype.ca,w.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},w.prototype.pipe=w.prototype.write,w.prototype._isHost=function(_){return _&&e(_)==="object"&&!Array.isArray(_)&&Object.prototype.toString.call(_)!=="[object Object]"},w.prototype.end=function(_){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=_||O,this._finalizeQueryString(),this._end()},w.prototype._setUploadTimeout=function(){var _=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){_._timeoutError("Upload timeout of ",_._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},w.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var _=this;this.xhr=b.getXHR();var T=this.xhr,W=this._formData||this._data;this._setTimeouts(),T.onreadystatechange=function(){var M=T.readyState;if(M>=2&&_._responseTimeoutTimer&&clearTimeout(_._responseTimeoutTimer),M===4){var R;try{R=T.status}catch(D){R=0}if(!R)return _.timedout||_._aborted?void 0:_.crossDomainError();_.emit("end")}};var k=function(R,D){D.total>0&&(D.percent=D.loaded/D.total*100,D.percent===100&&clearTimeout(_._uploadTimeoutTimer)),D.direction=R,_.emit("progress",D)};if(this.hasListeners("progress"))try{T.addEventListener("progress",k.bind(null,"download")),T.upload&&T.upload.addEventListener("progress",k.bind(null,"upload"))}catch(M){}T.upload&&this._setUploadTimeout();try{this.username&&this.password?T.open(this.method,this.url,!0,this.username,this.password):T.open(this.method,this.url,!0)}catch(M){return this.callback(M)}if(this._withCredentials&&(T.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof W!="string"&&!this._isHost(W)){var $=this._header["content-type"],H=this._serializer||b.serialize[$?$.split(";")[0]:""];!H&&v($)&&(H=b.serialize["application/json"]),H&&(W=H(W))}for(var g in this.header)this.header[g]!==null&&Object.prototype.hasOwnProperty.call(this.header,g)&&T.setRequestHeader(g,this.header[g]);this._responseType&&(T.responseType=this._responseType),this.emit("request",this),T.send(typeof W=="undefined"?null:W)},b.agent=function(){return new f},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(_){f.prototype[_.toLowerCase()]=function(T,W){var k=new b.Request(_,T);return this._setDefaults(k),W&&k.end(W),k}}),f.prototype.del=f.prototype.delete,b.get=function(_,T,W){var k=b("GET",_);return typeof T=="function"&&(W=T,T=null),T&&k.query(T),W&&k.end(W),k},b.head=function(_,T,W){var k=b("HEAD",_);return typeof T=="function"&&(W=T,T=null),T&&k.query(T),W&&k.end(W),k},b.options=function(_,T,W){var k=b("OPTIONS",_);return typeof T=="function"&&(W=T,T=null),T&&k.send(T),W&&k.end(W),k};function C(_,T,W){var k=b("DELETE",_);return typeof T=="function"&&(W=T,T=null),T&&k.send(T),W&&k.end(W),k}b.del=C,b.delete=C,b.patch=function(_,T,W){var k=b("PATCH",_);return typeof T=="function"&&(W=T,T=null),T&&k.send(T),W&&k.end(W),k},b.post=function(_,T,W){var k=b("POST",_);return typeof T=="function"&&(W=T,T=null),T&&k.send(T),W&&k.end(W),k},b.put=function(_,T,W){var k=b("PUT",_);return typeof T=="function"&&(W=T,T=null),T&&k.send(T),W&&k.end(W),k}},function(S,i,t){"use strict";t.d(i,"a",function(){return v}),t.d(i,"c",function(){return E}),t.d(i,"b",function(){return w});var e=t(0),o=t(1),l=t(6),s=t.n(l),h={flex:"frontend-pencraft-FlexBox-module__flex--fK-9V","flex-direction-column":"frontend-pencraft-FlexBox-module__flex-direction-column--2sph3","flex-direction-row":"frontend-pencraft-FlexBox-module__flex-direction-row--1aZG0","flex-direction-row-reverse":"frontend-pencraft-FlexBox-module__flex-direction-row-reverse--2x54E","flex-direction-column-reverse":"frontend-pencraft-FlexBox-module__flex-direction-column-reverse--1i3dk","flex-wrap-nowrap":"frontend-pencraft-FlexBox-module__flex-wrap-nowrap--V4hzz","flex-wrap-wrap":"frontend-pencraft-FlexBox-module__flex-wrap-wrap--cQ3u8","flex-wrap-wrap-reverse":"frontend-pencraft-FlexBox-module__flex-wrap-wrap-reverse--1V3Ec","flex-justify-start":"frontend-pencraft-FlexBox-module__flex-justify-start--3hP9-","flex-justify-space-between":"frontend-pencraft-FlexBox-module__flex-justify-space-between--2VUD1","flex-justify-center":"frontend-pencraft-FlexBox-module__flex-justify-center--bghpB","flex-justify-end":"frontend-pencraft-FlexBox-module__flex-justify-end--1CGgD","flex-align-start":"frontend-pencraft-FlexBox-module__flex-align-start--1ywUM","flex-align-end":"frontend-pencraft-FlexBox-module__flex-align-end--2J-V2","flex-align-center":"frontend-pencraft-FlexBox-module__flex-align-center--21WCV","flex-align-stretch":"frontend-pencraft-FlexBox-module__flex-align-stretch--2yVQw","flex-align-self-start":"frontend-pencraft-FlexBox-module__flex-align-self-start--1lH1n","flex-align-self-end":"frontend-pencraft-FlexBox-module__flex-align-self-end--IUL5T","flex-align-self-center":"frontend-pencraft-FlexBox-module__flex-align-self-center--1Pz5J","flex-align-self-stretch":"frontend-pencraft-FlexBox-module__flex-align-self-stretch--2HxaI","flex-gap-0":"frontend-pencraft-FlexBox-module__flex-gap-0--69Nim","flex-gap-4":"frontend-pencraft-FlexBox-module__flex-gap-4--1dYNp","flex-gap-6":"frontend-pencraft-FlexBox-module__flex-gap-6--2S_HH","flex-gap-8":"frontend-pencraft-FlexBox-module__flex-gap-8--x0dlM","flex-gap-12":"frontend-pencraft-FlexBox-module__flex-gap-12--2d-Q9","flex-gap-16":"frontend-pencraft-FlexBox-module__flex-gap-16--ax1hq","flex-gap-20":"frontend-pencraft-FlexBox-module__flex-gap-20--fJUi2","flex-gap-24":"frontend-pencraft-FlexBox-module__flex-gap-24--1VSZv","flex-gap-32":"frontend-pencraft-FlexBox-module__flex-gap-32--1cFJF","flex-gap-36":"frontend-pencraft-FlexBox-module__flex-gap-36--2fJnh","flex-gap-40":"frontend-pencraft-FlexBox-module__flex-gap-40--2Lmca","flex-gap-48":"frontend-pencraft-FlexBox-module__flex-gap-48--ltsMl","flex-gap-56":"frontend-pencraft-FlexBox-module__flex-gap-56--lzrXG","flex-gap-80":"frontend-pencraft-FlexBox-module__flex-gap-80--3u3Uh","flex-gap-120":"frontend-pencraft-FlexBox-module__flex-gap-120--13t9z","padding-0":"frontend-pencraft-FlexBox-module__padding-0--3L7sk","padding-4":"frontend-pencraft-FlexBox-module__padding-4---isGr","padding-6":"frontend-pencraft-FlexBox-module__padding-6--EXUA1","padding-8":"frontend-pencraft-FlexBox-module__padding-8--3pCkS","padding-12":"frontend-pencraft-FlexBox-module__padding-12--1Pqli","padding-16":"frontend-pencraft-FlexBox-module__padding-16--CNapC","padding-20":"frontend-pencraft-FlexBox-module__padding-20--360nz","padding-24":"frontend-pencraft-FlexBox-module__padding-24--25FOJ","padding-32":"frontend-pencraft-FlexBox-module__padding-32--1_u6F","padding-40":"frontend-pencraft-FlexBox-module__padding-40--2h_t1","padding-48":"frontend-pencraft-FlexBox-module__padding-48--LKLS1","padding-56":"frontend-pencraft-FlexBox-module__padding-56--3hUGn","padding-80":"frontend-pencraft-FlexBox-module__padding-80--1QAz5","padding-120":"frontend-pencraft-FlexBox-module__padding-120--3Ft-u","padding-y-0":"frontend-pencraft-FlexBox-module__padding-y-0--1UxWA","padding-y-4":"frontend-pencraft-FlexBox-module__padding-y-4--3w1Eb","padding-y-6":"frontend-pencraft-FlexBox-module__padding-y-6--3NY8U","padding-y-8":"frontend-pencraft-FlexBox-module__padding-y-8--h3nt0","padding-y-12":"frontend-pencraft-FlexBox-module__padding-y-12--1PPPF","padding-y-16":"frontend-pencraft-FlexBox-module__padding-y-16--2c5v9","padding-y-20":"frontend-pencraft-FlexBox-module__padding-y-20--1b5Dc","padding-y-24":"frontend-pencraft-FlexBox-module__padding-y-24--2PHUy","padding-y-32":"frontend-pencraft-FlexBox-module__padding-y-32--2GsuE","padding-y-40":"frontend-pencraft-FlexBox-module__padding-y-40--22fjT","padding-y-48":"frontend-pencraft-FlexBox-module__padding-y-48--8s0au","padding-y-56":"frontend-pencraft-FlexBox-module__padding-y-56--3fQ5R","padding-y-80":"frontend-pencraft-FlexBox-module__padding-y-80--3OU4V","padding-y-120":"frontend-pencraft-FlexBox-module__padding-y-120--3Tmaq","padding-x-0":"frontend-pencraft-FlexBox-module__padding-x-0--2tUZ8","padding-x-4":"frontend-pencraft-FlexBox-module__padding-x-4--2CoCY","padding-x-6":"frontend-pencraft-FlexBox-module__padding-x-6--DNqW8","padding-x-8":"frontend-pencraft-FlexBox-module__padding-x-8--3ue4x","padding-x-12":"frontend-pencraft-FlexBox-module__padding-x-12--1Iux4","padding-x-16":"frontend-pencraft-FlexBox-module__padding-x-16--3OvY7","padding-x-20":"frontend-pencraft-FlexBox-module__padding-x-20--1CtBh","padding-x-24":"frontend-pencraft-FlexBox-module__padding-x-24--3UNgN","padding-x-32":"frontend-pencraft-FlexBox-module__padding-x-32--9EiCX","padding-x-40":"frontend-pencraft-FlexBox-module__padding-x-40--3slnC","padding-x-48":"frontend-pencraft-FlexBox-module__padding-x-48--30ihl","padding-x-56":"frontend-pencraft-FlexBox-module__padding-x-56--1zeC6","padding-x-80":"frontend-pencraft-FlexBox-module__padding-x-80--aKukR","padding-x-120":"frontend-pencraft-FlexBox-module__padding-x-120--dBGlc","padding-top-0":"frontend-pencraft-FlexBox-module__padding-top-0--2Vyjg","padding-top-4":"frontend-pencraft-FlexBox-module__padding-top-4--2Svhh","padding-top-6":"frontend-pencraft-FlexBox-module__padding-top-6--WFO_Z","padding-top-8":"frontend-pencraft-FlexBox-module__padding-top-8--1tZ1O","padding-top-12":"frontend-pencraft-FlexBox-module__padding-top-12--29mQp","padding-top-16":"frontend-pencraft-FlexBox-module__padding-top-16--LIihY","padding-top-20":"frontend-pencraft-FlexBox-module__padding-top-20--1whCq","padding-top-24":"frontend-pencraft-FlexBox-module__padding-top-24--28Lw6","padding-top-32":"frontend-pencraft-FlexBox-module__padding-top-32--1PZ4N","padding-top-40":"frontend-pencraft-FlexBox-module__padding-top-40--PxPNr","padding-top-48":"frontend-pencraft-FlexBox-module__padding-top-48--2HR4h","padding-top-56":"frontend-pencraft-FlexBox-module__padding-top-56--i7NfO","padding-top-80":"frontend-pencraft-FlexBox-module__padding-top-80--XnWAR","padding-top-120":"frontend-pencraft-FlexBox-module__padding-top-120--37Es6","padding-bottom-0":"frontend-pencraft-FlexBox-module__padding-bottom-0--2b2dD","padding-bottom-4":"frontend-pencraft-FlexBox-module__padding-bottom-4--TSadW","padding-bottom-6":"frontend-pencraft-FlexBox-module__padding-bottom-6--PjSNn","padding-bottom-8":"frontend-pencraft-FlexBox-module__padding-bottom-8--3Bw_p","padding-bottom-12":"frontend-pencraft-FlexBox-module__padding-bottom-12--uUl7z","padding-bottom-16":"frontend-pencraft-FlexBox-module__padding-bottom-16--2o2tu","padding-bottom-20":"frontend-pencraft-FlexBox-module__padding-bottom-20--sA5LI","padding-bottom-24":"frontend-pencraft-FlexBox-module__padding-bottom-24--3Tgrk","padding-bottom-32":"frontend-pencraft-FlexBox-module__padding-bottom-32--3GqaQ","padding-bottom-40":"frontend-pencraft-FlexBox-module__padding-bottom-40--3mITI","padding-bottom-48":"frontend-pencraft-FlexBox-module__padding-bottom-48--39frT","padding-bottom-56":"frontend-pencraft-FlexBox-module__padding-bottom-56--2aLHH","padding-bottom-80":"frontend-pencraft-FlexBox-module__padding-bottom-80--3zx33","padding-bottom-120":"frontend-pencraft-FlexBox-module__padding-bottom-120--2Iys_","flex-direction-mobile-column":"frontend-pencraft-FlexBox-module__flex-direction-mobile-column--SxTLO","flex-direction-mobile-row":"frontend-pencraft-FlexBox-module__flex-direction-mobile-row--1-UBk","flex-direction-mobile-row-reverse":"frontend-pencraft-FlexBox-module__flex-direction-mobile-row-reverse--3zzi5","flex-direction-mobile-column-reverse":"frontend-pencraft-FlexBox-module__flex-direction-mobile-column-reverse--2DHdq","flex-wrap-mobile-nowrap":"frontend-pencraft-FlexBox-module__flex-wrap-mobile-nowrap--2pRIw","flex-wrap-mobile-wrap":"frontend-pencraft-FlexBox-module__flex-wrap-mobile-wrap--3bv29","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-FlexBox-module__flex-wrap-mobile-wrap-reverse--2FKBX","flex-justify-mobile-start":"frontend-pencraft-FlexBox-module__flex-justify-mobile-start--2ZR4L","flex-justify-mobile-space-between":"frontend-pencraft-FlexBox-module__flex-justify-mobile-space-between--3QF3f","flex-justify-mobile-center":"frontend-pencraft-FlexBox-module__flex-justify-mobile-center--3pjlk","flex-justify-mobile-end":"frontend-pencraft-FlexBox-module__flex-justify-mobile-end--1dkmN","flex-align-mobile-start":"frontend-pencraft-FlexBox-module__flex-align-mobile-start--3enX4","flex-align-mobile-end":"frontend-pencraft-FlexBox-module__flex-align-mobile-end--1MkFN","flex-align-mobile-center":"frontend-pencraft-FlexBox-module__flex-align-mobile-center--j-SPn","flex-align-mobile-stretch":"frontend-pencraft-FlexBox-module__flex-align-mobile-stretch--2QQKA","flex-gap-mobile-0":"frontend-pencraft-FlexBox-module__flex-gap-mobile-0--3wOdW","flex-gap-mobile-4":"frontend-pencraft-FlexBox-module__flex-gap-mobile-4--1BwAi","flex-gap-mobile-6":"frontend-pencraft-FlexBox-module__flex-gap-mobile-6--2z7Tb","flex-gap-mobile-8":"frontend-pencraft-FlexBox-module__flex-gap-mobile-8--3hJ-O","flex-gap-mobile-12":"frontend-pencraft-FlexBox-module__flex-gap-mobile-12--11xWu","flex-gap-mobile-16":"frontend-pencraft-FlexBox-module__flex-gap-mobile-16--1b_qR","flex-gap-mobile-20":"frontend-pencraft-FlexBox-module__flex-gap-mobile-20--MfQyO","flex-gap-mobile-24":"frontend-pencraft-FlexBox-module__flex-gap-mobile-24--3KuBc","flex-gap-mobile-32":"frontend-pencraft-FlexBox-module__flex-gap-mobile-32--3L3NT","flex-gap-mobile-40":"frontend-pencraft-FlexBox-module__flex-gap-mobile-40--2PtCW","flex-gap-mobile-48":"frontend-pencraft-FlexBox-module__flex-gap-mobile-48--2-eRg","flex-gap-mobile-56":"frontend-pencraft-FlexBox-module__flex-gap-mobile-56--3g-Di","flex-gap-mobile-80":"frontend-pencraft-FlexBox-module__flex-gap-mobile-80--19QWA","flex-gap-mobile-120":"frontend-pencraft-FlexBox-module__flex-gap-mobile-120--1smaJ","padding-mobile-0":"frontend-pencraft-FlexBox-module__padding-mobile-0--RNejj","padding-mobile-4":"frontend-pencraft-FlexBox-module__padding-mobile-4--33_7O","padding-mobile-6":"frontend-pencraft-FlexBox-module__padding-mobile-6--2bop_","padding-mobile-8":"frontend-pencraft-FlexBox-module__padding-mobile-8--3CnGY","padding-mobile-12":"frontend-pencraft-FlexBox-module__padding-mobile-12--3za9v","padding-mobile-16":"frontend-pencraft-FlexBox-module__padding-mobile-16--2VVdc","padding-mobile-20":"frontend-pencraft-FlexBox-module__padding-mobile-20--ELKIF","padding-mobile-24":"frontend-pencraft-FlexBox-module__padding-mobile-24--EbdwN","padding-mobile-32":"frontend-pencraft-FlexBox-module__padding-mobile-32--LepBC","padding-mobile-40":"frontend-pencraft-FlexBox-module__padding-mobile-40--3THhs","padding-mobile-48":"frontend-pencraft-FlexBox-module__padding-mobile-48--1AhGd","padding-mobile-56":"frontend-pencraft-FlexBox-module__padding-mobile-56--MrZAE","padding-mobile-80":"frontend-pencraft-FlexBox-module__padding-mobile-80--2l5fJ","padding-mobile-120":"frontend-pencraft-FlexBox-module__padding-mobile-120--gPV2Y","padding-y-mobile-0":"frontend-pencraft-FlexBox-module__padding-y-mobile-0--3XTU-","padding-y-mobile-4":"frontend-pencraft-FlexBox-module__padding-y-mobile-4--25h_r","padding-y-mobile-6":"frontend-pencraft-FlexBox-module__padding-y-mobile-6--2AaRS","padding-y-mobile-8":"frontend-pencraft-FlexBox-module__padding-y-mobile-8--1zWXe","padding-y-mobile-12":"frontend-pencraft-FlexBox-module__padding-y-mobile-12--3fu26","padding-y-mobile-16":"frontend-pencraft-FlexBox-module__padding-y-mobile-16--kbO7y","padding-y-mobile-20":"frontend-pencraft-FlexBox-module__padding-y-mobile-20--1ZoV1","padding-y-mobile-24":"frontend-pencraft-FlexBox-module__padding-y-mobile-24--1LBok","padding-y-mobile-32":"frontend-pencraft-FlexBox-module__padding-y-mobile-32--1th65","padding-y-mobile-40":"frontend-pencraft-FlexBox-module__padding-y-mobile-40--1FGQr","padding-y-mobile-48":"frontend-pencraft-FlexBox-module__padding-y-mobile-48--U9Efp","padding-y-mobile-56":"frontend-pencraft-FlexBox-module__padding-y-mobile-56--OrGoY","padding-y-mobile-80":"frontend-pencraft-FlexBox-module__padding-y-mobile-80--3vQKv","padding-y-mobile-120":"frontend-pencraft-FlexBox-module__padding-y-mobile-120--1AKzu","padding-x-mobile-0":"frontend-pencraft-FlexBox-module__padding-x-mobile-0--kMwXC","padding-x-mobile-4":"frontend-pencraft-FlexBox-module__padding-x-mobile-4--1mEeX","padding-x-mobile-6":"frontend-pencraft-FlexBox-module__padding-x-mobile-6--1DLXO","padding-x-mobile-8":"frontend-pencraft-FlexBox-module__padding-x-mobile-8--3a6hZ","padding-x-mobile-12":"frontend-pencraft-FlexBox-module__padding-x-mobile-12--7oDDT","padding-x-mobile-16":"frontend-pencraft-FlexBox-module__padding-x-mobile-16--3LLpJ","padding-x-mobile-20":"frontend-pencraft-FlexBox-module__padding-x-mobile-20--1nx1D","padding-x-mobile-24":"frontend-pencraft-FlexBox-module__padding-x-mobile-24--2zLmG","padding-x-mobile-32":"frontend-pencraft-FlexBox-module__padding-x-mobile-32--1nmD2","padding-x-mobile-40":"frontend-pencraft-FlexBox-module__padding-x-mobile-40--b0gGk","padding-x-mobile-48":"frontend-pencraft-FlexBox-module__padding-x-mobile-48--rPfUU","padding-x-mobile-56":"frontend-pencraft-FlexBox-module__padding-x-mobile-56--18e-I","padding-x-mobile-80":"frontend-pencraft-FlexBox-module__padding-x-mobile-80--2ezfB","padding-x-mobile-120":"frontend-pencraft-FlexBox-module__padding-x-mobile-120--1_tYZ","padding-top-mobile-0":"frontend-pencraft-FlexBox-module__padding-top-mobile-0--2QAjP","padding-top-mobile-4":"frontend-pencraft-FlexBox-module__padding-top-mobile-4--1KQww","padding-top-mobile-6":"frontend-pencraft-FlexBox-module__padding-top-mobile-6--EQRtF","padding-top-mobile-8":"frontend-pencraft-FlexBox-module__padding-top-mobile-8--1LbT7","padding-top-mobile-12":"frontend-pencraft-FlexBox-module__padding-top-mobile-12--2Msm2","padding-top-mobile-16":"frontend-pencraft-FlexBox-module__padding-top-mobile-16--35Vv8","padding-top-mobile-20":"frontend-pencraft-FlexBox-module__padding-top-mobile-20--JfMyT","padding-top-mobile-24":"frontend-pencraft-FlexBox-module__padding-top-mobile-24--2UvOi","padding-top-mobile-32":"frontend-pencraft-FlexBox-module__padding-top-mobile-32--9wUA8","padding-top-mobile-40":"frontend-pencraft-FlexBox-module__padding-top-mobile-40--2Zb3_","padding-top-mobile-48":"frontend-pencraft-FlexBox-module__padding-top-mobile-48--2yft_","padding-top-mobile-56":"frontend-pencraft-FlexBox-module__padding-top-mobile-56--67hJl","padding-top-mobile-80":"frontend-pencraft-FlexBox-module__padding-top-mobile-80--WfftE","padding-top-mobile-120":"frontend-pencraft-FlexBox-module__padding-top-mobile-120--3gi2O","padding-bottom-mobile-0":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-0--237jn","padding-bottom-mobile-4":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-4--36z3q","padding-bottom-mobile-6":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-6--uMIFj","padding-bottom-mobile-8":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-8--1dWwx","padding-bottom-mobile-12":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-12--3esqB","padding-bottom-mobile-16":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-16--1Q5Fc","padding-bottom-mobile-20":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-20--1GJv4","padding-bottom-mobile-24":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-24--CpN7l","padding-bottom-mobile-32":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-32--HU3u8","padding-bottom-mobile-40":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-40--KZIb6","padding-bottom-mobile-48":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-48--2Sl4J","padding-bottom-mobile-56":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-56--2U9vX","padding-bottom-mobile-80":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-80--VVZl2","padding-bottom-mobile-120":"frontend-pencraft-FlexBox-module__padding-bottom-mobile-120--pFPG_","border-detail":"frontend-pencraft-FlexBox-module__border-detail--1Y772","border-top-detail":"frontend-pencraft-FlexBox-module__border-top-detail--2FmaG","border-bottom-detail":"frontend-pencraft-FlexBox-module__border-bottom-detail--128uk","border-detail-themed":"frontend-pencraft-FlexBox-module__border-detail-themed--1jU4Y","border-top-detail-themed":"frontend-pencraft-FlexBox-module__border-top-detail-themed--33rbG","border-bottom-detail-themed":"frontend-pencraft-FlexBox-module__border-bottom-detail-themed--T-d2n","border-radius-4":"frontend-pencraft-FlexBox-module__border-radius-4--1VN7u","border-radius-8":"frontend-pencraft-FlexBox-module__border-radius-8--AUkg5","border-radius-12":"frontend-pencraft-FlexBox-module__border-radius-12--3t110","min-width-0":"frontend-pencraft-FlexBox-module__min-width-0--1cKX1","shadow-sm":"frontend-pencraft-FlexBox-module__shadow-sm--NP0Co","shadow-md":"frontend-pencraft-FlexBox-module__shadow-md--3kqIw","shadow-lg":"frontend-pencraft-FlexBox-module__shadow-lg--3Bufx","bg-primary":"frontend-pencraft-FlexBox-module__bg-primary--223U_","bg-utility-tooltip":"frontend-pencraft-FlexBox-module__bg-utility-tooltip--qjuRs","bg-secondary":"frontend-pencraft-FlexBox-module__bg-secondary--2HGIQ","bg-elevated":"frontend-pencraft-FlexBox-module__bg-elevated--2mv3b",flexGrow:"frontend-pencraft-FlexBox-module__flexGrow--3X_qo",flexAuto:"frontend-pencraft-FlexBox-module__flexAuto--1htIu","overflowY-auto":"frontend-pencraft-FlexBox-module__overflowY-auto--_Vxxp","sizing-border-box":"frontend-pencraft-FlexBox-module__sizing-border-box--3nrG_"},c=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,m=(C,_,T)=>_ in C?c(C,_,{enumerable:!0,configurable:!0,writable:!0,value:T}):C[_]=T,a=(C,_)=>{for(var T in _||(_={}))O.call(_,T)&&m(C,T,_[T]);if(f)for(var T of f(_))b.call(_,T)&&m(C,T,_[T]);return C},n=(C,_)=>d(C,p(_)),r=(C,_)=>{var T={};for(var W in C)O.call(C,W)&&_.indexOf(W)<0&&(T[W]=C[W]);if(C!=null&&f)for(var W of f(C))_.indexOf(W)<0&&b.call(C,W)&&(T[W]=C[W]);return T};const u=C=>{var _,T;return C?typeof C=="object"?[(_=C.desktop)!=null?_:null,(T=C.mobile)!=null?T:null]:[C,null]:[null,null]},v=Object(o.forwardRef)(function(_,T){var W=_,{as:k,className:$,direction:H,flex:g,wrap:M,gap:R,padding:D,paddingX:U,paddingY:L,paddingTop:j,paddingBottom:B,justifyContent:x,alignItems:P,alignSelf:y,minWidth:A,style:K,border:N,borderTop:Y,borderBottom:F,radius:G,shadow:X,bg:q,overflowY:se,sizing:ie}=W,Ee=r(W,["as","className","direction","flex","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","justifyContent","alignItems","alignSelf","minWidth","style","border","borderTop","borderBottom","radius","shadow","bg","overflowY","sizing"]);const Ie=k??"div",[ge,oe]=u(R),[ee,te]=u(D),[le,Q]=u(U),[z,V]=u(L),[ne,re]=u(j),[de,fe]=u(B),[we,Ge]=u(H),[$e,it]=u(M),[st,Rt]=u(x),[Ht,je]=u(P);return Object(e.h)(Ie,a({ref:T,className:s()(h.flex,{[h.flexGrow]:g==="grow",[h.flexAuto]:g==="auto"},h.reset,we!=null&&h[`flex-direction-${we}`],$e!=null&&h[`flex-wrap-${$e}`],st!=null&&h[`flex-justify-${st}`],Ht!=null&&h[`flex-align-${Ht}`],y!=null&&h[`flex-align-self-${y}`],ge!=null&&h[`flex-gap-${ge}`],ee!=null&&h[`padding-${ee}`],le!=null&&h[`padding-x-${le}`],z!=null&&h[`padding-y-${z}`],ne!=null&&h[`padding-top-${ne}`],de!=null&&h[`padding-bottom-${de}`],Ge!=null&&h[`flex-direction-mobile-${Ge}`],it!=null&&h[`flex-wrap-mobile-${it}`],Rt!=null&&h[`flex-justify-mobile-${Rt}`],oe!=null&&h[`flex-gap-mobile-${oe}`],je!=null&&h[`flex-align-mobile-${je}`],te!=null&&h[`padding-mobile-${te}`],Q!=null&&h[`padding-x-mobile-${Q}`],V!=null&&h[`padding-y-mobile-${V}`],re!=null&&h[`padding-top-mobile-${re}`],fe!=null&&h[`padding-bottom-mobile-${fe}`],A!=null&&h[`min-width-${A}`],N&&h[`border-${N}`],Y&&h[`border-top-${Y}`],F&&h[`border-bottom-${F}`],G!=null&&h[`border-radius-${G}`],X&&h[`shadow-${X}`],q!=null&&h[`bg-${q}`],se&&h[`overflowY-${se}`],ie&&h[`sizing-${ie}`],$),style:K},Ee))}),E=v,w=Object(o.forwardRef)(function(_,T){return Object(e.h)(v,n(a({},_),{direction:"column",ref:T}))})},function(S,i,t){"use strict";t.d(i,"a",function(){return E});var e=t(0),o=t(1),l=t(8),s=t.n(l),h=t(6),c=t.n(h),d=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,a=(w,C,_)=>C in w?d(w,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):w[C]=_,n=(w,C)=>{for(var _ in C||(C={}))b.call(C,_)&&a(w,_,C[_]);if(O)for(var _ of O(C))m.call(C,_)&&a(w,_,C[_]);return w},r=(w,C)=>p(w,f(C)),u=(w,C)=>{var _={};for(var T in w)b.call(w,T)&&C.indexOf(T)<0&&(_[T]=w[T]);if(w!=null&&O)for(var T of O(w))C.indexOf(T)<0&&m.call(w,T)&&(_[T]=w[T]);return _};const v=w=>{var C=w,{children:_,className:T=void 0,disabled:W=void 0,loading:k=void 0,type:$="button",href:H=void 0,localNavigation:g=!1,onClick:M=void 0,forwardedRef:R=void 0,newTab:D=void 0}=C,U=u(C,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const L=j=>{if(W||k){j&&j.preventDefault();return}M?M(j):H?Object(l.redirect)(H,{event:j,local_navigation:g,newTab:D}):$!=="submit"&&console.log("No onClick set!")};return Object(e.h)("button",r(n({tabIndex:0},U),{type:$,className:c()("button",T,{disabled:W}),disabled:W||k,onClick:L,ref:R}),k?"Please wait...":_)};i.b=v;const E=Object(o.forwardRef)((w,C)=>{var _=w,{onClick:T,href:W,localNavigation:k,newTab:$}=_,H=u(_,["onClick","href","localNavigation","newTab"]);const g=W?M=>{T&&(T.call(M.target,M),M.defaultPrevented)||Object(l.redirect)(W,{event:M,local_navigation:k,newTab:$})}:T;return Object(e.h)("button",r(n({tabIndex:0},H),{ref:C,onClick:g}))})},function(S,i,t){"use strict";t.d(i,"b",function(){return m}),t.d(i,"a",function(){return a});var e=t(0),o=t(6),l=t.n(o),s={reset:"frontend-pencraft-Text-module__reset--20JLV","align-left":"frontend-pencraft-Text-module__align-left--1CeQx","align-center":"frontend-pencraft-Text-module__align-center--21f80","align-right":"frontend-pencraft-Text-module__align-right--2aSHI","size-12":"frontend-pencraft-Text-module__size-12--2onFT","size-13":"frontend-pencraft-Text-module__size-13--21fY0","size-14":"frontend-pencraft-Text-module__size-14--1PYz8","size-16":"frontend-pencraft-Text-module__size-16--yeezN","size-20":"frontend-pencraft-Text-module__size-20--31m1J","size-24":"frontend-pencraft-Text-module__size-24--1NIKc","size-28":"frontend-pencraft-Text-module__size-28--iXo1C","size-32":"frontend-pencraft-Text-module__size-32--1nfrH","line-height-16":"frontend-pencraft-Text-module__line-height-16--39OeY","line-height-18":"frontend-pencraft-Text-module__line-height-18--huBJO","line-height-20":"frontend-pencraft-Text-module__line-height-20--1soeQ","line-height-22":"frontend-pencraft-Text-module__line-height-22--2MbqA","line-height-24":"frontend-pencraft-Text-module__line-height-24--ePKm2","line-height-28":"frontend-pencraft-Text-module__line-height-28--2mTiH","line-height-30":"frontend-pencraft-Text-module__line-height-30--2cOiC","line-height-32":"frontend-pencraft-Text-module__line-height-32--2t1aw","line-height-40":"frontend-pencraft-Text-module__line-height-40--1FAWP","weight-normal":"frontend-pencraft-Text-module__weight-normal--mEmBf","weight-medium":"frontend-pencraft-Text-module__weight-medium--aTbx5","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--2XLPl","weight-bold":"frontend-pencraft-Text-module__weight-bold--VnIZR","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--20epX","font-display":"frontend-pencraft-Text-module__font-display--v0e_A","font-text":"frontend-pencraft-Text-module__font-text--hJYwu","font-rounded":"frontend-pencraft-Text-module__font-rounded--bMtsZ","font-serif":"frontend-pencraft-Text-module__font-serif--1C_3G","font-monospace":"frontend-pencraft-Text-module__font-monospace--2jtmP","font-meta":"frontend-pencraft-Text-module__font-meta--2i-cR","color-primary":"frontend-pencraft-Text-module__color-primary--2I-sF","color-secondary":"frontend-pencraft-Text-module__color-secondary--XjVGl","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--62EOp","color-success":"frontend-pencraft-Text-module__color-success--qZUEU","color-error":"frontend-pencraft-Text-module__color-error--GdYJn","color-substack":"frontend-pencraft-Text-module__color-substack--27SO1","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--2djqW","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--34HX2","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--Gqdnv","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--3OCNJ","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--38jbr",ellipsis:"frontend-pencraft-Text-module__ellipsis--198Sy",clamp:"frontend-pencraft-Text-module__clamp--1_vjv","clamp-2":"frontend-pencraft-Text-module__clamp-2--26qjc","clamp-4":"frontend-pencraft-Text-module__clamp-4--2drqW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--3BwEz","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--1I94L","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--1YEOr","pb-0":"frontend-pencraft-Text-module__pb-0--2BgQQ","pb-4":"frontend-pencraft-Text-module__pb-4--1Q4gV","pb-8":"frontend-pencraft-Text-module__pb-8--fsDHi","pb-12":"frontend-pencraft-Text-module__pb-12--3L9Eo","pb-16":"frontend-pencraft-Text-module__pb-16--2pK4E","pb-20":"frontend-pencraft-Text-module__pb-20--2E3V4","pb-24":"frontend-pencraft-Text-module__pb-24--2ITOb","pb-28":"frontend-pencraft-Text-module__pb-28--18_st","pb-32":"frontend-pencraft-Text-module__pb-32--2LF3A","pt-0":"frontend-pencraft-Text-module__pt-0--3-0X4","pt-4":"frontend-pencraft-Text-module__pt-4--2_MLp","pt-8":"frontend-pencraft-Text-module__pt-8--3EjbH","pt-12":"frontend-pencraft-Text-module__pt-12--3h7nb","pt-16":"frontend-pencraft-Text-module__pt-16--QgNUx","pt-20":"frontend-pencraft-Text-module__pt-20--1KKoC","pt-24":"frontend-pencraft-Text-module__pt-24--2EAap","pt-28":"frontend-pencraft-Text-module__pt-28--2urL3","pt-32":"frontend-pencraft-Text-module__pt-32--3AB_9",header1:"frontend-pencraft-Text-module__header1--3scFN",header3:"frontend-pencraft-Text-module__header3--1OHdz",body3:"frontend-pencraft-Text-module__body3--2ujZr",body4:"frontend-pencraft-Text-module__body4--flxpT",meta:"frontend-pencraft-Text-module__meta--3RRSj",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--3eMsM",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--2faSI",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--3kVJM",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--3VbJ0",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--1NIXt",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--2Z4pJ",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--1DD9-",marketingBody:"frontend-pencraft-Text-module__marketingBody--3PyNX"},h=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(j,B,x)=>B in j?h(j,B,{enumerable:!0,configurable:!0,writable:!0,value:x}):j[B]=x,O=(j,B)=>{for(var x in B||(B={}))d.call(B,x)&&f(j,x,B[x]);if(c)for(var x of c(B))p.call(B,x)&&f(j,x,B[x]);return j},b=(j,B)=>{var x={};for(var P in j)d.call(j,P)&&B.indexOf(P)<0&&(x[P]=j[P]);if(j!=null&&c)for(var P of c(j))B.indexOf(P)<0&&p.call(j,P)&&(x[P]=j[P]);return x};const m=j=>{var B=j,{as:x,align:P,children:y,className:A,color:K,decoration:N,font:Y,lineHeight:F,transform:G,ellipsis:X,clamp:q,paddingBottom:se,paddingTop:ie,size:Ee,weight:Ie}=B,ge=b(B,["as","align","children","className","color","decoration","font","lineHeight","transform","ellipsis","clamp","paddingBottom","paddingTop","size","weight"]);const oe=x??"div";return Object(e.h)(oe,O({className:l()(s.reset,P&&s[`align-${P}`],Ee&&s[`size-${Ee}`],F&&s[`line-height-${F}`],Ie&&s[`weight-${Ie}`],Y&&s[`font-${Y}`],K&&s[`color-${K}`],G&&s[`transform-${G}`],X&&s.ellipsis,q&&`${s.clamp} ${s[`clamp-${q}`]}`,N&&s[`decoration-${N}`],typeof se=="number"&&s[`pb-${se}`],typeof ie=="number"&&s[`pt-${ie}`],A)},ge),y)},a=j=>Object(e.h)(m,O({as:"span"},j)),n=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h1",font:"display",size:32,weight:"extrabold",color:"primary",className:l()(s.header1,P)},y),x)},r=j=>{var B=j,{children:x}=B,P=b(B,["children"]);return Object(e.h)(m,O({as:"h2",font:"display",size:24,weight:"bold",color:"primary"},P),x)},u=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h3",font:"display",size:20,lineHeight:24,weight:"extrabold",color:"primary",className:l()(s.header3,P)},y),x)},v=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h4",font:"display",size:16,lineHeight:20,weight:"extrabold",color:"primary",className:P},y),x)},E=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({font:"text",size:16,weight:"normal",color:"primary",className:l()(s.body3,P)},y),x)},w=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({font:"text",size:14,weight:"normal",color:"primary",className:l()(s.body4,P)},y),x)},C=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({font:"text",color:"primary",className:l()(s.marketingBody,P)},y),x)},_=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h1",color:"primary",weight:"normal",className:l()(s.marketingHeading1xl,P)},y),x)},T=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h1",color:"primary",weight:"normal",className:l()(s.marketingHeading1,P)},y),x)},W=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h3",color:"primary",weight:"medium",className:l()(s.marketingHeading2,P)},y),x)},k=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h3",color:"primary",weight:"medium",className:l()(s.marketingHeading3,P)},y),x)},$=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h4",color:"primary",weight:"medium",className:l()(s.marketingHeading4,P)},y),x)},H=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h5",color:"primary",weight:"normal",className:l()(s.marketingHeading5,P)},y),x)},g=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({as:"h4",color:"primary",weight:"normal",align:"center",className:l()(s.marketingQuote,P)},y),x)},M=j=>{var B=j,{children:x,className:P}=B,y=b(B,["children","className"]);return Object(e.h)(m,O({color:"secondary",font:"meta",size:12,lineHeight:20,weight:"medium",className:l()(s.meta,P)},y),x)},R=j=>{var B=j,{children:x}=B,P=b(B,["children"]);return Object(e.h)(m,O({as:"h1",font:"display",size:28,weight:"bold",paddingTop:28,paddingBottom:16},P),x)},D=j=>{var B=j,{children:x}=B,P=b(B,["children"]);return Object(e.h)(m,O({as:"h3",font:"display",size:20,weight:"bold"},P),x)},U=j=>{var B=j,{children:x}=B,P=b(B,["children"]);return Object(e.h)(m,O({as:"label",font:"display",lineHeight:20,size:14,weight:"medium"},P),x)},L=j=>{var B=j,{children:x}=B,P=b(B,["children"]);return Object(e.h)(m,O({font:"rounded",size:12,lineHeight:20},P),x)};m.H1=n,m.H2=r,m.H3=u,m.H4=v,m.B3=E,m.B4=w,m.MarketingBody=C,m.MarketingHeading1xl=_,m.MarketingHeading1=T,m.MarketingHeading2=W,m.MarketingHeading3=k,m.MarketingHeading4=$,m.MarketingHeading5=H,m.MarketingQuote=g,m.Meta=M,m.PageTitle=R,m.SectionHeader=D,m.InputLabel=U},function(S,i,t){var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(m,a,n)=>a in m?e(m,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[a]=n,p=(m,a)=>{for(var n in a||(a={}))h.call(a,n)&&d(m,n,a[n]);if(s)for(var n of s(a))c.call(a,n)&&d(m,n,a[n]);return m},f=(m,a)=>o(m,l(a));const O=t(294);S.exports=O,O.extend(t(423)).extend(t(424)).extend(t(425)).extend(t(426)).extend(t(427)).extend(t(268)).extend(t(428)).extend(t(429)).extend(t(430)).extend(t(431)).extend(t(432)).extend(t(433)).extend(t(434)).extend(t(435)).extend(t(436)).extend(t(437)).extend(t(268)).extend(b);function b(m,a,n){a.prototype.standardDateOrTime=function({long:E=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const{secondsToLargestUnit:w}=t(7),C=n().diff(this,"seconds");return C<60?"just now":`${w(C,{long:E})} ago`}},a.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},a.prototype.readerDateTime=function(){const E=this.diff(n(),"day");let w;return E===0?w=this.format("h:mm a"):E===-1?w="Yesterday":E>-7?w=this.standardDate():w=this.standardDate(),w},a.prototype.standardDate=function({full:E=!1}={}){return!E&&this.isSame(n(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},a.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===n().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},a.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===n().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},a.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},a.prototype.standardDatetimeWithYear=function(){const E=n().year();return this.year()!=E?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},a.prototype.min=function(...E){let w=this;for(let C of E)C=n(C),w.isAfter(C)&&(w=C);return w},a.prototype.max=function(...E){let w=this;for(let C of E)C=n(C),w.isBefore(C)&&(w=C);return w},a.prototype.minNow=function(){return this.min(n())},a.prototype.maxNow=function(){return this.max(n())},a.prototype.isBeforeNow=function(E){return this.isBefore(n(),E)},a.prototype.isAfterNow=function(E){return this.isAfter(n(),E)},a.prototype.isSameNow=function(E){return this.isSame(n(),E)};const r=n.en,u=f(p({},r),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),v=n.locale();n.locale("enshort",u),n.locale(v),a.prototype.fromNowShort=function(){return r?this.locale("enshort").fromNow():this.fromNow()}}},,function(S,i,t){"use strict";t.d(i,"b",function(){return g}),t.d(i,"a",function(){return M.a}),t.d(i,"x",function(){return K}),t.d(i,"u",function(){return N}),t.d(i,"B",function(){return Y}),t.d(i,"l",function(){return F}),t.d(i,"k",function(){return G}),t.d(i,"N",function(){return X}),t.d(i,"A",function(){return q}),t.d(i,"z",function(){return se}),t.d(i,"s",function(){return ie}),t.d(i,"p",function(){return Ee}),t.d(i,"f",function(){return Ie}),t.d(i,"F",function(){return ge}),t.d(i,"t",function(){return oe}),t.d(i,"h",function(){return ee}),t.d(i,"L",function(){return te}),t.d(i,"n",function(){return le}),t.d(i,"P",function(){return Q}),t.d(i,"O",function(){return z}),t.d(i,"H",function(){return V}),t.d(i,"E",function(){return ne}),t.d(i,"w",function(){return re}),t.d(i,"c",function(){return n.b}),t.d(i,"d",function(){return n.c}),t.d(i,"y",function(){return de}),t.d(i,"q",function(){return fe}),t.d(i,"v",function(){return we}),t.d(i,"r",function(){return Ge}),t.d(i,"m",function(){return $e}),t.d(i,"M",function(){return it}),t.d(i,"J",function(){return st}),t.d(i,"C",function(){return Rt}),t.d(i,"K",function(){return Ht}),t.d(i,"j",function(){return je}),t.d(i,"i",function(){return Oe}),t.d(i,"I",function(){return be}),t.d(i,"e",function(){return he}),t.d(i,"G",function(){return Ce}),t.d(i,"D",function(){return De}),t.d(i,"g",function(){return Xe}),t.d(i,"o",function(){return Et});var e=t(0),o=t(1),l=t(2),s=t(81),h=t(6),c=t.n(h),d=t(25),p=t(8),f=t(286),O=t(57),b=t(611),m=t(612),a=t(13),n=t(11),r=t(72),u={pageStack:"frontend-reader2-Page-module__pageStack--1UE8v",gap_8:"frontend-reader2-Page-module__gap_8--29h05",gap_16:"frontend-reader2-Page-module__gap_16--96PAe",linkRow:"frontend-reader2-Page-module__linkRow--1QoCL",isPadded:"frontend-reader2-Page-module__isPadded--Gbh4N",linkRowA:"frontend-reader2-Page-module__linkRowA--1qCj1",isClickable:"frontend-reader2-Page-module__isClickable--2TZNy",isSelectable:"frontend-reader2-Page-module__isSelectable--2HsPv",isSelected:"frontend-reader2-Page-module__isSelected--hKXLf",zero:"frontend-reader2-Page-module__zero--26XB8",hoverLink:"frontend-reader2-Page-module__hoverLink--2Ojz_",placeholder:"frontend-reader2-Page-module__placeholder--3zL40",travel:"frontend-reader2-Page-module__travel--3lgjX",bar:"frontend-reader2-Page-module__bar--3vHHX"},v=t(54),E=t(104),w={container:"frontend-reader2-DrunkSpinner-module__container--2ZTeC",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--gxqKi",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--1a9jP"},C=Object.defineProperty,_=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,k=(Qe,rt,ke)=>rt in Qe?C(Qe,rt,{enumerable:!0,configurable:!0,writable:!0,value:ke}):Qe[rt]=ke,$=(Qe,rt)=>{for(var ke in rt||(rt={}))T.call(rt,ke)&&k(Qe,ke,rt[ke]);if(_)for(var ke of _(rt))W.call(rt,ke)&&k(Qe,ke,rt[ke]);return Qe},H=(Qe,rt)=>{var ke={};for(var jt in Qe)T.call(Qe,jt)&&rt.indexOf(jt)<0&&(ke[jt]=Qe[jt]);if(Qe!=null&&_)for(var jt of _(Qe))rt.indexOf(jt)<0&&W.call(Qe,jt)&&(ke[jt]=Qe[jt]);return ke};function g(Qe){var rt=Qe,{className:ke}=rt,jt=H(rt,["className"]);return Object(e.h)(n.a,$({justifyContent:"center",alignItems:"center",className:c()(w.container,ke)},jt),Object(e.h)("div",{className:w.drunkSpinner}))}var M=t(219),R=Object.defineProperty,D=Object.defineProperties,U=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,x=(Qe,rt,ke)=>rt in Qe?R(Qe,rt,{enumerable:!0,configurable:!0,writable:!0,value:ke}):Qe[rt]=ke,P=(Qe,rt)=>{for(var ke in rt||(rt={}))j.call(rt,ke)&&x(Qe,ke,rt[ke]);if(L)for(var ke of L(rt))B.call(rt,ke)&&x(Qe,ke,rt[ke]);return Qe},y=(Qe,rt)=>D(Qe,U(rt)),A=(Qe,rt)=>{var ke={};for(var jt in Qe)j.call(Qe,jt)&&rt.indexOf(jt)<0&&(ke[jt]=Qe[jt]);if(Qe!=null&&L)for(var jt of L(Qe))rt.indexOf(jt)<0&&B.call(Qe,jt)&&(ke[jt]=Qe[jt]);return ke};function K({children:Qe}){const rt=Object(r.b)();return Object(e.h)(de,null,rt?Object(e.h)(a.b.H2,{weight:"extrabold"},Qe):Object(e.h)(a.b.H1,null,Qe))}function N({className:Qe,children:rt,title:ke,hasTitle:jt}){return Object(e.h)("div",{className:c()("reader2-page-section",(ke||jt)&&"withTitle",Qe)},ke&&Object(e.h)(Y,null,ke),rt)}function Y({children:Qe,className:rt,actions:ke}){return Object(e.h)("div",{class:c()("reader2-section-title",rt)},Object(e.h)("span",{className:"reader2-text-h3 reader2-section-title"},Qe),ke&&Object(e.h)("div",{class:"reader2-header-actions"},ke))}function F(Qe){var rt=Qe,{isPadded:ke=!0,className:jt,linkClassName:Nt}=rt,rn=A(rt,["isPadded","className","linkClassName"]);return Object(e.h)("div",{className:c()(u.linkRow,ke&&u.isPadded,jt)},Object(e.h)(G,y(P({},rn),{className:Nt})))}function G(Qe){var rt=Qe,{children:ke,className:jt,href:Nt,newTab:rn,onClick:sn,noAnchor:dt,native:mt,utmCampaign:gt,utmSource:ze,isSelected:ue}=rt,bt=A(rt,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const wt=typeof location!="undefined"?location.pathname:"",It=!dt&&Nt!=null?"a":"div",We=Nt&&Object(v.pathWithQuery)(Nt,{utm_source:ze||wt,utm_medium:"reader2",utm_campaign:gt}),lt=Ae=>{sn&&sn(Ae),!Ae.defaultPrevented&&dt&&We&&Object(f.a)(Ae,We,{native:mt,newTab:rn})};return Object(e.h)(n.a,P({as:It,className:c()(u.linkRowA,jt,(We||sn)&&ue==null&&u.isClickable,ue&&u.isSelected,ue!=null&&u.isSelectable),"data-selected":ue,href:We,target:rn?"_blank":void 0,onClick:lt},bt),ke)}function X({icon:Qe,title:rt,text:ke,action:jt,className:Nt}){return Object(e.h)(n.b,{gap:16,className:c()(u.zero,Nt)},Qe,Object(e.h)(n.b,{gap:4},Object(e.h)(a.b.H4,{weight:"bold",color:"secondary"},rt),Object(e.h)(a.b.B4,{color:"secondary"},ke)),jt)}function q({className:Qe,style:rt,type:ke,width:jt,height:Nt,size:rn,maxWidth:sn}){rn!=null&&(jt=rn,Nt=rn);const dt=ke==="bar";return Object(e.h)("div",{className:c()(u.placeholder,Qe,dt&&u.bar),style:y(P({},rt),{width:jt,height:Nt,maxWidth:sn})})}function se(Qe){var rt=Qe,{className:ke,variant:jt,size:Nt,serif:rn,isConstrained:sn,maxLines:dt=3}=rt,mt=A(rt,["className","variant","size","serif","isConstrained","maxLines"]);return Object(e.h)("div",P({className:c()("reader2-paragraph",jt&&`reader2-${jt}`,Nt&&`reader2-font-${Nt}`,rn&&"reader2-font-serif",sn&&`reader2-clamp-lines reader2-${dt}-lines`,ke)},mt))}function ie({className:Qe,children:rt}){return Object(e.h)("div",{className:c()("reader-nav-center",Qe)},Object(e.h)("div",{className:"reader2-page reader2-font-base"},rt))}function Ee({className:Qe,scrollRef:rt,children:ke}){return Object(e.h)(oe,{ref:rt},Object(e.h)(ie,{className:Qe},ke))}function Ie(Qe){var rt=Qe,{scrollRef:ke}=rt,jt=A(rt,["scrollRef"]);return Object(e.h)(oe,{ref:ke},Object(e.h)(n.a,y(P({},jt),{flex:"grow",paddingX:{mobile:0,desktop:24}})))}function ge(Qe){return Object(s.useMediaQuery)({minWidth:1100})?Object(e.h)(n.b,P({className:"reader2-inbox-sidebar",paddingTop:16},Qe)):null}const oe=Object(o.forwardRef)((Qe,rt)=>{const{onPageScroll:ke}=Object(E.b)();return Object(e.h)("div",P({className:"reader-nav-page-scroll",onScroll:ke,ref:rt},Qe))}),ee=Object(o.forwardRef)((Qe,rt)=>{var ke=Qe,{className:jt,hasError:Nt}=ke,rn=A(ke,["className","hasError"]);return Object(e.h)("input",y(P({className:c()("reader2-input",Nt&&"error",jt)},rn),{ref:rt}))});function te(Qe){var rt=Qe,{className:ke,hasError:jt}=rt,Nt=A(rt,["className","hasError"]);return Object(e.h)("textarea",P({className:c()("reader2-input reader2-textarea",jt&&"error",ke)},Nt))}function le({error:Qe}){return Object(e.h)(he,null,Object(p.getNetworkErrorMessage)(Qe))}const Q=({header:Qe,icon:rt,title:ke,text:jt,action:Nt})=>Object(e.h)(N,{title:Qe},Object(e.h)(z,{icon:rt,title:ke,text:jt,action:Nt}));function z(Qe){return Object(e.h)(tt,{className:"reader2-empty-section"},Object(e.h)(X,P({},Qe)))}function V({tabs:Qe,value:rt,onChange:ke}){const[jt,Nt]=Object(l.k)({showLeft:!1,showRight:!1}),rn=Object(l.j)();Object(l.d)(()=>{const{current:dt}=rn;if(dt){const mt=()=>{Nt(gt=>{let ze=gt;!ze.showLeft&&dt.scrollLeft>0?ze=y(P({},gt),{showLeft:!0}):ze.showLeft&&dt.scrollLeft<=0&&(ze=y(P({},gt),{showLeft:!1}));const ue=dt.scrollWidth-dt.offsetWidth-4;return!ze.showRight&&dt.scrollLeft<ue?ze=y(P({},gt),{showRight:!0}):ze.showRight&&dt.scrollLeft>=ue&&(ze=y(P({},gt),{showRight:!1})),ze})};return dt.addEventListener("scroll",mt),setTimeout(()=>{mt()},1e3),()=>{dt.removeEventListener("scroll",mt)}}},[]);const sn=dt=>()=>{const{current:mt}=rn;mt&&mt.scrollBy({left:dt*mt.offsetWidth,behavior:"smooth"})};return Object(e.h)(n.c,{className:"reader2-tab-bar-parent"},jt.showLeft&&Object(e.h)("div",{className:"reader2-carousel-fade left"},Object(e.h)("div",{className:"bg"}),Object(e.h)(O.a,{look:"reset",className:"reader2-carousel-arrow left",onClick:sn(-1)},Object(e.h)(b.a,null))),Object(e.h)(n.c,{className:"reader2-tab-bar",ref:rn},Qe.map(dt=>Object(e.h)("button",{className:c()("reader2-button-reset reader2-tab",rt===dt.value&&"active"),onClick:()=>ke(dt.value)},dt.label))),jt.showRight&&Object(e.h)("div",{className:"reader2-carousel-fade right"},Object(e.h)("div",{className:"bg"}),Object(e.h)(O.a,{look:"reset",className:"reader2-carousel-arrow",onClick:sn(1)},Object(e.h)(m.a,null))))}function ne({children:Qe}){const rt=Object(l.j)();return Object(l.g)(()=>{const ke=rt.current;if(ke&&ke.parentElement){const jt=ke.parentElement.getBoundingClientRect(),Nt=16;Object.assign(ke.style,{position:"fixed",top:`${jt.top+Nt}px`,right:0,bottom:`${Nt}px`})}},[]),Object(e.h)(n.b,{className:"reader2-inbox-sidebar-fixed",ref:rt},Qe)}function re(Qe){var rt=Qe,{gap:ke=16}=rt,jt=A(rt,["gap"]);return Object(e.h)(n.b,y(P({},jt),{className:c()(u.pageStack,u[`gap_${ke}`])}))}const de=Object(d.a)("reader2-page-top"),fe=Object(d.a)("reader2-page-body"),we=Object(d.a)(u.pageStack),Ge=Object(d.a)("reader2-page-center"),$e=Object(d.a)("reader2-modal-title-text"),it=Object(d.a)("reader2-column tw-flex tw-flex-col tw-gap-4"),st=Object(d.a)("reader2-text-h3"),Rt=Object(d.a)("reader2-text-h3 reader2-section-title"),Ht=Object(d.a)("reader2-text-h4"),je=Object(d.a)("reader2-item-title"),Oe=Object(d.a)("reader2-item-meta"),be=Object(d.a)("reader2-text-b4"),he=Object(d.a)("reader2-form-error"),Ce=Object(d.a)("reader2-subtitle"),De=Object(d.a)("reader2-separator","hr"),Se=Object(d.a)("reader2-page-section withTitle"),Le=Object(d.a)("reader2-row reader2-split-row"),tt=Object(d.a)("reader2-emphasis-box"),Xe=Object(d.a)(u.hoverLink,"a");function Et(Qe){return Object(e.h)(Xe,P({target:"_blank"},Qe))}},,,,,function(S,i,t){"use strict";t.d(i,"a",function(){return a}),t.d(i,"b",function(){return D}),t.d(i,"c",function(){return W}),t.d(i,"d",function(){return g});var e=t(303);function o(U,L){U.prototype=Object.create(L.prototype),U.prototype.constructor=U,Object(e.a)(U,L)}var l=t(1),s=t(231),h=t(353),c=!0;function d(U,L,j){var B="";return j.split(" ").forEach(function(x){U[x]!==void 0?L.push(U[x]):B+=x+" "}),B}var p=function(L,j,B){var x=L.key+"-"+j.name;if((B===!1||c===!1&&L.compat!==void 0)&&L.registered[x]===void 0&&(L.registered[x]=j.styles),L.inserted[j.name]===void 0){var P=j;do{var y=L.insert("."+x,P,L.sheet,!0);P=P.next}while(P!==void 0)}},f=t(164),O=Object.prototype.hasOwnProperty,b=Object(l.createContext)(typeof HTMLElement!="undefined"?Object(s.a)():null),m=Object(l.createContext)({}),a=b.Provider,n=function(L){var j=function(x,P){return Object(l.createElement)(b.Consumer,null,function(y){return L(x,y,P)})};return Object(l.forwardRef)(j)},r=function(L){return L.replace(/\$/g,"-")},u="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",v="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",E=function(L,j){var B={};for(var x in j)O.call(j,x)&&(B[x]=j[x]);if(B[u]=L,!1)var P,y;return B},w=function(L,j,B,x){var P=B===null?j.css:j.css(B);typeof P=="string"&&L.registered[P]!==void 0&&(P=L.registered[P]);var y=j[u],A=[P],K="";typeof j.className=="string"?K=d(L.registered,A,j.className):j.className!=null&&(K=j.className+" ");var N=Object(f.a)(A);if(!1)var Y;var F=p(L,N,typeof y=="string");K+=L.key+"-"+N.name;var G={};for(var X in j)O.call(j,X)&&X!=="css"&&X!==u&&(G[X]=j[X]);G.ref=x,G.className=K;var q=Object(l.createElement)(y,G);return q},C=n(function(U,L,j){return typeof U.css=="function"?Object(l.createElement)(m.Consumer,null,function(B){return w(L,U,B,j)}):w(L,U,null,j)}),_=t(304),T=t(140),W=function(L,j){var B=arguments;if(j==null||!O.call(j,"css"))return l.createElement.apply(void 0,B);var x=B.length,P=new Array(x);P[0]=C,P[1]=E(L,j);for(var y=2;y<x;y++)P[y]=B[y];return l.createElement.apply(null,P)},k=!1,$=n(function(U,L){var j=U.styles;if(typeof j=="function")return Object(l.createElement)(m.Consumer,null,function(x){var P=Object(f.a)([j(x)]);return Object(l.createElement)(H,{serialized:P,cache:L})});var B=Object(f.a)([j]);return Object(l.createElement)(H,{serialized:B,cache:L})}),H=function(U){o(L,U);function L(B,x,P){return U.call(this,B,x,P)||this}var j=L.prototype;return j.componentDidMount=function(){this.sheet=new _.a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var x=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');x!==null&&this.sheet.tags.push(x),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},j.componentDidUpdate=function(x){x.serialized.name!==this.props.serialized.name&&this.insertStyles()},j.insertStyles=function(){if(this.props.serialized.next!==void 0&&p(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var x=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=x,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},j.componentWillUnmount=function(){this.sheet.flush()},j.render=function(){return null},L}(l.Component),g=function(){var L=T.a.apply(void 0,arguments),j="animation-"+L.name;return{name:j,styles:"@keyframes "+j+"{"+L.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},M=function U(L){for(var j=L.length,B=0,x="";B<j;B++){var P=L[B];if(P!=null){var y=void 0;switch(typeof P){case"boolean":break;case"object":{if(Array.isArray(P))y=U(P);else{y="";for(var A in P)P[A]&&A&&(y&&(y+=" "),y+=A)}break}default:y=P}y&&(x&&(x+=" "),x+=y)}}return x};function R(U,L,j){var B=[],x=d(U,B,j);return B.length<2?j:x+L(B)}var D=n(function(U,L){return Object(l.createElement)(m.Consumer,null,function(j){var B=!1,x=function(){for(var N=arguments.length,Y=new Array(N),F=0;F<N;F++)Y[F]=arguments[F];var G=Object(f.a)(Y,L.registered);return p(L,G,!1),L.key+"-"+G.name},P=function(){for(var N=arguments.length,Y=new Array(N),F=0;F<N;F++)Y[F]=arguments[F];return R(L.registered,x,M(Y))},y={css:x,cx:P,theme:j},A=U.children(y);return B=!0,A})})},function(S,i,t){"use strict";t.d(i,"a",function(){return w}),t.d(i,"e",function(){return _}),t.d(i,"i",function(){return W}),t.d(i,"g",function(){return k}),t.d(i,"h",function(){return $}),t.d(i,"c",function(){return H}),t.d(i,"b",function(){return g}),t.d(i,"d",function(){return M}),t.d(i,"f",function(){return R});var e=t(2),o=t(10),l=t.n(o),s=t(167),h=t.n(s),c=t(8),d=t.n(c),p=Object.defineProperty,f=Object.defineProperties,O=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(D,U,L)=>U in D?p(D,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):D[U]=L,r=(D,U)=>{for(var L in U||(U={}))m.call(U,L)&&n(D,L,U[L]);if(b)for(var L of b(U))a.call(U,L)&&n(D,L,U[L]);return D},u=(D,U)=>f(D,O(U)),v=(D,U)=>{var L={};for(var j in D)m.call(D,j)&&U.indexOf(j)<0&&(L[j]=D[j]);if(D!=null&&b)for(var j of b(D))U.indexOf(j)<0&&a.call(D,j)&&(L[j]=D[j]);return L},E=(D,U,L)=>new Promise((j,B)=>{var x=A=>{try{y(L.next(A))}catch(K){B(K)}},P=A=>{try{y(L.throw(A))}catch(K){B(K)}},y=A=>A.done?j(A.value):Promise.resolve(A.value).then(x,P);y((L=L.apply(D,U)).next())});const w={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function C(D,U,{auto:L,initialResult:j}={}){const[B,x]=Object(e.k)({result:j||null,isLoading:Boolean(L),hasLoadedOnce:!1,error:null}),P=()=>{x(u(r({},B),{error:null}))},y=(K={})=>{var N=K,{abortController:Y=new h.a}=N,F=v(N,["abortController"]);return x(G=>u(r({},G),{isLoading:!0,error:null})),D(u(r({},F),{signal:Y.signal})).then(G=>{if(!Y.signal.aborted)return x({isLoading:!1,hasLoadedOnce:!0,error:null,result:G}),G},G=>{if(!Y.signal.aborted)return x(X=>u(r({},X),{isLoading:!1,error:G,result:null})),G})},A=K=>{x(N=>u(r({},N),{error:null,result:K,isLoading:!1}))};return Object(e.d)(()=>{if(L){const K=new h.a;return y({abortController:K}),()=>{K.abort()}}},U||[]),u(r({},B),{refetch:y,setResult:A,clearError:P})}function _(D,U){switch(U.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const L=D.slice(),{page:j}=U.payload;return L[j]={result:null,isLoading:!0,error:null},L}case"page_load":{const L=D.slice(),{page:j,result:B}=U.payload;return L[j]={result:B,isLoading:!1,error:null},L}case"page_error":{const L=D.slice(),{page:j,error:B}=U.payload;return L[j]={error:B,isLoading:!1,result:null},L}}return D}function T(D,U,{auto:L,initialResult:j,pages:B,dispatch:x}={}){var P;const[y,A]=Object(e.i)(_,[{result:j||null,isLoading:Boolean(L),error:null}]),K=B??y,N=x??A,Y=(se={})=>{var ie=se,{abortController:Ee=new h.a,page:Ie=K.length}=ie,ge=v(ie,["abortController","page"]);const oe=K[Ie-1];return N({type:"page_start",payload:{page:Ie}}),D({options:ge,signal:Ee.signal,page:Ie,lastPage:oe}).then(ee=>{if(!Ee.signal.aborted)return N({type:"page_load",payload:{page:Ie,result:ee}}),ee},ee=>{if(!Ee.signal.aborted)return N({type:"page_error",payload:{page:Ie,error:ee}}),ee})},F=se=>(N({type:"page_reset"}),Y(u(r({},se),{page:0})));Object(e.d)(()=>{if(L){const se=new h.a;return F({abortController:se}),()=>{se.abort()}}},U||[]);let G=!1;const X=()=>E(this,null,function*(){if(!G){const se=K[K.length-1];if(!se.isLoading&&!se.error)return G=!0,yield Y()}}),q=K[K.length-1];return{pages:K,page:K.length,lastPage:q,fetchMore:X,canFetchMore:q&&!q.isLoading&&!q.error,fetchFirstPage:F,hasLoadedOnce:Boolean((P=K[0])==null?void 0:P.result)}}function W(D){var U=D,{auto:L,initialResult:j,deps:B}=U,x=v(U,["auto","initialResult","deps"]);return C(P=>E(this,null,function*(){var y=P,{signal:A}=y,K=v(y,["signal"]);const{pathname:N="",query:Y,body:F,method:G="get"}=r(r({},x),K),X=l()(G.toUpperCase(),N);Y&&X.query(Y),F&&X.send(F),A.addEventListener("abort",()=>{X.abort()});const q=yield X;if(A.aborted)return;const se=q.error;if(se)throw se;return q.body}),B||[],{auto:L,initialResult:j})}function k(D){var U=D,{pathname:L,auto:j,initialResult:B,deps:x}=U,P=v(U,["pathname","auto","initialResult","deps"]);return C(y=>{if(!L)throw new Error("useFetch requires a pathname");return H(L,r(r({},P),y))},x||[],{auto:j,initialResult:B})}function $(D){var U=D,{pathname:L,auto:j,initialResult:B,deps:x,getPageInit:P,pages:y,dispatch:A}=U,K=v(U,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return T(({page:N,lastPage:Y,options:F})=>{if(!L)throw new Error("useFetch requires a pathname");const G=P({init:r(r({},K),F),page:N,lastPage:Y});return H(L,G)},x||[],{auto:j,initialResult:B,pages:y,dispatch:A})}function H(D,U){return E(this,null,function*(){const j=r({cache:"no-cache"},U),{query:B,json:x}=j,P=v(j,["query","json"]);let y=D;if(B){let K;B instanceof URLSearchParams?K=B:K=new URLSearchParams(Object.entries(B).filter(([Y,F])=>F!==void 0));const N=K.toString();N&&(y+=`?${N}`)}x&&(P.body=JSON.stringify(x),P.headers instanceof Headers||(P.headers=new Headers(P.headers)),P.headers.set("Content-Type","application/json"));const A=yield fetch(y,P);if(!A.ok){let K;try{K=yield A.json()}catch(N){K={}}throw new g(A,K)}return A.json()})}class g extends Error{constructor(U,L){super();this.response=U,this.body=L}getMessage(U){return Object(c.getNetworkErrorMessageFromResponse)(this.body,U)}}function M(D,U="Something went wrong."){return D instanceof g?D.getMessage():U}function R(D,U,L){const[j,B]=Object(e.k)(null);return Object(e.a)((...x)=>{clearTimeout(j),B(null),B(setTimeout(()=>D(...x),U))},[j,...L])}},function(S,i,t){"use strict";t.d(i,"a",function(){return a});var e=t(0),o=t(6),l=t.n(o),s=t(35),h=t(107),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(E,w,C)=>w in E?c(E,w,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[w]=C,b=(E,w)=>{for(var C in w||(w={}))p.call(w,C)&&O(E,C,w[C]);if(d)for(var C of d(w))f.call(w,C)&&O(E,C,w[C]);return E},m=(E,w)=>{var C={};for(var _ in E)p.call(E,_)&&w.indexOf(_)<0&&(C[_]=E[_]);if(E!=null&&d)for(var _ of d(E))w.indexOf(_)<0&&f.call(E,_)&&(C[_]=E[_]);return C};function a(E){var w=E,{className:C,variant:_,look:T="button",fill:W="outline",fixedHeight:k=!0,size:$="medium",leftIcon:H,rightIcon:g,noPadding:M=!1,forwardedRef:R,children:D}=w,U=m(w,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return Object(e.h)(s.c,b({className:l()(C,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!v.includes(T)&&"tw-bg-transparent",r.includes(T)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${h.d}`,u.includes(T)&&!M&&"tw-px-5",k||T=="round"?$==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",T==="button"&&"tw-rounded",T==="round"&&["tw-rounded-full tw-px-4",H&&"tw-pl-[10px]",g&&"tw-pr-[10px]"],T==="circle"&&["tw-justify-center tw-rounded-full",$==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],T==="text"&&`tw-inline ${n}`,T==="reset"&&`tw-inline-block ${n}`,T==="flex"&&`tw-flex ${n}`,_==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(T)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:_==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(T)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:_==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(T)?W==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:_==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:_==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(T)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:_==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(T)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:_==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(T)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:R},U),H,D,g)}const n="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",r=["button","borderless","circle","round"],u=["button","borderless"],v=["button","circle","round"]},,function(S,i,t){"use strict";var e=t(66);t.d(i,"a",function(){return e.a})},function(S,i,t){"use strict";t.d(i,"b",function(){return v}),t.d(i,"a",function(){return E});var e=t(0),o=t(6),l=t.n(o),s=t(12),h=t(23),c=t(38),d=t(8),p=t.n(d),f=Object.defineProperty,O=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,a=(w,C,_)=>C in w?f(w,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):w[C]=_,n=(w,C)=>{for(var _ in C||(C={}))b.call(C,_)&&a(w,_,C[_]);if(O)for(var _ of O(C))m.call(C,_)&&a(w,_,C[_]);return w},r=(w,C,_)=>(a(w,typeof C!="symbol"?C+"":C,_),_),u=(w,C,_)=>new Promise((T,W)=>{var k=g=>{try{H(_.next(g))}catch(M){W(M)}},$=g=>{try{H(_.throw(g))}catch(M){W(M)}},H=g=>g.done?T(g.value):Promise.resolve(g.value).then(k,$);H((_=_.apply(w,C)).next())});class v extends e.Component{constructor(C,_){super(C,_);r(this,"onDocumentKeyDown",T=>{T.key==="Escape"&&!this.props.noExit&&!Object(d.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(C){C&&(this._callback=C);const _=document.getElementsByTagName("html")[0];Object(d.hasClass)(_,"modal-in")||Object(d.addClass)(_,"modal-in"),this.setState({display:!0,open:!0})}open(C){return u(this,null,function*(){C&&(this._callback=C);const _=document.getElementsByTagName("html")[0];Object(d.hasClass)(_,"modal-in")||Object(d.addClass)(_,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(T=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),T()})},50)})})})}close(C){return u(this,null,function*(){this.onBeforeClose(C)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(C)===!1||(Object(d.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(_=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(C),this.props.onClose&&this.props.onClose(C),this._callback&&this._callback(C),_()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(C){var _,T;C.stopPropagation(),(T=(_=this.props).onClick)==null||T.call(_,C),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&C.target&&this.container&&this.close()}onClickInner(C){var _,T;C.stopPropagation(),(T=(_=this.props).onClick)==null||T.call(_,C)}render(){const C=this.state.open?"in":"out",_=this.state.display===!1?"gone":"",T=this.props.variant==="structured";return Object(e.h)("div",{className:l()("modal typography",C,_,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":T,popup:this.popup}),onClick:W=>this.onClickOuter(W),"data-testid":this.props.testID,role:"dialog"},Object(e.h)("div",{className:"modal-table"},Object(e.h)("div",{className:"modal-row"},Object(e.h)("div",{ref:W=>this.content=W,className:l()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},Object(e.h)("div",n({className:l()({container:!T}),ref:W=>this.container=W,onClick:W=>this.onClickInner(W)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||Object(d.isMobileBrowser)())&&(T?Object(e.h)("div",{className:"structured-modal__close-button"},Object(e.h)(h.a,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},Object(e.h)(c.default,null))):Object(e.h)(s.b,{"data-testid":"close-modal",className:l()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},Object(e.h)(c.default,null))),T?Object(e.h)("div",{className:"structured-modal__wrapper"},Object(e.h)("div",{className:"structured-modal__header"},this.props.modalTitle?Object(e.h)("h3",null,this.props.modalTitle):Object(e.h)("h3",null,"\xA0")),Object(e.h)("div",{className:"structured-modal__body"},Object(e.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&Object(e.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:C}){return C}}class E extends v{constructor(C,_){super(C,_);this.popup=!0}}},function(S,i,t){"use strict";t.d(i,"e",function(){return v}),t.d(i,"f",function(){return E}),t.d(i,"c",function(){return w}),t.d(i,"d",function(){return C}),t.d(i,"b",function(){return _}),t.d(i,"a",function(){return T}),t.d(i,"g",function(){return W});var e=t(0),o=t(10),l=t.n(o),s=t(5),h=t(7),c=t.n(h),d=t(6),p=t.n(d),f=Object.defineProperty,O=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,a=(k,$,H)=>$ in k?f(k,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):k[$]=H,n=(k,$)=>{for(var H in $||($={}))b.call($,H)&&a(k,H,$[H]);if(O)for(var H of O($))m.call($,H)&&a(k,H,$[H]);return k},r=(k,$)=>{var H={};for(var g in k)b.call(k,g)&&$.indexOf(g)<0&&(H[g]=k[g]);if(k!=null&&O)for(var g of O(k))$.indexOf(g)<0&&m.call(k,g)&&(H[g]=k[g]);return H},u=(k,$,H)=>new Promise((g,M)=>{var R=L=>{try{U(H.next(L))}catch(j){M(j)}},D=L=>{try{U(H.throw(L))}catch(j){M(j)}},U=L=>L.done?g(L.value):Promise.resolve(L.value).then(R,D);U((H=H.apply(k,$)).next())});function v(k,$){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const H={};return $?h.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes($.stripe_country)&&(H.stripeAccount=$.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(k,H)}function E(k){return k.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}class w extends e.Component{componentDidMount(){this.props.card&&this.props.card.mount(this.cardElement)}componentWillUnmount(){if(this.props.card)try{this.props.card.unmount(this.cardElement)}catch($){}}render({className:$,card:H}){if(!!H)return Object(e.h)("div",{className:`fancy-stripe ${$||""}`},Object(e.h)("div",{ref:g=>this.cardElement=g}))}}class C extends e.Component{constructor($,H){super($,H);if($.stripe&&$.pub.stripe_country){Object(s.i)(s.a.APPLE_PAY_SETUP_STARTED);try{const g=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),M=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:g});this.state={paymentRequest:g,stripeButton:M}}catch(g){console.error(g),Object(s.i)(s.a.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return u(this,null,function*(){let $=!1;if(this.state.paymentRequest){try{const H=yield this.state.paymentRequest.canMakePayment();H&&H.applePay&&($=!0)}catch(H){console.error(H)}Object(s.i)(s.a.APPLE_PAY_SETUP_FINISHED,{success:$})}yield this.setState({canMount:$}),$?(this.button||(yield new Promise(H=>setTimeout(H,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",H=>this.onTokenReceived(H)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate($){let H=!1;for(const g of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if($[g]!==this.props[g]||g==="coupon"&&$[g]&&$[g].loading&&(!this.props[g]||!this.props[g].loading)){H=!0;break}!H||this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch($){}}onTokenReceived($){return u(this,null,function*(){Object(s.i)(s.a.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:$.payerEmail,name:$.payerName,stripe_token:$.token}),$.complete("success"),Object(s.i)(s.a.APPLE_PAY_SUCCEEDED)}catch(H){console.error("Apple Pay submission failed:",$,H),$.complete("fail"),Object(s.i)(s.a.APPLE_PAY_FAILED,{reason:H.message})}})}getPaymentTotal(){const{pub:$,plan:H,quantity:g,coupon:M,notRecurring:R,variableAmount:D}=this.props;let U=0,L=Math.max(0,H.trial_period_days||0,M&&!M.error&&!M.loading&&M.trial_period_days||0,$.trial_end_override&&Math.ceil(($.trial_end_override-Date.now()/1e3)/60/60/24));R&&(L=0);const j=(D||H.amount)*(g||1);let B=j;M&&!M.error&&!M.loading&&(M.percent_off?B=Math.round(B*(1-(M.percent_off_precise||M.percent_off)/100)):M.amount_off&&(B=Math.max(0,B-M.amount_off)),B<=0&&(B=j,M.duration==="once"?H.interval==="year"?U+=12*H.interval_count:U+=H.interval_count:M.duration==="repeating"&&(U+=M.duration_in_months)));let x;return R?x="one-time":(x=`${this.props.plan.interval}ly`,this.props.quantity>1&&(x+=" per person"),U?(L>15&&(U+=parseInt(L/30)),x+=` with ${U}-month trial`):L&&(x+=` with ${L}-day trial`)),{label:x,amount:B}}render({children:$,className:H,error:g},{canMount:M}){if(!(typeof M!="undefined"&&!M&&typeof window!="undefined"))return Object(e.h)("div",{className:"apple-pay-parent-container"},M?Object(e.h)("div",{className:`apple-pay-element ${H||""}`,ref:R=>this.button=R}):Object(e.h)("p",{className:`apple-pay-loader ${H||""}`},"Loading\u2026"),g&&Object(e.h)("div",{className:"error"},g),$)}}class _ extends e.Component{render($,H){var g=$,{children:M,ref:R}=g,D=r(g,["children","ref"]);return Object(e.h)("div",{className:"fancy-input"},Object(e.h)("input",n({ref:U=>this._input=U},D)),M)}blur(){this._input&&this._input.blur()}}class T extends Error{constructor($){super($);this.response={body:{error:this.message}}}}class W extends e.Component{constructor($,H){super($,H);this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=v(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this._stripeCard=E(this._stripe)))}getInputs(){const $=[];if(this.base){const H=Array.from(this.base.getElementsByTagName("*"));for(const g of H)["INPUT","TEXTAREA","SELECT"].includes(g.nodeName)&&g.getAttribute("name")&&$.push(g)}return $}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const $ of this.getInputs())$.blur&&$.blur(),$.type==="checkbox"?$.checked=!1:$.type==="select"?$.selectedIndex=-1:$.type==="radio"?$.checked=!1:$.target?$.target.value="":$.value=""}handleStripeChange({error:$}){$?this.setState({_stripeError:$.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCard&&this._stripeCard.addEventListener("change",$=>this.handleStripeChange($))}componentWillUnmount(){this._stripeCard&&this._stripeCard.destroy()}onInputBlur($){!this.props.analyticsName||new Date().getTime()-this._mountTime>1e3&&$.target&&$.target.value&&!$.target._blurTracked&&(Object(s.i)(`${this.props.analyticsName} Input Filled`,{name:$.target.name}),$.target._blurTracked=!0)}onPaymentRequestAttempt($){return u(this,null,function*(){const H=yield this.handleSubmitAsync(null,$);if(H)throw H})}handleSubmit($){$&&$.preventDefault(),this.handleSubmitAsync($).catch(H=>{console.error(H)})}handleSubmitAsync($){return u(this,arguments,function*(H,g={}){if(H&&H.preventDefault(),this.props.analyticsName&&Object(s.i)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading)return;this.resetErrors(),this.setState({loading:!0});const M=this.props.method?this.props.method:"post";let R=null;if(this.stripeElement&&!g.stripe_token){const{token:j,error:B}=this._stripe?yield this._stripe.createToken(this._stripeCard):{error:{message:""}};if(j)R=j;else{this.setState({loading:!1,_stripeError:B&&B.message}),this.props.analyticsName&&(console.log("error",B),Object(s.i)(`${this.props.analyticsName} Missing Payment`,{type:B&&B.type,code:B&&B.code,decline_code:B&&B.decline_code,reason:B&&B.message}));return}}let D={};for(const j of this.getInputs())j.blur&&j.blur(),j.type=="checkbox"?D[j.name]=!!j.checked:j.type=="radio"?j.checked&&(D[j.name]=j.value):j.type==="select"?D[j.name]=j.options[j.selectedIndex].value:D[j.name]=j.value;if(Object.keys(g).forEach(j=>{!D[j]&&g[j]&&(D[j]=g[j])}),R&&(D.stripe_token=R),this.props.prepareData)try{const j=yield this.props.prepareData(D);j&&(D=j)}catch(j){throw this.setState({loading:!1}),j}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let U,L;try{if(this.props.performSubmit)U=yield this.props.performSubmit(D);else if(this.props.action){const j=l.a[M](this.props.action);this.props.method&&this.props.method==="get"?U=yield j.query(D):U=yield j.send(D)}else this.props.onSubmit&&this.props.onSubmit(D)}catch(j){L=j}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!L)this.props.onSuccess&&this.props.onSuccess(U,D);else if(this.processErrors(L.response),this.props.onError&&this.props.onError(L),!L.response)throw L;return L})}processErrors($){const H={},g=[];if($&&$.body&&$.body.errors){const M=this.getInputs();$.body.errors.forEach(R=>{this.props.noInlineErrors!==!0&&R.param&&M.filter(D=>D.getAttribute("name")===R.param).length>0?H[R.param]?(console.log("Discarding repeated error"),console.log(R)):H[R.param]=R:g.push(R)})}else $&&$.body&&typeof $.body.error=="string"?g.push({msg:$.body.error}):g.push({msg:"Something went wrong"});this.setState({_paramErrors:H,_otherErrors:g}),this.props.analyticsName&&Object(s.i)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(H),otherErrors:JSON.stringify(g)})}render($,H){const g=$.autoLock&&H.loading||$.loading;let M=!1,R=!1;const D=U=>{const L=[];return Object(e.toChildArray)(U).forEach(j=>{if(!j)return null;if((j.type===_||j.type==="input"||j.type==="textarea"||j.type==="select")&&j.props&&j.props.name){const B=j.props.name;if(L.push(Object(e.cloneElement)(j,{disabled:g||j.props.disabled,onChange:x=>{var P,y;const A=((P=j.props)==null?void 0:P.onChange)||((y=j.props)==null?void 0:y.onInput);A&&A(x),this.props.onChange&&this.props.onChange(x)},onInput:x=>{j.props&&j.props.onInput&&j.props.onInput(x),this.props.onInput&&this.props.onInput(x)},onBlur:x=>{this.onInputBlur(x),j.props&&j.props.onBlur&&j.props.onBlur(x)}})),H._paramErrors[B]&&!g){const x=H._paramErrors[B];x.msgHTML?L.push(Object(e.h)("div",{className:"error",name:B,dangerouslySetInnerHTML:{__html:x.msgHTML}})):L.push(Object(e.h)("div",{className:"error",name:B},x.msg||"Invalid"))}}else if(j.props&&j.props.type==="submit")L.push(Object(e.cloneElement)(j,{disabled:g||j.props.disabled,onClick:B=>{j.props&&j.props.onClick&&j.props.onClick(B)!==!1&&this.handleSubmit(B)}}));else if(j.props&&j.props.id==="error-container"){if(H._otherErrors&&!g){const B=H._otherErrors.map(x=>x.msgHTML?Object(e.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:x.msgHTML}}):Object(e.h)("div",{className:"error other-error"},x.msg)).concat(j.props&&j.props.children?Object(e.toChildArray)(j.props.children):[]);L.push(Object(e.cloneElement)(j,{},B))}}else if(j.type===w){if(M)throw new Error("Can only handle one stripe element");M=!0,L.push(Object(e.cloneElement)(j,{ref:B=>{j.props&&j.props.ref&&j.props.ref(B),this.stripeElement=B},card:this._stripeCard})),(H._stripeError||!this._stripeCard)&&!g&&typeof window!="undefined"&&L.push(Object(e.h)("div",{className:p()("error",$.stripeErrorClassName),role:"alert"},H._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(j.type===C){if(R)throw new Error("Can only handle one stripe payment request button");R=!0,L.push(Object(e.cloneElement)(j,{ref:B=>{j.props&&j.props.ref&&j.props.ref(B),this.stripePaymentRequestButton=B},stripe:this._stripe,onSuccess:B=>(j.props&&j.props.onSuccess&&j.props.onSuccess(B),this.onPaymentRequestAttempt(B))}))}else j.props&&j.props.children?L.push(Object(e.cloneElement)(j,{},D(j.props.children))):L.push(j)}),L};return Object(e.h)("form",n({className:`form ${$.className||""}`,action:$.noJsAction||$.action,method:$.method&&["get","post"].includes($.method.toLowerCase())&&$.method.toLowerCase()||"post",autoComplete:$.autoComplete,onSubmit:U=>this.handleSubmit(U),noValidate:!0},$.enctype&&{enctype:$.enctype}),D($.children))}}},function(S,i,t){"use strict";t.r(i),t.d(i,"Substitutions",function(){return e});const e={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%"}},function(S,i){i.onboardingSteps={SIGNUP:"SIGNUP",PUB_LANDING:"PUB_LANDING",PUB_SIGNUP:"PUB_SIGNUP",CATEGORIES:"CATEGORIES",CATEGORIES_SUGGESTIONS:"CATEGORIES_SUGGESTIONS",PROFILE:"PROFILE",WELCOME:"WELCOME",ERROR:"ERROR"}},function(S,i,t){"use strict";t.r(i),t.d(i,"getConfigFor",function(){return l}),t.d(i,"SiteConfigGate",function(){return s});var e=t(0),o=t(58);function l(h){var c;if(!h||typeof window=="undefined"||!((c=window._preloads)==null?void 0:c.siteConfigs))return null;const d=window._preloads.siteConfigs[h];return d===void 0?null:d}i.default=l;function s({configKey:h,children:c,value:d=!0}){return Object(o.c)().getConfigFor(h)==d?Object(e.h)(e.Fragment,null,c):null}},,function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(){return e=Object.assign||function(o){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},e.apply(this,arguments)}},function(S,i,t){"use strict";t.d(i,"b",function(){return V}),t.d(i,"f",function(){return ne}),t.d(i,"g",function(){return re}),t.d(i,"a",function(){return de}),t.d(i,"d",function(){return Ge}),t.d(i,"c",function(){return $e}),t.d(i,"e",function(){return Rt});var e=t(0),o=t(6),l=t.n(o),s=t(547),h=t.n(s),c=t(7),d=t(75),p=t(150),f=t(3),O=t(2),b=t(98),m=t(120),a=t(28);function n({children:Oe}){return Object(e.h)("div",{className:l()("footer")},Oe)}function r({pub:Oe,unsubscribe_url:be,unsubscribeOverrideText:he}){const Ce=Object(c.joinLines)(Oe.mailing_address,", ",36);return Object(e.h)("p",{className:"small"},"\xA9 ",new Date().getFullYear()," ",Object(e.h)("span",null,Oe.copyright),Ce&&Ce.split(`
`).reduce((De,Se)=>(De.push(Object(e.h)("br",null),Se),De),[]),be!==!1&&[" ",Object(e.h)(e.Fragment,null,Object(e.h)("br",null),Object(e.h)("a",{href:be||a.Substitutions.UNSUBSCRIBE_URL},Object(e.h)("span",null,he||"Unsubscribe")))])}var u=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,C=(Oe,be,he)=>be in Oe?u(Oe,be,{enumerable:!0,configurable:!0,writable:!0,value:he}):Oe[be]=he,_=(Oe,be)=>{for(var he in be||(be={}))E.call(be,he)&&C(Oe,he,be[he]);if(v)for(var he of v(be))w.call(be,he)&&C(Oe,he,be[he]);return Oe},T=(Oe,be)=>{var he={};for(var Ce in Oe)E.call(Oe,Ce)&&be.indexOf(Ce)<0&&(he[Ce]=Oe[Ce]);if(Oe!=null&&v)for(var Ce of v(Oe))be.indexOf(Ce)<0&&w.call(Oe,Ce)&&(he[Ce]=Oe[Ce]);return he};const W="550",k=Oe=>{var be=Oe,{children:he,className:Ce}=be,De=T(be,["children","className"]);return Object(e.h)("table",_({role:"presentation",className:Ce,width:"auto"},De),he)},$=({children:Oe,className:be,width:he=W})=>Object(e.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},Object(e.h)("tr",null,Object(e.h)("td",null),Object(e.h)("td",{className:"content",width:he}),Object(e.h)("td",null)),Object(e.h)("tr",null,Object(e.h)("td",null),Object(e.h)("td",{align:"left",className:be?`content ${be}`:"content",width:he},Object(e.h)("div",null,Oe)),Object(e.h)("td",null))),H=({text:Oe})=>Object(e.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},Oe," ","\xA0\u200C".repeat(200)),g=({pub:Oe,post:be,prelude:he,body_html:Ce,children:De,is_freemail:Se,embeddedPolls:Le})=>Object(e.h)("div",{className:"post typography",dir:"auto"},he,Object(e.h)(p.a,{html:Ce,pub:Oe,post:be,isStatic:!0,is_freemail:Se,embeddedPolls:Le}),De),M=({children:Oe,className:be,description:he,title:Ce="Email from Substack"})=>Object(e.h)("html",null,Object(e.h)("head",null,Object(e.h)("title",null,Ce)),Object(e.h)("body",{className:be},he&&Object(e.h)(H,{text:he}),Oe)),R=({title:Oe,description:be,children:he,bodyClassName:Ce="email-body",className:De="",emailWidth:Se=""})=>{const{isAmp:Le}=Object(O.b)(b.a);return Object(e.h)("html",_({},{amp4email:Le?!0:void 0,"data-css-strict":Le?!0:void 0}),Object(e.h)("head",null,!Le&&Object(e.h)("title",null,Oe),Le&&Object(e.h)(e.Fragment,null,Object(e.h)("meta",{charset:"utf-8"}),Object(e.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),Object(e.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),Object(e.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),Object(e.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),Object(e.h)("body",{className:Ce},be&&Object(e.h)(H,{text:be}),Object(e.h)($,_({className:De},Se&&{width:Se}),he)))},D=({title:Oe,description:be,children:he,className:Ce,width:De})=>Object(e.h)("html",null,Object(e.h)("head",null,Object(e.h)("title",null,Oe)),Object(e.h)("body",{className:"email-body"},be&&Object(e.h)(H,{text:be}),Object(e.h)($,{className:Ce,width:De},he))),U=({pub:Oe,unsubscribe_url:be,unsubscribeOverrideText:he=!1})=>Object(e.h)(L,null,Object(e.h)(r,{pub:Oe,unsubscribe_url:be,unsubscribeOverrideText:he})),L=({children:Oe})=>{const{siteConfigValues:{show_email_app_install_button:be=!0}}=Object(O.b)(b.a);return Object(e.h)(n,null,Oe,Object(e.h)("p",{className:"small powered-by-substack"},be&&Object(e.h)(j,null),Object(e.h)("a",{href:"https://substack.com/signup?utm_source=substack&utm_medium=email&utm_content=footer"},Object(e.h)(P,{alt:"Start writing",src:`${Object(f.getSubstackUrl)()}/img/email/publish-button.png`,pixelRatio:3,width:135,height:40}))))};function j(){return Object(e.h)("a",{href:Object(f.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},Object(e.h)(P,{alt:"Get the app",src:`${Object(f.getSubstackUrl)()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function B({utm_campaign:Oe,utm_source:be}){return Object(e.h)("a",{className:"email-footer-button",href:Object(f.getAppStoreUrl)({utm_campaign:Oe,utm_source:be})},Object(e.h)(P,{alt:"Get the iOS app",src:Object(c.cloudinary)("/img/app_page/app-store.png",123*2),pixelRatio:3,width:123,height:40}))}function x({utm_campaign:Oe,utm_source:be}){return Object(e.h)("a",{className:"email-footer-button",href:Object(f.getPlayStoreUrl)({utm_campaign:Oe,utm_source:be})},Object(e.h)(P,{alt:"Get the Android app",src:Object(c.cloudinary)("/img/app_page/play-store.png",135*2),pixelRatio:3,width:135,height:40}))}function P(Oe){var be=Oe,{src:he,pixelRatio:Ce,width:De}=be,Se=T(be,["src","pixelRatio","width"]);let Le;const{isAmp:tt}=Object(O.b)(b.a);if(typeof URL=="undefined")Le=null;else{let Xe;try{Xe=new URL(he)}catch(Qe){Xe=new URL(Object(f.getSubstackUrl)()+he)}const Et=Array(Ce).fill(0).map((Qe,rt)=>{if(rt===0)return Object(c.cloudinary)(he,De);const ke=new URL(Xe),[jt,Nt]=ke.pathname.split("."),rn=rt+1;return ke.pathname=`${jt}@${rn}x.${Nt}`,Object(c.cloudinary)(ke.toString(),De*rn)});tt?he=Et[Et.length-1]:(he=Et[1]||Et[0],Le=Et.map((Qe,rt)=>rt===0?Qe:`${Qe} ${rt+1}x`).join(", "))}return Object(e.h)(m.a,_({src:he,srcset:Le,width:De},Se))}const y=()=>{const Oe=Math.random().toString().split(".")[1].substr(0,3);return Object(e.h)("div",{className:"signature-fold-breaker"},Oe)},A=({delta:Oe,className:be,withPercent:he})=>{const Ce=Oe<0?"negative":Oe>0?"positive":"neutral";return Ce==="neutral"?Object(e.h)("span",{className:`${be} neutral`},"\u2013"):Object(e.h)("span",{className:`${be} ${Ce}`},Ce==="positive"?`+${Object(c.numberToString)(Oe)}${he?"%":""}`:`${Object(c.numberToString)(Oe)}${he?"%":""}`)},K={EmailDocument:R};var N=t(25),Y=t(51),F=t(306),G={fullWidth:"frontend-email-system-basics-module__fullWidth--3vEKW",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--llcta",emailButtonA:"frontend-email-system-basics-module__emailButtonA--1RUgF",avatar:"frontend-email-system-basics-module__avatar--1sRIo",framed:"frontend-email-system-basics-module__framed--3XkyR",emailSeparator:"frontend-email-system-basics-module__emailSeparator--3U_L4"},X=Object.defineProperty,q=Object.defineProperties,se=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ge=(Oe,be,he)=>be in Oe?X(Oe,be,{enumerable:!0,configurable:!0,writable:!0,value:he}):Oe[be]=he,oe=(Oe,be)=>{for(var he in be||(be={}))Ee.call(be,he)&&ge(Oe,he,be[he]);if(ie)for(var he of ie(be))Ie.call(be,he)&&ge(Oe,he,be[he]);return Oe},ee=(Oe,be)=>q(Oe,se(be)),te=(Oe,be)=>{var he={};for(var Ce in Oe)Ee.call(Oe,Ce)&&be.indexOf(Ce)<0&&(he[Ce]=Oe[Ce]);if(Oe!=null&&ie)for(var Ce of ie(Oe))be.indexOf(Ce)<0&&Ie.call(Oe,Ce)&&(he[Ce]=Oe[Ce]);return he};function le({pub:Oe,description:be,noPromo:he,children:Ce,noLogo:De}){const Se=(Oe.id===0||Boolean(Object(Y.getLogo)(Oe)))&&!De;return Object(e.h)(st,{description:be},Object(e.h)(Ge,{gap:16},h()([Se&&Object(e.h)(d.a,{pub:Oe.id===0?ee(oe({},Oe),{logo_url:`${Object(f.getSubstackUrl)()}/img/substack-system-email-align-left.png?v=2`}):Oe,size:40}),Ce,he?Object(e.h)(z,{pub:Oe}):Object(e.h)(Q,{pub:Oe}),Object(e.h)(y,null)])))}function Q({pub:Oe}){return Oe?Object(e.h)(U,{pub:Oe,unsubscribe_url:!1}):null}function z({pub:Oe}){return Object(e.h)(n,null,Object(e.h)(r,{pub:Oe,unsubscribe_url:!1}))}function V({children:Oe,href:be,testId:he,tableClassName:Ce,tdClassName:De,aClassName:Se,alt:Le,download:tt,target:Xe}){return Object(e.h)(Rt,{className:Ce},Object(e.h)("tr",null,Object(e.h)("td",{className:De,align:"center"},Object(e.h)("a",{href:be,className:Se,"data-test-id":he,alt:Le,download:tt,target:Xe},Oe))))}function ne(Oe){return Object(e.h)(V,ee(oe({},Oe),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function re(Oe){var be=Oe,{fullWidth:he}=be,Ce=te(be,["fullWidth"]);return Object(e.h)(V,ee(oe({},Ce),{tableClassName:he?G.fullWidth:void 0,aClassName:G.emailButtonA,tdClassName:G.emailButtonTd}))}function de({src:Oe,size:be,framed:he}){return Object(e.h)("img",{src:Oe,className:l()(G.avatar,he&&G.framed),style:{width:be,height:be},width:be,height:be})}const fe=Object(N.a)("email-text-button","a"),we=Object(N.a)("email-text-b4 email-text-secondary","div");function Ge({children:Oe,gap:be=0,style:he}){const Ce=Object(e.toChildArray)(Oe),De=[];for(const Le of Ce.slice(0,-1))De.push(Object(e.h)("tr",null,Object(e.h)("td",null,Le))),be>0&&De.push(Object(e.h)("tr",{height:be},Object(e.h)("td",null)));const Se=Ce[Ce.length-1];return Se&&De.push(Object(e.h)("tr",null,Object(e.h)("td",null,Se))),Object(e.h)(Rt,{style:he},De)}function $e({children:Oe,gap:be=0,style:he,verticalAlign:Ce="middle"}){const De=Object(e.toChildArray)(Oe),Se=[];for(const tt of De.slice(0,-1))Se.push(Object(e.h)("td",{style:{verticalAlign:Ce}},tt)),be>0&&Se.push(Object(e.h)("td",{width:be,style:`min-width: ${be}px`}));const Le=De[De.length-1];return Le&&Se.push(Object(e.h)("td",{style:{verticalAlign:Ce}},Le)),Object(e.h)(Rt,{style:he},Object(e.h)("tr",null,Se))}function it({users:Oe,post:be,pub:he,user:Ce}){return Object(e.h)(F.a,{array:Oe,limit:3,formatter:De=>Object(e.h)("a",{href:Object(f.getReaderProfileUrl)(De)},Object(c.anonymousName)(De,be,he,Ce))})}function st({children:Oe,description:be}){return Object(e.h)(M,{className:"email-text-base email-text-b3",description:be},Object(e.h)(Rt,{width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",{style:{color:"transparent"}},"\xA0"),Object(e.h)("td",{align:"center",width:468},Oe),Object(e.h)("td",{style:{color:"transparent"}},"\xA0"))))}function Rt(Oe){var be=Oe,{children:he}=be,Ce=te(be,["children"]);return Object(e.h)("table",oe({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},Ce),he)}function Ht(Oe){var be=Oe,{src:he}=be,Ce=te(be,["src"]);return Object(e.h)(m.a,oe({src:Object(f.getSubstackUrl)()+he},Ce))}function je(){return Object(e.h)("div",{className:G.emailSeparator})}},function(S,i,t){"use strict";t.r(i),t.d(i,"subscribers",function(){return a}),t.d(i,"getCurrentUrl",function(){return u}),t.d(i,"route",function(){return v}),t.d(i,"Router",function(){return H}),t.d(i,"Route",function(){return M}),t.d(i,"Link",function(){return g}),t.d(i,"exec",function(){return s});var e=t(0),o={};function l(R,D){for(var U in D)R[U]=D[U];return R}function s(R,D,U){var L=/(?:\?([^#]*))?(#.*)?$/,j=R.match(L),B={},x;if(j&&j[1])for(var P=j[1].split("&"),y=0;y<P.length;y++){var A=P[y].split("=");B[decodeURIComponent(A[0])]=decodeURIComponent(A.slice(1).join("="))}R=d(R.replace(L,"")),D=d(D||"");for(var K=Math.max(R.length,D.length),N=0;N<K;N++)if(D[N]&&D[N].charAt(0)===":"){var Y=D[N].replace(/(^:|[+*?]+$)/g,""),F=(D[N].match(/[+*?]+$/)||o)[0]||"",G=~F.indexOf("+"),X=~F.indexOf("*"),q=R[N]||"";if(!q&&!X&&(F.indexOf("?")<0||G)){x=!1;break}if(B[Y]=decodeURIComponent(q),G||X){B[Y]=R.slice(N).map(decodeURIComponent).join("/");break}}else if(D[N]!==R[N]){x=!1;break}return U.default!==!0&&x===!1?!1:B}function h(R,D){return R.rank<D.rank?1:R.rank>D.rank?-1:R.index-D.index}function c(R,D){return R.index=D,R.rank=O(R),R.props}function d(R){return R.replace(/(^\/+|\/+$)/g,"").split("/")}function p(R){return R.charAt(0)==":"?1+"*+?".indexOf(R.charAt(R.length-1))||4:5}function f(R){return d(R).map(p).join("")}function O(R){return R.props.default?0:f(R.props.path)}var b=null,m=[],a=[],n={};function r(R,D){D===void 0&&(D="push"),b&&b[D]?b[D](R):typeof history!="undefined"&&history[D+"State"]&&history[D+"State"](null,null,R)}function u(){var R;return b&&b.location?R=b.location:b&&b.getCurrentLocation?R=b.getCurrentLocation():R=typeof location!="undefined"?location:n,""+(R.pathname||"")+(R.search||"")}function v(R,D){return D===void 0&&(D=!1),typeof R!="string"&&R.url&&(D=R.replace,R=R.url),E(R)&&r(R,D?"replace":"push"),w(R)}function E(R){for(var D=m.length;D--;)if(m[D].canRoute(R))return!0;return!1}function w(R){for(var D=!1,U=0;U<m.length;U++)m[U].routeTo(R)===!0&&(D=!0);for(var L=a.length;L--;)a[L](R);return D}function C(R){if(!(!R||!R.getAttribute)){var D=R.getAttribute("href"),U=R.getAttribute("target");if(!(!D||!D.match(/^\//g)||U&&!U.match(/^_?self$/i)))return v(D)}}function _(R){if(!(R.ctrlKey||R.metaKey||R.altKey||R.shiftKey||R.button!==0))return C(R.currentTarget||R.target||this),T(R)}function T(R){return R&&(R.stopImmediatePropagation&&R.stopImmediatePropagation(),R.stopPropagation&&R.stopPropagation(),R.preventDefault()),!1}function W(R){if(!(R.ctrlKey||R.metaKey||R.altKey||R.shiftKey||R.button!==0)){var D=R.target;do if(String(D.nodeName).toUpperCase()==="A"&&D.getAttribute("href")){if(D.hasAttribute("native"))return;if(C(D))return T(R)}while(D=D.parentNode)}}var k=!1;function $(){k||(typeof addEventListener=="function"&&(b||addEventListener("popstate",function(){w(u())}),addEventListener("click",W)),k=!0)}var H=function(R){function D(U){R.call(this,U),U.history&&(b=U.history),this.state={url:U.url||u()},$()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.shouldComponentUpdate=function(L){return L.static!==!0?!0:L.url!==this.props.url||L.onChange!==this.props.onChange},D.prototype.canRoute=function(L){var j=Object(e.toChildArray)(this.props.children);return this.getMatchingChildren(j,L,!1).length>0},D.prototype.routeTo=function(L){this.setState({url:L});var j=this.canRoute(L);return this.updating||this.forceUpdate(),j},D.prototype.componentWillMount=function(){m.push(this),this.updating=!0},D.prototype.componentDidMount=function(){var L=this;b&&(this.unlisten=b.listen(function(j){L.routeTo(""+(j.pathname||"")+(j.search||""))})),this.updating=!1},D.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),m.splice(m.indexOf(this),1)},D.prototype.componentWillUpdate=function(){this.updating=!0},D.prototype.componentDidUpdate=function(){this.updating=!1},D.prototype.getMatchingChildren=function(L,j,B){return L.filter(c).sort(h).map(function(x){var P=s(j,x.props.path,x.props);if(P){if(B!==!1){var y={url:j,matches:P};return l(y,P),delete y.ref,delete y.key,Object(e.cloneElement)(x,y)}return x}}).filter(Boolean)},D.prototype.render=function(L,j){var B=L.children,x=L.onChange,P=j.url,y=this.getMatchingChildren(Object(e.toChildArray)(B),P,!0),A=y[0]||null,K=this.previousUrl;return P!==K&&(this.previousUrl=P,typeof x=="function"&&x({router:this,url:P,previous:K,active:y,current:A})),A},D}(e.Component),g=function(R){return Object(e.createElement)("a",l({onClick:_},R))},M=function(R){return Object(e.createElement)(R.component,R)};H.subscribers=a,H.getCurrentUrl=u,H.route=v,H.Router=H,H.Route=M,H.Link=g,H.exec=s,i.default=H},function(S,i,t){"use strict";t.d(i,"c",function(){return v}),t.d(i,"a",function(){return E}),t.d(i,"b",function(){return w});var e=t(0),o=t(1),l=t(8),s=t(6),h=t.n(s),c={buttonBase:"frontend-pencraft-Button-module__buttonBase--2lTCc",button:"frontend-pencraft-Button-module__button--3hZ0m",grow:"frontend-pencraft-Button-module__grow--20uHO",size_medium:"frontend-pencraft-Button-module__size_medium--187Vn",size_large:"frontend-pencraft-Button-module__size_large--lsJrf",iconButton:"frontend-pencraft-Button-module__iconButton--2gz9x frontend-pencraft-Button-module__buttonBase--2lTCc",size_32:"frontend-pencraft-Button-module__size_32--ZLlEb",size_40:"frontend-pencraft-Button-module__size_40--16CJn",rounded:"frontend-pencraft-Button-module__rounded--2hE1H","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--1PyLr",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--3xuC6",priority_primary:"frontend-pencraft-Button-module__priority_primary--3Oxcs","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--m5KFb",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--2PmO7",fill_empty:"frontend-pencraft-Button-module__fill_empty--1gFds",fill_filled:"frontend-pencraft-Button-module__fill_filled--3mJTN",outline_none:"frontend-pencraft-Button-module__outline_none--3tbcW",fill_outline:"frontend-pencraft-Button-module__fill_outline--1D-T4",inverted:"frontend-pencraft-Button-module__inverted--3hKVN"},d=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,a=(C,_,T)=>_ in C?d(C,_,{enumerable:!0,configurable:!0,writable:!0,value:T}):C[_]=T,n=(C,_)=>{for(var T in _||(_={}))b.call(_,T)&&a(C,T,_[T]);if(O)for(var T of O(_))m.call(_,T)&&a(C,T,_[T]);return C},r=(C,_)=>p(C,f(_)),u=(C,_)=>{var T={};for(var W in C)b.call(C,W)&&_.indexOf(W)<0&&(T[W]=C[W]);if(C!=null&&O)for(var W of O(C))_.indexOf(W)<0&&m.call(C,W)&&(T[W]=C[W]);return T};const v=Object(o.forwardRef)((C,_)=>{var T=C,{onClick:W,href:k,localNavigation:$,newTab:H,className:g,resetCss:M}=T,R=u(T,["onClick","href","localNavigation","newTab","className","resetCss"]);const D=k?U=>{W&&(W.call(U.target,U),U.defaultPrevented)||Object(l.redirect)(k,{event:U,local_navigation:$,newTab:H})}:W;return Object(e.h)("button",r(n({tabIndex:0,type:"button"},R),{className:h()(g,M&&c.buttonBase),ref:_,onClick:D}))});v.displayName="UnstyledButton";const E=Object(o.forwardRef)(function(_,T){var W=_,{className:k,priority:$="primary",size:H="medium",fill:g="filled",outline:M,rounded:R,disabled:D,grow:U,leftIcon:L,rightIcon:j,children:B}=W,x=u(W,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","children"]);return Object(e.h)(v,n({className:h()(k,c.buttonBase,c.button,c[`priority_${$}`],c[`size_${H}`],c[`fill_${g}`],M&&c.outline_none,R&&c.rounded,U&&c.grow,L!=null&&c.hasLeftIcon,j!=null&&c.hasRightIcon),disabled:D,ref:T},x),L,B,j)}),w=Object(o.forwardRef)((C,_)=>{var T=C,{className:W,size:k,priority:$="secondary",color:H,fill:g="empty",rounded:M=!0,inverted:R,grow:D}=T,U=u(T,["className","size","priority","color","fill","rounded","inverted","grow"]);return Object(e.h)(v,n({ref:_,className:h()(W,c.iconButton,k!=null&&c[`size_${k}`],$&&c[`priority_${$}`],H&&c[`color_${H}`],g&&c[`fill_${g}`],R&&c.inverted,D&&c.grow,M&&c.rounded)},U))})},function(S,i,t){"use strict";var e=t(0),o=Object.defineProperty,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,c=(O,b,m)=>b in O?o(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,d=(O,b)=>{for(var m in b||(b={}))s.call(b,m)&&c(O,m,b[m]);if(l)for(var m of l(b))h.call(b,m)&&c(O,m,b[m]);return O},p=(O,b)=>{var m={};for(var a in O)s.call(O,a)&&b.indexOf(a)<0&&(m[a]=O[a]);if(O!=null&&l)for(var a of l(O))b.indexOf(a)<0&&h.call(O,a)&&(m[a]=O[a]);return m};const f=O=>{var b=O,{children:m,onClick:a}=b,n=p(b,["children","onClick"]);return Object(e.h)("a",d(d({role:"button",tabIndex:0,href:"javascript:void(0)"},a&&{onClick:r=>{r.stopPropagation(),a(r)}}),n),m)};i.a=f},function(S,i,t){"use strict";var e=t(0),o=t(6),l=t.n(o),s=t(7),h=t.n(s),c=t(62);function d({href:f,linkify:O,children:b,openInNewTab:m}){return O?m?Object(e.h)("a",{href:f,target:"_blank"},b):Object(e.h)("a",{href:f,native:!0},b):b}const p=({pub:f,href:O,logo_url:b,showHover:m=!1,byline:a=null,proof:n=null,size:r=196,linkify:u=!0,title:v=null,className:E="",noMargin:w=!1,openInNewTab:C=!1,isStatic:_=!1,belowTheFold:T=!1})=>{var W;return Object(e.h)("div",{className:l()("pub-icon",!w&&"pub-icon-margin",E),title:v},m&&Object(e.h)("div",{className:"logo-hover"},Object(e.h)("div",{className:"logo-hover-title"},Object(e.h)("a",{href:O||f.base_url,native:!0},(f.name||f.subdomain)+(a?` by ${a}`:""))),Object(e.h)("div",{className:"logo-hover-proof"},n),Object(e.h)("div",{className:"logo-hover-description"},f.hero_text)),Object(e.h)(d,{href:O||f.base_url,linkify:u,openInNewTab:C},b?_?Object(e.h)("img",{src:Object(s.cloudinary)(b,r*2,{height:r*2,crop:"fill"}),width:r,height:r,className:"custom",alt:f.name}):Object(e.h)(c.a,{className:"custom",alt:f.name,imageProps:{height:r*2,crop:"fill"},maxWidth:r*2,src:b,width:r,height:r,loading:T?"lazy":null}):Object(e.h)("span",{className:"placeholder",style:f.theme_var_background_pop?`border-color:${Object(s.colorLightness)(f.theme_var_background_pop,.7)} ${f.theme_var_background_pop} ${f.theme_var_background_pop} ${Object(s.colorLightness)(f.theme_var_background_pop,.7)}`:""},(W=f.name||f.subdomain)==null?void 0:W[0])))};i.a=p},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),Object(e.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return _}),t.d(i,"b",function(){return Q}),t.d(i,"c",function(){return w}),t.d(i,"d",function(){return g}),t.d(i,"e",function(){return u}),t.d(i,"f",function(){return yn}),t.d(i,"g",function(){return C}),t.d(i,"h",function(){return N}),t.d(i,"i",function(){return z}),t.d(i,"j",function(){return Et}),t.d(i,"k",function(){return be}),t.d(i,"l",function(){return je}),t.d(i,"m",function(){return rn}),t.d(i,"n",function(){return Ce}),t.d(i,"o",function(){return jt}),t.d(i,"p",function(){return gt}),t.d(i,"q",function(){return de}),t.d(i,"r",function(){return se}),t.d(i,"s",function(){return F}),t.d(i,"t",function(){return Le}),t.d(i,"u",function(){return A}),t.d(i,"v",function(){return Ie}),t.d(i,"w",function(){return It}),t.d(i,"x",function(){return We}),t.d(i,"y",function(){return lt}),t.d(i,"z",function(){return q}),t.d(i,"A",function(){return Ct}),t.d(i,"B",function(){return Lt}),t.d(i,"C",function(){return Qt}),t.d(i,"D",function(){return ne}),t.d(i,"E",function(){return R}),t.d(i,"F",function(){return D}),t.d(i,"G",function(){return wn}),t.d(i,"H",function(){return E});var e=t(131),o=t(32),l=t(68),s=t(101),h=t(102),c=t(103),d=t(108),p=t(65),f=t(1),O=t(21);function b(Ze){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(Ye){return typeof Ye}:b=function(Ye){return Ye&&typeof Symbol=="function"&&Ye.constructor===Symbol&&Ye!==Symbol.prototype?"symbol":typeof Ye},b(Ze)}var m=t(140);function a(Ze,Pe){return Pe||(Pe=Ze.slice(0)),Object.freeze(Object.defineProperties(Ze,{raw:{value:Object.freeze(Pe)}}))}var n=t(339),r=t.n(n),u=function(){};function v(Ze,Pe){return Pe?Pe[0]==="-"?Ze+Pe:Ze+"__"+Pe:Ze}function E(Ze,Pe,Ye){var Je=[Ye];if(Pe&&Ze)for(var yt in Pe)Pe.hasOwnProperty(yt)&&Pe[yt]&&Je.push("".concat(v(Ze,yt)));return Je.filter(function(Dt){return Dt}).map(function(Dt){return String(Dt).trim()}).join(" ")}var w=function(Pe){return Array.isArray(Pe)?Pe.filter(Boolean):b(Pe)==="object"&&Pe!==null?[Pe]:[]};function C(Ze,Pe,Ye){if(Ye){var Je=Ye(Ze,Pe);if(typeof Je=="string")return Je}return Ze}function _(Ze){return[document.documentElement,document.body,window].indexOf(Ze)>-1}function T(Ze){return _(Ze)?window.pageYOffset:Ze.scrollTop}function W(Ze,Pe){if(_(Ze)){window.scrollTo(0,Pe);return}Ze.scrollTop=Pe}function k(Ze){var Pe=getComputedStyle(Ze),Ye=Pe.position==="absolute",Je=/(auto|scroll)/,yt=document.documentElement;if(Pe.position==="fixed")return yt;for(var Dt=Ze;Dt=Dt.parentElement;)if(Pe=getComputedStyle(Dt),!(Ye&&Pe.position==="static")&&Je.test(Pe.overflow+Pe.overflowY+Pe.overflowX))return Dt;return yt}function $(Ze,Pe,Ye,Je){return Ye*((Ze=Ze/Je-1)*Ze*Ze+1)+Pe}function H(Ze,Pe){var Ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,Je=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u,yt=T(Ze),Dt=Pe-yt,Ut=10,zt=0;function cn(){zt+=Ut;var vn=$(zt,yt,Dt,Ye);W(Ze,vn),zt<Ye?window.requestAnimationFrame(cn):Je(Ze)}cn()}function g(Ze,Pe){var Ye=Ze.getBoundingClientRect(),Je=Pe.getBoundingClientRect(),yt=Pe.offsetHeight/3;Je.bottom+yt>Ye.bottom?W(Ze,Math.min(Pe.offsetTop+Pe.clientHeight-Ze.offsetHeight+yt,Ze.scrollHeight)):Je.top-yt<Ye.top&&W(Ze,Math.max(Pe.offsetTop-yt,0))}function M(Ze){var Pe=Ze.getBoundingClientRect();return{bottom:Pe.bottom,height:Pe.height,left:Pe.left,right:Pe.right,top:Pe.top,width:Pe.width}}function R(){try{return document.createEvent("TouchEvent"),!0}catch(Ze){return!1}}function D(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Ze){return!1}}function U(Ze,Pe){var Ye=Object.keys(Ze);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Ze);Pe&&(Je=Je.filter(function(yt){return Object.getOwnPropertyDescriptor(Ze,yt).enumerable})),Ye.push.apply(Ye,Je)}return Ye}function L(Ze){for(var Pe=1;Pe<arguments.length;Pe++){var Ye=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?U(Object(Ye),!0).forEach(function(Je){Object(l.a)(Ze,Je,Ye[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(Ye)):U(Object(Ye)).forEach(function(Je){Object.defineProperty(Ze,Je,Object.getOwnPropertyDescriptor(Ye,Je))})}return Ze}function j(Ze){var Pe=B();return function(){var Je=Object(p.a)(Ze),yt;if(Pe){var Dt=Object(p.a)(this).constructor;yt=Reflect.construct(Je,arguments,Dt)}else yt=Je.apply(this,arguments);return Object(d.a)(this,yt)}}function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ze){return!1}}function x(Ze){var Pe=Ze.maxHeight,Ye=Ze.menuEl,Je=Ze.minHeight,yt=Ze.placement,Dt=Ze.shouldScroll,Ut=Ze.isFixedPosition,zt=Ze.theme,cn=zt.spacing,vn=k(Ye),Cn={placement:"bottom",maxHeight:Pe};if(!Ye||!Ye.offsetParent)return Cn;var Rn=vn.getBoundingClientRect(),ir=Rn.height,Hn=Ye.getBoundingClientRect(),nr=Hn.bottom,Nn=Hn.height,ht=Hn.top,Ke=Ye.offsetParent.getBoundingClientRect(),Fe=Ke.top,Tt=window.innerHeight,Vt=T(vn),Kt=parseInt(getComputedStyle(Ye).marginBottom,10),on=parseInt(getComputedStyle(Ye).marginTop,10),qt=Fe-on,Bt=Tt-ht,dn=qt+Vt,Bn=ir-Vt-ht,$n=nr-Tt+Vt+Kt,En=Vt+ht-on,On=160;switch(yt){case"auto":case"bottom":if(Bt>=Nn)return{placement:"bottom",maxHeight:Pe};if(Bn>=Nn&&!Ut)return Dt&&H(vn,$n,On),{placement:"bottom",maxHeight:Pe};if(!Ut&&Bn>=Je||Ut&&Bt>=Je){Dt&&H(vn,$n,On);var sr=Ut?Bt-Kt:Bn-Kt;return{placement:"bottom",maxHeight:sr}}if(yt==="auto"||Ut){var Yn=Pe,ar=Ut?qt:dn;return ar>=Je&&(Yn=Math.min(ar-Kt-cn.controlHeight,Pe)),{placement:"top",maxHeight:Yn}}if(yt==="bottom")return W(vn,$n),{placement:"bottom",maxHeight:Pe};break;case"top":if(qt>=Nn)return{placement:"top",maxHeight:Pe};if(dn>=Nn&&!Ut)return Dt&&H(vn,En,On),{placement:"top",maxHeight:Pe};if(!Ut&&dn>=Je||Ut&&qt>=Je){var er=Pe;return(!Ut&&dn>=Je||Ut&&qt>=Je)&&(er=Ut?qt-on:dn-on),Dt&&H(vn,En,On),{placement:"top",maxHeight:er}}return{placement:"bottom",maxHeight:Pe};default:throw new Error('Invalid placement provided "'.concat(yt,'".'))}return Cn}function P(Ze){var Pe={bottom:"top",top:"bottom"};return Ze?Pe[Ze]:"bottom"}var y=function(Pe){return Pe==="auto"?"bottom":Pe},A=function(Pe){var Ye,Je=Pe.placement,yt=Pe.theme,Dt=yt.borderRadius,Ut=yt.spacing,zt=yt.colors;return Ye={label:"menu"},Object(l.a)(Ye,P(Je),"100%"),Object(l.a)(Ye,"backgroundColor",zt.neutral0),Object(l.a)(Ye,"borderRadius",Dt),Object(l.a)(Ye,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Object(l.a)(Ye,"marginBottom",Ut.menuGutter),Object(l.a)(Ye,"marginTop",Ut.menuGutter),Object(l.a)(Ye,"position","absolute"),Object(l.a)(Ye,"width","100%"),Object(l.a)(Ye,"zIndex",1),Ye},K=Object(f.createContext)({getPortalPlacement:null}),N=function(Ze){Object(c.a)(Ye,Ze);var Pe=j(Ye);function Ye(){var Je;Object(s.a)(this,Ye);for(var yt=arguments.length,Dt=new Array(yt),Ut=0;Ut<yt;Ut++)Dt[Ut]=arguments[Ut];return Je=Pe.call.apply(Pe,[this].concat(Dt)),Je.state={maxHeight:Je.props.maxMenuHeight,placement:null},Je.getPlacement=function(zt){var cn=Je.props,vn=cn.minMenuHeight,Cn=cn.maxMenuHeight,Rn=cn.menuPlacement,ir=cn.menuPosition,Hn=cn.menuShouldScrollIntoView,nr=cn.theme;if(!!zt){var Nn=ir==="fixed",ht=Hn&&!Nn,Ke=x({maxHeight:Cn,menuEl:zt,minHeight:vn,placement:Rn,shouldScroll:ht,isFixedPosition:Nn,theme:nr}),Fe=Je.context.getPortalPlacement;Fe&&Fe(Ke),Je.setState(Ke)}},Je.getUpdatedProps=function(){var zt=Je.props.menuPlacement,cn=Je.state.placement||y(zt);return L(L({},Je.props),{},{placement:cn,maxHeight:Je.state.maxHeight})},Je}return Object(h.a)(Ye,[{key:"render",value:function(){var yt=this.props.children;return yt({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),Ye}(f.Component);N.contextType=K;var Y=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerRef,zt=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("menu",Pe),className:yt({menu:!0},Je)},zt,{ref:Ut}),Ye)},F=function(Pe){var Ye=Pe.maxHeight,Je=Pe.theme.spacing.baseUnit;return{maxHeight:Ye,overflowY:"auto",paddingBottom:Je,paddingTop:Je,position:"relative",WebkitOverflowScrolling:"touch"}},G=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.isMulti,zt=Pe.innerRef,cn=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("menuList",Pe),className:yt({"menu-list":!0,"menu-list--is-multi":Ut},Je),ref:zt},cn),Ye)},X=function(Pe){var Ye=Pe.theme,Je=Ye.spacing.baseUnit,yt=Ye.colors;return{color:yt.neutral40,padding:"".concat(Je*2,"px ").concat(Je*3,"px"),textAlign:"center"}},q=X,se=X,ie=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("noOptionsMessage",Pe),className:yt({"menu-notice":!0,"menu-notice--no-options":!0},Je)},Ut),Ye)};ie.defaultProps={children:"No options"};var Ee=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("loadingMessage",Pe),className:yt({"menu-notice":!0,"menu-notice--loading":!0},Je)},Ut),Ye)};Ee.defaultProps={children:"Loading..."};var Ie=function(Pe){var Ye=Pe.rect,Je=Pe.offset,yt=Pe.position;return{left:Ye.left,position:yt,top:Je,width:Ye.width,zIndex:1}},ge=function(Ze){Object(c.a)(Ye,Ze);var Pe=j(Ye);function Ye(){var Je;Object(s.a)(this,Ye);for(var yt=arguments.length,Dt=new Array(yt),Ut=0;Ut<yt;Ut++)Dt[Ut]=arguments[Ut];return Je=Pe.call.apply(Pe,[this].concat(Dt)),Je.state={placement:null},Je.getPortalPlacement=function(zt){var cn=zt.placement,vn=y(Je.props.menuPlacement);cn!==vn&&Je.setState({placement:cn})},Je}return Object(h.a)(Ye,[{key:"render",value:function(){var yt=this.props,Dt=yt.appendTo,Ut=yt.children,zt=yt.controlElement,cn=yt.menuPlacement,vn=yt.menuPosition,Cn=yt.getStyles,Rn=vn==="fixed";if(!Dt&&!Rn||!zt)return null;var ir=this.state.placement||y(cn),Hn=M(zt),nr=Rn?0:window.pageYOffset,Nn=Hn[ir]+nr,ht={offset:Nn,position:vn,rect:Hn},Ke=Object(O.c)("div",{css:Cn("menuPortal",ht)},Ut);return Object(O.c)(K.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},Dt?Object(f.createPortal)(Ke,Dt):Ke)}}]),Ye}(f.Component),oe=Array.isArray,ee=Object.keys,te=Object.prototype.hasOwnProperty;function le(Ze,Pe){if(Ze===Pe)return!0;if(Ze&&Pe&&b(Ze)=="object"&&b(Pe)=="object"){var Ye=oe(Ze),Je=oe(Pe),yt,Dt,Ut;if(Ye&&Je){if(Dt=Ze.length,Dt!=Pe.length)return!1;for(yt=Dt;yt--!=0;)if(!le(Ze[yt],Pe[yt]))return!1;return!0}if(Ye!=Je)return!1;var zt=Ze instanceof Date,cn=Pe instanceof Date;if(zt!=cn)return!1;if(zt&&cn)return Ze.getTime()==Pe.getTime();var vn=Ze instanceof RegExp,Cn=Pe instanceof RegExp;if(vn!=Cn)return!1;if(vn&&Cn)return Ze.toString()==Pe.toString();var Rn=ee(Ze);if(Dt=Rn.length,Dt!==ee(Pe).length)return!1;for(yt=Dt;yt--!=0;)if(!te.call(Pe,Rn[yt]))return!1;for(yt=Dt;yt--!=0;)if(Ut=Rn[yt],!(Ut==="_owner"&&Ze.$$typeof)&&!le(Ze[Ut],Pe[Ut]))return!1;return!0}return Ze!==Ze&&Pe!==Pe}function Q(Ze,Pe){try{return le(Ze,Pe)}catch(Ye){if(Ye.message&&Ye.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",Ye.name,Ye.message),!1;throw Ye}}var z=function(Pe){var Ye=Pe.isDisabled,Je=Pe.isRtl;return{label:"container",direction:Je?"rtl":null,pointerEvents:Ye?"none":null,position:"relative"}},V=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerProps,zt=Pe.isDisabled,cn=Pe.isRtl;return Object(O.c)("div",Object(o.a)({css:Dt("container",Pe),className:yt({"--is-disabled":zt,"--is-rtl":cn},Je)},Ut),Ye)},ne=function(Pe){var Ye=Pe.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(Ye.baseUnit/2,"px ").concat(Ye.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},re=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.isMulti,Ut=Pe.getStyles,zt=Pe.hasValue;return Object(O.c)("div",{css:Ut("valueContainer",Pe),className:yt({"value-container":!0,"value-container--is-multi":Dt,"value-container--has-value":zt},Je)},Ye)},de=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},fe=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles;return Object(O.c)("div",{css:Dt("indicatorsContainer",Pe),className:yt({indicators:!0},Je)},Ye)};function we(){var Ze=a([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return we=function(){return Ze},Ze}function Ge(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var $e={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},it=function(Pe){var Ye=Pe.size,Je=Object(e.a)(Pe,["size"]);return Object(O.c)("svg",Object(o.a)({height:Ye,width:Ye,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:$e},Je))},st=function(Pe){return Object(O.c)(it,Object(o.a)({size:20},Pe),Object(O.c)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Rt=function(Pe){return Object(O.c)(it,Object(o.a)({size:20},Pe),Object(O.c)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ht=function(Pe){var Ye=Pe.isFocused,Je=Pe.theme,yt=Je.spacing.baseUnit,Dt=Je.colors;return{label:"indicatorContainer",color:Ye?Dt.neutral60:Dt.neutral20,display:"flex",padding:yt*2,transition:"color 150ms",":hover":{color:Ye?Dt.neutral80:Dt.neutral40}}},je=Ht,Oe=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerProps;return Object(O.c)("div",Object(o.a)({},Ut,{css:Dt("dropdownIndicator",Pe),className:yt({indicator:!0,"dropdown-indicator":!0},Je)}),Ye||Object(O.c)(Rt,null))},be=Ht,he=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerProps;return Object(O.c)("div",Object(o.a)({},Ut,{css:Dt("clearIndicator",Pe),className:yt({indicator:!0,"clear-indicator":!0},Je)}),Ye||Object(O.c)(st,null))},Ce=function(Pe){var Ye=Pe.isDisabled,Je=Pe.theme,yt=Je.spacing.baseUnit,Dt=Je.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:Ye?Dt.neutral10:Dt.neutral20,marginBottom:yt*2,marginTop:yt*2,width:1}},De=function(Pe){var Ye=Pe.className,Je=Pe.cx,yt=Pe.getStyles,Dt=Pe.innerProps;return Object(O.c)("span",Object(o.a)({},Dt,{css:yt("indicatorSeparator",Pe),className:Je({"indicator-separator":!0},Ye)}))},Se=Object(O.d)(we()),Le=function(Pe){var Ye=Pe.isFocused,Je=Pe.size,yt=Pe.theme,Dt=yt.colors,Ut=yt.spacing.baseUnit;return{label:"loadingIndicator",color:Ye?Dt.neutral60:Dt.neutral20,display:"flex",padding:Ut*2,transition:"color 150ms",alignSelf:"center",fontSize:Je,lineHeight:1,marginRight:Je,textAlign:"center",verticalAlign:"middle"}},tt=function(Pe){var Ye=Pe.delay,Je=Pe.offset;return Object(O.c)("span",{css:Object(m.a)({animation:"".concat(Se," 1s ease-in-out ").concat(Ye,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:Je?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Xe=function(Pe){var Ye=Pe.className,Je=Pe.cx,yt=Pe.getStyles,Dt=Pe.innerProps,Ut=Pe.isRtl;return Object(O.c)("div",Object(o.a)({},Dt,{css:yt("loadingIndicator",Pe),className:Je({indicator:!0,"loading-indicator":!0},Ye)}),Object(O.c)(tt,{delay:0,offset:Ut}),Object(O.c)(tt,{delay:160,offset:!0}),Object(O.c)(tt,{delay:320,offset:!Ut}))};Xe.defaultProps={size:4};var Et=function(Pe){var Ye=Pe.isDisabled,Je=Pe.isFocused,yt=Pe.theme,Dt=yt.colors,Ut=yt.borderRadius,zt=yt.spacing;return{label:"control",alignItems:"center",backgroundColor:Ye?Dt.neutral5:Dt.neutral0,borderColor:Ye?Dt.neutral10:Je?Dt.primary:Dt.neutral20,borderRadius:Ut,borderStyle:"solid",borderWidth:1,boxShadow:Je?"0 0 0 1px ".concat(Dt.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:zt.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:Je?Dt.primary:Dt.neutral30}}},Qe=function(Pe){var Ye=Pe.children,Je=Pe.cx,yt=Pe.getStyles,Dt=Pe.className,Ut=Pe.isDisabled,zt=Pe.isFocused,cn=Pe.innerRef,vn=Pe.innerProps,Cn=Pe.menuIsOpen;return Object(O.c)("div",Object(o.a)({ref:cn,css:yt("control",Pe),className:Je({control:!0,"control--is-disabled":Ut,"control--is-focused":zt,"control--menu-is-open":Cn},Dt)},vn),Ye)};function rt(Ze,Pe){var Ye=Object.keys(Ze);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Ze);Pe&&(Je=Je.filter(function(yt){return Object.getOwnPropertyDescriptor(Ze,yt).enumerable})),Ye.push.apply(Ye,Je)}return Ye}function ke(Ze){for(var Pe=1;Pe<arguments.length;Pe++){var Ye=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?rt(Object(Ye),!0).forEach(function(Je){Object(l.a)(Ze,Je,Ye[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(Ye)):rt(Object(Ye)).forEach(function(Je){Object.defineProperty(Ze,Je,Object.getOwnPropertyDescriptor(Ye,Je))})}return Ze}var jt=function(Pe){var Ye=Pe.theme.spacing;return{paddingBottom:Ye.baseUnit*2,paddingTop:Ye.baseUnit*2}},Nt=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.Heading,zt=Pe.headingProps,cn=Pe.label,vn=Pe.theme,Cn=Pe.selectProps;return Object(O.c)("div",{css:Dt("group",Pe),className:yt({group:!0},Je)},Object(O.c)(Ut,Object(o.a)({},zt,{selectProps:Cn,theme:vn,getStyles:Dt,cx:yt}),cn),Object(O.c)("div",null,Ye))},rn=function(Pe){var Ye=Pe.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:Ye.baseUnit*3,paddingRight:Ye.baseUnit*3,textTransform:"uppercase"}},sn=function(Pe){var Ye=Pe.className,Je=Pe.cx,yt=Pe.getStyles,Dt=Pe.theme,Ut=Pe.selectProps,zt=Object(e.a)(Pe,["className","cx","getStyles","theme","selectProps"]);return Object(O.c)("div",Object(o.a)({css:yt("groupHeading",ke({theme:Dt},zt)),className:Je({"group-heading":!0},Ye)},zt))};function dt(Ze,Pe){var Ye=Object.keys(Ze);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Ze);Pe&&(Je=Je.filter(function(yt){return Object.getOwnPropertyDescriptor(Ze,yt).enumerable})),Ye.push.apply(Ye,Je)}return Ye}function mt(Ze){for(var Pe=1;Pe<arguments.length;Pe++){var Ye=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?dt(Object(Ye),!0).forEach(function(Je){Object(l.a)(Ze,Je,Ye[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(Ye)):dt(Object(Ye)).forEach(function(Je){Object.defineProperty(Ze,Je,Object.getOwnPropertyDescriptor(Ye,Je))})}return Ze}var gt=function(Pe){var Ye=Pe.isDisabled,Je=Pe.theme,yt=Je.spacing,Dt=Je.colors;return{margin:yt.baseUnit/2,paddingBottom:yt.baseUnit/2,paddingTop:yt.baseUnit/2,visibility:Ye?"hidden":"visible",color:Dt.neutral80}},ze=function(Pe){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:Pe?0:1,outline:0,padding:0,color:"inherit"}},ue=function(Pe){var Ye=Pe.className,Je=Pe.cx,yt=Pe.getStyles,Dt=Pe.innerRef,Ut=Pe.isHidden,zt=Pe.isDisabled,cn=Pe.theme,vn=Pe.selectProps,Cn=Object(e.a)(Pe,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return Object(O.c)("div",{css:yt("input",mt({theme:cn},Cn))},Object(O.c)(r.a,Object(o.a)({className:Je({input:!0},Ye),inputRef:Dt,inputStyle:ze(Ut),disabled:zt},Cn)))};function bt(Ze,Pe){var Ye=Object.keys(Ze);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Ze);Pe&&(Je=Je.filter(function(yt){return Object.getOwnPropertyDescriptor(Ze,yt).enumerable})),Ye.push.apply(Ye,Je)}return Ye}function wt(Ze){for(var Pe=1;Pe<arguments.length;Pe++){var Ye=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?bt(Object(Ye),!0).forEach(function(Je){Object(l.a)(Ze,Je,Ye[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(Ye)):bt(Object(Ye)).forEach(function(Je){Object.defineProperty(Ze,Je,Object.getOwnPropertyDescriptor(Ye,Je))})}return Ze}var It=function(Pe){var Ye=Pe.theme,Je=Ye.spacing,yt=Ye.borderRadius,Dt=Ye.colors;return{label:"multiValue",backgroundColor:Dt.neutral10,borderRadius:yt/2,display:"flex",margin:Je.baseUnit/2,minWidth:0}},We=function(Pe){var Ye=Pe.theme,Je=Ye.borderRadius,yt=Ye.colors,Dt=Pe.cropWithEllipsis;return{borderRadius:Je/2,color:yt.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:Dt?"ellipsis":null,whiteSpace:"nowrap"}},lt=function(Pe){var Ye=Pe.theme,Je=Ye.spacing,yt=Ye.borderRadius,Dt=Ye.colors,Ut=Pe.isFocused;return{alignItems:"center",borderRadius:yt/2,backgroundColor:Ut&&Dt.dangerLight,display:"flex",paddingLeft:Je.baseUnit,paddingRight:Je.baseUnit,":hover":{backgroundColor:Dt.dangerLight,color:Dt.danger}}},Ae=function(Pe){var Ye=Pe.children,Je=Pe.innerProps;return Object(O.c)("div",Je,Ye)},Ve=Ae,at=Ae;function ot(Ze){var Pe=Ze.children,Ye=Ze.innerProps;return Object(O.c)("div",Ye,Pe||Object(O.c)(st,{size:14}))}var vt=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.components,Dt=Pe.cx,Ut=Pe.data,zt=Pe.getStyles,cn=Pe.innerProps,vn=Pe.isDisabled,Cn=Pe.removeProps,Rn=Pe.selectProps,ir=yt.Container,Hn=yt.Label,nr=yt.Remove;return Object(O.c)(O.b,null,function(Nn){var ht=Nn.css,Ke=Nn.cx;return Object(O.c)(ir,{data:Ut,innerProps:wt(wt({},cn),{},{className:Ke(ht(zt("multiValue",Pe)),Dt({"multi-value":!0,"multi-value--is-disabled":vn},Je))}),selectProps:Rn},Object(O.c)(Hn,{data:Ut,innerProps:{className:Ke(ht(zt("multiValueLabel",Pe)),Dt({"multi-value__label":!0},Je))},selectProps:Rn},Ye),Object(O.c)(nr,{data:Ut,innerProps:wt({className:Ke(ht(zt("multiValueRemove",Pe)),Dt({"multi-value__remove":!0},Je))},Cn),selectProps:Rn}))})};vt.defaultProps={cropWithEllipsis:!0};var Ct=function(Pe){var Ye=Pe.isDisabled,Je=Pe.isFocused,yt=Pe.isSelected,Dt=Pe.theme,Ut=Dt.spacing,zt=Dt.colors;return{label:"option",backgroundColor:yt?zt.primary:Je?zt.primary25:"transparent",color:Ye?zt.neutral20:yt?zt.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(Ut.baseUnit*2,"px ").concat(Ut.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!Ye&&(yt?zt.primary:zt.primary50)}}},Mt=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.isDisabled,zt=Pe.isFocused,cn=Pe.isSelected,vn=Pe.innerRef,Cn=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("option",Pe),className:yt({option:!0,"option--is-disabled":Ut,"option--is-focused":zt,"option--is-selected":cn},Je),ref:vn},Cn),Ye)},Lt=function(Pe){var Ye=Pe.theme,Je=Ye.spacing,yt=Ye.colors;return{label:"placeholder",color:yt.neutral50,marginLeft:Je.baseUnit/2,marginRight:Je.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},_t=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("placeholder",Pe),className:yt({placeholder:!0},Je)},Ut),Ye)},Qt=function(Pe){var Ye=Pe.isDisabled,Je=Pe.theme,yt=Je.spacing,Dt=Je.colors;return{label:"singleValue",color:Ye?Dt.neutral40:Dt.neutral80,marginLeft:yt.baseUnit/2,marginRight:yt.baseUnit/2,maxWidth:"calc(100% - ".concat(yt.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},un=function(Pe){var Ye=Pe.children,Je=Pe.className,yt=Pe.cx,Dt=Pe.getStyles,Ut=Pe.isDisabled,zt=Pe.innerProps;return Object(O.c)("div",Object(o.a)({css:Dt("singleValue",Pe),className:yt({"single-value":!0,"single-value--is-disabled":Ut},Je)},zt),Ye)};function Jt(Ze,Pe){var Ye=Object.keys(Ze);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Ze);Pe&&(Je=Je.filter(function(yt){return Object.getOwnPropertyDescriptor(Ze,yt).enumerable})),Ye.push.apply(Ye,Je)}return Ye}function Xt(Ze){for(var Pe=1;Pe<arguments.length;Pe++){var Ye=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Jt(Object(Ye),!0).forEach(function(Je){Object(l.a)(Ze,Je,Ye[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(Ye)):Jt(Object(Ye)).forEach(function(Je){Object.defineProperty(Ze,Je,Object.getOwnPropertyDescriptor(Ye,Je))})}return Ze}var yn={ClearIndicator:he,Control:Qe,DropdownIndicator:Oe,DownChevron:Rt,CrossIcon:st,Group:Nt,GroupHeading:sn,IndicatorsContainer:fe,IndicatorSeparator:De,Input:ue,LoadingIndicator:Xe,Menu:Y,MenuList:G,MenuPortal:ge,LoadingMessage:Ee,NoOptionsMessage:ie,MultiValue:vt,MultiValueContainer:Ve,MultiValueLabel:at,MultiValueRemove:ot,Option:Mt,Placeholder:_t,SelectContainer:V,SingleValue:un,ValueContainer:re},wn=function(Pe){return Xt(Xt({},yn),Pe.components)}},,function(S,i,t){var e=t(188);function o(l,s,h){var c=l==null?void 0:e(l,s);return c===void 0?h:c}S.exports=o},function(S,i,t){"use strict";var e=t(218);t.d(i,"d",function(){return e.a}),t.d(i,"e",function(){return e.b});var o=t(217);t.d(i,"b",function(){return o.b}),t.d(i,"a",function(){return o.a});var l=t(275);t.d(i,"c",function(){return l.a})},function(S,i,t){"use strict";t.d(i,"b",function(){return n}),t.d(i,"a",function(){return r});var e=t(0),o=t(8),l=t.n(o),s=t(6),h=t.n(s),c=t(38),d=t(12),p=t(226);t.d(i,"c",function(){return p.a});var f=Object.defineProperty,O=(u,v,E)=>v in u?f(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,b=(u,v,E)=>(O(u,typeof v!="symbol"?v+"":v,E),E);const m="active",a=.7;class n extends e.Component{constructor(v,E){super(v,E);if(b(this,"onDocumentMouseUp",w=>{!Object(o.isRootOrChild)(w.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),b(this,"onDocumentKeyDown",w=>{w.key==="Escape"&&this.close()}),b(this,"onWindowResize",()=>{this.placeDropdown()}),b(this,"placeDropdown",()=>{var w,C;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const _=this.base.getBoundingClientRect(),T=_.width/(this.state.active?1:a),W=_.right+(T-_.width)/2,k=_.left-(T-_.width)/2,$=typeof window!="undefined"&&window.innerWidth;if(T>=$)return;const H=typeof window!="undefined"&&window.getComputedStyle(this.base),g=!isNaN(parseFloat(H.left))&&parseFloat(H.left),M=!isNaN(parseFloat(H.right))&&parseFloat(H.right),R=(w=this.state.originalLeft)!=null?w:H.left,D=(C=this.state.originalRight)!=null?C:H.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:R}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:D}),k<0?typeof this.state.left=="number"?this.setState({left:this.state.left-k,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+k}):typeof M=="number"?this.setState({left:null,right:M+k}):this.setState({left:(g||0)-k,right:null}):W>=$&&(typeof this.state.left=="number"?this.setState({left:this.state.left-W+$,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+W-$}):typeof g=="number"?this.setState({left:g-W+$,right:null}):this.setState({left:null,right:(M||0)+W-$}))}),typeof window!="undefined"&&(window==null?void 0:window.matchMedia)){const w=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:w.matches};const C=_=>{this.setState({isMobileWidth:_.matches})};w.addEventListener?w.addEventListener("change",C):w.addListener&&w.addListener(C)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:v=null}={}){this.blockToggle||Object(o.stateTransaction)(this,E=>{v===null&&(v=!E.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[v?"add":"remove"]("modal-in"),this.setState({active:v},()=>{this.props.onToggle&&this.props.onToggle({active:v})})})}isOpen(){return Boolean(this.state.active)}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:v},{active:E}){const w=Object(e.toChildArray)(this.props.children),C={},_={};typeof this.state.left=="number"?(C.left=`${this.state.left}px`,C.right="unset",_.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(C.left="unset",C.right=`${this.state.right}px`,_.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const T=this.useDrawerStyle();return Object(e.h)(e.Fragment,null,T&&Object(e.h)("div",{className:h()("dropdown-drawer-backdrop",{[m]:E}),onclick:()=>this.drawerBackdropClicked()}),Object(e.h)("ul",{className:h()("dropdown-menu",this.props.className,{[m]:E,"no-rect":this.props.noRectWhenClosed,drawer:T,tooltip:!T,"no-place":!!this.props.noPlace}),style:C},!v&&!this.useDrawerStyle()&&Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"dropdown-menu-tail",style:_}),Object(e.h)("div",{className:"dropdown-menu-tail-shadow",style:_})),Object(e.h)("div",{className:h()("dropdown-menu-wrapper",this.props.wrapperClassName)},T&&Object(e.h)(d.a,{className:"drawer-close-button",onClick:()=>this.close()},Object(e.h)(c.default,{height:24,className:"drawer-close-icon"})),this.props.noList?w:w.map(W=>Object(e.h)("li",null,W)))))}}class r extends e.Component{constructor(v){super(v);b(this,"onDocumentMouseUp",E=>{!Object(o.isRootOrChild)(E.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),b(this,"onDocumentKeyDown",E=>{E.key==="Escape"&&this.close()}),b(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:v=null}={}){this.blockToggle||Object(o.stateTransaction)(this,E=>{v===null&&(v=!E.active),this.setState({active:v},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return Boolean(this.state.active)}render(){const v=Object(e.toChildArray)(this.props.children);return this.props.noList?Object(e.h)("div",{className:h()("dropdown-menu tooltip",this.props.className,{[m]:this.state.active}),ref:this.props.forwardedRef},Object(e.h)("div",{className:"dropdown-menu-wrapper"},v)):Object(e.h)("ul",{className:h()("dropdown-menu tooltip",this.props.className,{[m]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&Object(e.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&Object(e.h)("div",{className:"dropdown-menu-tail-shadow"}),Object(e.h)("div",{className:"dropdown-menu-wrapper"},v.map(E=>Object(e.h)("li",null,E))))}}},function(S,i,t){const e=t(145);i.getStoredValue=(o,l=null)=>typeof window!="undefined"?e.get(o,l):l,i.setStoredValue=(o,l)=>{if(typeof window!="undefined")return e.set(o,l)},i.removeStoredValue=o=>{if(typeof window!="undefined")return e.remove(o)}},function(S,i,t){"use strict";t.d(i,"e",function(){return a}),t.d(i,"h",function(){return n}),t.d(i,"d",function(){return r}),t.d(i,"j",function(){return u}),t.d(i,"b",function(){return E}),t.d(i,"g",function(){return w}),t.d(i,"f",function(){return C}),t.d(i,"a",function(){return _}),t.d(i,"c",function(){return T}),t.d(i,"k",function(){return k}),t.d(i,"i",function(){return $});var e=t(0),o=t(296),l=t.n(o),s=t(7),h=t.n(s),c=t(44),d=t.n(c),p=t(3),f=t.n(p);const O="comment-collapse-state",b=250,m=W(),a=()=>{if(typeof window!="undefined"&&window.location.hash){const H=/^#comment-(\d+)/.exec(window.location.hash);if(H)return Number(H[1])}return null},n=()=>typeof window!="undefined"&&window.location.hash==="#input",r=(H,g)=>{if(!H||!g||!g.length)return null;for(const M of g){if(M.id===H)return M;if(M.children&&M.children.length){const R=r(H,M.children);if(R)return R}}return null};function u(H,g){return H.map(M=>M.id===g.id?g:(M.children=u(M.children,g),M)).filter(M=>M)}function v(H,g,{recurse:M=!0}={}){var R,D,U,L;return!!(H.id!==g.id||((R=H==null?void 0:H.metadata)==null?void 0:R.is_author)!==((D=g==null?void 0:g.metadata)==null?void 0:D.is_author)||((U=H==null?void 0:H.metadata)==null?void 0:U.founding)!==((L=g==null?void 0:g.metadata)==null?void 0:L.founding)||(H==null?void 0:H.body)!==(g==null?void 0:g.body)||(H==null?void 0:H.status)!==(g==null?void 0:g.status)||H.reaction!==g.reaction||H.user_banned!==g.user_banned||H.reported_by_user!==g.reported_by_user||(H.reactor_names?H.reactor_names.length:0)!==(g.reactor_names?g.reactor_names.length:0)||Object.values(H.reactions).reduce((j,B)=>j+B,0)!==Object.values(g.reactions).reduce((j,B)=>j+B,0)||M&&E(H.children,g.children,{recurse:M}))}function E(H,g,{recurse:M=!0}={}){if((H?H.length:0)!==(g?g.length:0))return!0;if(H)for(const R of H){const D=g.find(U=>U.id===R.id);if(!D||M&&v(R,D,{recurse:M}))return!0}return!1}function w(H,g){return Object(p.getPostUrl)(g,H,{comments:!Object(s.shouldUseInlineComments)(g,H)})}function C(H,g,M){return Object(p.getPostCommentsUrl)(M,H,g)}function _(H){return(H||"").split(`
`).filter(g=>g.trim()).map(g=>Object(e.h)("p",null,Object(e.h)(l.a,{options:{validate:{url:M=>M&&!M.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},g)))}const T=H=>({id:H.user_id,photo_url:H.photo_url,name:H.name});function W(){try{return Object(c.getStoredValue)(O,[])}catch(H){return console.error("Failed to load comment collapse state:",H),[]}}function k(H,g){let M=!1;if(g)m.includes(H)||(M=!0,m.push(H),m.length>b&&m.splice(0,m.length-b));else{const R=m.indexOf(H);R>=0&&(M=!0,m.splice(R,1))}if(M)try{Object(c.setStoredValue)(O,m)}catch(R){console.error("Failed to store comment collapse state:",R)}}function $(H){return m.includes(H)}},function(S,i,t){"use strict";t.d(i,"c",function(){return v}),t.d(i,"a",function(){return E}),t.d(i,"b",function(){return w}),t.d(i,"d",function(){return M}),t.d(i,"e",function(){return R});var e=t(0),o=t(2),l=t(66),s=t(107),h=t(11),c=t(23),d=t(379),p=t(77),f=t(6),O=t.n(f),b=Object.defineProperty,m=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(D,U,L)=>U in D?b(D,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):D[U]=L,u=(D,U)=>{for(var L in U||(U={}))a.call(U,L)&&r(D,L,U[L]);if(m)for(var L of m(U))n.call(U,L)&&r(D,L,U[L]);return D};function v({text:D,cta:U,onAccept:L,href:j,onClose:B,Icon:x,className:P}){return Object(e.h)(_,{className:O()("tw-items-center",P)},Object(e.h)(h.c,{className:"tw-flex-1",gap:12},x&&Object(e.h)($,{Icon:x}),Object(e.h)(T,null,D)),Object(e.h)(h.c,{className:"tw-flex-none",gap:12},U&&(typeof U=="string"?(j||L)&&Object(e.h)(c.a,{look:"flex",onClick:y=>{B==null||B(),L==null||L(y)},href:j},Object(e.h)(s.b,{className:"tw-text-dark-secondary"},U)):U),Object(e.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),Object(e.h)(k,{onClick:B})))}function E({title:D,body:U,buttons:L,onClose:j,Icon:B}){return Object(e.h)(_,{className:"tw-max-w-md"},B&&Object(e.h)($,{Icon:B}),Object(e.h)(h.b,{className:"tw-flex-0-5",gap:8},Object(e.h)(h.b,{className:"tw-flex-0-5",gap:4},Object(e.h)(T,null,D),Object(e.h)(W,null,U)),L&&Object(e.h)(h.c,{gap:24},L)),Object(e.h)(k,{onClick:j}))}function w(D){return Object(e.h)(c.a,u({look:"flex",className:"tw-h-9 tw-items-center"},D))}function C(D){return Object(e.h)("div",{className:H},Object(e.h)(v,u({},D)))}const _=Object(l.a)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),T=Object(l.a)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary",s.a),W=Object(l.a)("min-h-5 tw-flex-1 0 tw-text-dark-secondary",s.a);function k({onClick:D}){return Object(e.h)(c.a,{look:"flex",onClick:D},Object(e.h)(d.a,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function $({Icon:D}){return Object(e.h)(D,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const H="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-4 md:tw-right-4 md:tw-pl-4 tw-z-10",g=Object(e.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function M({children:D}){const[U,L]=Object(o.k)(null),[j,B]=Object(o.k)("hidden"),[x,P]=Object(o.k)(0),y=Object(o.j)(null),A=()=>{B("hidden")},K=(Y,{ttl:F=5e3}={})=>{L({element:Y({onClose:A}),ttl:F}),B("visible"),y.current!=null&&clearTimeout(y.current),y.current=F===null?null:setTimeout(A,F)},N=Y=>{P(Math.min(x+Y,0))};return Object(e.h)(g.Provider,{value:{popToast:K,addOffset:N}},D,Object(e.h)("div",{className:H,style:{transform:`translateY(${x}px)`}},Object(e.h)(p.c,{appear:!0,show:Boolean(U)&&j==="visible",enter:"tw-transition-all tw-duration-500 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-500 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>y.current!=null&&clearTimeout(y.current),onMouseLeave:()=>{y.current!=null&&clearTimeout(y.current),U&&(y.current=U.ttl===null?null:setTimeout(A,U.ttl))}},U==null?void 0:U.element)))}function R(){return Object(o.b)(g)}},,,function(S,i){S.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},,function(S,i){i.isMultiPub=s=>s?s.child_publications&&s.child_publications.length>0:!1,i.isSectionedPub=s=>{var h;return!!(s==null?void 0:s.sections)&&((h=s.sections)==null?void 0:h.length)>0},i.canAddSections=s=>{var h;return!(!s||((h=s.child_publications)==null?void 0:h.length)||s.parent_publication_id||s.parent_publication)},i.canEditNavigationBar=s=>{var h;return!(!s||((h=s.child_publications)==null?void 0:h.length)||s.parent_publication_id||s.parent_publication)},i.hasMultiplePodcasts=s=>t(s)>1;const t=s=>{let h=[];return i.isMultiPub(s)&&(h=i.getMultiPubChildPodcasts(s)),i.isSectionedPub(s)&&(h=i.getSectionPodcasts(s)),(s.podcast_enabled?1:0)+h.length};i.hasPodcast=s=>t(s)>0,i.hasOnePodcast=s=>t(s)===1,i.getMultiPubChildPodcasts=s=>i.isMultiPub(s)?s.child_publications.filter(h=>h.type==="podcast"):[],i.getSectionPodcasts=s=>i.isSectionedPub(s)?s.sections.filter(h=>h.is_podcast):[];const e=s=>s&&!s.includes("substack");i.pubCouldHavePublicPodcastUrl=s=>e(s.podcast_feed_url),i.sectionCouldHavePublicPodcastUrl=s=>{var h;return e((h=s.podcastSettings)==null?void 0:h.podcast_feed_url)},i.userCouldSeePublicPodcastUrls=s=>{if(i.pubCouldHavePublicPodcastUrl(s))return!0;if(i.hasMultiplePodcasts(s)){if(i.isMultiPub(s)){const h=i.getMultiPubChildPodcasts(s);for(const c of h)if(i.pubCouldHavePublicPodcastUrl(c))return!0}if(i.isSectionedPub(s)){const h=i.getSectionPodcasts(s);for(const c of h)if(i.sectionCouldHavePublicPodcastUrl(c))return!0}}return!1},i.userCouldSubscribeToPodcast=(s,h)=>h?i.isMultiPub(h)?!0:!i.hasPodcast(h)||h.hide_podcast_feed_link?!1:h.has_free_podcast?!0:h.has_subscriber_only_podcast?i.userIsPaidSubscriber(s):!1:!1,i.userIsFreeOnly=s=>s?!!(s.is_free_subscribed&&!s.is_subscribed):!1,i.userIsPaidSubscriber=s=>s?!!s.is_subscribed:!1,i.paymentsAreEnabled=s=>s?s.payments_state==="enabled":!1;const o=(s,{usePreview:h=!1,useDraft:c=!1}={})=>{switch(s==null?void 0:s.type){case"newsletter":return c?s.draftVoiceoverUpload:s.voiceoverUpload;case"podcast":return h?c?s.draftPodcastPreviewUpload:s.podcastPreviewUpload:c?s.draftPodcastUpload:s.podcastUpload;case"video":return c?s.draftVideoUpload:s.videoUpload;default:return null}};i.getMediaDuration=(s,{usePreview:h=!1,useDraft:c=!1}={})=>{var d;const p=o(s,{usePreview:h,useDraft:c});if(p)return(d=p.duration)!=null?d:null;if((s==null?void 0:s.type)==="podcast"&&!h){const f=c?s.draft_podcast_duration:s.podcast_duration;return f??null}return null},i.getMediaFileSize=(s,{usePreview:h=!1,useDraft:c=!1}={})=>{var d,p;const f=o(s,{usePreview:h,useDraft:c});return f?(d=f.primary_file_size)!=null?d:null:(s==null?void 0:s.type)==="podcast"&&!h&&!c&&(p=s.legacy_podcast_file_size)!=null?p:null},i.podcastPostIsFreePreview=s=>!s||s.type!=="podcast"||!s.podcastUpload?!1:!!s.podcastUpload.is_free_preview,i.hasPodcastPreview=s=>!!s&&!!s.podcast_preview_upload_id,i.getLogo=s=>{var h;return s.logo_url||s.cover_photo_url||s.author_photo_url||((h=s.author)==null?void 0:h.photo_url)},i.getFoundingTierPlan=s=>{var h;return Array.isArray(s==null?void 0:s.plans)&&(h=s.plans.find(c=>{var d;return((d=c.metadata)==null?void 0:d.founding)==="yes"}))!=null?h:null},i.getFoundingTierName=s=>{var h,c;const d=i.getFoundingTierPlan(s);return(c=(h=d==null?void 0:d.metadata)==null?void 0:h.short_description)!=null?c:null},i.mediaUploadHasProblem=s=>!s||!s.state?!1:s.state==="error"||s.state==="cancelled",i.getPaidOrFoundingTierNameForPost=(s,h)=>(h==null?void 0:h.audience)==="founding"&&i.getFoundingTierName(s)||"paid",i.hasVoiceover=s=>!!s&&!!s.voiceover_upload_id,i.canSyndicateVoiceoverDraft=(s,h)=>!s||!h||!i.hasPodcast(s)?!1:!!h.draft_voiceover_upload_id;const l=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;i.getAspectRatioFromBucketeerUrl=s=>{const h=s.match(l);return h?parseInt(h[1])/parseInt(h[2]):null}},function(S,i,t){"use strict";t.r(i),t.d(i,"getExperimentVariant",function(){return h}),t.d(i,"exposeExperiment",function(){return c}),t.d(i,"getVariantForInternal",function(){return d}),t.d(i,"getVariantFor",function(){return p}),t.d(i,"maybeGetVariantFor",function(){return f});var e=t(10),o=t.n(e),l=t(30);function s(O){if(!O||typeof window=="undefined")return null;const b=Object(l.default)(O);if(b&&typeof b=="string"&&b!=="experiment")return{intendedVariant:b,shouldLog:!1};if(window._preloads.variantOverrides&&O in window._preloads.variantOverrides)return{intendedVariant:window._preloads.variantOverrides[O],shouldLog:!1};const m=window._preloads.experimentExposures||{};if(m[O])return{intendedVariant:m[O],shouldLog:!1};const a=window._preloads.experimentFeatures||{};return a[O]?{intendedVariant:a[O],shouldLog:!0}:null}function h(O){const b=s(O);return b?b.intendedVariant:null}function c(O){const{intendedVariant:b,shouldLog:m}=s(O)||{};if(m!==!0)return!1;window._preloads.experimentExposures=window._preloads.experimentExposures||{};const a=window._preloads.experimentExposures;return a[O]=b,o.a.post("/api/v1/experiment_exposure").send({experiment_name:O,variant_name:b}).then(()=>{}).catch(()=>{delete a[O]}),!0}function d({variantOverrides:O={},experimentExposures:b,experimentFeatures:m},a,n={}){if(a in O)return O[a];const r=m[a];if(!r)return null;const u=b[a];return u||(r&&!n.skipExposure&&typeof window!="undefined"&&(b[a]=r,o.a.post("/api/v1/experiment_exposure").send({experiment_name:a,variant_name:r}).then(()=>{}).catch(()=>{delete b[a]})),r)}function p(O,b={}){if(!O||typeof window=="undefined"||!window._preloads)return null;const{variantOverrides:m,experimentExposures:a,experimentFeatures:n}=window._preloads;return d({variantOverrides:m,experimentExposures:a,experimentFeatures:n},O,b)}function f(O,b,m={}){const a=Object(l.default)(O);return a&&typeof a=="string"&&b.includes(a)?a:p(O,m)}},function(S,i,t){"use strict";t.r(i),t.d(i,"getAllAudiences",function(){return s}),t.d(i,"getAudiencesForPublicListing",function(){return h}),t.d(i,"getPaidAudiences",function(){return c}),t.d(i,"isPaidAudience",function(){return d}),t.d(i,"userHasFullAccessToPost",function(){return O}),t.d(i,"subHasFullAccessToPost",function(){return m}),t.d(i,"subHasFullAccessToPostAudience",function(){return a}),t.d(i,"pubRoleHasFullAccessToPost",function(){return r}),t.d(i,"pubRolesHaveFullAccessToPost",function(){return u}),t.d(i,"previewSubHasFullAccessToPost",function(){return v});const e=["founding","only_paid","everyone","only_free"],o=["founding","only_paid","everyone"],l=["founding","only_paid"];function s(){return[...e]}function h(){return[...o]}function c(){return[...l]}function d(E){return c().includes(E)}function p(E,w,C){if(!w&&!C||(E==null?void 0:E.subscription_publication_id)===w||(E==null?void 0:E.subscription_publication_id)===C){if((E==null?void 0:E.is_founding)||(E==null?void 0:E.is_contributor))return"founding";if(E==null?void 0:E.is_subscribed)return"paid"}return"free"}function f(E){switch(E){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${E}`)}}function O(E,w,C){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const _=p(E,w.publication_id,C==null?void 0:C.parent_publication_id);return f(w.audience).includes(_)}function b(E,w){if(!w||(E==null?void 0:E.publication_id)===w){if((E==null?void 0:E.membership_state)==="subscribed"&&(E==null?void 0:E.is_founding))return"founding";if((E==null?void 0:E.membership_state)==="subscribed")return"paid"}return"free"}function m(E,w){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const C=b(E,w.publication_id);return f(w.audience).includes(C)}function a(E,w){const C=b(E);return f(w).includes(C)}function n(E){return(E==null?void 0:E.role)==="admin"||(E==null?void 0:E.role)==="contributor"||(E==null?void 0:E.membership_state)==="subscribed"&&(E==null?void 0:E.is_founding)?"founding":(E==null?void 0:E.membership_state)==="subscribed"?"paid":"free"}function r(E,w){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const C=n(E);return f(w.audience).includes(C)}function u(E,w){return!!(w&&(r(E==null?void 0:E[w.publication_id],w)||w.parent_publication_id&&r(E==null?void 0:E[w.parent_publication_id],w)))}function v(E,w){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const C=E;return f(w.audience).includes(C)}},function(S,i,t){"use strict";t.r(i),function(e){t.d(i,"substackDomain",function(){return m}),t.d(i,"CDN_URL",function(){return a}),t.d(i,"_getUrl",function(){return n}),t.d(i,"substackBaseUrl",function(){return r}),t.d(i,"getHostname",function(){return u}),t.d(i,"serializeQuery",function(){return v}),t.d(i,"pathWithQuery",function(){return E}),t.d(i,"getBaseUrl",function(){return w}),t.d(i,"getSubstackUrl",function(){return C}),t.d(i,"getSubscribeUrl",function(){return _}),t.d(i,"getOfferSubscribeUrl",function(){return T}),t.d(i,"getLikelyLoggedInParam",function(){return W}),t.d(i,"getPubAccountSettingsUrl",function(){return k}),t.d(i,"getDashboardUrl",function(){return $}),t.d(i,"getProfileUrlById",function(){return H}),t.d(i,"getReaderProfileUrl",function(){return g}),t.d(i,"getGiftsUrl",function(){return M}),t.d(i,"getBaseAppLinkUrl",function(){return R}),t.d(i,"getPublicationChatAppLinkUrl",function(){return D}),t.d(i,"getCommunityPostAppLinkUrl",function(){return U}),t.d(i,"cloudinary",function(){return L}),t.d(i,"uncloudinary",function(){return j}),t.d(i,"extractDimensionsFromImageUrl",function(){return B}),t.d(i,"getCustomPublicationThemePreviewUrl",function(){return x}),t.d(i,"getCustomPublicationThemeDisablePreviewUrl",function(){return P});var o=t(86),l=t.n(o),s=t(201),h=t.n(s),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(y,A,K)=>A in y?c(y,A,{enumerable:!0,configurable:!0,writable:!0,value:K}):y[A]=K,b=(y,A)=>{for(var K in A||(A={}))p.call(A,K)&&O(y,K,A[K]);if(d)for(var K of d(A))f.call(A,K)&&O(y,K,A[K]);return y};const m=s.REVIEW_ENV_SUBDOMAIN?`${s.REVIEW_ENV_SUBDOMAIN}.substack.info`:e.env.SUBSTACK_DOMAIN||"substack.com",a="https://substackcdn.com";function n(y){let A="https://",K="";return A+y+K}const r=n(m);function u(y,{forceSubdomain:A=!1}={}){if(e.env.LOCAL_HOSTNAME)return e.env.LOCAL_HOSTNAME;if(y&&y.custom_domain&&!y.custom_domain_optional&&!A)return y.custom_domain;let K=m;return y&&y.subdomain!=="www"&&(K=`${y.subdomain}.${K}`),K}function v(y){return Object.keys(y).filter(A=>typeof y[A]!="undefined"&&y[A]!==null).map(A=>`${encodeURIComponent(A)}=${encodeURIComponent(y[A])}`).join("&")}function E(y,A){if(!y)return"";if(!A)return y;const K=v(A),N=K?y.indexOf("?")===-1?"?":"&":"";return`${y}${N}${K}`}function w(y,{forceSubdomain:A=!1}={}){if(y==null?void 0:y.rss_website_url)try{return new URL(y.rss_website_url).origin}catch(N){return y.rss_website_url}else if(y==null?void 0:y.base_url)return y.base_url;const K=u(y,{forceSubdomain:A});return n(K)}function C(){return w()}function _(y,{root:A,user:K,addBase:N,params:Y={}}={}){return A?/[&?]$/.test(A)||(A.includes("?")||A.endsWith("%%")?A+="&":A+="?"):A=N?`${w(y)}/subscribe?`:"/subscribe?",(K==null?void 0:K.email)&&(Y.autoSubmit=!0,Y.email=K==null?void 0:K.email),A+v(Y)}function T(y,{root:A,user:K,addBase:N,offerCode:Y,params:F={}}){return A?/[&?]$/.test(A)||(A.includes("?")||A.endsWith("%%")?A+="&":A+="?"):A=N?`${w(y)}/subscribe/offer/${Y}?`:`/subscribe/offer/${Y}?`,(K==null?void 0:K.email)&&(F.autoSubmit=!0,F.email=K==null?void 0:K.email),A+v(F)}function W(y,A){return A.custom_domain&&y?"1":void 0}function k(y,{addBase:A,params:K,signedIn:N}={}){const Y=W(N,y),F=A?w(y):"";return E(`${F}/account`,b({lli:Y},K))}function $(y,{addBase:A,params:K}={}){const Y=`${A?w(y):""}/publish`;return K?E(Y,K):Y}function H(y,A,{searchParams:K,noBase:N}={}){let F=`${N?"":C()}/profile/${y}`;const G=Object(o.cleanSlug)(A,{hashIfEmpty:!0});return G&&(F+=`-${G}`),E(F,K)}function g(y,{utm_source:A,noBase:K}={}){const N=A?{utm_source:A}:void 0;return H(y.author_id||y.id,y.user_profile_name||y.author_name||y.name,{noBase:K,searchParams:N})}function M({pub:y}){return`${w(y)}/account/gifts`}function R(){return n(`open.${m}`)}function D({pubKey:y,utm_source:A}){return E(`${R()}/pub/${y}/chat`,{utm_source:A})}function U({postId:y,utm_source:A}){return E(`${R()}/chat/posts/${y}`,{utm_source:A})}function L(y,A,{quality:K="auto:good",format:N="auto",crop:Y="limit",lossy:F=!1,gravity:G=null,height:X=null,aspect:q=null,version:se=null,smartCrop:ie=!1,skipDomainValidation:Ee=!1,extraSegments:Ie=[]}={}){var ge;if(!y)return y;y.startsWith("/")&&!y.startsWith("//")&&(y=C()+y),y=j(y);try{if(new URL(y).hostname.endsWith(".localhost"))return y}catch(oe){}if(typeof window!="undefined"&&((ge=window==null?void 0:window.location)==null?void 0:ge.hostname)&&["subwit.com","herokuapp.com"].reduce((oe,ee)=>oe||window.location.hostname.endsWith(ee),!1)&&(y=y.replace("//substack.com",`//${window.location.hostname}`)),y.startsWith("https://substackcdn.com")||y.startsWith(a))return y;if(y.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return y.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,a);if(y.startsWith("https://res.cloudinary.com"))return y.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,a);if(!Ee&&!y.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return y;if(ie&&A&&X){const oe=B(y);if(oe){const ee=A/X,te=oe.width/oe.height;(ee<1&&te>=1||ee>=1&&te<1)&&Math.abs(ee-te)>=.5&&(Y="fill",G="auto")}}return`${a}/image/fetch/${[[A&&`w_${A}`,X&&`h_${X}`,Y&&(A||X)&&`c_${Y}`,N&&`f_${N}`,K&&`q_${K}`,`fl_${F?"lossy":"progressive:steep"}`,G&&`g_${G}`,q&&`ar_${q}`].filter(oe=>oe).join(",")].concat(Ie).join("/")}/${encodeURIComponent(y+(se?`${y.indexOf("?")!==-1?"&":"?"}version=${se}`:""))}`}function j(y){if(!y)return y;const A=[/^https:\/\/substackcdn\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/[^/]+\/(.+)$/i];for(const K of A){const N=K.exec(y);if(N)return decodeURIComponent(N[1])}return y}function B(y){const A=y.match(/(\d+)x(\d+)\.\w+$/);return A?{width:+A[1],height:+A[2]}:null}function x(y,A){return`${w(y)}/api/v1/custom-publication-theme/${A.id}/preview`}function P(y){return`${w(y)}/api/v1/custom-publication-theme/disable-preview`}}.call(this,t(180))},function(S,i){i.commentSortOptions=({likesEnabled:e=!0}={})=>{const o=[];return o.push({key:"most_recent_first",text:"New First",description:"Newest first (good for live events)"}),e&&o.push({key:"best_first",text:"Top First",description:"Top ranked first"}),o.push({key:"oldest_first",text:"Chronological",description:"Chronological order (oldest first)"}),o},i.commentSortText=e=>i.commentSortOptions().find(o=>o.key===e).text;const t=function(e,o){if(Symbol.iterator in Object(e)){for(const l of e)if(o(l)===!1||t(l.children,o)===!1)return!1}};i.COMMENT_STATUS={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed"},i.VISIBLE_COMMENT_STATUSES=new Set([i.COMMENT_STATUS.review_required,i.COMMENT_STATUS.edit_review_required,i.COMMENT_STATUS.published,i.COMMENT_STATUS.moderator_approved]),i.hasVisibleStatus=e=>e.deleted?!1:i.VISIBLE_COMMENT_STATUSES.has(e.status),i.forEachComment=t},function(S,i,t){"use strict";t.d(i,"c",function(){return Oe}),t.d(i,"b",function(){return he}),t.d(i,"m",function(){return Ce}),t.d(i,"l",function(){return De}),t.d(i,"a",function(){return Le}),t.d(i,"n",function(){return tt}),t.d(i,"o",function(){return Xe}),t.d(i,"g",function(){return Et}),t.d(i,"p",function(){return Qe}),t.d(i,"e",function(){return sn}),t.d(i,"h",function(){return dt}),t.d(i,"i",function(){return mt}),t.d(i,"j",function(){return gt}),t.d(i,"k",function(){return ze}),t.d(i,"f",function(){return ue}),t.d(i,"d",function(){return wt});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(143),c=t(186),d=t(155),p=t(287),f=t(237),O=t(577),b=t(357),m=t(727),a=t(728),n=t(729),r=t(233),u=t.n(r),v=t(7),E=t(53),w=t(177),C=t.n(w),_=t(22),T=t(3),W=t(5),k=t(109),$=t(87),H=t(182),g=t(288),M=t(292),R=t(46),D=t(92),U=t(14),L=t.n(U),j=t(528),B=t(60),x=t(194),P=t(33),y=t(42),A=t(13),K=t(37),N=t(130),Y=t(10),F=t.n(Y),G=t(220),X=t(133),q=t(12),se=t(64),ie=t(28),Ee=Object.defineProperty,Ie=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,ee=(Ae,Ve,at)=>Ve in Ae?Ee(Ae,Ve,{enumerable:!0,configurable:!0,writable:!0,value:at}):Ae[Ve]=at,te=(Ae,Ve)=>{for(var at in Ve||(Ve={}))ge.call(Ve,at)&&ee(Ae,at,Ve[at]);if(Ie)for(var at of Ie(Ve))oe.call(Ve,at)&&ee(Ae,at,Ve[at]);return Ae},le=(Ae,Ve,at)=>new Promise((ot,vt)=>{var Ct=_t=>{try{Lt(at.next(_t))}catch(Qt){vt(Qt)}},Mt=_t=>{try{Lt(at.throw(_t))}catch(Qt){vt(Qt)}},Lt=_t=>_t.done?ot(_t.value):Promise.resolve(_t.value).then(Ct,Mt);Lt((at=at.apply(Ae,Ve)).next())});const Q=({selectedPub:Ae,setSelectedPub:Ve,userPubs:at})=>Object(e.h)(G.b,{noBorder:!1,onSelect:()=>{Ve(Ae)},renderDropdown:()=>Object(e.h)("div",{className:"preview-picker"},at.map(ot=>Object(e.h)("div",{className:"preview-row",onClick:()=>{Ve(ot)}},Object(e.h)("span",null,ot.name))))},Object(e.h)(q.b,{type:"button",className:"btn btn-secondary",onClick:()=>{},"data-testid":"preview"},Object(e.h)("span",null,Ae.name),Object(e.h)(X.default,{height:4,className:"caret"}))),z=({pub:Ae,post:Ve,user:at,open:ot,setOpen:vt})=>{const Ct="RESTACK_STEP",[Mt,Lt]=Object(o.k)(null),[_t,Qt]=Object(o.k)(""),[un,Jt]=Object(o.k)(!0),[Xt,yn]=Object(o.k)(!0),[wn,Ze]=Object(o.k)(Ct),[Pe,Ye]=Object(o.k)(null),[Je,yt]=Object(o.k)(""),Dt=Object(R.e)();Object(o.d)(()=>{!Mt&&un&&(()=>le(void 0,null,function*(){try{const Cn=(yield F.a.get(`/api/v1/user/${at.id}/substack_profile`)).body;Lt(Cn.publicationUsers.map(Rn=>Rn.publication)),Ye(Cn.publicationUsers.map(Rn=>Rn.publication)[0]),Jt(!1)}catch(vn){console.error("Failed to load user profile for restacking: ",vn)}}))()},[at,un,Jt,Mt,Lt]);const Ut=(cn,vn)=>{vt(!ot),Ze(Ct),yt(null),Qt(""),Jt(!1),vn&&(Object(W.i)(W.a.RESTACK_POST_SUBMITTED,{restacked_publication_id:Ae.id,restacked_post_id:Ve.id,restacking_user_id:at.id,restacking_publication_id:Pe.id,restacking_blurb:_t,did_send_email:Xt}),Dt.popToast(Cn=>Object(e.h)(R.c,te({text:Xt?"Recommendation sent to your subscribers":`You have recommended ${Ve.title}.`},Cn))))},zt=cn=>le(void 0,null,function*(){Qt(cn.target.value)});return Object(e.h)(y.a,{isOpen:ot,onClose:Ut},Object(e.h)(y.d,{includeClose:!0,onClose:Ut,title:"Recommend post"}),Object(e.h)(y.b,null,Object(e.h)("div",{"data-testid":"modal-ref-id",className:"restack-modal-parent-container"},un&&!Mt?Object(e.h)("p",null,"Loading..."):wn===Ct?Object(e.h)("div",{className:"restack-modal-container"},Mt.length>1&&Object(e.h)("div",{className:"restack-modal-user-header"},Object(e.h)(K.a,{pub:Pe,size:84,logo_url:at.photo_url||Pe.author_photo_url||Pe.logo_url,linkify:!1,className:"author-photo"}),Object(e.h)("div",{className:"user-information"},Object(e.h)("p",{className:"user-name"},at.name),Object(e.h)(Q,{selectedPub:Pe,setSelectedPub:Ye,userPubs:Mt}))),Object(e.h)("textarea",te({className:s()("restack-modal",{onePub:Mt.length===1}),placeholder:"Tell your subscribers why you're recommending this...",onChange:zt,value:_t,maxLength:"800"},N.b)),Object(e.h)("div",{className:"restack-post-section"},Object(e.h)("div",{className:"restack-post-header"},Object(e.h)(K.a,{pub:Ae,size:84,logo_url:Ae.logo_url,linkify:!1,className:"embedded-post"}),Object(e.h)("p",{className:"restack-post-pub-name"},Ae.name)),Object(e.h)("p",{className:"restack-post-title"},Ve.title),Object(e.h)(A.b.B3,{color:"secondary",className:"restack-post-text"},Object(v.formatEllipsis)(((Ve.truncated_body_text||"").replace(ie.Substitutions.PUBLICATION_NAME,Ae.name)||Ve.subtitle||"").substring(0,100)))),Object(e.h)(se.a,{name:"send-email-checkbox",checked:Xt,label:"Also email this recommendation to my subscribers",onChange:()=>yn(!Xt)}),Je&&Object(e.h)(A.b.B4,{className:"error-text"},Je),Object(e.h)("button",{onClick:()=>le(void 0,null,function*(){if(Xt&&(!_t||_t.length===0)){yt("Please write something to your subscribers to continue");return}yt(""),Jt(!0);try{yield F.a.post(`/api/v1/restack/${Ve.id}`).send({audience:"everyone",restackingPubId:Pe.id,introText:_t,sendEmail:Xt}),Ut({},!0);return}catch(cn){if(cn instanceof TypeError)throw yt("An unknown error ocurred. This post was not recommended."),Jt(!1),cn;yt("This post could not be recommended."),Jt(!1)}}),disabled:un,className:"button big-button primary"},Xt?"Recommend and send email to my subscribers":"Recommend")):Object(e.h)(e.Fragment,null))))};var V=t(307),ne=Object.defineProperty,re=Object.defineProperties,de=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,$e=(Ae,Ve,at)=>Ve in Ae?ne(Ae,Ve,{enumerable:!0,configurable:!0,writable:!0,value:at}):Ae[Ve]=at,it=(Ae,Ve)=>{for(var at in Ve||(Ve={}))we.call(Ve,at)&&$e(Ae,at,Ve[at]);if(fe)for(var at of fe(Ve))Ge.call(Ve,at)&&$e(Ae,at,Ve[at]);return Ae},st=(Ae,Ve)=>re(Ae,de(Ve)),Rt=(Ae,Ve,at)=>new Promise((ot,vt)=>{var Ct=_t=>{try{Lt(at.next(_t))}catch(Qt){vt(Qt)}},Mt=_t=>{try{Lt(at.throw(_t))}catch(Qt){vt(Qt)}},Lt=_t=>_t.done?ot(_t.value):Promise.resolve(_t.value).then(Ct,Mt);Lt((at=at.apply(Ae,Ve)).next())});function Ht(Ae){return Ae==="button"||Ae==="inline"?20:Ae==="tabs"?24:Ae==="compressed"?16:0}const je=1.5;function Oe({post:Ae,pub:Ve,user:at,style:ot,justified:vt,isStatic:Ct,postReactionToken:Mt,hideReactions:Lt,hideComments:_t,hideShare:Qt,hideSavePost:un,useShareLabel:Jt,allowEdit:Xt,editButtonIsLast:yn,onChange:wn,addedPodcastComments:Ze,hidePinning:Pe,showEmailSent:Ye,allowSendEmail:Je,footerHidden:yt,onCommentsClick:Dt,reactors:Ut,labelStyle:zt,showPreamble:cn,preambleConfig:vn={},position:Cn,hideByDisabling:Rn,showRestackButton:ir,showRecommendPostModal:Hn}){const nr=Object(x.b)(),{showPins:Nn,showAudience:ht,showDate:Ke,showDatetime:Fe,showAuthor:Tt,showPublicationName:Vt}=vn;Lt=Lt||!Ve.community_enabled||!Ae.slug||Ae.is_draft;const Kt=C()(Object.values((Ae==null?void 0:Ae.reactions)||{})),on=Ye?Boolean(Ae.email_sent_at):null,qt=Xt&&(at==null?void 0:at.is_contributor),Bt=Object(e.h)(rn,{style:ot,pub:Ve,post:Ae,user:at,hidePinning:Pe,emailSent:on,allowSendEmail:Je,footerHidden:yt}),dn=zt==="counts-or-none"&&Kt?"count":zt==="labels"?"cta":"none",Bn=zt==="counts-or-none"&&Ae.comment_count?"count":zt==="labels"?"cta":"none";return Object(e.h)("div",{class:s()("post-ufi",`style-${ot}`,{justified:vt,themed:nr})},cn&&vn&&Object(e.h)(bt,{pub:Ve,post:Ae,showPins:Nn,showAudience:ht,showDate:Ke,showDatetime:Fe,showEmailSent:Ye,showAuthor:Tt,showPublicationName:Vt}),qt&&!yn&&Bt,(Rn||!Lt)&&Object(e.h)(Se,{post:Ae,pub:Ve,user:at,labelStyle:Rn&&Lt?"none":dn,style:ot,count:Kt,onChange:wn,isStatic:Ct,isDisabled:Rn&&Lt}),(Rn||!_t)&&Object(e.h)(ke,{post:Ae,pub:Ve,isStatic:Ct,labelStyle:Rn&&_t?"none":Bn,style:ot,count:Ae.comment_count+(Ze||0),onClick:Dt,isDisabled:Rn&&_t}),!Qt&&Object(e.h)(jt,{post:Ae,pub:Ve,user:at,style:ot,labelStyle:Jt?"cta":"none",isStatic:Ct,postReactionToken:Mt,position:Cn}),ir&&at&&at.has_publication&&Object(e.h)(Nt,{post:Ae,pub:Ve,user:at,style:ot,labelStyle:Jt?"cta":"none",isStatic:Ct,postReactionToken:Mt,position:Cn,showRecommendPostModal:Hn}),!un&&at&&Object(e.h)(rt,{post:Ae,labelStyle:Bn,style:ot,onChange:wn}),qt&&yn&&Bt)}function be(){const Ae=!1,Ve=typeof window=="undefined",at=250,[ot,vt]=Object(o.k)(Ve?0:window.pageYOffset),[Ct,Mt]=Object(o.k)(Ae),Lt=100,_t=Object(o.h)(()=>Date.now()+1e3,[]),Qt=Object(o.j)(0);return Object(o.d)(()=>{if(Ve)return;const un=u()(()=>{const Jt=Date.now(),Xt=(Jt-Qt.current)/1e3,wn=(ot-window.pageYOffset)/Xt;Qt.current=Jt,!(window.pageYOffset<0)&&(Jt<_t?Mt(Ae):-wn>Lt?Mt(!0):wn>Lt&&Mt(!1),vt(window.pageYOffset))},at);return window.addEventListener("scroll",un),()=>window.removeEventListener("scroll",un)},[Ve,ot,vt,Mt,_t,Qt,Ae]),Ct}function he({post:Ae,pub:Ve,user:at,isStatic:ot,postReactionToken:vt,onChange:Ct,allowEdit:Mt,hidePinning:Lt,showEmailSent:_t,allowSendEmail:Qt,hideComments:un,onCommentsClick:Jt,showRestackButton:Xt,showRecommendPostModal:yn,setFooterShown:wn}){const Ze=be(),Pe=Object(R.e)();return Object(o.d)(()=>{Pe.addOffset(64*(Ze?1:-1)),wn&&wn(!Ze)},[Ze,wn]),Object(e.h)("div",{class:s()("mobile-footer-ufi",{hidden:Ze})},Object(e.h)(Oe,{post:Ae,pub:Ve,user:at,isStatic:ot,justified:!0,postReactionToken:vt,style:"tabs",onChange:Ct,allowEdit:Mt,editButtonIsLast:!0,hidePinning:Lt,showEmailSent:_t,allowSendEmail:Qt,footerHidden:Ze,labelStyle:"counts-or-none",hideComments:un,onCommentsClick:Jt,position:"mobile-toolbar",hideByDisabling:!0,showRestackButton:Xt,showRecommendPostModal:yn}))}function Ce({post:Ae,user:Ve,surface:at,onChange:ot}){const vt=!!(Ae==null?void 0:Ae.reaction),Ct=Object(_.g)({pathname:`/api/v1/post/${Ae==null?void 0:Ae.id}/reaction`,method:"POST",deps:[Ae==null?void 0:Ae.id]}),Mt=Object(M.a)({user:Ve,noBase:!1});return{isLiked:vt,toggle(){return Rt(this,null,function*(){var Lt;vt||Mt();const _t=yield Ct.refetch(vt?{method:"DELETE"}:{method:"POST",json:{reaction:"\u2764",surface:at}}),Qt=(Lt=_t==null?void 0:_t.response)==null?void 0:Lt.status;if(Qt)return Qt===401?"unauthorized":"error";const{reaction:un,reactions:Jt,reactor_names:Xt}=Object($.e)(Ve,Ae);return Ae.reaction=un,Ae.reactions=Jt,Ae.reactor_names=Xt,ot&&ot({post:Ae}),un?"liked":"unliked"})}}}function De(){const Ae=Object(R.e)();return(at,ot)=>Rt(this,null,function*(){yield Object(_.c)(`/api/v1/post/${at}/reaction`,ot?{method:"POST",json:{reaction:"\u2764",surface:"reader"}}:{method:"DELETE"}),ot?Ae.popToast(vt=>Object(e.h)(R.c,st(it({},vt),{text:"Post liked",Icon:O.a}))):Ae.popToast(vt=>Object(e.h)(R.c,st(it({},vt),{text:"Post disliked",Icon:O.a})))})}function Se({post:Ae,pub:Ve,user:at,style:ot,labelStyle:vt,count:Ct,onChange:Mt,isStatic:Lt,isDisabled:_t}){const Qt=vt==="count"?Object(v.numberToString)(Ct||0):vt==="cta"?"Like":null;return Object(e.h)(Le,{post:Ae,pub:Ve,user:at,onChange:Mt,isStatic:Lt},({isLiked:un,handleLike:Jt})=>Object(e.h)(sn,{style:ot,state:un?"liked":void 0,icon:Object(e.h)(h.default,{className:"icon",height:Ht(ot),strokeWidth:je}),onClick:_t?()=>{}:Jt,noLabel:vt==="none",isDisabled:_t},Qt))}function Le({post:Ae,pub:Ve,user:at,onChange:ot,isStatic:vt,children:Ct}){const{isLiked:Mt,toggle:Lt}=Ce({post:Ae,user:at,onChange:ot}),_t=Object(o.j)(),[Qt,un]=Object(o.k)(!1),Jt=Object(o.a)(Xt=>Rt(this,null,function*(){var yn;(yn=Xt==null?void 0:Xt.stopPropagation)==null||yn.call(Xt),(yield Lt())==="unauthorized"&&un(!0)}),[Lt]);return Object(o.d)(()=>{!(_t==null?void 0:_t.current)||!Qt||_t.current.open()},[Qt]),Object(e.h)(e.Fragment,null,Ct({isLiked:Mt,handleLike:Jt}),!vt&&Qt&&Object(e.h)($.b,{modalRef:_t,user:at,pub:Ve,onClose:()=>un(!1),react:Lt}))}function tt({post:Ae,defaultSaved:Ve,isSaved:at,trackSurface:ot}){var vt;return Xe({postId:Ae.id,defaultSaved:(vt=Ve??Ae.is_saved)!=null?vt:!1,isSaved:at,trackSurface:ot})}function Xe({postId:Ae,defaultSaved:Ve,isSaved:at,trackSurface:ot}){const[vt,Ct]=Object(o.k)(Ve),Mt=at??vt,{refetch:Lt,isLoading:_t,error:Qt}=Object(_.g)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:Ae},deps:[Ae]}),un=Object(D.c)(),Jt=Qe();return{isSaved:Mt,onSave:()=>(_t||(Lt({method:Mt?"DELETE":"POST"}).then(()=>{un.refetch()}),Ct(!Mt),Jt(!Mt),Object(W.i)(W.a.POST_SAVED,{post_id:Ae,surface:ot})),!Mt)}}function Et(Ae,Ve,at){return Rt(this,arguments,function*(ot,vt,{surface:Ct}){yield Object(_.c)("/api/v1/posts/saved",{method:vt?"POST":"DELETE",json:{post_id:ot}}),Object(W.i)(W.a.POST_SAVED,{post_id:ot,surface:Ct,is_saved:vt})})}function Qe(){const Ae=Object(R.e)();return Ve=>{Ve?Ae.popToast(at=>Object(e.h)(R.c,st(it({},at),{text:"Post saved",Icon:b.a}))):Ae.popToast(at=>Object(e.h)(R.c,st(it({},at),{text:"Post unsaved",Icon:m.a})))}}function rt({style:Ae,post:Ve,isSaved:at,labelStyle:ot,onChange:vt}){const{isSaved:Ct,onSave:Mt}=tt({defaultSaved:at,post:Ve,isSaved:Ve.is_saved}),Lt=()=>{const _t=Mt();vt({post:st(it({},Ve),{is_saved:_t})})};return Object(e.h)(sn,{state:Ct?"substack":void 0,style:Ae,icon:Object(e.h)(p.default,{className:"icon",height:Ht(Ae),strokeWidth:je}),noLabel:ot==="none",onClick:Lt},ot==="cta"?"Save":null)}function ke({style:Ae,count:Ve,labelStyle:at,post:ot,pub:vt,isStatic:Ct,onClick:Mt,isDisabled:Lt}){let _t;return(ot==null?void 0:ot.comment_url_override)?_t=ot.comment_url_override:Ct?_t=`${ie.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:vt&&(_t=Object(T.getPostUrl)(vt,ot,{comments:!0})),Object(e.h)(sn,{style:Ae,icon:Object(e.h)(d.default,{className:"icon",height:Ht(Ae),strokeWidth:je}),href:Lt?null:_t,onClick:Lt?()=>{}:Mt,noLabel:at==="none",className:"post-ufi-comment-button",isDisabled:Lt},at==="cta"&&"Comment",at==="count"&&Object(v.numberToString)(Ve||0))}function jt({post:Ae,user:Ve,pub:at,style:ot,labelStyle:vt,isStatic:Ct,postReactionToken:Mt,onChange:Lt,position:_t}){const Qt=Object(o.j)(),un=Object(o.a)(()=>{Object(W.i)(W.a.POST_SHARE_BUTTON_CLICKED,{position:_t}),Qt.current.open()},[]);let Jt;return Ae.share_url_override?Jt=Ae.share_url_override:Ct?Ae?Jt=ie.Substitutions.SHARE_URL:Jt=ie.Substitutions.SHARE_PUB_URL:Jt="javascript:void(0)",Object(e.h)(e.Fragment,null,Object(e.h)(sn,{style:ot,icon:Object(e.h)(c.default,{className:"icon",height:Ht(ot),strokeWidth:je}),onClick:un,href:Jt,noLabel:vt==="none"},vt==="cta"&&"Share"),!Ct&&Object(e.h)(k.a,{ref:Qt,user:Ve,pub:at,post:Ae,reaction_token:Mt,onChange:Lt}))}function Nt({post:Ae,user:Ve,pub:at,style:ot,labelStyle:vt,showRecommendPostModal:Ct=!1}){const Mt="javascript:void(0)",[Lt,_t]=Object(o.k)(typeof window!="undefined"&&Ct);Object(o.d)(()=>{Ct&&Object(W.i)(W.a.RESTACK_POST_CLICKED,{restacked_publication_id:at.id,restacked_post_id:Ae.id,restacking_user_id:Ve.id,is_from_email:!0})},[at.id,Ae.id,Ve.id,Ct]);const Qt=()=>{Lt||Object(W.i)(W.a.RESTACK_POST_CLICKED,{restacked_publication_id:at.id,restacked_post_id:Ae.id,restacking_user_id:Ve.id,is_from_email:!1}),_t(!Lt)};return Object(e.h)(e.Fragment,null,Object(e.h)(sn,{style:ot,icon:Object(e.h)(f.default,{className:"icon",height:Ht(ot),strokeWidth:je}),onClick:Qt,href:Mt,noLabel:vt==="none",title:"Recommend Post"},vt==="cta"&&"Recommend"),Object(e.h)(z,{pub:at,user:Ve,post:Ae,open:Lt,setOpen:_t}))}function rn({style:Ae,pub:Ve,post:at,user:ot,hidePinning:vt,emailSent:Ct,allowSendEmail:Mt,footerHidden:Lt}){const _t=Object(o.j)();return Lt&&_t.current&&_t.current.close(),Object(e.h)("div",{class:"edit-button-container"},Object(e.h)(sn,{onClick:()=>_t.current.open(),style:Ae,icon:Object(e.h)(a.a,{className:"icon edit-icon",size:Ht(Ae),strokeWidth:2}),noLabel:!0,noBorder:!0}),Object(e.h)(H.b,{ref:_t,pub:Ve,post:at,user:ot,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:vt,emailSent:Ct,allowSendEmail:Mt}))}function sn({icon:Ae,children:Ve,state:at,style:ot,onClick:vt,href:Ct,noLabel:Mt,noBorder:Lt,className:_t,isDisabled:Qt,iconPosition:un="left",title:Jt}){return Object(e.h)("a",{role:"button",className:s()("post-ufi-button",`style-${ot}`,_t,at?`state-${at}`:void 0,Qt?"state-disabled":void 0,Ve&&!Mt?"has-label":"no-label",Lt?"no-border":"with-border"),title:Jt,href:Ct,onClick:Xt=>{Xt.stopPropagation(),vt(Xt)}},un==="left"&&Ae,!Mt&&Ve&&Object(e.h)("div",{class:"label"},Ve),un==="right"&&Ae)}const dt=({pub:Ae,post:Ve,showAuthor:at})=>Boolean(at&&Ae.bylines_enabled&&Object(v.getPrintedByline)(Ae,Ve)),mt=({pub:Ae,post:Ve,showAuthor:at,showPhoto:ot,isMobileWidth:vt})=>dt({pub:Ae,post:Ve,showAuthor:at})&&!gt({pub:Ae,post:Ve,showAuthor:at})&&!ze({pub:Ae,post:Ve,showAuthor:at,showPhoto:ot})&&!vt,gt=({pub:Ae,post:Ve,showAuthor:at})=>dt({pub:Ae,post:Ve,showAuthor:at})&&Object(v.getBylineUsers)(Ve).length>1,ze=({pub:Ae,post:Ve,showAuthor:at,showPhoto:ot})=>{var vt;return dt({pub:Ae,post:Ve,showAuthor:at})&&ot&&((vt=Object(v.getBylineUsers)(Ve)[0])==null?void 0:vt.photo_url)&&Ae.byline_images_enabled};function ue({post:Ae,showDatetime:Ve,isStatic:at,fromPostPage:ot,showReactions:vt}){const Ct=Ae.reactions?Object.values(Ae.reactions).reduce((Lt,_t)=>Lt+_t,0):0,Mt=ot&&!at&&vt&&Ct>=70&&Ct<100;return Ve&&Mt?L()(Ae.post_date).standardDatetimeWithYear():Ve&&!Mt?L()(Ae.post_date).standardDatetime():at?L()(Ae.post_date).standardDate():Mt?L()(Ae.post_date).standardDate({full:Mt}):L()(Ae.post_date).standardDateOrTime()}function bt({pub:Ae,post:Ve,showPins:at,showAudience:ot,showDate:vt,showDatetime:Ct,showEmailSent:Mt,showAuthor:Lt,showPublicationName:_t}){const Qt=Object(x.b)(),un=Boolean(Lt&&Ae.bylines_enabled&&Object(v.getPrintedByline)(Ae,Ve)),Jt=!1,Xt=vt&&Ve.post_date&&!Ve.is_draft,yn=Mt?Boolean(Ve.email_sent_at):null;return Object(e.h)("div",{class:s()("ufi-preamble",{themed:Qt})},Mt&&yn&&Object(e.h)("div",{className:"email-sent",title:"This post was sent as an email"},Object(e.h)(n.a,{className:"post-ufi-preamble-icon",size:16})),at&&Ve.is_section_pinned&&Object(e.h)("div",{class:"pinned"},Object(e.h)(g.default,{className:"post-ufi-preamble-icon"})),Ve.type==="restack"&&Object(e.h)("div",{class:"restack"},"R"),Ve.type==="adhoc_email"?Object(e.h)("div",{class:"audience-adhoc"},Object(e.h)(j.default,{className:"post-ufi-preamble-icon"})):ot&&Object(E.isPaidAudience)(Ve.audience)&&Object(e.h)("div",{class:"audience-lock"},Object(e.h)(V.a,{audience:Ve.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),mt({pub:Ae,post:Ve,showAuthor:un,isMobileWidth:Jt})&&Object(e.h)("div",{class:"ufi-preamble-label author"},Object(v.getBylineUsers)(Ve).length>0?Object(v.oxfordComma)(Object(v.getBylineUsers)(Ve).map(wn=>Object(e.h)(B.d,{subject:wn},Object(e.h)("a",{href:Object(T.getProfileUrl)(wn,Ae,{base:!0}),onClick:Ze=>Ze.stopPropagation()},wn.name)))):Object(v.getPrintedByline)(Ae,Ve)),_t&&Object(e.h)("div",{class:"post-publication-name"},Ae.name),Xt&&Object(e.h)("div",{class:"ufi-preamble-label post-date",title:L()(Ve.post_date).toISOString()},Object(e.h)("time",{dateTime:L()(Ve.post_date).toISOString()},ue({post:Ve,showDatetime:Ct}))))}function wt({isFooter:Ae,customization:{showShare:Ve,showComments:at,showReactions:ot,showListen:vt,showSave:Ct,showSeeComments:Mt,showRestack:Lt,showLabels:_t}}){const Qt=Ae?"email-ufi-2-bottom":"email-ufi-2-top",un=Lt||vt||Ct||Mt;return Object(e.h)(P.e,{className:Qt,width:"100%"},Object(e.h)(It,null),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(P.e,{width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(P.c,{gap:8,style:un?void 0:{margin:"0 auto"}},ot&&_t?Object(e.h)(P.b,{aClassName:"email-button-outline",href:ie.Substitutions.REACTION_URL},Object(e.h)(h.default,it({},We)),Object(e.h)("span",{className:"email-button-text"},"Like")):Object(e.h)(lt,{href:ie.Substitutions.REACTION_URL},Object(e.h)(h.default,it({},We))),at&&_t?Object(e.h)(P.b,{aClassName:"email-button-outline",href:`${ie.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},Object(e.h)(d.default,it({},We)),Object(e.h)("span",{className:"email-button-text"},"Comment")):Object(e.h)(lt,{href:`${ie.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},Object(e.h)(d.default,it({},We))),Ve&&_t?Object(e.h)(P.b,{aClassName:"email-button-outline",href:ie.Substitutions.SHARE_URL},Object(e.h)(c.default,it({},We)),Object(e.h)("span",{className:"email-button-text"},"Share")):Object(e.h)(lt,{href:ie.Substitutions.SHARE_URL},Object(e.h)(c.default,it({},We))))),Object(e.h)("td",{align:"right"},Object(e.h)(P.c,{gap:8},Lt&&Object(e.h)(P.b,{aClassName:"email-button-outline",href:ie.Substitutions.RESTACK_URL},Object(e.h)(f.default,it({},We)),Object(e.h)("span",{className:"email-button-text"},"Recommend")),vt&&Object(e.h)(P.b,{aClassName:"email-button-outline",href:ie.Substitutions.PLAY_ON_SUBSTACK_UFI},Object(e.h)("div",{className:"email-button-spacer"}),Object(e.h)("span",{className:"email-button-text"},"\u25B7\xA0\xA0Listen")),Ct&&Object(e.h)(P.b,{aClassName:"email-button-outline",href:ie.Substitutions.SAVE_POST_URL},Object(e.h)("div",{className:"email-button-spacer"}),Object(e.h)("span",{className:"email-button-text"},"Save")),Mt&&Object(e.h)(P.b,{aClassName:"email-button-outline",href:`${ie.Substitutions.HALF_MAGIC_COMMENTS_URL}utm_source=substack&utm_medium=email`},Object(e.h)("div",{className:"email-button-spacer"}),Object(e.h)("span",{className:"email-button-text"},"See comments \u2192")))))))),Object(e.h)(It,null))}function It(){const Ae=16;return Object(e.h)("tr",{height:Ae},Object(e.h)("td",{height:Ae,style:{fontSize:0,lineHeight:0}},"\xA0"))}const We={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function lt({size:Ae=38,href:Ve,children:at}){return Object(e.h)(P.e,{width:Ae},Object(e.h)("tr",null,Object(e.h)("td",{align:"center"},Object(e.h)("a",{className:"email-icon-button",href:Ve,style:{width:Ae}},at))))}},function(S,i,t){"use strict";t.d(i,"a",function(){return a}),t.d(i,"b",function(){return n});var e=t(0),o=t(12),l=t(6),s=t.n(l),h=t(25),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(r,u,v)=>u in r?c(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,b=(r,u)=>{for(var v in u||(u={}))p.call(u,v)&&O(r,v,u[v]);if(d)for(var v of d(u))f.call(u,v)&&O(r,v,u[v]);return r},m=(r,u)=>{var v={};for(var E in r)p.call(r,E)&&u.indexOf(E)<0&&(v[E]=r[E]);if(r!=null&&d)for(var E of d(r))u.indexOf(E)<0&&f.call(r,E)&&(v[E]=r[E]);return v};function a(r){var u=r,{className:v,variant:E,rounded:w,look:C="button",fixedHeight:_=!0,size:T="medium",hasLeftIcon:W,hasRightIcon:k,forwardedRef:$}=u,H=m(u,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return Object(e.h)(o.a,b({className:s()("reader2-button",v,`reader2-button-${C}`,_&&"fixedHeight",E&&(["text","borderless"].includes(C)?`reader2-button-text-${E}`:`reader2-button-${E}`),(w||C==="circle")&&"reader2-button-rounded",`reader2-button-${T}`,W&&"hasLeftIcon",k&&"hasRightIcon"),ref:$},H))}const n=Object(h.a)("reader2-button-row")},function(S,i,t){"use strict";t.d(i,"a",function(){return f}),t.d(i,"b",function(){return O}),t.d(i,"c",function(){return b});var e=t(0),o=t(2),l=t(52),s;const h={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},c=typeof window!="undefined"&&window._preloads||h,d=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.siteConfigs:{},p=(m,a)=>{const n=E=>{if(!E||!m)return null;const w=m[E];return w===void 0?null:w},r=(E,w)=>Object(l.getVariantForInternal)(a,E,w),u=(E,w)=>r(E,w)==="treatment";return{allConfigs:m,getConfigFor:n,getVariantFor:r,isInTreatmentFor:u,maybeGetIsInTreatmentFor:(E,w)=>n(E)?!0:u(E,w)}},f=Object(e.createContext)(p(d,c));f.displayName="SiteConfigsContext";function O({siteConfigs:m={},experimentInfo:a,children:n}){const r=a||c,u=Object(o.h)(()=>p(m,r),[m,...Object.values(r)]);return Object(e.h)(f.Provider,{value:u},n)}function b(){return Object(o.b)(f)}},function(S,i,t){"use strict";t.d(i,"a",function(){return b}),t.d(i,"b",function(){return m}),t.d(i,"c",function(){return a}),t.d(i,"d",function(){return n});var e=t(0),o=t(2),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(u,v,E)=>v in u?l(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,p=(u,v)=>{for(var E in v||(v={}))h.call(v,E)&&d(u,E,v[E]);if(s)for(var E of s(v))c.call(v,E)&&d(u,E,v[E]);return u},f;const O=typeof window!="undefined"?(f=window._preloads)==null?void 0:f.user:null,b=Object(e.createContext)({user:O,setUser:()=>{}});b.displayName="UserContext";function m({defaultValue:u,children:v}){const[E,w]=Object(o.k)(u||O),C=Object(o.h)(()=>({user:E,setUser:w}),[E]);return Object(e.h)(b.Provider,{value:C},v)}function a(){return Object(o.b)(b).user}function n(){return Object(o.b)(b)}const r=u=>{const v=E=>{const w=Object(o.b)(b);return Object(e.h)(u,p({user:w},E))};return v.displayName=`withUserContext(${u.name||u.displayName||"Anonymous"})`,v}},function(S,i,t){"use strict";t.d(i,"c",function(){return le}),t.d(i,"b",function(){return z}),t.d(i,"a",function(){return V});var e=t(0),o=t(3),l=t.n(o),s=t(1),h=t(7),c=t.n(h),d=t(5),p=t(59),f=t(86),O=t.n(f),b=t(75),m=t(10),a=t.n(m),n=t(207),r=t.n(n),u=t(6),v=t.n(u),E=t(70),w=t(13),C=t(11),_=t(35),T=t(187),W=t(126),k=t(165),$=t(89),H=t(2),g=Object.defineProperty,M=Object.defineProperties,R=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,j=(ne,re,de)=>re in ne?g(ne,re,{enumerable:!0,configurable:!0,writable:!0,value:de}):ne[re]=de,B=(ne,re)=>{for(var de in re||(re={}))U.call(re,de)&&j(ne,de,re[de]);if(D)for(var de of D(re))L.call(re,de)&&j(ne,de,re[de]);return ne},x=(ne,re)=>M(ne,R(re)),P=(ne,re)=>{var de={};for(var fe in ne)U.call(ne,fe)&&re.indexOf(fe)<0&&(de[fe]=ne[fe]);if(ne!=null&&D)for(var fe of D(ne))re.indexOf(fe)<0&&L.call(ne,fe)&&(de[fe]=ne[fe]);return de};const y=100,A=3,K=1,N=new Map;let Y=null;function F(){Y=null,N.clear()}const G="account-card";function X(ne,re){const de=Object(p.c)(),[fe,we]=Object(H.k)(null),[Ge,$e]=Object(H.k)(null),[it,st]=Object(H.k)(!1);return{loading:it,viewerProfile:fe,subjectProfile:Ge,refetch:()=>{if(st(!0),!Y)if(de){const Ht=Object(f.cleanSlug)(de.name,{hashIfEmpty:!0});Y=a.a.get(`/api/v1/user/${de.id}-${Ht}/public_profile/self`).then(je=>je.body)}else Y=Promise.resolve(null);if(!N.has(ne)){const Ht=Object(f.cleanSlug)(re,{hashIfEmpty:!0});N.set(ne,a.a.get(`/api/v1/user/${ne}-${Ht}/public_profile`).then(je=>je.body))}Promise.all([Y,N.get(ne)]).then(([Ht,je])=>{we(Ht),$e(je),st(!1)})}}}function q(ne){if(!ne)return new Set;let re=(ne.subscriptions||[]).filter(de=>!!de).map(de=>de.publication.id);return ne.publicationUsers&&(re=re.concat(ne.publicationUsers.filter(de=>de).map(de=>de.publication.id))),new Set(re)}function se({subject:ne,disabled:re}){const de=Object(H.j)(!1),[fe,we]=Object($.b)({delayEnter:y,delayLeave:y,hideOnScroll:!0}),{loading:Ge,viewerProfile:$e,subjectProfile:it,refetch:st}=X(ne==null?void 0:ne.id,ne==null?void 0:ne.name),{triggerProps:Rt,layerProps:Ht,renderLayer:je}=Object($.c)({isOpen:fe&&!re,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"bottom-center",containerOffset:10,triggerOffset:8});return Object(H.d)(()=>{fe&&!de.current&&(de.current=!0,st())},[fe,st]),{triggerProps:Rt,hoverProps:we,profile:it,hoverCard:fe&&je(Object(e.h)("div",B(B({className:v()(E.a.hoverBase,E.a.profileHover)},Ht),we),Ge||!it?Object(e.h)(Q,{className:"profile-hover-card"}):Object(e.h)(z,{className:"profile-hover-card",profile:it,subject:ne,viewerSubscriptions:q($e)})))}}function ie(ne){let re=[];ne&&ne.subscriptions&&(re=Object(h.sortSubscriptions)(ne.subscriptions.filter(fe=>!!fe)));let de=null;return re.length>A&&(de=`See all (${Object(h.numberToString)(re.length)})`),re=re.slice(0,A),{subscriptions:re,moreSubsLabel:de}}function Ee(ne){let re=[];ne&&ne.publicationUsers&&(re=ne.publicationUsers.filter(fe=>!!fe),re=re&&Object(n.sortPublicationUsers)(re));let de=null;return re.length>K&&(de=`See all (${Object(h.numberToString)(re.length)})`),re=re.slice(0,K),{publications:re,morePubsLabel:de}}function Ie(ne,re){var de;if(!ne||!re)return null;const fe=(de=Object(n.sortPublicationUsers)(ne.publicationUsers.filter(Boolean))[0])==null?void 0:de.publication;return!fe||re.has(fe.id)?null:fe}function ge({pub:ne,isWrites:re,isFounding:de,isPaid:fe}){const we=Object(o.getPubUrl)(ne,{params:{utm_source:G,utm_content:re?"writes":"reads"},signedIn:!!Object(p.c)()});return Object(e.h)("a",{href:we,target:"_blank",onClick:()=>{Object(d.i)(re?d.a.ACCOUNT_CARD_WRITES_LINK_CLICKED:d.a.ACCOUNT_CARD_READS_LINK_CLICKED),Object(d.l)(ne,"hover_profile")},className:E.a.hoverAvatar},Object(e.h)(b.a,{pub:ne,size:32,badgeType:de?"founder":fe?"subscribed":null}),Object(e.h)(w.b,{font:"text",weight:"semibold",size:14,lineHeight:20,title:ne.name},ne.name))}function oe({subject:ne,subscriptions:re,moreSubsLabel:de}){return Object(e.h)(C.b,null,Object(e.h)(k.a,{sectionTitle:"Reads",seeAllLabel:de,link:Object(o.getReaderProfileUrl)(ne,{utm_source:G})}),Object(e.h)(C.b,null,re.map(fe=>Object(e.h)(ge,{pub:fe.publication,isPaid:fe.membership_state==="subscribed",isFounding:fe.is_founding}))))}function ee({subject:ne,publications:re,morePubsLabel:de}){return Object(e.h)(C.b,null,Object(e.h)(k.a,{sectionTitle:"Writes",seeAllLabel:de,link:Object(o.getReaderProfileUrl)(ne,{utm_source:G})}),Object(e.h)(C.b,null,re.map(fe=>Object(e.h)(ge,{pub:fe.publication,isWrites:!0}))))}function te({pub:ne,user:re}){const de=ne?Object(o.getSubscribeUrl)(ne,{user:re,addBase:!0,utm_source:G,utm_content:"subscribes",next:document.location.href}):null,we=Object(h.getSubscribeText)(ne)==="Subscribed";return ne&&(we?Object(e.h)(_.a,{priority:"secondary",fill:"outline",href:de,leftIcon:Object(e.h)(T.a,null),onClick:()=>{Object(d.i)(d.a.ACCOUNT_CARD_SUBSCRIBE_CLICKED),Object(d.l)(ne,"hover_profile")},title:ne.name},"Subscribed"):Object(e.h)(_.a,{priority:"primary",href:de,onClick:()=>{Object(d.i)(d.a.ACCOUNT_CARD_SUBSCRIBE_CLICKED),Object(d.l)(ne,"hover_profile")},title:ne.name},"Subscribe"))}function le({subject:ne,disabled:re,className:de,children:fe}){const we=se({subject:ne,disabled:re});return Object(e.h)("div",x(B(B({className:v()("profile-hover-wrapper",de)},we.triggerProps),we.hoverProps),{onClick:Ge=>Ge.stopPropagation()}),typeof fe=="function"?fe({profile:we.profile}):fe,we.hoverCard&&Object(s.createPortal)(we.hoverCard,document.body))}function Q({className:ne}){return Object(e.h)("div",{className:ne},Object(e.h)("div",{className:"profile-hover-header"},Object(e.h)("div",{className:"profile-hover-name-row"},Object(e.h)("div",{className:"profile-hover-user-photo-silhouette"}),Object(e.h)("div",{className:"profile-hover-line-silhouette",style:"width: 30%"}))),Object(e.h)("div",{className:"profile-hover-list-silhouette"},Object(e.h)("div",{className:"profile-hover-pub-silhouette",style:"width: 100%"}),Object(e.h)("div",{className:"profile-hover-pub-silhouette",style:"width: 60%"}),Object(e.h)("div",{className:"profile-hover-pub-silhouette",style:"width: 20%"}),Object(e.h)("div",{className:"profile-hover-pub-silhouette",style:"width: 60%"}),Object(e.h)("div",{className:"profile-hover-pub-silhouette",style:"width: 40%"})))}function z({profile:ne,subject:re,viewerSubscriptions:de,themed:fe,className:we}){if(!ne)return null;const{user:Ge}=this.context,{subscriptions:$e,moreSubsLabel:it}=ie(ne),{publications:st,morePubsLabel:Rt}=Ee(ne),Ht=Object(o.getReaderProfileUrl)(re,{utm_source:G}),je=(re==null?void 0:re.name)||"",Oe=Ie(ne,de),be=this.viewingOwnProfile&&ne&&!ne.profile_set_up_at,he=st.length>0&&!be,Ce=$e.length>0&&!be;return Object(e.h)("div",{className:we},Object(e.h)(C.b,null,Object(e.h)(C.c,{padding:8},Object(e.h)("a",{href:Ht,native:!0},Object(e.h)(W.a,{user:re,size:64,alt:je}))),Object(e.h)(C.b,{padding:8,gap:6},Object(e.h)(k.b,{themed:fe,title:je,blurb:ne.bio,url:Ht})),Oe&&!this.viewingOwnProfile&&Object(e.h)(C.b,{padding:8},Object(e.h)(te,{pub:Oe,user:Ge,subject:re})),be&&Object(e.h)(C.b,{padding:8},Object(e.h)(_.a,{priority:"secondary",fill:"outline",href:Object(o.getProfileSetupUrl)({utm_source:G})},"Set up your profile")),he&&Object(e.h)(e.Fragment,null,Object(e.h)(C.c,{padding:8},Object(e.h)("div",{className:E.a.hoverDivider})),Object(e.h)(ee,{subject:re,publications:st,morePubsLabel:Rt})),Ce&&Object(e.h)(e.Fragment,null,Object(e.h)(C.c,{padding:8},Object(e.h)("div",{className:E.a.hoverDivider})),Object(e.h)(oe,{subject:re,subscriptions:$e,moreSubsLabel:it}))))}function V(ne){var re=ne,{children:de,wrap:fe}=re,we=P(re,["children","wrap"]);return fe?Object(e.h)(le,B({},we),de):de}i.d=le},function(S,i){var t=Array.isArray;S.exports=t},function(S,i,t){"use strict";t.d(i,"a",function(){return v});var e=t(0),o=t(3),l=t(54),s={img:"frontend-components-responsive_img-module__img--1l4UG"},h=t(6),c=t.n(h),d=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,a=(E,w,C)=>w in E?d(E,w,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[w]=C,n=(E,w)=>{for(var C in w||(w={}))b.call(w,C)&&a(E,C,w[C]);if(O)for(var C of O(w))m.call(w,C)&&a(E,C,w[C]);return E},r=(E,w)=>p(E,f(w)),u=(E,w)=>{var C={};for(var _ in E)b.call(E,_)&&w.indexOf(_)<0&&(C[_]=E[_]);if(E!=null&&O)for(var _ of O(E))w.indexOf(_)<0&&m.call(E,_)&&(C[_]=E[_]);return C};function v(E){var w=E,{src:C,maxWidth:_,imageProps:T={},alt:W="",className:k}=w,$=u(w,["src","maxWidth","imageProps","alt","className"]);const H=o.WEB_RESPONSIVE_IMAGE_WIDTHS.map(M=>({width:M,src:Object(l.cloudinary)(C,M,T)})).filter(M=>M.width<=_),g=o.WEB_RESPONSIVE_IMAGE_WIDTHS.map(M=>({width:M,src:Object(l.cloudinary)(C,M,r(n({},T),{format:"webp"}))})).filter(M=>M.width<=_);return Object(e.h)("picture",null,g.length>0?Object(e.h)("source",{type:"image/webp",srcset:g.map(M=>`${M.src} ${M.width}w`).join(", "),sizes:"100vw"}):Object(e.h)("source",{type:"image/webp",srcset:Object(l.cloudinary)(C,_,r(n({},T),{format:"webp"}))}),Object(e.h)("img",n({className:c()(s.img,k),src:Object(l.cloudinary)(C,_,T),sizes:"100vw",alt:W,srcset:H.map(M=>`${M.src} ${M.width}w`).join(", ")},$)))}},function(S,i,t){"use strict";t.r(i),t.d(i,"ProgressBarTheme",function(){return R}),t.d(i,"ProgressBar",function(){return D}),t.d(i,"PlaybackRateToggle",function(){return L}),t.d(i,"PlayButton",function(){return j}),t.d(i,"RecordProcess",function(){return B}),t.d(i,"UploadProcess",function(){return x}),t.d(i,"TranscodingProcess",function(){return P}),t.d(i,"AuditionPlayer",function(){return y}),t.d(i,"PlayerControls",function(){return A}),t.d(i,"PodcastEditorPlayer",function(){return K}),t.d(i,"AudioEmbedPlayer",function(){return N}),t.d(i,"AudioEmbedPlayerStatic",function(){return Y}),t.d(i,"VoiceoverPlayer",function(){return F}),t.d(i,"VoiceoverPlayerStatic",function(){return G}),t.d(i,"AudioUploadErrorModal",function(){return X});var e=t(0),o=t(156),l=t(6),s=t.n(l),h=t(7),c=t(111),d=t(313),p=t(372),f=t(81),O=t(5),b=t(152),m=t(234),a=t(235),n=t(166),r={themedSelectOption:"frontend-components-audio-module__themedSelectOption--298hw",noUnderline:"frontend-components-audio-module__noUnderline--18Qgy"},u=t(133),v=t(23),E=t(42),w=t(28),C=Object.defineProperty,_=Object.defineProperties,T=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,H=(q,se,ie)=>se in q?C(q,se,{enumerable:!0,configurable:!0,writable:!0,value:ie}):q[se]=ie,g=(q,se)=>{for(var ie in se||(se={}))k.call(se,ie)&&H(q,ie,se[ie]);if(W)for(var ie of W(se))$.call(se,ie)&&H(q,ie,se[ie]);return q},M=(q,se)=>_(q,T(se)),R;(function(q){q[q.PubAccent=0]="PubAccent",q[q.PubFull=1]="PubFull",q[q.Substack=2]="Substack"})(R||(R={}));const D=({containerRef:q,currentTime:se,remainingTime:ie,progress:Ee,onMouseDown:Ie,shouldCollapseOnMobile:ge=!1,theme:oe=1})=>Object(e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},Object(e.h)("div",{className:s()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":ge})},se),Object(e.h)("div",{ref:q,className:s()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":ge}),onMouseDown:Ie},Object(e.h)("div",{className:s()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":oe===1,"tw-bg-substack-detail":oe!==1})}),Object(e.h)("div",{className:s()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":oe!==2,"tw-bg-substack-accent":oe===2}),style:{width:`${Ee*100}%`}}),Object(e.h)("div",{className:s()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":oe===1,"tw-border-substack-bg":oe!==1,"tw-bg-substack-accent":oe===2,"tw-bg-pub-accent":oe!==2}),style:{left:`${Ee*100}%`}})),Object(e.h)("div",{className:"tw-min-w-[40px]"},ie)),U=[{value:1,display:"1.0"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2.0"}],L=({onSetPlaybackRate:q,playbackRate:se,className:ie})=>{const Ee=U.findIndex(({value:Ie})=>Ie===se);return Object(e.h)("div",{onClick:()=>{const Ie=(Ee+1)%U.length;q(U[Ie].value)},className:ie},U[Ee].display,"\xD7")},j=({togglePlayback:q,isPlaying:se,isDisabled:ie=!1})=>Object(e.h)("div",{onClick:()=>{Object(O.i)(O.a.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:ie}),ie||q()},className:"tw-flex tw-justify-center tw-pb-8"},se?Object(e.h)("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):Object(e.h)(o.default,{className:s()("tw-relative tw-left-1",{"tw-cursor-pointer":!ie,"tw-fill-pub-accent":!ie,"tw-fill-substack-detail":ie}),stroke:"none",height:28})),B=({recorderState:q,AudioRecorderDevice:se,countDown:ie,recorderDuration:Ee,recorderVolume:Ie,onButtonClick:ge})=>Object(e.h)("div",{className:"audio-recorder tw-w-0 tw-min-w-full tw-border-none tw-p-0"},Object(e.h)("div",{className:" tw-box-border tw-flex tw-h-48 tw-select-none tw-flex-col tw-items-center tw-justify-center tw-rounded tw-bg-substack-wash tw-font-sans"},Object(e.h)("div",{className:s()(`audio-recorder-button ${q} tw-mb-4 tw-border-substack-detail tw-bg-white`,{"tw-border-error":q===se.STATE.STARTED}),onClick:ge},Object(e.h)("div",{className:"audio-recorder-button-volume",style:`border-width:${20*Ie}px`}),Object(e.h)("div",{className:s()("audio-recorder-button-inner",{"tw-rounded-3xl":q!==se.STATE.STARTED})})),Object(e.h)("div",{className:`audio-recorder-duration ${q} tw-text-ssm tw-font-medium tw-uppercase tw-text-substack-secondary`},q===se.STATE.STARTING?`${ie||3}`:Object(h.secondsToHHMMSS)(Ee||0)))),x=({percentComplete:q})=>Object(e.h)("div",{className:"tw-box-border tw-w-full tw-select-none tw-items-center tw-justify-center tw-rounded tw-bg-substack-wash tw-py-12 tw-px-6 tw-font-sans"},Object(e.h)(j,{isDisabled:!0}),Object(e.h)("div",{className:"audio-uploader-progress"},Object(e.h)("div",{className:"audio-uploader-progress-status"},Object(e.h)("div",{className:"audio-uploader-progress-bar tw-mt-0 tw-mb-4 tw-h-1 tw-w-full"},Object(e.h)("div",{className:"audio-uploader-progress-bar-filled tw-bg-pub-accent",style:`width: ${q*100}%;`})),Object(e.h)("div",{className:"tw-flex tw-justify-center tw-text-ssm tw-font-medium tw-uppercase tw-text-substack-secondary"},"Uploading")))),P=({timeLeft:q})=>Object(e.h)("div",{className:"tw-box-border tw-w-full tw-select-none tw-items-center tw-justify-center tw-rounded tw-bg-substack-wash tw-py-12 tw-px-6 tw-font-sans"},Object(e.h)(j,{isDisabled:!0}),Object(e.h)("div",{className:"audio-uploader-progress"},Object(e.h)("div",{className:"audio-uploader-progress-status "},Object(e.h)("div",{className:"audio-uploader-progress-bar tw-mt-0 tw-mb-4 tw-h-1 tw-w-full"},Object(e.h)("div",{className:"audio-uploader-progress-bar-filled transcoding tw-bg-pub-accent",style:"width: 100%;"})),Object(e.h)("div",{className:"tw-flex tw-justify-center tw-gap-1 tw-text-ssm tw-font-medium tw-uppercase tw-text-substack-secondary"},Object(e.h)("span",null,"Processing"),Object(e.h)("span",null,"  ",`${Object(h.secondsToLargestUnit)(Math.max(q/1e3,60),{lessThanMinute:!0})} left`))))),y=({currentTime:q,isPlaying:se,progress:ie,progressBarRef:Ee,progressBarOnMouseDown:Ie,remainingTime:ge,togglePlayback:oe})=>Object(e.h)("div",{className:"tw-box-border tw-w-full tw-select-none tw-items-center tw-justify-center tw-rounded tw-bg-substack-wash tw-py-12 tw-px-6 tw-font-sans"},Object(e.h)(j,{togglePlayback:oe,isPlaying:se}),Object(e.h)(D,{currentTime:q,remainingTime:ge,containerRef:Ee,progress:ie,onMouseDown:Ie,theme:0})),A=({isPlaying:q,onSkipBack:se,onSkipForward:ie,onTogglePlayback:Ee})=>Object(e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},Object(e.h)("div",{onClick:se,role:"button",className:"tw-cursor-pointer"},Object(e.h)(m.default,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),Object(e.h)("div",{className:"tw-relative tw-flex tw-h-20 tw-w-20 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-shadow-md tw-shadow-lg tw-transition-transform hover:tw-scale-105",onClick:Ee,role:"button"},q?Object(e.h)("div",{className:"tw-flex tw-h-7 tw-w-7 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):Object(e.h)(o.default,{className:"tw-relative tw-left-1 tw-fill-pub-accent-inverse",stroke:"none",height:28})),Object(e.h)("div",{onClick:ie,role:"button",className:"tw-cursor-pointer"},Object(e.h)(a.default,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),K=({currentTime:q,isPlaying:se,progress:ie,progressBarRef:Ee,progressBarOnMouseDown:Ie,remainingTime:ge,playbackRate:oe,setPlaybackRate:ee,skipBack:te,skipForward:le,togglePlayback:Q,variant:z,onVariantChange:V,hasPodcastPreview:ne})=>{const re=[{label:"Paid audio",value:"paid"},{label:"Free audio",value:"free"}],de=re.find(({value:fe})=>fe===z);return Object(e.h)("div",{className:"tw-border-1 tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-border tw-border-solid tw-border-pub-detail-light tw-bg-pub-background tw-p-6 tw-font-sans sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},Object(e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},Object(e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),Object(e.h)(A,{isPlaying:se,onSkipBack:te,onSkipForward:le,onTogglePlayback:Q}),Object(e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},Object(e.h)(L,{onSetPlaybackRate:ee,playbackRate:oe,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),Object(e.h)(D,{currentTime:q,remainingTime:ge,containerRef:Ee,progress:ie,onMouseDown:Ie}),ne&&Object(e.h)(n.a,{className:"tw-border-pub-detail-light tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors hover:tw-border-pub-detail",styles:{singleValue:fe=>M(g({},fe),{color:"var(--print_secondary_on_web_bg_color, var(--print_secondary, #757575))",fontWeight:"600",lineHeight:"20px"}),container:fe=>M(g({},fe),{width:136,padding:0,margin:"auto"}),valueContainer:fe=>M(g({},fe),{padding:0}),control:(fe,we)=>M(g({},fe),{paddingLeft:24,paddingRight:20,paddingTop:12,paddingBottom:12,borderColor:(we==null?void 0:we.isFocused)?"var(--background_contrast_5)":"var(--background_contrast_2)",boxShadow:"none",":hover":{borderColor:(we==null?void 0:we.isFocused)?"var(--background_contrast_5)":"var(--background_contrast_3)"}}),menu:fe=>M(g({},fe),{top:fe.top-4})},components:{DropdownIndicator:({innerProps:fe})=>Object(e.h)(u.default,M(g({},fe),{stroke:"none",className:"tw-fill-pub-secondary-text",height:4})),Option:({innerProps:fe,label:we})=>Object(e.h)("div",M(g({},fe),{className:r.themedSelectOption}),we)},value:de,options:re,onChange:V}))},N=q=>Object(e.h)(c.a,M(g({},q),{metricsPost:q.post,feature:b.a.Embed,render:({currentTime:se,isPlaying:ie,progress:Ee,progressBarRef:Ie,progressBarOnMouseDown:ge,remainingTime:oe,playbackRate:ee,setPlaybackRate:te,togglePlayback:le})=>Object(e.h)("div",{className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},Object(e.h)(L,{onSetPlaybackRate:te,playbackRate:ee,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),Object(e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},q.label&&Object(e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},q.label),Object(e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},Object(e.h)(D,{currentTime:se,remainingTime:oe,containerRef:Ie,progress:Ee,onMouseDown:ge}))),Object(e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:le,role:"button"},ie?Object(e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):Object(e.h)(o.default,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent ",stroke:"none",height:18})))})),Y=({pub:q,post:se,duration:ie,label:Ee})=>{var Ie;return Object(e.h)("table",{className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},Object(e.h)("tr",null,Object(e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},Object(e.h)("a",{href:se.canonical_url,className:s()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",r.noUnderline)},Object(e.h)(d.default,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(Ie=q.theme)==null?void 0:Ie.background_pop_color,isStatic:!0}),Object(e.h)("span",{className:"tw-align-middle"},Object(h.truncateText)(Ee,10)||"Listen now"," \xB7 ",Object(h.secondsToHHMMSS)(ie))))))},F=q=>{const se=Object(f.useMediaQuery)({maxWidth:631}),ie=`/api/v1/audio/upload/${q.mediaUploadId}/src`;return Object(e.h)(c.a,M(g({},q),{src:ie,feature:b.a.Voiceover,metricsPost:q.post,render:({isPaywalled:Ee,currentTime:Ie,isPlaying:ge,progress:oe,progressBarRef:ee,progressBarOnMouseDown:te,remainingTime:le,playbackRate:Q,setPlaybackRate:z,togglePlayback:V})=>Object(e.h)("div",{className:"tw-my-4 tw-flex sm:tw-gap-1"},Object(e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},Object(e.h)(p.default,{className:"tw-stroke-pub-secondary-text"})),Object(e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},Ee?Object(e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},"Upgrade to paid to play voiceover"):Object(e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},Object(e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},"Article voiceover"),Object(e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},Object(e.h)(L,{onSetPlaybackRate:z,playbackRate:Q,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),Object(e.h)(D,{currentTime:Ie,remainingTime:le,containerRef:ee,progress:oe,onMouseDown:te,shouldCollapseOnMobile:!0}))),Ee?Object(e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},Object(e.h)(o.default,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:se?20:24})):Object(e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:V,role:"button"},ge?Object(e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):Object(e.h)(o.default,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},G=({pub:q,post:se,isPaywalled:ie})=>{var Ee,Ie,ge;const oe=ie?"Upgrade to paid for post voiceover":`Listen to post ${((Ee=se.voiceoverUpload)==null?void 0:Ee.duration)&&`\xB7 ${Object(h.secondsToHHMMSS)(se.voiceoverUpload.duration)}`}`;return Object(e.h)("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},Object(e.h)("tr",null,Object(e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},Object(e.h)("a",{href:`${w.Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:s()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",r.noUnderline)},Object(e.h)(d.default,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:ie?(Ie=q.theme)==null?void 0:Ie.background_contrast_3:(ge=q.theme)==null?void 0:ge.background_pop_color,isStatic:!0}),Object(e.h)("span",{className:"voiceover-player-static-cta tw-align-middle"},oe)))))},X=({isOpen:q,onDismiss:se,onDeleteAudio:ie})=>Object(e.h)(E.a,{isOpen:q,onClose:se},Object(e.h)(E.d,{includeClose:!1,title:"Something went wrong..."}),Object(e.h)(E.b,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),Object(e.h)(E.c,{includeDivider:!1,alignment:"default",primaryButton:Object(e.h)(v.a,{onClick:ie,variant:"primary"},"Got it")}))},function(S,i,t){"use strict";t.d(i,"a",function(){return h});var e=t(0),o=t(6),l=t.n(o),s=t(283);const h=({name:c,label:d,icon:p,info:f,checked:O,disabled:b,onChange:m,className:a})=>Object(e.h)("label",{className:l()("big-checkbox-input",a)},Object(e.h)("div",{onClick:()=>{(d||f)&&!b&&(m==null||m(!O))}},d,f&&Object(e.h)("div",{className:"info"},f)),p,Object(e.h)("span",{className:l()("big-checkbox",{checked:O,disabled:b}),onClick:()=>!b&&(m==null?void 0:m(!O)),onKeyDown:n=>{n.key===" "&&(m==null||m(!O))},role:"checkbox","aria-checked":O,"aria-label":d||c,tabIndex:0},Object(e.h)(s.default,{fill:"#ffffff"})),Object(e.h)("input",{type:"hidden",name:c,"data-testid":c,value:String(O)}))},function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},e(o)}},function(S,i,t){"use strict";t.d(i,"a",function(){return n});var e=t(0),o=t(1),l=t(6),s=t.n(l),h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(r,u,v)=>u in r?h(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,m=(r,u)=>{for(var v in u||(u={}))f.call(u,v)&&b(r,v,u[v]);if(p)for(var v of p(u))O.call(u,v)&&b(r,v,u[v]);return r},a=(r,u)=>c(r,d(u));function n(r,u="div",v){return Object(o.forwardRef)((E,w)=>Object(e.createElement)(u,a(m(m({},v),E),{ref:w,className:s()(r,E==null?void 0:E.className)})))}},function(S,i,t){"use strict";t.d(i,"b",function(){return a});var e=t(0),o=t(1),l=t(3),s=t(8),h=t(185),c=t(137),d=t(499),p=t(5);t(403);const f="entry",O="ajs_anonymous_id";let b;var m=i.a=function(w){var C,_;if(b)throw new Error("Cannot re-render the things");b=w,window._preloads&&(window._preloads.original_url=window.location.href),Object(h.a)((_=(C=window._preloads)==null?void 0:C.user)==null?void 0:_.id),v(),n(),r(),u(),E()};function a(w){let C=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const _ in w)(typeof w[_]=="object"&&w[_]!==null||w[_]!==window._preloads[_])&&(window._preloads[_]=w[_],C=!0);C&&u()}function n(){const w=Object(l.parseQuery)(window.location.href);if(!w.token&&!w.lli||!window.history.replaceState)return;delete w.token,delete w.lli;const C=`${Object(l.pathWithQuery)(window.location.pathname,w)}${window.location.hash}`;window.history.replaceState({},document.title,C)}function r(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const w=window.history.pushState;history.pushState=function(C,_,T){const W=w.apply(history,arguments);return T.indexOf("#")===-1&&window.scrollTo(0,0),W}}function u(){if(!b)return;const w=document.getElementById(f);Object(e.render)(Object(e.h)(b,{initialData:window._preloads}),w||document.body)}function v(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let w;try{w=JSON.parse(c.get(O))}catch(C){}w||(w=Object(s.uuidV4)(),c.set(O,JSON.stringify(w),{expires:365})),window._analyticsConfig.anonymousId=w}}function E(){var w;!(console==null?void 0:console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||((w=window._preloads.user)==null?void 0:w.is_global_admin)||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o,l,s){return l in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}},function(S,i,t){"use strict";t.d(i,"a",function(){return a});var e=t(0),o=t(2),l=t(14),s=t.n(l),h=t(10),c=t.n(h),d=t(141),p=t(7),f=t.n(p),O=t(5);const b=(u,{timeout:v=5e3,className:E,dismissable:w,beforeDismiss:C}={},_=document.body)=>{const T=document.createElement("div");T.setAttribute("id","toast"),T.setAttribute("role","alert"),E&&T.classList.add(E),_.appendChild(T);const W=()=>{C&&C(),T.classList.remove("in"),setTimeout(()=>{T.remove()},500)};Object(e.render)([Object(e.h)("p",null,u),w&&Object(e.h)("a",{className:"dismiss",onClick:W},"Dismiss")],T),setTimeout(()=>{T.classList.add("in")}),!w&&setTimeout(W,v)},m=({children:u,className:v,dismissKey:E,dismissDurationInSeconds:w,beforeDismiss:C,container:_})=>{const[T,W]=Object(d.a)(E,w,C);if(!T)return b(u,{className:v,beforeDismiss:W,dismissable:!0},_)},a=({user:u,pub:v,container:E})=>{if(!(!u||!v||!u.is_subscribed))return Object(e.h)(r,{pub:v,container:E})},n=u=>{if(u&&u.cardExpiresAt){const v=s()(u.expiry).subtract(p.GRACE_PERIOD_DAYS,"day"),E=s()(u.cardExpiresAt),w=s()().add(12,"day");return E.isBefore(v)&&v.isBefore(w)}return!1},r=({pub:u,container:v})=>{const[E,w]=Object(o.k)(null);if(Object(o.d)(()=>{c.a.get("/api/v1/subscription").then(C=>w(C.body)).catch(C=>{console.error("Failed to fetch subscription data: ",C)})},[]),n(E))return Object(e.h)(m,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*p.WEEK_IN_SECONDS,beforeDismiss:()=>{Object(O.i)(O.a.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:v},"Your credit card is expiring soon."," ",Object(e.h)("a",{href:"/account/billing",native:!0,onClick:()=>{Object(O.i)(O.a.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${u.name}`,".")};i.b=b},function(S,i,t){"use strict";i.a={hoverBase:"frontend-reader2-PublicationHover-module__hoverBase--1cL0H",publicationHover:"frontend-reader2-PublicationHover-module__publicationHover--1RLar",profileHover:"frontend-reader2-PublicationHover-module__profileHover--jdtMQ",hoverDivider:"frontend-reader2-PublicationHover-module__hoverDivider--1Etpl",hoverAvatar:"frontend-reader2-PublicationHover-module__hoverAvatar--3fEr2",hoverTitle:"frontend-reader2-PublicationHover-module__hoverTitle--cS8jz",hoverSeeAll:"frontend-reader2-PublicationHover-module__hoverSeeAll--3rOC-",placeholderContainer:"frontend-reader2-PublicationHover-module__placeholderContainer--2QN-P",hoverClamp:"frontend-reader2-PublicationHover-module__hoverClamp--2tzUg"}},function(S,i,t){var e=t(269),o=typeof self=="object"&&self&&self.Object===Object&&self,l=e||o||Function("return this")();S.exports=l},function(S,i,t){"use strict";t.d(i,"b",function(){return c}),t.d(i,"c",function(){return d}),t.d(i,"a",function(){return p});var e=t(81),o=t.n(e),l=t(2),s=t(8),h=t.n(s);function c(){return Object(e.useMediaQuery)({maxWidth:650})}function d(){return Object(e.useMediaQuery)({maxWidth:1400})}function p(){const[f,O]=Object(l.k)(!1);return Object(l.g)(()=>{O(Object(s.isIOs)())},[]),f}},function(S,i,t){"use strict";t.d(i,"a",function(){return O});var e=t(0),o=t(8),l=t.n(o),s=t(6),h=t.n(s),c=Object.defineProperty,d=(b,m,a)=>m in b?c(b,m,{enumerable:!0,configurable:!0,writable:!0,value:a}):b[m]=a,p=(b,m,a)=>(d(b,typeof m!="symbol"?m+"":m,a),a),f=(b,m,a)=>new Promise((n,r)=>{var u=w=>{try{E(a.next(w))}catch(C){r(C)}},v=w=>{try{E(a.throw(w))}catch(C){r(C)}},E=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,v);E((a=a.apply(b,m)).next())});class O extends e.Component{constructor(){super(...arguments);p(this,"checkVisibility",()=>{if(!this.ref)return;const m=this.ref.getBoundingClientRect(),a=this.props.threshold||0,n=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),r=!(m.bottom<0-a||m.top>=n+a);Object(o.stateTransaction)(this,(u,v)=>f(this,null,function*(){if(u.isVisible!==r)this.setState({isVisible:r});else if(!v.noDedupe)return;const w=r?"hadFirstVisible":"hadFirstInvisible",C=!u[w];C&&this.setState({[w]:!0}),(yield Promise.all([r&&v.onVisible&&v.onVisible(),r&&v.onFirstVisible&&C&&v.onFirstVisible(),!r&&v.onInvisible&&v.onInvisible(),!r&&v.onFirstInvisible&&C&&v.onFirstInvisible()])).reduce((T,W)=>W===!0||T)&&this.checkVisibility()}))})}componentDidMount(){return f(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(m=>setTimeout(m,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:m,children:a}){return Object(e.h)("div",{ref:n=>this.ref=n,className:h()("visibility-check",{className:m})},a)}}},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=o;function e(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(l)}function o(l){var s=typeof l=="string"||l instanceof String;if(!s){var h=e(l);throw l===null?h="null":h==="object"&&(h=l.constructor.name),new TypeError("Expected a string but received a ".concat(h))}}S.exports=i.default,S.exports.default=i.default},function(S,i,t){"use strict";t.d(i,"a",function(){return p});var e=t(0),o=t(6),l=t.n(o),s=t(219),h=t(341),c=t(51),d={root:"frontend-reader2-PubIcon-module__root--1N6Qk",custom:"frontend-reader2-PubIcon-module__custom--18GGc",hello:"frontend-reader2-PubIcon-module__hello--30PQZ",placeholder:"frontend-reader2-PubIcon-module__placeholder--VwKmQ"};function p({pub:f,logoUrl:O,publicationName:b,size:m=196,title:a,className:n,badgeType:r}){var u;return f&&!O&&(O=Object(c.getLogo)(f)),f&&!b&&(b=f.name||f.subdomain),Object(e.h)("div",{className:l()(d.root,n),title:a,style:{width:m,height:m}},O?Object(e.h)(s.a,{className:d.custom,src:O,size:m,alt:b}):Object(e.h)("span",{className:d.placeholder,style:{width:m,height:m,backgroundColor:((u=f==null?void 0:f.theme)==null?void 0:u.background_pop_color)||(f==null?void 0:f.theme_var_background_pop)||null,color:null}},b==null?void 0:b[0]),r&&Object(e.h)(h.ReaderBadgeIcon,{className:"reader2-pub-badge",type:r,accentColor:f==null?void 0:f.theme_var_background_pop}))}},,function(S,i,t){"use strict";t.d(i,"a",function(){return bt}),t.d(i,"b",function(){return ut}),t.d(i,"c",function(){return Ar});var e=t(1);function o(){let ae=[],ce=[],me={enqueue(_e){ce.push(_e)},requestAnimationFrame(..._e){let Te=requestAnimationFrame(..._e);me.add(()=>cancelAnimationFrame(Te))},nextFrame(..._e){me.requestAnimationFrame(()=>{me.requestAnimationFrame(..._e)})},setTimeout(..._e){let Te=setTimeout(..._e);me.add(()=>clearTimeout(Te))},add(_e){ae.push(_e)},dispose(){for(let _e of ae.splice(0))_e()},async workQueue(){for(let _e of ce.splice(0))await _e()}};return me}function l(){let[ae]=Object(e.useState)(o);return Object(e.useEffect)(()=>()=>ae.dispose(),[ae]),ae}var s=typeof window!="undefined"?e.useLayoutEffect:e.useEffect,h={serverHandoffComplete:!1};function c(){let[ae,ce]=Object(e.useState)(h.serverHandoffComplete);return Object(e.useEffect)(()=>{ae!==!0&&ce(!0)},[ae]),Object(e.useEffect)(()=>{h.serverHandoffComplete===!1&&(h.serverHandoffComplete=!0)},[]),ae}var d=0;function p(){return++d}function f(){let ae=c(),[ce,me]=Object(e.useState)(ae?p:null);return s(()=>{ce===null&&me(p())},[ce]),ce!=null?""+ce:void 0}function O(ae){let ce=Object(e.useRef)(ae);return Object(e.useEffect)(()=>{ce.current=ae},[ae]),ce}function b(ae,ce){let[me,_e]=Object(e.useState)(ae),Te=O(ae);return s(()=>_e(Te.current),[Te,_e,...ce]),me}function m(...ae){let ce=Object(e.useRef)(ae);return Object(e.useEffect)(()=>{ce.current=ae},[ae]),Object(e.useCallback)(me=>{for(let _e of ce.current)_e!=null&&(typeof _e=="function"?_e(me):_e.current=me)},[ce])}function a(ae,ce,...me){if(ae in ce){let Te=ce[ae];return typeof Te=="function"?Te(...me):Te}let _e=new Error(`Tried to handle "${ae}" but there is no handler defined. Only defined handlers are: ${Object.keys(ce).map(Te=>`"${Te}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(_e,a),_e}function n({props:ae,slot:ce,defaultTag:me,features:_e,visible:Te=!0,name:He}){if(Te)return r(ae,ce,me,He);let et=_e??0;if(et&2){let{static:qe=!1,...ct}=ae;if(qe)return r(ct,ce,me,He)}if(et&1){let{unmount:qe=!0,...ct}=ae;return a(qe?0:1,{[0](){return null},[1](){return r({...ct,hidden:!0,style:{display:"none"}},ce,me,He)}})}return r(ae,ce,me,He)}function r(ae,ce={},me,_e){let{as:Te=me,children:He,refName:et="ref",...qe}=w(ae,["unmount","static"]),ct=ae.ref!==void 0?{[et]:ae.ref}:{},Pt=typeof He=="function"?He(ce):He;if(qe.className&&typeof qe.className=="function"&&(qe.className=qe.className(ce)),Te===e.Fragment&&Object.keys(qe).length>0){if(!Object(e.isValidElement)(Pt)||Array.isArray(Pt)&&Pt.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${_e} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(qe).map(At=>`  - ${At}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(At=>`  - ${At}`).join(`
`)].join(`
`));return Object(e.cloneElement)(Pt,Object.assign({},u(E(w(qe,["ref"])),Pt.props,["onClick"]),ct))}return Object(e.createElement)(Te,Object.assign({},w(qe,["ref"]),Te!==e.Fragment&&ct),Pt)}function u(ae,ce,me){let _e=Object.assign({},ae);for(let Te of me)ae[Te]!==void 0&&ce[Te]!==void 0&&Object.assign(_e,{[Te](He){He.defaultPrevented||ae[Te](He),He.defaultPrevented||ce[Te](He)}});return _e}function v(ae){var ce;return Object.assign(Object(e.forwardRef)(ae),{displayName:(ce=ae.displayName)!=null?ce:ae.name})}function E(ae){let ce=Object.assign({},ae);for(let me in ce)ce[me]===void 0&&delete ce[me];return ce}function w(ae,ce=[]){let me=Object.assign({},ae);for(let _e of ce)_e in me&&delete me[_e];return me}function C(ae){throw new Error("Unexpected object: "+ae)}function _(ae,ce){let me=ce.resolveItems();if(me.length<=0)return null;let _e=ce.resolveActiveIndex(),Te=_e??-1,He=(()=>{switch(ae.focus){case 0:return me.findIndex(et=>!ce.resolveDisabled(et));case 1:{let et=me.slice().reverse().findIndex((qe,ct,Pt)=>Te!==-1&&Pt.length-ct-1>=Te?!1:!ce.resolveDisabled(qe));return et===-1?et:me.length-1-et}case 2:return me.findIndex((et,qe)=>qe<=Te?!1:!ce.resolveDisabled(et));case 3:{let et=me.slice().reverse().findIndex(qe=>!ce.resolveDisabled(qe));return et===-1?et:me.length-1-et}case 4:return me.findIndex(et=>ce.resolveId(et)===ae.id);case 5:return null;default:C(ae)}})();return He===-1?_e:He}function T(ae){let ce=ae.parentElement,me=null;for(;ce&&!(ce instanceof HTMLFieldSetElement);)ce instanceof HTMLLegendElement&&(me=ce),ce=ce.parentElement;let _e=(ce==null?void 0:ce.getAttribute("disabled"))==="";return _e&&W(me)?!1:_e}function W(ae){if(!ae)return!1;let ce=ae.previousElementSibling;for(;ce!==null;){if(ce instanceof HTMLLegendElement)return!1;ce=ce.previousElementSibling}return!0}function k(ae,ce,me){let _e=Object(e.useRef)(ce);_e.current=ce,Object(e.useEffect)(()=>{function Te(He){_e.current.call(window,He)}return window.addEventListener(ae,Te,me),()=>window.removeEventListener(ae,Te,me)},[ae,me])}var $=Object(e.createContext)(null);$.displayName="OpenClosedContext";function H(){return Object(e.useContext)($)}function g({value:ae,children:ce}){return e.default.createElement($.Provider,{value:ae},ce)}function M(ae){var ce;if(ae.type)return ae.type;let me=(ce=ae.as)!=null?ce:"button";if(typeof me=="string"&&me.toLowerCase()==="button")return"button"}function R(ae,ce){let[me,_e]=Object(e.useState)(()=>M(ae));return s(()=>{_e(M(ae))},[ae.type,ae.as]),s(()=>{me||!ce.current||ce.current instanceof HTMLButtonElement&&!ce.current.hasAttribute("type")&&_e("button")},[me,ce]),me}function D({container:ae,accept:ce,walk:me,enabled:_e=!0}){let Te=Object(e.useRef)(ce),He=Object(e.useRef)(me);Object(e.useEffect)(()=>{Te.current=ce,He.current=me},[ce,me]),s(()=>{if(!ae||!_e)return;let et=Te.current,qe=He.current,ct=Object.assign(At=>et(At),{acceptNode:et}),Pt=document.createTreeWalker(ae,NodeFilter.SHOW_ELEMENT,ct,!1);for(;Pt.nextNode();)qe(Pt.currentNode)},[ae,_e,Te,He])}var U={[1](ae){return ae.disabled||ae.comboboxState===1?ae:{...ae,activeOptionIndex:null,comboboxState:1}},[0](ae){return ae.disabled||ae.comboboxState===0?ae:{...ae,comboboxState:0}},[2](ae,ce){return ae.disabled===ce.disabled?ae:{...ae,disabled:ce.disabled}},[3](ae,ce){if(ae.disabled||ae.optionsRef.current&&!ae.optionsPropsRef.current.static&&ae.comboboxState===1)return ae;let me=_(ce,{resolveItems:()=>ae.options,resolveActiveIndex:()=>ae.activeOptionIndex,resolveId:_e=>_e.id,resolveDisabled:_e=>_e.dataRef.current.disabled});return ae.activeOptionIndex===me?ae:{...ae,activeOptionIndex:me}},[4]:(ae,ce)=>{var me;let _e=ae.activeOptionIndex!==null?ae.options[ae.activeOptionIndex]:null,Te=Array.from((me=ae.optionsRef.current)==null?void 0:me.querySelectorAll('[id^="headlessui-combobox-option-"]')).reduce((et,qe,ct)=>Object.assign(et,{[qe.id]:ct}),{}),He=[...ae.options,{id:ce.id,dataRef:ce.dataRef}].sort((et,qe)=>Te[et.id]-Te[qe.id]);return{...ae,options:He,activeOptionIndex:(()=>_e===null?null:He.indexOf(_e))()}},[5]:(ae,ce)=>{let me=ae.options.slice(),_e=ae.activeOptionIndex!==null?me[ae.activeOptionIndex]:null,Te=me.findIndex(He=>He.id===ce.id);return Te!==-1&&me.splice(Te,1),{...ae,options:me,activeOptionIndex:(()=>Te===ae.activeOptionIndex||_e===null?null:me.indexOf(_e))()}}},L=Object(e.createContext)(null);L.displayName="ComboboxContext";function j(ae){let ce=Object(e.useContext)(L);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,j),me}return ce}var B=Object(e.createContext)(null);B.displayName="ComboboxActions";function x(){let ae=Object(e.useContext)(B);if(ae===null){let ce=new Error("ComboboxActions is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(ce,x),ce}return ae}function P(ae,ce){return a(ce.type,U,ae,ce)}var y=e.Fragment,A=v(function(ae,ce){let{value:me,onChange:_e,disabled:Te=!1,...He}=ae,et=Object(e.useRef)({value:me,onChange:_e}),qe=Object(e.useRef)({static:!1,hold:!1}),ct=Object(e.useRef)({displayValue:void 0}),Pt=Object(e.useReducer)(P,{comboboxState:1,comboboxPropsRef:et,optionsPropsRef:qe,inputPropsRef:ct,labelRef:Object(e.createRef)(),inputRef:Object(e.createRef)(),buttonRef:Object(e.createRef)(),optionsRef:Object(e.createRef)(),disabled:Te,options:[],activeOptionIndex:null}),[{comboboxState:At,options:Yt,activeOptionIndex:Gt,optionsRef:nn,inputRef:St,buttonRef:ft},kt]=Pt;s(()=>{et.current.value=me},[me,et]),s(()=>{et.current.onChange=_e},[_e,et]),s(()=>kt({type:2,disabled:Te}),[Te]),k("mousedown",zn=>{var dr,Br,$r;let Hr=zn.target;At===0&&(((dr=ft.current)==null?void 0:dr.contains(Hr))||((Br=St.current)==null?void 0:Br.contains(Hr))||(($r=nn.current)==null?void 0:$r.contains(Hr))||kt({type:1}))});let mn=Gt===null?null:Yt[Gt].dataRef.current.value,Mn=Object(e.useMemo)(()=>({open:At===0,disabled:Te,activeIndex:Gt,activeOption:mn}),[At,Te,Yt,Gt]),Xn=Object(e.useCallback)(()=>{if(!St.current||me===void 0)return;let zn=ct.current.displayValue;typeof zn=="function"?St.current.value=zn(me):typeof me=="string"&&(St.current.value=me)},[me,St,ct]),tn=Object(e.useCallback)(zn=>{let dr=Yt.find($r=>$r.id===zn);if(!dr)return;let{dataRef:Br}=dr;et.current.onChange(Br.current.value),Xn()},[Yt,et,St]),Pn=Object(e.useCallback)(()=>{if(Gt!==null){let{dataRef:zn}=Yt[Gt];et.current.onChange(zn.current.value),Xn()}},[Gt,Yt,et,St]),Sn=Object(e.useMemo)(()=>({selectOption:tn,selectActiveOption:Pn}),[tn,Pn]);return s(()=>{At===1&&Xn()},[Xn,At]),s(Xn,[Xn]),e.default.createElement(B.Provider,{value:Sn},e.default.createElement(L.Provider,{value:Pt},e.default.createElement(g,{value:a(At,{[0]:0,[1]:1})},n({props:ce===null?He:{...He,ref:ce},slot:Mn,defaultTag:y,name:"Combobox"}))))}),K="input",N=v(function(ae,ce){var me,_e;let{value:Te,onChange:He,displayValue:et,...qe}=ae,[ct,Pt]=j("Combobox.Input"),At=x(),Yt=m(ct.inputRef,ce),Gt=ct.inputPropsRef,nn=`headlessui-combobox-input-${f()}`,St=l(),ft=O(He);s(()=>{Gt.current.displayValue=et},[et,Gt]);let kt=Object(e.useCallback)(Pn=>{switch(Pn.key){case"Enter":Pn.preventDefault(),Pn.stopPropagation(),At.selectActiveOption(),Pt({type:1});break;case"ArrowDown":return Pn.preventDefault(),Pn.stopPropagation(),a(ct.comboboxState,{[0]:()=>Pt({type:3,focus:2}),[1]:()=>{Pt({type:0}),St.nextFrame(()=>{ct.comboboxPropsRef.current.value||Pt({type:3,focus:0})})}});case"ArrowUp":return Pn.preventDefault(),Pn.stopPropagation(),a(ct.comboboxState,{[0]:()=>Pt({type:3,focus:1}),[1]:()=>{Pt({type:0}),St.nextFrame(()=>{ct.comboboxPropsRef.current.value||Pt({type:3,focus:3})})}});case"Home":case"PageUp":return Pn.preventDefault(),Pn.stopPropagation(),Pt({type:3,focus:0});case"End":case"PageDown":return Pn.preventDefault(),Pn.stopPropagation(),Pt({type:3,focus:3});case"Escape":return Pn.preventDefault(),ct.optionsRef.current&&!ct.optionsPropsRef.current.static&&Pn.stopPropagation(),Pt({type:1});case"Tab":At.selectActiveOption(),Pt({type:1});break}},[St,Pt,ct,At]),mn=Object(e.useCallback)(Pn=>{var Sn;Pt({type:0}),(Sn=ft.current)==null||Sn.call(ft,Pn)},[Pt,ft]),Mn=b(()=>{if(ct.labelRef.current)return[ct.labelRef.current.id].join(" ")},[ct.labelRef.current]),Xn=Object(e.useMemo)(()=>({open:ct.comboboxState===0,disabled:ct.disabled}),[ct]),tn={ref:Yt,id:nn,role:"combobox",type:"text","aria-controls":(me=ct.optionsRef.current)==null?void 0:me.id,"aria-expanded":ct.disabled?void 0:ct.comboboxState===0,"aria-activedescendant":ct.activeOptionIndex===null||(_e=ct.options[ct.activeOptionIndex])==null?void 0:_e.id,"aria-labelledby":Mn,disabled:ct.disabled,onKeyDown:kt,onChange:mn};return n({props:{...qe,...tn},slot:Xn,defaultTag:K,name:"Combobox.Input"})}),Y="button",F=v(function(ae,ce){var me;let[_e,Te]=j("Combobox.Button"),He=x(),et=m(_e.buttonRef,ce),qe=`headlessui-combobox-button-${f()}`,ct=l(),Pt=Object(e.useCallback)(ft=>{switch(ft.key){case"ArrowDown":return ft.preventDefault(),ft.stopPropagation(),_e.comboboxState===1&&(Te({type:0}),ct.nextFrame(()=>{_e.comboboxPropsRef.current.value||Te({type:3,focus:0})})),ct.nextFrame(()=>{var kt;return(kt=_e.inputRef.current)==null?void 0:kt.focus({preventScroll:!0})});case"ArrowUp":return ft.preventDefault(),ft.stopPropagation(),_e.comboboxState===1&&(Te({type:0}),ct.nextFrame(()=>{_e.comboboxPropsRef.current.value||Te({type:3,focus:3})})),ct.nextFrame(()=>{var kt;return(kt=_e.inputRef.current)==null?void 0:kt.focus({preventScroll:!0})});case"Escape":return ft.preventDefault(),_e.optionsRef.current&&!_e.optionsPropsRef.current.static&&ft.stopPropagation(),Te({type:1}),ct.nextFrame(()=>{var kt;return(kt=_e.inputRef.current)==null?void 0:kt.focus({preventScroll:!0})})}},[ct,Te,_e,He]),At=Object(e.useCallback)(ft=>{if(T(ft.currentTarget))return ft.preventDefault();_e.comboboxState===0?Te({type:1}):(ft.preventDefault(),Te({type:0})),ct.nextFrame(()=>{var kt;return(kt=_e.inputRef.current)==null?void 0:kt.focus({preventScroll:!0})})},[Te,ct,_e]),Yt=b(()=>{if(_e.labelRef.current)return[_e.labelRef.current.id,qe].join(" ")},[_e.labelRef.current,qe]),Gt=Object(e.useMemo)(()=>({open:_e.comboboxState===0,disabled:_e.disabled}),[_e]),nn=ae,St={ref:et,id:qe,type:R(ae,_e.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(me=_e.optionsRef.current)==null?void 0:me.id,"aria-expanded":_e.disabled?void 0:_e.comboboxState===0,"aria-labelledby":Yt,disabled:_e.disabled,onClick:At,onKeyDown:Pt};return n({props:{...nn,...St},slot:Gt,defaultTag:Y,name:"Combobox.Button"})}),G="label";function X(ae){let[ce]=j("Combobox.Label"),me=`headlessui-combobox-label-${f()}`,_e=Object(e.useCallback)(()=>{var et;return(et=ce.inputRef.current)==null?void 0:et.focus({preventScroll:!0})},[ce.inputRef]),Te=Object(e.useMemo)(()=>({open:ce.comboboxState===0,disabled:ce.disabled}),[ce]),He={ref:ce.labelRef,id:me,onClick:_e};return n({props:{...ae,...He},slot:Te,defaultTag:G,name:"Combobox.Label"})}var q="ul",se=1|2,ie=v(function(ae,ce){var me;let{hold:_e=!1,...Te}=ae,[He]=j("Combobox.Options"),{optionsPropsRef:et}=He,qe=m(He.optionsRef,ce),ct=`headlessui-combobox-options-${f()}`,Pt=H(),At=(()=>Pt!==null?Pt===0:He.comboboxState===0)();s(()=>{var St;et.current.static=(St=ae.static)!=null?St:!1},[et,ae.static]),s(()=>{et.current.hold=_e},[_e,et]),D({container:He.optionsRef.current,enabled:He.comboboxState===0,accept(St){return St.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:St.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(St){St.setAttribute("role","none")}});let Yt=b(()=>{var St,ft,kt;return(kt=(St=He.labelRef.current)==null?void 0:St.id)!=null?kt:(ft=He.buttonRef.current)==null?void 0:ft.id},[He.labelRef.current,He.buttonRef.current]),Gt=Object(e.useMemo)(()=>({open:He.comboboxState===0}),[He]),nn={"aria-activedescendant":He.activeOptionIndex===null||(me=He.options[He.activeOptionIndex])==null?void 0:me.id,"aria-labelledby":Yt,role:"listbox",id:ct,ref:qe};return n({props:{...Te,...nn},slot:Gt,defaultTag:q,features:se,visible:At,name:"Combobox.Options"})}),Ee="li";function Ie(ae){let{disabled:ce=!1,value:me,..._e}=ae,[Te,He]=j("Combobox.Option"),et=x(),qe=`headlessui-combobox-option-${f()}`,ct=Te.activeOptionIndex!==null?Te.options[Te.activeOptionIndex].id===qe:!1,Pt=Te.comboboxPropsRef.current.value===me,At=Object(e.useRef)({disabled:ce,value:me});s(()=>{At.current.disabled=ce},[At,ce]),s(()=>{At.current.value=me},[At,me]),s(()=>{var mn,Mn;At.current.textValue=(Mn=(mn=document.getElementById(qe))==null?void 0:mn.textContent)==null?void 0:Mn.toLowerCase()},[At,qe]);let Yt=Object(e.useCallback)(()=>et.selectOption(qe),[et,qe]);s(()=>(He({type:4,id:qe,dataRef:At}),()=>He({type:5,id:qe})),[At,qe]),s(()=>{Te.comboboxState===0&&(!Pt||He({type:3,focus:4,id:qe}))},[Te.comboboxState,Pt,qe]),s(()=>{if(Te.comboboxState!==0||!ct)return;let mn=o();return mn.requestAnimationFrame(()=>{var Mn,Xn;(Xn=(Mn=document.getElementById(qe))==null?void 0:Mn.scrollIntoView)==null||Xn.call(Mn,{block:"nearest"})}),mn.dispose},[qe,ct,Te.comboboxState,Te.activeOptionIndex]);let Gt=Object(e.useCallback)(mn=>{if(ce)return mn.preventDefault();Yt(),He({type:1}),o().nextFrame(()=>{var Mn;return(Mn=Te.inputRef.current)==null?void 0:Mn.focus({preventScroll:!0})})},[He,Te.inputRef,ce,Yt]),nn=Object(e.useCallback)(()=>{if(ce)return He({type:3,focus:5});He({type:3,focus:4,id:qe})},[ce,qe,He]),St=Object(e.useCallback)(()=>{ce||ct||He({type:3,focus:4,id:qe})},[ce,ct,qe,He]),ft=Object(e.useCallback)(()=>{ce||!ct||Te.optionsPropsRef.current.hold||He({type:3,focus:5})},[ce,ct,He,Te.comboboxState,Te.comboboxPropsRef]),kt=Object(e.useMemo)(()=>({active:ct,selected:Pt,disabled:ce}),[ct,Pt,ce]);return n({props:{..._e,id:qe,role:"option",tabIndex:ce===!0?void 0:-1,"aria-disabled":ce===!0?!0:void 0,"aria-selected":Pt===!0?!0:void 0,disabled:void 0,onClick:Gt,onFocus:nn,onPointerMove:St,onMouseMove:St,onPointerLeave:ft,onMouseLeave:ft},slot:kt,defaultTag:Ee,name:"Combobox.Option"})}var ge=Object.assign(A,{Input:N,Button:F,Label:X,Options:ie,Option:Ie}),oe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(ae=>`${ae}:not([tabindex='-1'])`).join(",");function ee(ae=document.body){return ae==null?[]:Array.from(ae.querySelectorAll(oe))}function te(ae,ce=0){return ae===document.body?!1:a(ce,{[0](){return ae.matches(oe)},[1](){let me=ae;for(;me!==null;){if(me.matches(oe))return!0;me=me.parentElement}return!1}})}function le(ae){ae==null||ae.focus({preventScroll:!0})}function Q(ae,ce){let me=Array.isArray(ae)?ae.slice().sort((At,Yt)=>{let Gt=At.compareDocumentPosition(Yt);return Gt&Node.DOCUMENT_POSITION_FOLLOWING?-1:Gt&Node.DOCUMENT_POSITION_PRECEDING?1:0}):ee(ae),_e=document.activeElement,Te=(()=>{if(ce&(1|4))return 1;if(ce&(2|8))return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),He=(()=>{if(ce&1)return 0;if(ce&2)return Math.max(0,me.indexOf(_e))-1;if(ce&4)return Math.max(0,me.indexOf(_e))+1;if(ce&8)return me.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),et=ce&32?{preventScroll:!0}:{},qe=0,ct=me.length,Pt;do{if(qe>=ct||qe+ct<=0)return 0;let At=He+qe;if(ce&16)At=(At+ct)%ct;else{if(At<0)return 3;if(At>=ct)return 1}Pt=me[At],Pt==null||Pt.focus(et),qe+=Te}while(Pt!==document.activeElement);return Pt.hasAttribute("tabindex")||Pt.setAttribute("tabindex","0"),2}function z(){let ae=Object(e.useRef)(!1);return Object(e.useEffect)(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ae}function V(ae,ce=30,{initialFocus:me,containers:_e}={}){let Te=Object(e.useRef)(typeof window!="undefined"?document.activeElement:null),He=Object(e.useRef)(null),et=z(),qe=Boolean(ce&16),ct=Boolean(ce&2);Object(e.useEffect)(()=>{!qe||(Te.current=document.activeElement)},[qe]),Object(e.useEffect)(()=>{if(qe)return()=>{le(Te.current),Te.current=null}},[qe]),Object(e.useEffect)(()=>{if(!ct||!ae.current)return;let Pt=document.activeElement;if(me==null?void 0:me.current){if((me==null?void 0:me.current)===Pt){He.current=Pt;return}}else if(ae.current.contains(Pt)){He.current=Pt;return}(me==null?void 0:me.current)?le(me.current):Q(ae.current,1)===0&&console.warn("There are no focusable elements inside the <FocusTrap />"),He.current=document.activeElement},[ae,me,ct]),k("keydown",Pt=>{!(ce&4)||!ae.current||Pt.key==="Tab"&&(Pt.preventDefault(),Q(ae.current,(Pt.shiftKey?2:4)|16)===2&&(He.current=document.activeElement))}),k("focus",Pt=>{if(!(ce&8))return;let At=new Set(_e==null?void 0:_e.current);if(At.add(ae),!At.size)return;let Yt=He.current;if(!Yt||!et.current)return;let Gt=Pt.target;Gt&&Gt instanceof HTMLElement?ne(At,Gt)?(He.current=Gt,le(Gt)):(Pt.preventDefault(),Pt.stopPropagation(),le(Yt)):le(He.current)},!0)}function ne(ae,ce){var me;for(let _e of ae)if((me=_e.current)==null?void 0:me.contains(ce))return!0;return!1}var re=new Set,de=new Map;function fe(ae){ae.setAttribute("aria-hidden","true"),ae.inert=!0}function we(ae){let ce=de.get(ae);!ce||(ce["aria-hidden"]===null?ae.removeAttribute("aria-hidden"):ae.setAttribute("aria-hidden",ce["aria-hidden"]),ae.inert=ce.inert)}function Ge(ae,ce=!0){s(()=>{if(!ce||!ae.current)return;let me=ae.current;re.add(me);for(let _e of de.keys())_e.contains(me)&&(we(_e),de.delete(_e));return document.querySelectorAll("body > *").forEach(_e=>{if(_e instanceof HTMLElement){for(let Te of re)if(_e.contains(Te))return;re.size===1&&(de.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),fe(_e))}}),()=>{if(re.delete(me),re.size>0)document.querySelectorAll("body > *").forEach(_e=>{if(_e instanceof HTMLElement&&!de.has(_e)){for(let Te of re)if(_e.contains(Te))return;de.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),fe(_e)}});else for(let _e of de.keys())we(_e),de.delete(_e)}},[ce])}var $e=Object(e.createContext)(!1);function it(){return Object(e.useContext)($e)}function st(ae){return e.default.createElement($e.Provider,{value:ae.force},ae.children)}function Rt(){let ae=it(),ce=Object(e.useContext)(be),[me,_e]=Object(e.useState)(()=>{if(!ae&&ce!==null||typeof window=="undefined")return null;let Te=document.getElementById("headlessui-portal-root");if(Te)return Te;let He=document.createElement("div");return He.setAttribute("id","headlessui-portal-root"),document.body.appendChild(He)});return Object(e.useEffect)(()=>{me!==null&&(document.body.contains(me)||document.body.appendChild(me))},[me]),Object(e.useEffect)(()=>{ae||ce!==null&&_e(ce.current)},[ce,_e,ae]),me}var Ht=e.Fragment;function je(ae){let ce=ae,me=Rt(),[_e]=Object(e.useState)(()=>typeof window=="undefined"?null:document.createElement("div")),Te=c();return s(()=>{if(!!me&&!!_e)return me.appendChild(_e),()=>{var He;!me||!_e||(me.removeChild(_e),me.childNodes.length<=0&&((He=me.parentElement)==null||He.removeChild(me)))}},[me,_e]),Te?!me||!_e?null:Object(e.createPortal)(n({props:ce,defaultTag:Ht,name:"Portal"}),_e):null}var Oe=e.Fragment,be=Object(e.createContext)(null);function he(ae){let{target:ce,...me}=ae;return e.default.createElement(be.Provider,{value:ce},n({props:me,defaultTag:Oe,name:"Popover.Group"}))}je.Group=he;var Ce=Object(e.createContext)(null);function De(){let ae=Object(e.useContext)(Ce);if(ae===null){let ce=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ce,De),ce}return ae}function Se(){let[ae,ce]=Object(e.useState)([]);return[ae.length>0?ae.join(" "):void 0,Object(e.useMemo)(()=>function(me){let _e=Object(e.useCallback)(He=>(ce(et=>[...et,He]),()=>ce(et=>{let qe=et.slice(),ct=qe.indexOf(He);return ct!==-1&&qe.splice(ct,1),qe})),[]),Te=Object(e.useMemo)(()=>({register:_e,slot:me.slot,name:me.name,props:me.props}),[_e,me.slot,me.name,me.props]);return e.default.createElement(Ce.Provider,{value:Te},me.children)},[ce])]}var Le="p";function tt(ae){let ce=De(),me=`headlessui-description-${f()}`;s(()=>ce.register(me),[me,ce.register]);let _e=ae,Te={...ce.props,id:me};return n({props:{..._e,...Te},slot:ce.slot||{},defaultTag:Le,name:ce.name||"Description"})}var Xe=Object(e.createContext)(()=>{});Xe.displayName="StackContext";function Et(){return Object(e.useContext)(Xe)}function Qe({children:ae,onUpdate:ce,type:me,element:_e}){let Te=Et(),He=Object(e.useCallback)((...et)=>{ce==null||ce(...et),Te(...et)},[Te,ce]);return s(()=>(He(0,me,_e),()=>He(1,me,_e)),[He,me,_e]),e.default.createElement(Xe.Provider,{value:He},ae)}var rt={[0](ae,ce){return ae.titleId===ce.id?ae:{...ae,titleId:ce.id}}},ke=Object(e.createContext)(null);ke.displayName="DialogContext";function jt(ae){let ce=Object(e.useContext)(ke);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${bt.displayName} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,jt),me}return ce}function Nt(ae,ce){return a(ce.type,rt,ae,ce)}var rn="div",sn=1|2,dt=v(function(ae,ce){let{open:me,onClose:_e,initialFocus:Te,...He}=ae,[et,qe]=Object(e.useState)(0),ct=H();me===void 0&&ct!==null&&(me=a(ct,{[0]:!0,[1]:!1}));let Pt=Object(e.useRef)(new Set),At=Object(e.useRef)(null),Yt=m(At,ce),Gt=ae.hasOwnProperty("open")||ct!==null,nn=ae.hasOwnProperty("onClose");if(!Gt&&!nn)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!Gt)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!nn)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof me!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${me}`);if(typeof _e!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${_e}`);let St=me?0:1,ft=(()=>ct!==null?ct===0:St===0)(),[kt,mn]=Object(e.useReducer)(Nt,{titleId:null,descriptionId:null}),Mn=Object(e.useCallback)(()=>_e(!1),[_e]),Xn=Object(e.useCallback)(jr=>mn({type:0,id:jr}),[mn]),tn=c()&&St===0,Pn=et>1,Sn=Object(e.useContext)(ke)!==null;V(At,tn?a(Pn?"parent":"leaf",{parent:16,leaf:30}):1,{initialFocus:Te,containers:Pt}),Ge(At,Pn?tn:!1),k("mousedown",jr=>{var Gr;let Sr=jr.target;St===0&&(Pn||((Gr=At.current)==null?void 0:Gr.contains(Sr))||Mn())}),k("keydown",jr=>{jr.key==="Escape"&&St===0&&(Pn||(jr.preventDefault(),jr.stopPropagation(),Mn()))}),Object(e.useEffect)(()=>{if(St!==0||Sn)return;let jr=document.documentElement.style.overflow,Gr=document.documentElement.style.paddingRight,Sr=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${Sr}px`,()=>{document.documentElement.style.overflow=jr,document.documentElement.style.paddingRight=Gr}},[St,Sn]),Object(e.useEffect)(()=>{if(St!==0||!At.current)return;let jr=new IntersectionObserver(Gr=>{for(let Sr of Gr)Sr.boundingClientRect.x===0&&Sr.boundingClientRect.y===0&&Sr.boundingClientRect.width===0&&Sr.boundingClientRect.height===0&&Mn()});return jr.observe(At.current),()=>jr.disconnect()},[St,At,Mn]);let[zn,dr]=Se(),Br=`headlessui-dialog-${f()}`,$r=Object(e.useMemo)(()=>[{dialogState:St,close:Mn,setTitleId:Xn},kt],[St,kt,Mn,Xn]),Hr=Object(e.useMemo)(()=>({open:St===0}),[St]),oo={ref:Yt,id:Br,role:"dialog","aria-modal":St===0?!0:void 0,"aria-labelledby":kt.titleId,"aria-describedby":zn,onClick(jr){jr.stopPropagation()}},wo=He;return e.default.createElement(Qe,{type:"Dialog",element:At,onUpdate:Object(e.useCallback)((jr,Gr,Sr)=>{Gr==="Dialog"&&a(jr,{[0](){Pt.current.add(Sr),qe(Po=>Po+1)},[1](){Pt.current.add(Sr),qe(Po=>Po-1)}})},[])},e.default.createElement(st,{force:!0},e.default.createElement(je,null,e.default.createElement(ke.Provider,{value:$r},e.default.createElement(je.Group,{target:At},e.default.createElement(st,{force:!1},e.default.createElement(dr,{slot:Hr,name:"Dialog.Description"},n({props:{...wo,...oo},slot:Hr,defaultTag:rn,features:sn,visible:ft,name:"Dialog"}))))))))}),mt="div",gt=v(function(ae,ce){let[{dialogState:me,close:_e}]=jt("Dialog.Overlay"),Te=m(ce),He=`headlessui-dialog-overlay-${f()}`,et=Object(e.useCallback)(ct=>{if(ct.target===ct.currentTarget){if(T(ct.currentTarget))return ct.preventDefault();ct.preventDefault(),ct.stopPropagation(),_e()}},[_e]),qe=Object(e.useMemo)(()=>({open:me===0}),[me]);return n({props:{...ae,ref:Te,id:He,"aria-hidden":!0,onClick:et},slot:qe,defaultTag:mt,name:"Dialog.Overlay"})}),ze="h2";function ue(ae){let[{dialogState:ce,setTitleId:me}]=jt("Dialog.Title"),_e=`headlessui-dialog-title-${f()}`;Object(e.useEffect)(()=>(me(_e),()=>me(null)),[_e,me]);let Te=Object(e.useMemo)(()=>({open:ce===0}),[ce]);return n({props:{...ae,id:_e},slot:Te,defaultTag:ze,name:"Dialog.Title"})}var bt=Object.assign(dt,{Overlay:gt,Title:ue,Description:tt}),wt={[0]:ae=>({...ae,disclosureState:a(ae.disclosureState,{[0]:1,[1]:0})}),[1]:ae=>ae.disclosureState===1?ae:{...ae,disclosureState:1},[4](ae){return ae.linkedPanel===!0?ae:{...ae,linkedPanel:!0}},[5](ae){return ae.linkedPanel===!1?ae:{...ae,linkedPanel:!1}},[2](ae,ce){return ae.buttonId===ce.buttonId?ae:{...ae,buttonId:ce.buttonId}},[3](ae,ce){return ae.panelId===ce.panelId?ae:{...ae,panelId:ce.panelId}}},It=Object(e.createContext)(null);It.displayName="DisclosureContext";function We(ae){let ce=Object(e.useContext)(It);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${Ct.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,We),me}return ce}var lt=Object(e.createContext)(null);lt.displayName="DisclosureAPIContext";function Ae(ae){let ce=Object(e.useContext)(lt);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${Ct.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,Ae),me}return ce}var Ve=Object(e.createContext)(null);Ve.displayName="DisclosurePanelContext";function at(){return Object(e.useContext)(Ve)}function ot(ae,ce){return a(ce.type,wt,ae,ce)}var vt=e.Fragment;function Ct(ae){let{defaultOpen:ce=!1,...me}=ae,_e=`headlessui-disclosure-button-${f()}`,Te=`headlessui-disclosure-panel-${f()}`,He=Object(e.useReducer)(ot,{disclosureState:ce?0:1,linkedPanel:!1,buttonId:_e,panelId:Te}),[{disclosureState:et},qe]=He;Object(e.useEffect)(()=>qe({type:2,buttonId:_e}),[_e,qe]),Object(e.useEffect)(()=>qe({type:3,panelId:Te}),[Te,qe]);let ct=Object(e.useCallback)(Yt=>{qe({type:1});let Gt=(()=>Yt?Yt instanceof HTMLElement?Yt:Yt.current instanceof HTMLElement?Yt.current:document.getElementById(_e):document.getElementById(_e))();Gt==null||Gt.focus()},[qe,_e]),Pt=Object(e.useMemo)(()=>({close:ct}),[ct]),At=Object(e.useMemo)(()=>({open:et===0,close:ct}),[et,ct]);return e.default.createElement(It.Provider,{value:He},e.default.createElement(lt.Provider,{value:Pt},e.default.createElement(g,{value:a(et,{[0]:0,[1]:1})},n({props:me,slot:At,defaultTag:vt,name:"Disclosure"}))))}var Mt="button",Lt=v(function(ae,ce){let[me,_e]=We("Disclosure.Button"),Te=Object(e.useRef)(null),He=m(Te,ce),et=at(),qe=et===null?!1:et===me.panelId,ct=Object(e.useCallback)(ft=>{var kt;if(qe){if(me.disclosureState===1)return;switch(ft.key){case" ":case"Enter":ft.preventDefault(),ft.stopPropagation(),_e({type:0}),(kt=document.getElementById(me.buttonId))==null||kt.focus();break}}else switch(ft.key){case" ":case"Enter":ft.preventDefault(),ft.stopPropagation(),_e({type:0});break}},[_e,qe,me.disclosureState,me.buttonId]),Pt=Object(e.useCallback)(ft=>{switch(ft.key){case" ":ft.preventDefault();break}},[]),At=Object(e.useCallback)(ft=>{var kt;T(ft.currentTarget)||ae.disabled||(qe?(_e({type:0}),(kt=document.getElementById(me.buttonId))==null||kt.focus()):_e({type:0}))},[_e,ae.disabled,me.buttonId,qe]),Yt=Object(e.useMemo)(()=>({open:me.disclosureState===0}),[me]),Gt=R(ae,Te),nn=ae,St=qe?{ref:He,type:Gt,onKeyDown:ct,onClick:At}:{ref:He,id:me.buttonId,type:Gt,"aria-expanded":ae.disabled?void 0:me.disclosureState===0,"aria-controls":me.linkedPanel?me.panelId:void 0,onKeyDown:ct,onKeyUp:Pt,onClick:At};return n({props:{...nn,...St},slot:Yt,defaultTag:Mt,name:"Disclosure.Button"})}),_t="div",Qt=1|2,un=v(function(ae,ce){let[me,_e]=We("Disclosure.Panel"),{close:Te}=Ae("Disclosure.Panel"),He=m(ce,()=>{me.linkedPanel||_e({type:4})}),et=H(),qe=(()=>et!==null?et===0:me.disclosureState===0)();Object(e.useEffect)(()=>()=>_e({type:5}),[_e]),Object(e.useEffect)(()=>{var Yt;me.disclosureState===1&&((Yt=ae.unmount)!=null?Yt:!0)&&_e({type:5})},[me.disclosureState,ae.unmount,_e]);let ct=Object(e.useMemo)(()=>({open:me.disclosureState===0,close:Te}),[me,Te]),Pt={ref:He,id:me.panelId},At=ae;return e.default.createElement(Ve.Provider,{value:me.panelId},n({props:{...At,...Pt},slot:ct,defaultTag:_t,features:Qt,visible:qe,name:"Disclosure.Panel"}))});Ct.Button=Lt,Ct.Panel=un;var Jt="div";function Xt(ae){let ce=Object(e.useRef)(null),{initialFocus:me,..._e}=ae,Te=c();return V(ce,Te?30:1,{initialFocus:me}),n({props:{..._e,ref:ce},defaultTag:Jt,name:"FocusTrap"})}var yn={[1](ae){return ae.disabled||ae.listboxState===1?ae:{...ae,activeOptionIndex:null,listboxState:1}},[0](ae){return ae.disabled||ae.listboxState===0?ae:{...ae,listboxState:0}},[2](ae,ce){return ae.disabled===ce.disabled?ae:{...ae,disabled:ce.disabled}},[3](ae,ce){return ae.orientation===ce.orientation?ae:{...ae,orientation:ce.orientation}},[4](ae,ce){if(ae.disabled||ae.listboxState===1)return ae;let me=_(ce,{resolveItems:()=>ae.options,resolveActiveIndex:()=>ae.activeOptionIndex,resolveId:_e=>_e.id,resolveDisabled:_e=>_e.dataRef.current.disabled});return ae.searchQuery===""&&ae.activeOptionIndex===me?ae:{...ae,searchQuery:"",activeOptionIndex:me}},[5]:(ae,ce)=>{if(ae.disabled||ae.listboxState===1)return ae;let me=ae.searchQuery!==""?0:1,_e=ae.searchQuery+ce.value.toLowerCase(),Te=(ae.activeOptionIndex!==null?ae.options.slice(ae.activeOptionIndex+me).concat(ae.options.slice(0,ae.activeOptionIndex+me)):ae.options).find(et=>{var qe;return!et.dataRef.current.disabled&&((qe=et.dataRef.current.textValue)==null?void 0:qe.startsWith(_e))}),He=Te?ae.options.indexOf(Te):-1;return He===-1||He===ae.activeOptionIndex?{...ae,searchQuery:_e}:{...ae,searchQuery:_e,activeOptionIndex:He}},[6](ae){return ae.disabled||ae.listboxState===1||ae.searchQuery===""?ae:{...ae,searchQuery:""}},[7]:(ae,ce)=>{var me;let _e=Array.from((me=ae.optionsRef.current)==null?void 0:me.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce((He,et,qe)=>Object.assign(He,{[et.id]:qe}),{}),Te=[...ae.options,{id:ce.id,dataRef:ce.dataRef}].sort((He,et)=>_e[He.id]-_e[et.id]);return{...ae,options:Te}},[8]:(ae,ce)=>{let me=ae.options.slice(),_e=ae.activeOptionIndex!==null?me[ae.activeOptionIndex]:null,Te=me.findIndex(He=>He.id===ce.id);return Te!==-1&&me.splice(Te,1),{...ae,options:me,activeOptionIndex:(()=>Te===ae.activeOptionIndex||_e===null?null:me.indexOf(_e))()}}},wn=Object(e.createContext)(null);wn.displayName="ListboxContext";function Ze(ae){let ce=Object(e.useContext)(wn);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${Je.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,Ze),me}return ce}function Pe(ae,ce){return a(ce.type,yn,ae,ce)}var Ye=e.Fragment;function Je(ae){let{value:ce,onChange:me,disabled:_e=!1,horizontal:Te=!1,...He}=ae,et=Te?"horizontal":"vertical",qe=Object(e.useReducer)(Pe,{listboxState:1,propsRef:{current:{value:ce,onChange:me}},labelRef:Object(e.createRef)(),buttonRef:Object(e.createRef)(),optionsRef:Object(e.createRef)(),disabled:_e,orientation:et,options:[],searchQuery:"",activeOptionIndex:null}),[{listboxState:ct,propsRef:Pt,optionsRef:At,buttonRef:Yt},Gt]=qe;s(()=>{Pt.current.value=ce},[ce,Pt]),s(()=>{Pt.current.onChange=me},[me,Pt]),s(()=>Gt({type:2,disabled:_e}),[_e]),s(()=>Gt({type:3,orientation:et}),[et]),k("mousedown",St=>{var ft,kt,mn;let Mn=St.target;ct===0&&(((ft=Yt.current)==null?void 0:ft.contains(Mn))||((kt=At.current)==null?void 0:kt.contains(Mn))||(Gt({type:1}),te(Mn,1)||(St.preventDefault(),(mn=Yt.current)==null||mn.focus())))});let nn=Object(e.useMemo)(()=>({open:ct===0,disabled:_e}),[ct,_e]);return e.default.createElement(wn.Provider,{value:qe},e.default.createElement(g,{value:a(ct,{[0]:0,[1]:1})},n({props:He,slot:nn,defaultTag:Ye,name:"Listbox"})))}var yt="button",Dt=v(function(ae,ce){var me;let[_e,Te]=Ze("Listbox.Button"),He=m(_e.buttonRef,ce),et=`headlessui-listbox-button-${f()}`,qe=l(),ct=Object(e.useCallback)(ft=>{switch(ft.key){case" ":case"Enter":case"ArrowDown":ft.preventDefault(),Te({type:0}),qe.nextFrame(()=>{_e.propsRef.current.value||Te({type:4,focus:0})});break;case"ArrowUp":ft.preventDefault(),Te({type:0}),qe.nextFrame(()=>{_e.propsRef.current.value||Te({type:4,focus:3})});break}},[Te,_e,qe]),Pt=Object(e.useCallback)(ft=>{switch(ft.key){case" ":ft.preventDefault();break}},[]),At=Object(e.useCallback)(ft=>{if(T(ft.currentTarget))return ft.preventDefault();_e.listboxState===0?(Te({type:1}),qe.nextFrame(()=>{var kt;return(kt=_e.buttonRef.current)==null?void 0:kt.focus({preventScroll:!0})})):(ft.preventDefault(),Te({type:0}))},[Te,qe,_e]),Yt=b(()=>{if(_e.labelRef.current)return[_e.labelRef.current.id,et].join(" ")},[_e.labelRef.current,et]),Gt=Object(e.useMemo)(()=>({open:_e.listboxState===0,disabled:_e.disabled}),[_e]),nn=ae,St={ref:He,id:et,type:R(ae,_e.buttonRef),"aria-haspopup":!0,"aria-controls":(me=_e.optionsRef.current)==null?void 0:me.id,"aria-expanded":_e.disabled?void 0:_e.listboxState===0,"aria-labelledby":Yt,disabled:_e.disabled,onKeyDown:ct,onKeyUp:Pt,onClick:At};return n({props:{...nn,...St},slot:Gt,defaultTag:yt,name:"Listbox.Button"})}),Ut="label";function zt(ae){let[ce]=Ze("Listbox.Label"),me=`headlessui-listbox-label-${f()}`,_e=Object(e.useCallback)(()=>{var et;return(et=ce.buttonRef.current)==null?void 0:et.focus({preventScroll:!0})},[ce.buttonRef]),Te=Object(e.useMemo)(()=>({open:ce.listboxState===0,disabled:ce.disabled}),[ce]),He={ref:ce.labelRef,id:me,onClick:_e};return n({props:{...ae,...He},slot:Te,defaultTag:Ut,name:"Listbox.Label"})}var cn="ul",vn=1|2,Cn=v(function(ae,ce){var me;let[_e,Te]=Ze("Listbox.Options"),He=m(_e.optionsRef,ce),et=`headlessui-listbox-options-${f()}`,qe=l(),ct=l(),Pt=H(),At=(()=>Pt!==null?Pt===0:_e.listboxState===0)();s(()=>{let ft=_e.optionsRef.current;!ft||_e.listboxState===0&&ft!==document.activeElement&&ft.focus({preventScroll:!0})},[_e.listboxState,_e.optionsRef]);let Yt=Object(e.useCallback)(ft=>{switch(ct.dispose(),ft.key){case" ":if(_e.searchQuery!=="")return ft.preventDefault(),ft.stopPropagation(),Te({type:5,value:ft.key});case"Enter":if(ft.preventDefault(),ft.stopPropagation(),Te({type:1}),_e.activeOptionIndex!==null){let{dataRef:kt}=_e.options[_e.activeOptionIndex];_e.propsRef.current.onChange(kt.current.value)}o().nextFrame(()=>{var kt;return(kt=_e.buttonRef.current)==null?void 0:kt.focus({preventScroll:!0})});break;case a(_e.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return ft.preventDefault(),ft.stopPropagation(),Te({type:4,focus:2});case a(_e.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return ft.preventDefault(),ft.stopPropagation(),Te({type:4,focus:1});case"Home":case"PageUp":return ft.preventDefault(),ft.stopPropagation(),Te({type:4,focus:0});case"End":case"PageDown":return ft.preventDefault(),ft.stopPropagation(),Te({type:4,focus:3});case"Escape":return ft.preventDefault(),ft.stopPropagation(),Te({type:1}),qe.nextFrame(()=>{var kt;return(kt=_e.buttonRef.current)==null?void 0:kt.focus({preventScroll:!0})});case"Tab":ft.preventDefault(),ft.stopPropagation();break;default:ft.key.length===1&&(Te({type:5,value:ft.key}),ct.setTimeout(()=>Te({type:6}),350));break}},[qe,Te,ct,_e]),Gt=b(()=>{var ft,kt,mn;return(mn=(ft=_e.labelRef.current)==null?void 0:ft.id)!=null?mn:(kt=_e.buttonRef.current)==null?void 0:kt.id},[_e.labelRef.current,_e.buttonRef.current]),nn=Object(e.useMemo)(()=>({open:_e.listboxState===0}),[_e]),St={"aria-activedescendant":_e.activeOptionIndex===null||(me=_e.options[_e.activeOptionIndex])==null?void 0:me.id,"aria-labelledby":Gt,"aria-orientation":_e.orientation,id:et,onKeyDown:Yt,role:"listbox",tabIndex:0,ref:He};return n({props:{...ae,...St},slot:nn,defaultTag:cn,features:vn,visible:At,name:"Listbox.Options"})}),Rn="li";function ir(ae){let{disabled:ce=!1,value:me,..._e}=ae,[Te,He]=Ze("Listbox.Option"),et=`headlessui-listbox-option-${f()}`,qe=Te.activeOptionIndex!==null?Te.options[Te.activeOptionIndex].id===et:!1,ct=Te.propsRef.current.value===me,Pt=Object(e.useRef)({disabled:ce,value:me});s(()=>{Pt.current.disabled=ce},[Pt,ce]),s(()=>{Pt.current.value=me},[Pt,me]),s(()=>{var kt,mn;Pt.current.textValue=(mn=(kt=document.getElementById(et))==null?void 0:kt.textContent)==null?void 0:mn.toLowerCase()},[Pt,et]);let At=Object(e.useCallback)(()=>Te.propsRef.current.onChange(me),[Te.propsRef,me]);s(()=>(He({type:7,id:et,dataRef:Pt}),()=>He({type:8,id:et})),[Pt,et]),s(()=>{var kt,mn;Te.listboxState===0&&(!ct||(He({type:4,focus:4,id:et}),(mn=(kt=document.getElementById(et))==null?void 0:kt.focus)==null||mn.call(kt)))},[Te.listboxState]),s(()=>{if(Te.listboxState!==0||!qe)return;let kt=o();return kt.requestAnimationFrame(()=>{var mn,Mn;(Mn=(mn=document.getElementById(et))==null?void 0:mn.scrollIntoView)==null||Mn.call(mn,{block:"nearest"})}),kt.dispose},[et,qe,Te.listboxState,Te.activeOptionIndex]);let Yt=Object(e.useCallback)(kt=>{if(ce)return kt.preventDefault();At(),He({type:1}),o().nextFrame(()=>{var mn;return(mn=Te.buttonRef.current)==null?void 0:mn.focus({preventScroll:!0})})},[He,Te.buttonRef,ce,At]),Gt=Object(e.useCallback)(()=>{if(ce)return He({type:4,focus:5});He({type:4,focus:4,id:et})},[ce,et,He]),nn=Object(e.useCallback)(()=>{ce||qe||He({type:4,focus:4,id:et})},[ce,qe,et,He]),St=Object(e.useCallback)(()=>{ce||!qe||He({type:4,focus:5})},[ce,qe,He]),ft=Object(e.useMemo)(()=>({active:qe,selected:ct,disabled:ce}),[qe,ct,ce]);return n({props:{..._e,id:et,role:"option",tabIndex:ce===!0?void 0:-1,"aria-disabled":ce===!0?!0:void 0,"aria-selected":ct===!0?!0:void 0,disabled:void 0,onClick:Yt,onFocus:Gt,onPointerMove:nn,onMouseMove:nn,onPointerLeave:St,onMouseLeave:St},slot:ft,defaultTag:Rn,name:"Listbox.Option"})}Je.Button=Dt,Je.Label=zt,Je.Options=Cn,Je.Option=ir;var Hn={[1](ae){return ae.menuState===1?ae:{...ae,activeItemIndex:null,menuState:1}},[0](ae){return ae.menuState===0?ae:{...ae,menuState:0}},[2]:(ae,ce)=>{let me=_(ce,{resolveItems:()=>ae.items,resolveActiveIndex:()=>ae.activeItemIndex,resolveId:_e=>_e.id,resolveDisabled:_e=>_e.dataRef.current.disabled});return ae.searchQuery===""&&ae.activeItemIndex===me?ae:{...ae,searchQuery:"",activeItemIndex:me}},[3]:(ae,ce)=>{let me=ae.searchQuery!==""?0:1,_e=ae.searchQuery+ce.value.toLowerCase(),Te=(ae.activeItemIndex!==null?ae.items.slice(ae.activeItemIndex+me).concat(ae.items.slice(0,ae.activeItemIndex+me)):ae.items).find(et=>{var qe;return((qe=et.dataRef.current.textValue)==null?void 0:qe.startsWith(_e))&&!et.dataRef.current.disabled}),He=Te?ae.items.indexOf(Te):-1;return He===-1||He===ae.activeItemIndex?{...ae,searchQuery:_e}:{...ae,searchQuery:_e,activeItemIndex:He}},[4](ae){return ae.searchQuery===""?ae:{...ae,searchQuery:"",searchActiveItemIndex:null}},[5]:(ae,ce)=>{var me;let _e=Array.from((me=ae.itemsRef.current)==null?void 0:me.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce((He,et,qe)=>Object.assign(He,{[et.id]:qe}),{}),Te=[...ae.items,{id:ce.id,dataRef:ce.dataRef}].sort((He,et)=>_e[He.id]-_e[et.id]);return{...ae,items:Te}},[6]:(ae,ce)=>{let me=ae.items.slice(),_e=ae.activeItemIndex!==null?me[ae.activeItemIndex]:null,Te=me.findIndex(He=>He.id===ce.id);return Te!==-1&&me.splice(Te,1),{...ae,items:me,activeItemIndex:(()=>Te===ae.activeItemIndex||_e===null?null:me.indexOf(_e))()}}},nr=Object(e.createContext)(null);nr.displayName="MenuContext";function Nn(ae){let ce=Object(e.useContext)(nr);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${Fe.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,Nn),me}return ce}function ht(ae,ce){return a(ce.type,Hn,ae,ce)}var Ke=e.Fragment;function Fe(ae){let ce=Object(e.useReducer)(ht,{menuState:1,buttonRef:Object(e.createRef)(),itemsRef:Object(e.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),[{menuState:me,itemsRef:_e,buttonRef:Te},He]=ce;k("mousedown",qe=>{var ct,Pt,At;let Yt=qe.target;me===0&&(((ct=Te.current)==null?void 0:ct.contains(Yt))||((Pt=_e.current)==null?void 0:Pt.contains(Yt))||(He({type:1}),te(Yt,1)||(qe.preventDefault(),(At=Te.current)==null||At.focus())))});let et=Object(e.useMemo)(()=>({open:me===0}),[me]);return e.default.createElement(nr.Provider,{value:ce},e.default.createElement(g,{value:a(me,{[0]:0,[1]:1})},n({props:ae,slot:et,defaultTag:Ke,name:"Menu"})))}var Tt="button",Vt=v(function(ae,ce){var me;let[_e,Te]=Nn("Menu.Button"),He=m(_e.buttonRef,ce),et=`headlessui-menu-button-${f()}`,qe=l(),ct=Object(e.useCallback)(St=>{switch(St.key){case" ":case"Enter":case"ArrowDown":St.preventDefault(),St.stopPropagation(),Te({type:0}),qe.nextFrame(()=>Te({type:2,focus:0}));break;case"ArrowUp":St.preventDefault(),St.stopPropagation(),Te({type:0}),qe.nextFrame(()=>Te({type:2,focus:3}));break}},[Te,qe]),Pt=Object(e.useCallback)(St=>{switch(St.key){case" ":St.preventDefault();break}},[]),At=Object(e.useCallback)(St=>{if(T(St.currentTarget))return St.preventDefault();ae.disabled||(_e.menuState===0?(Te({type:1}),qe.nextFrame(()=>{var ft;return(ft=_e.buttonRef.current)==null?void 0:ft.focus({preventScroll:!0})})):(St.preventDefault(),St.stopPropagation(),Te({type:0})))},[Te,qe,_e,ae.disabled]),Yt=Object(e.useMemo)(()=>({open:_e.menuState===0}),[_e]),Gt=ae,nn={ref:He,id:et,type:R(ae,_e.buttonRef),"aria-haspopup":!0,"aria-controls":(me=_e.itemsRef.current)==null?void 0:me.id,"aria-expanded":ae.disabled?void 0:_e.menuState===0,onKeyDown:ct,onKeyUp:Pt,onClick:At};return n({props:{...Gt,...nn},slot:Yt,defaultTag:Tt,name:"Menu.Button"})}),Kt="div",on=1|2,qt=v(function(ae,ce){var me,_e;let[Te,He]=Nn("Menu.Items"),et=m(Te.itemsRef,ce),qe=`headlessui-menu-items-${f()}`,ct=l(),Pt=H(),At=(()=>Pt!==null?Pt===0:Te.menuState===0)();Object(e.useEffect)(()=>{let ft=Te.itemsRef.current;!ft||Te.menuState===0&&ft!==document.activeElement&&ft.focus({preventScroll:!0})},[Te.menuState,Te.itemsRef]),D({container:Te.itemsRef.current,enabled:Te.menuState===0,accept(ft){return ft.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:ft.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ft){ft.setAttribute("role","none")}});let Yt=Object(e.useCallback)(ft=>{var kt;switch(ct.dispose(),ft.key){case" ":if(Te.searchQuery!=="")return ft.preventDefault(),ft.stopPropagation(),He({type:3,value:ft.key});case"Enter":if(ft.preventDefault(),ft.stopPropagation(),He({type:1}),Te.activeItemIndex!==null){let{id:mn}=Te.items[Te.activeItemIndex];(kt=document.getElementById(mn))==null||kt.click()}o().nextFrame(()=>{var mn;return(mn=Te.buttonRef.current)==null?void 0:mn.focus({preventScroll:!0})});break;case"ArrowDown":return ft.preventDefault(),ft.stopPropagation(),He({type:2,focus:2});case"ArrowUp":return ft.preventDefault(),ft.stopPropagation(),He({type:2,focus:1});case"Home":case"PageUp":return ft.preventDefault(),ft.stopPropagation(),He({type:2,focus:0});case"End":case"PageDown":return ft.preventDefault(),ft.stopPropagation(),He({type:2,focus:3});case"Escape":ft.preventDefault(),ft.stopPropagation(),He({type:1}),o().nextFrame(()=>{var mn;return(mn=Te.buttonRef.current)==null?void 0:mn.focus({preventScroll:!0})});break;case"Tab":ft.preventDefault(),ft.stopPropagation();break;default:ft.key.length===1&&(He({type:3,value:ft.key}),ct.setTimeout(()=>He({type:4}),350));break}},[He,ct,Te]),Gt=Object(e.useCallback)(ft=>{switch(ft.key){case" ":ft.preventDefault();break}},[]),nn=Object(e.useMemo)(()=>({open:Te.menuState===0}),[Te]),St={"aria-activedescendant":Te.activeItemIndex===null||(me=Te.items[Te.activeItemIndex])==null?void 0:me.id,"aria-labelledby":(_e=Te.buttonRef.current)==null?void 0:_e.id,id:qe,onKeyDown:Yt,onKeyUp:Gt,role:"menu",tabIndex:0,ref:et};return n({props:{...ae,...St},slot:nn,defaultTag:Kt,features:on,visible:At,name:"Menu.Items"})}),Bt=e.Fragment;function dn(ae){let{disabled:ce=!1,onClick:me,..._e}=ae,[Te,He]=Nn("Menu.Item"),et=`headlessui-menu-item-${f()}`,qe=Te.activeItemIndex!==null?Te.items[Te.activeItemIndex].id===et:!1;s(()=>{if(Te.menuState!==0||!qe)return;let St=o();return St.requestAnimationFrame(()=>{var ft,kt;(kt=(ft=document.getElementById(et))==null?void 0:ft.scrollIntoView)==null||kt.call(ft,{block:"nearest"})}),St.dispose},[et,qe,Te.menuState,Te.activeItemIndex]);let ct=Object(e.useRef)({disabled:ce});s(()=>{ct.current.disabled=ce},[ct,ce]),s(()=>{var St,ft;ct.current.textValue=(ft=(St=document.getElementById(et))==null?void 0:St.textContent)==null?void 0:ft.toLowerCase()},[ct,et]),s(()=>(He({type:5,id:et,dataRef:ct}),()=>He({type:6,id:et})),[ct,et]);let Pt=Object(e.useCallback)(St=>{if(ce)return St.preventDefault();if(He({type:1}),o().nextFrame(()=>{var ft;return(ft=Te.buttonRef.current)==null?void 0:ft.focus({preventScroll:!0})}),me)return me(St)},[He,Te.buttonRef,ce,me]),At=Object(e.useCallback)(()=>{if(ce)return He({type:2,focus:5});He({type:2,focus:4,id:et})},[ce,et,He]),Yt=Object(e.useCallback)(()=>{ce||qe||He({type:2,focus:4,id:et})},[ce,qe,et,He]),Gt=Object(e.useCallback)(()=>{ce||!qe||He({type:2,focus:5})},[ce,qe,He]),nn=Object(e.useMemo)(()=>({active:qe,disabled:ce}),[qe,ce]);return n({props:{..._e,id:et,role:"menuitem",tabIndex:ce===!0?void 0:-1,"aria-disabled":ce===!0?!0:void 0,disabled:void 0,onClick:Pt,onFocus:At,onPointerMove:Yt,onMouseMove:Yt,onPointerLeave:Gt,onMouseLeave:Gt},slot:nn,defaultTag:Bt,name:"Menu.Item"})}Fe.Button=Vt,Fe.Items=qt,Fe.Item=dn;var Bn={[0]:ae=>({...ae,popoverState:a(ae.popoverState,{[0]:1,[1]:0})}),[1](ae){return ae.popoverState===1?ae:{...ae,popoverState:1}},[2](ae,ce){return ae.button===ce.button?ae:{...ae,button:ce.button}},[3](ae,ce){return ae.buttonId===ce.buttonId?ae:{...ae,buttonId:ce.buttonId}},[4](ae,ce){return ae.panel===ce.panel?ae:{...ae,panel:ce.panel}},[5](ae,ce){return ae.panelId===ce.panelId?ae:{...ae,panelId:ce.panelId}}},$n=Object(e.createContext)(null);$n.displayName="PopoverContext";function En(ae){let ce=Object(e.useContext)($n);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${lr.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,En),me}return ce}var On=Object(e.createContext)(null);On.displayName="PopoverAPIContext";function sr(ae){let ce=Object(e.useContext)(On);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${lr.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,sr),me}return ce}var Yn=Object(e.createContext)(null);Yn.displayName="PopoverGroupContext";function ar(){return Object(e.useContext)(Yn)}var er=Object(e.createContext)(null);er.displayName="PopoverPanelContext";function Dr(){return Object(e.useContext)(er)}function Tn(ae,ce){return a(ce.type,Bn,ae,ce)}var pr="div";function lr(ae){let ce=`headlessui-popover-button-${f()}`,me=`headlessui-popover-panel-${f()}`,_e=Object(e.useReducer)(Tn,{popoverState:1,button:null,buttonId:ce,panel:null,panelId:me}),[{popoverState:Te,button:He,panel:et},qe]=_e;Object(e.useEffect)(()=>qe({type:3,buttonId:ce}),[ce,qe]),Object(e.useEffect)(()=>qe({type:5,panelId:me}),[me,qe]);let ct=Object(e.useMemo)(()=>({buttonId:ce,panelId:me,close:()=>qe({type:1})}),[ce,me,qe]),Pt=ar(),At=Pt==null?void 0:Pt.registerPopover,Yt=Object(e.useCallback)(()=>{var ft;return(ft=Pt==null?void 0:Pt.isFocusWithinPopoverGroup())!=null?ft:(He==null?void 0:He.contains(document.activeElement))||(et==null?void 0:et.contains(document.activeElement))},[Pt,He,et]);Object(e.useEffect)(()=>At==null?void 0:At(ct),[At,ct]),k("focus",()=>{Te===0&&(Yt()||!He||!et||qe({type:1}))},!0),k("mousedown",ft=>{let kt=ft.target;Te===0&&((He==null?void 0:He.contains(kt))||(et==null?void 0:et.contains(kt))||(qe({type:1}),te(kt,1)||(ft.preventDefault(),He==null||He.focus())))});let Gt=Object(e.useCallback)(ft=>{qe({type:1});let kt=(()=>ft?ft instanceof HTMLElement?ft:ft.current instanceof HTMLElement?ft.current:He:He)();kt==null||kt.focus()},[qe,He]),nn=Object(e.useMemo)(()=>({close:Gt}),[Gt]),St=Object(e.useMemo)(()=>({open:Te===0,close:Gt}),[Te,Gt]);return e.default.createElement($n.Provider,{value:_e},e.default.createElement(On.Provider,{value:nn},e.default.createElement(g,{value:a(Te,{[0]:0,[1]:1})},n({props:ae,slot:St,defaultTag:pr,name:"Popover"}))))}var Rr="button",cr=v(function(ae,ce){let[me,_e]=En("Popover.Button"),Te=Object(e.useRef)(null),He=ar(),et=He==null?void 0:He.closeOthers,qe=Dr(),ct=qe===null?!1:qe===me.panelId,Pt=m(Te,ce,ct?null:tn=>_e({type:2,button:tn})),At=m(Te,ce),Yt=Object(e.useRef)(null),Gt=Object(e.useRef)(typeof window=="undefined"?null:document.activeElement);k("focus",()=>{Gt.current=Yt.current,Yt.current=document.activeElement},!0);let nn=Object(e.useCallback)(tn=>{var Pn,Sn;if(ct){if(me.popoverState===1)return;switch(tn.key){case" ":case"Enter":tn.preventDefault(),tn.stopPropagation(),_e({type:1}),(Pn=me.button)==null||Pn.focus();break}}else switch(tn.key){case" ":case"Enter":tn.preventDefault(),tn.stopPropagation(),me.popoverState===1&&(et==null||et(me.buttonId)),_e({type:0});break;case"Escape":if(me.popoverState!==0)return et==null?void 0:et(me.buttonId);if(!Te.current||!Te.current.contains(document.activeElement))return;tn.preventDefault(),tn.stopPropagation(),_e({type:1});break;case"Tab":if(me.popoverState!==0||!me.panel||!me.button)return;if(tn.shiftKey){if(!Gt.current||((Sn=me.button)==null?void 0:Sn.contains(Gt.current))||me.panel.contains(Gt.current))return;let zn=ee(),dr=zn.indexOf(Gt.current);if(zn.indexOf(me.button)>dr)return;tn.preventDefault(),tn.stopPropagation(),Q(me.panel,8)}else tn.preventDefault(),tn.stopPropagation(),Q(me.panel,1);break}},[_e,me.popoverState,me.buttonId,me.button,me.panel,Te,et,ct]),St=Object(e.useCallback)(tn=>{var Pn;if(!ct&&(tn.key===" "&&tn.preventDefault(),me.popoverState===0&&!!me.panel&&!!me.button))switch(tn.key){case"Tab":if(!Gt.current||((Pn=me.button)==null?void 0:Pn.contains(Gt.current))||me.panel.contains(Gt.current))return;let Sn=ee(),zn=Sn.indexOf(Gt.current);if(Sn.indexOf(me.button)>zn)return;tn.preventDefault(),tn.stopPropagation(),Q(me.panel,8);break}},[me.popoverState,me.panel,me.button,ct]),ft=Object(e.useCallback)(tn=>{var Pn,Sn;T(tn.currentTarget)||ae.disabled||(ct?(_e({type:1}),(Pn=me.button)==null||Pn.focus()):(me.popoverState===1&&(et==null||et(me.buttonId)),(Sn=me.button)==null||Sn.focus(),_e({type:0})))},[_e,me.button,me.popoverState,me.buttonId,ae.disabled,et,ct]),kt=Object(e.useMemo)(()=>({open:me.popoverState===0}),[me]),mn=R(ae,Te),Mn=ae,Xn=ct?{ref:At,type:mn,onKeyDown:nn,onClick:ft}:{ref:Pt,id:me.buttonId,type:mn,"aria-expanded":ae.disabled?void 0:me.popoverState===0,"aria-controls":me.panel?me.panelId:void 0,onKeyDown:nn,onKeyUp:St,onClick:ft};return n({props:{...Mn,...Xn},slot:kt,defaultTag:Rr,name:"Popover.Button"})}),Lr="div",Gn=1|2,An=v(function(ae,ce){let[{popoverState:me},_e]=En("Popover.Overlay"),Te=m(ce),He=`headlessui-popover-overlay-${f()}`,et=H(),qe=(()=>et!==null?et===0:me===0)(),ct=Object(e.useCallback)(At=>{if(T(At.currentTarget))return At.preventDefault();_e({type:1})},[_e]),Pt=Object(e.useMemo)(()=>({open:me===0}),[me]);return n({props:{...ae,ref:Te,id:He,"aria-hidden":!0,onClick:ct},slot:Pt,defaultTag:Lr,features:Gn,visible:qe,name:"Popover.Overlay"})}),mr="div",tr=1|2,gr=v(function(ae,ce){let{focus:me=!1,..._e}=ae,[Te,He]=En("Popover.Panel"),{close:et}=sr("Popover.Panel"),qe=Object(e.useRef)(null),ct=m(qe,ce,St=>{He({type:4,panel:St})}),Pt=H(),At=(()=>Pt!==null?Pt===0:Te.popoverState===0)(),Yt=Object(e.useCallback)(St=>{var ft;switch(St.key){case"Escape":if(Te.popoverState!==0||!qe.current||!qe.current.contains(document.activeElement))return;St.preventDefault(),St.stopPropagation(),He({type:1}),(ft=Te.button)==null||ft.focus();break}},[Te,qe,He]);Object(e.useEffect)(()=>()=>He({type:4,panel:null}),[He]),Object(e.useEffect)(()=>{var St;ae.static||Te.popoverState===1&&((St=ae.unmount)!=null?St:!0)&&He({type:4,panel:null})},[Te.popoverState,ae.unmount,ae.static,He]),Object(e.useEffect)(()=>{if(!me||Te.popoverState!==0||!qe.current)return;let St=document.activeElement;qe.current.contains(St)||Q(qe.current,1)},[me,qe,Te.popoverState]),k("keydown",St=>{var ft;if(Te.popoverState!==0||!qe.current||St.key!=="Tab"||!document.activeElement||!qe.current||!qe.current.contains(document.activeElement))return;St.preventDefault();let kt=Q(qe.current,St.shiftKey?2:4);if(kt===3)return(ft=Te.button)==null?void 0:ft.focus();if(kt===1){if(!Te.button)return;let mn=ee(),Mn=mn.indexOf(Te.button),Xn=mn.splice(Mn+1).filter(tn=>{var Pn;return!((Pn=qe.current)==null?void 0:Pn.contains(tn))});Q(Xn,1)===0&&Q(document.body,1)}}),k("focus",()=>{var St;!me||Te.popoverState===0&&(!qe.current||((St=qe.current)==null?void 0:St.contains(document.activeElement))||He({type:1}))},!0);let Gt=Object(e.useMemo)(()=>({open:Te.popoverState===0,close:et}),[Te,et]),nn={ref:ct,id:Te.panelId,onKeyDown:Yt};return e.default.createElement(er.Provider,{value:Te.panelId},n({props:{..._e,...nn},slot:Gt,defaultTag:mr,features:tr,visible:At,name:"Popover.Panel"}))}),Vr="div";function co(ae){let ce=Object(e.useRef)(null),[me,_e]=Object(e.useState)([]),Te=Object(e.useCallback)(Gt=>{_e(nn=>{let St=nn.indexOf(Gt);if(St!==-1){let ft=nn.slice();return ft.splice(St,1),ft}return nn})},[_e]),He=Object(e.useCallback)(Gt=>(_e(nn=>[...nn,Gt]),()=>Te(Gt)),[_e,Te]),et=Object(e.useCallback)(()=>{var Gt;let nn=document.activeElement;return((Gt=ce.current)==null?void 0:Gt.contains(nn))?!0:me.some(St=>{var ft,kt;return((ft=document.getElementById(St.buttonId))==null?void 0:ft.contains(nn))||((kt=document.getElementById(St.panelId))==null?void 0:kt.contains(nn))})},[ce,me]),qe=Object(e.useCallback)(Gt=>{for(let nn of me)nn.buttonId!==Gt&&nn.close()},[me]),ct=Object(e.useMemo)(()=>({registerPopover:He,unregisterPopover:Te,isFocusWithinPopoverGroup:et,closeOthers:qe}),[He,Te,et,qe]),Pt=Object(e.useMemo)(()=>({}),[]),At={ref:ce},Yt=ae;return e.default.createElement(Yn.Provider,{value:ct},n({props:{...Yt,...At},slot:Pt,defaultTag:Vr,name:"Popover.Group"}))}lr.Button=cr,lr.Overlay=An,lr.Panel=gr,lr.Group=co;function zr(ae=0){let[ce,me]=Object(e.useState)(ae),_e=Object(e.useCallback)(qe=>me(ct=>ct|qe),[me]),Te=Object(e.useCallback)(qe=>Boolean(ce&qe),[ce]),He=Object(e.useCallback)(qe=>me(ct=>ct&~qe),[me]),et=Object(e.useCallback)(qe=>me(ct=>ct^qe),[me]);return{addFlag:_e,hasFlag:Te,removeFlag:He,toggleFlag:et}}var Nr=Object(e.createContext)(null);function Qn(){let ae=Object(e.useContext)(Nr);if(ae===null){let ce=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ce,Qn),ce}return ae}function xr(){let[ae,ce]=Object(e.useState)([]);return[ae.length>0?ae.join(" "):void 0,Object(e.useMemo)(()=>function(me){let _e=Object(e.useCallback)(He=>(ce(et=>[...et,He]),()=>ce(et=>{let qe=et.slice(),ct=qe.indexOf(He);return ct!==-1&&qe.splice(ct,1),qe})),[]),Te=Object(e.useMemo)(()=>({register:_e,slot:me.slot,name:me.name,props:me.props}),[_e,me.slot,me.name,me.props]);return e.default.createElement(Nr.Provider,{value:Te},me.children)},[ce])]}var uo="label";function fo(ae){let{passive:ce=!1,...me}=ae,_e=Qn(),Te=`headlessui-label-${f()}`;s(()=>_e.register(Te),[Te,_e.register]);let He={..._e.props,id:Te},et={...me,...He};return ce&&delete et.onClick,n({props:et,slot:_e.slot||{},defaultTag:uo,name:_e.name||"Label"})}var Jr={[0](ae,ce){return{...ae,options:[...ae.options,{id:ce.id,element:ce.element,propsRef:ce.propsRef}]}},[1](ae,ce){let me=ae.options.slice(),_e=ae.options.findIndex(Te=>Te.id===ce.id);return _e===-1?ae:(me.splice(_e,1),{...ae,options:me})}},qr=Object(e.createContext)(null);qr.displayName="RadioGroupContext";function ho(ae){let ce=Object(e.useContext)(qr);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <${eo.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,ho),me}return ce}function So(ae,ce){return a(ce.type,Jr,ae,ce)}var ro="div";function eo(ae){let{value:ce,onChange:me,disabled:_e=!1,...Te}=ae,[{options:He},et]=Object(e.useReducer)(So,{options:[]}),[qe,ct]=xr(),[Pt,At]=Se(),Yt=`headlessui-radiogroup-${f()}`,Gt=Object(e.useRef)(null),nn=Object(e.useMemo)(()=>He.find(tn=>!tn.propsRef.current.disabled),[He]),St=Object(e.useMemo)(()=>He.some(tn=>tn.propsRef.current.value===ce),[He,ce]),ft=Object(e.useCallback)(tn=>{var Pn;if(_e||tn===ce)return!1;let Sn=(Pn=He.find(zn=>zn.propsRef.current.value===tn))==null?void 0:Pn.propsRef.current;return(Sn==null?void 0:Sn.disabled)?!1:(me(tn),!0)},[me,ce,_e,He]);D({container:Gt.current,accept(tn){return tn.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:tn.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(tn){tn.setAttribute("role","none")}});let kt=Object(e.useCallback)(tn=>{if(!Gt.current)return;let Pn=He.filter(Sn=>Sn.propsRef.current.disabled===!1).map(Sn=>Sn.element.current);switch(tn.key){case"ArrowLeft":case"ArrowUp":if(tn.preventDefault(),tn.stopPropagation(),Q(Pn,2|16)===2){let Sn=He.find(zn=>zn.element.current===document.activeElement);Sn&&ft(Sn.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(tn.preventDefault(),tn.stopPropagation(),Q(Pn,4|16)===2){let Sn=He.find(zn=>zn.element.current===document.activeElement);Sn&&ft(Sn.propsRef.current.value)}break;case" ":{tn.preventDefault(),tn.stopPropagation();let Sn=He.find(zn=>zn.element.current===document.activeElement);Sn&&ft(Sn.propsRef.current.value)}break}},[Gt,He,ft]),mn=Object(e.useCallback)(tn=>(et({type:0,...tn}),()=>et({type:1,id:tn.id})),[et]),Mn=Object(e.useMemo)(()=>({registerOption:mn,firstOption:nn,containsCheckedOption:St,change:ft,disabled:_e,value:ce}),[mn,nn,St,ft,_e,ce]),Xn={ref:Gt,id:Yt,role:"radiogroup","aria-labelledby":qe,"aria-describedby":Pt,onKeyDown:kt};return e.default.createElement(At,{name:"RadioGroup.Description"},e.default.createElement(ct,{name:"RadioGroup.Label"},e.default.createElement(qr.Provider,{value:Mn},n({props:{...Te,...Xn},defaultTag:ro,name:"RadioGroup"}))))}var vo="div";function to(ae){let ce=Object(e.useRef)(null),me=`headlessui-radiogroup-option-${f()}`,[_e,Te]=xr(),[He,et]=Se(),{addFlag:qe,removeFlag:ct,hasFlag:Pt}=zr(1),{value:At,disabled:Yt=!1,...Gt}=ae,nn=Object(e.useRef)({value:At,disabled:Yt});s(()=>{nn.current.value=At},[At,nn]),s(()=>{nn.current.disabled=Yt},[Yt,nn]);let{registerOption:St,disabled:ft,change:kt,firstOption:mn,containsCheckedOption:Mn,value:Xn}=ho("RadioGroup.Option");s(()=>St({id:me,element:ce,propsRef:nn}),[me,St,ce,ae]);let tn=Object(e.useCallback)(()=>{var oo;!kt(At)||(qe(2),(oo=ce.current)==null||oo.focus())},[qe,kt,At]),Pn=Object(e.useCallback)(()=>qe(2),[qe]),Sn=Object(e.useCallback)(()=>ct(2),[ct]),zn=(mn==null?void 0:mn.id)===me,dr=ft||Yt,Br=Xn===At,$r={ref:ce,id:me,role:"radio","aria-checked":Br?"true":"false","aria-labelledby":_e,"aria-describedby":He,"aria-disabled":dr?!0:void 0,tabIndex:(()=>dr?-1:Br||!Mn&&zn?0:-1)(),onClick:dr?void 0:tn,onFocus:dr?void 0:Pn,onBlur:dr?void 0:Sn},Hr=Object(e.useMemo)(()=>({checked:Br,disabled:dr,active:Pt(2)}),[Br,dr,Pt]);return e.default.createElement(et,{name:"RadioGroup.Description"},e.default.createElement(Te,{name:"RadioGroup.Label"},n({props:{...Gt,...$r},slot:Hr,defaultTag:vo,name:"RadioGroup.Option"})))}eo.Option=to,eo.Label=fo,eo.Description=tt;var Ue=Object(e.createContext)(null);Ue.displayName="GroupContext";var Be=e.Fragment;function xe(ae){let[ce,me]=Object(e.useState)(null),[_e,Te]=xr(),[He,et]=Se(),qe=Object(e.useMemo)(()=>({switch:ce,setSwitch:me,labelledby:_e,describedby:He}),[ce,me,_e,He]);return e.default.createElement(et,{name:"Switch.Description"},e.default.createElement(Te,{name:"Switch.Label",props:{onClick(){!ce||(ce.click(),ce.focus({preventScroll:!0}))}}},e.default.createElement(Ue.Provider,{value:qe},n({props:ae,defaultTag:Be,name:"Switch.Group"}))))}var Ot="button";function ut(ae){let{checked:ce,onChange:me,..._e}=ae,Te=`headlessui-switch-${f()}`,He=Object(e.useContext)(Ue),et=Object(e.useRef)(null),qe=m(et,He===null?null:He.setSwitch),ct=Object(e.useCallback)(()=>me(!ce),[me,ce]),Pt=Object(e.useCallback)(St=>{if(T(St.currentTarget))return St.preventDefault();St.preventDefault(),ct()},[ct]),At=Object(e.useCallback)(St=>{St.key!=="Tab"&&St.preventDefault(),St.key===" "&&ct()},[ct]),Yt=Object(e.useCallback)(St=>St.preventDefault(),[]),Gt=Object(e.useMemo)(()=>({checked:ce}),[ce]),nn={id:Te,ref:qe,role:"switch",type:R(ae,et),tabIndex:0,"aria-checked":ce,"aria-labelledby":He==null?void 0:He.labelledby,"aria-describedby":He==null?void 0:He.describedby,onClick:Pt,onKeyUp:At,onKeyPress:Yt};return n({props:{..._e,...nn},slot:Gt,defaultTag:Ot,name:"Switch"})}ut.Group=xe,ut.Label=fo,ut.Description=tt;var Zt={[0](ae,ce){return ae.selectedIndex===ce.index?ae:{...ae,selectedIndex:ce.index}},[1](ae,ce){return ae.orientation===ce.orientation?ae:{...ae,orientation:ce.orientation}},[2](ae,ce){return ae.activation===ce.activation?ae:{...ae,activation:ce.activation}},[3](ae,ce){return ae.tabs.includes(ce.tab)?ae:{...ae,tabs:[...ae.tabs,ce.tab]}},[4](ae,ce){return{...ae,tabs:ae.tabs.filter(me=>me!==ce.tab)}},[5](ae,ce){return ae.panels.includes(ce.panel)?ae:{...ae,panels:[...ae.panels,ce.panel]}},[6](ae,ce){return{...ae,panels:ae.panels.filter(me=>me!==ce.panel)}},[7](ae){return{...ae}}},$t=Object(e.createContext)(null);$t.displayName="TabsContext";function en(ae){let ce=Object(e.useContext)($t);if(ce===null){let me=new Error(`<${ae} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(me,en),me}return ce}function Ft(ae,ce){return a(ce.type,Zt,ae,ce)}var ln=e.Fragment;function _n(ae){let{defaultIndex:ce=0,vertical:me=!1,manual:_e=!1,onChange:Te,selectedIndex:He=null,...et}=ae,qe=me?"vertical":"horizontal",ct=_e?"manual":"auto",[Pt,At]=Object(e.useReducer)(Ft,{selectedIndex:null,tabs:[],panels:[],orientation:qe,activation:ct}),Yt=Object(e.useMemo)(()=>({selectedIndex:Pt.selectedIndex}),[Pt.selectedIndex]),Gt=Object(e.useRef)(()=>{});Object(e.useEffect)(()=>{At({type:1,orientation:qe})},[qe]),Object(e.useEffect)(()=>{At({type:2,activation:ct})},[ct]),Object(e.useEffect)(()=>{typeof Te=="function"&&(Gt.current=Te)},[Te]),Object(e.useEffect)(()=>{if(Pt.tabs.length<=0||He===null&&Pt.selectedIndex!==null)return;let ft=Pt.tabs.map(Mn=>Mn.current).filter(Boolean),kt=ft.filter(Mn=>!Mn.hasAttribute("disabled")),mn=He??ce;if(mn<0)At({type:0,index:ft.indexOf(kt[0])});else if(mn>Pt.tabs.length)At({type:0,index:ft.indexOf(kt[kt.length-1])});else{let Mn=ft.slice(0,mn),Xn=[...ft.slice(mn),...Mn].find(tn=>kt.includes(tn));if(!Xn)return;At({type:0,index:ft.indexOf(Xn)})}},[ce,He,Pt.tabs,Pt.selectedIndex]);let nn=Object(e.useRef)(Pt.selectedIndex);Object(e.useEffect)(()=>{nn.current=Pt.selectedIndex},[Pt.selectedIndex]);let St=Object(e.useMemo)(()=>[Pt,{dispatch:At,change(ft){nn.current!==ft&&Gt.current(ft),nn.current=ft,At({type:0,index:ft})}}],[Pt,At]);return e.default.createElement($t.Provider,{value:St},n({props:{...et},slot:Yt,defaultTag:ln,name:"Tabs"}))}var xn="div";function In(ae){let[{selectedIndex:ce,orientation:me}]=en("Tab.List"),_e={selectedIndex:ce};return n({props:{...ae,role:"tablist","aria-orientation":me},slot:_e,defaultTag:xn,name:"Tabs.List"})}var Fn="button";function Wn(ae){var ce,me;let _e=`headlessui-tabs-tab-${f()}`,[{selectedIndex:Te,tabs:He,panels:et,orientation:qe,activation:ct},{dispatch:Pt,change:At}]=en(Wn.name),Yt=Object(e.useRef)(null),Gt=m(Yt,tn=>{!tn||Pt({type:7})});s(()=>(Pt({type:3,tab:Yt}),()=>Pt({type:4,tab:Yt})),[Pt,Yt]);let nn=He.indexOf(Yt),St=nn===Te,ft=Object(e.useCallback)(tn=>{let Pn=He.map(Sn=>Sn.current).filter(Boolean);if(tn.key===" "||tn.key==="Enter"){tn.preventDefault(),tn.stopPropagation(),At(nn);return}switch(tn.key){case"Home":case"PageUp":return tn.preventDefault(),tn.stopPropagation(),Q(Pn,1);case"End":case"PageDown":return tn.preventDefault(),tn.stopPropagation(),Q(Pn,8)}return a(qe,{vertical(){if(tn.key==="ArrowUp")return Q(Pn,2|16);if(tn.key==="ArrowDown")return Q(Pn,4|16)},horizontal(){if(tn.key==="ArrowLeft")return Q(Pn,2|16);if(tn.key==="ArrowRight")return Q(Pn,4|16)}})},[He,qe,nn,At]),kt=Object(e.useCallback)(()=>{var tn;(tn=Yt.current)==null||tn.focus()},[Yt]),mn=Object(e.useCallback)(()=>{var tn;(tn=Yt.current)==null||tn.focus(),At(nn)},[At,nn,Yt]),Mn=Object(e.useMemo)(()=>({selected:St}),[St]),Xn={ref:Gt,onKeyDown:ft,onFocus:ct==="manual"?kt:mn,onClick:mn,id:_e,role:"tab",type:R(ae,Yt),"aria-controls":(me=(ce=et[nn])==null?void 0:ce.current)==null?void 0:me.id,"aria-selected":St,tabIndex:St?0:-1};return n({props:{...ae,...Xn},slot:Mn,defaultTag:Fn,name:"Tabs.Tab"})}var bn="div";function kn(ae){let[{selectedIndex:ce}]=en("Tab.Panels"),me=Object(e.useMemo)(()=>({selectedIndex:ce}),[ce]);return n({props:ae,slot:me,defaultTag:bn,name:"Tabs.Panels"})}var qn="div",rr=1|2;function Zn(ae){var ce,me;let[{selectedIndex:_e,tabs:Te,panels:He},{dispatch:et}]=en("Tab.Panel"),qe=`headlessui-tabs-panel-${f()}`,ct=Object(e.useRef)(null),Pt=m(ct,St=>{!St||et({type:7})});s(()=>(et({type:5,panel:ct}),()=>et({type:6,panel:ct})),[et,ct]);let At=He.indexOf(ct),Yt=At===_e,Gt=Object(e.useMemo)(()=>({selected:Yt}),[Yt]),nn={ref:Pt,id:qe,role:"tabpanel","aria-labelledby":(me=(ce=Te[At])==null?void 0:ce.current)==null?void 0:me.id,tabIndex:Yt?0:-1};return n({props:{...ae,...nn},slot:Gt,defaultTag:qn,features:rr,visible:Yt,name:"Tabs.Panel"})}Wn.Group=_n,Wn.List=In,Wn.Panels=kn,Wn.Panel=Zn;function Dn(){let ae=Object(e.useRef)(!0);return Object(e.useEffect)(()=>{ae.current=!1},[]),ae.current}function Vn(ae){let ce={called:!1};return(...me)=>{if(!ce.called)return ce.called=!0,ae(...me)}}function fr(ae,...ce){ae&&ce.length>0&&ae.classList.add(...ce)}function hr(ae,...ce){ae&&ce.length>0&&ae.classList.remove(...ce)}function wr(ae,ce){let me=o();if(!ae)return me.dispose;let{transitionDuration:_e,transitionDelay:Te}=getComputedStyle(ae),[He,et]=[_e,Te].map(qe=>{let[ct=0]=qe.split(",").filter(Boolean).map(Pt=>Pt.includes("ms")?parseFloat(Pt):parseFloat(Pt)*1e3).sort((Pt,At)=>At-Pt);return ct});return He!==0?me.setTimeout(()=>{ce("finished")},He+et):ce("finished"),me.add(()=>ce("cancelled")),me.dispose}function Ur(ae,ce,me,_e,Te,He){let et=o(),qe=He!==void 0?Vn(He):()=>{};return hr(ae,...Te),fr(ae,...ce,...me),et.nextFrame(()=>{hr(ae,...me),fr(ae,..._e),et.add(wr(ae,ct=>(hr(ae,..._e,...ce),fr(ae,...Te),qe(ct))))}),et.add(()=>hr(ae,...ce,...me,..._e,...Te)),et.add(()=>qe("cancelled")),et.dispose}function yr(ae=""){return Object(e.useMemo)(()=>ae.split(" ").filter(ce=>ce.trim().length>1),[ae])}var Un=Object(e.createContext)(null);Un.displayName="TransitionContext";function ur(){let ae=Object(e.useContext)(Un);if(ae===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ae}function Er(){let ae=Object(e.useContext)(Mr);if(ae===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ae}var Mr=Object(e.createContext)(null);Mr.displayName="NestingContext";function Kr(ae){return"children"in ae?Kr(ae.children):ae.current.filter(({state:ce})=>ce==="visible").length>0}function Yr(ae){let ce=Object(e.useRef)(ae),me=Object(e.useRef)([]),_e=z();Object(e.useEffect)(()=>{ce.current=ae},[ae]);let Te=Object(e.useCallback)((et,qe=1)=>{var ct;let Pt=me.current.findIndex(({id:At})=>At===et);Pt!==-1&&(a(qe,{[0](){me.current.splice(Pt,1)},[1](){me.current[Pt].state="hidden"}}),!Kr(me)&&_e.current&&((ct=ce.current)==null||ct.call(ce)))},[ce,_e,me]),He=Object(e.useCallback)(et=>{let qe=me.current.find(({id:ct})=>ct===et);return qe?qe.state!=="visible"&&(qe.state="visible"):me.current.push({id:et,state:"visible"}),()=>Te(et,0)},[me,Te]);return Object(e.useMemo)(()=>({children:me,register:He,unregister:Te}),[He,Te,me])}function Tr(){}var Fr=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Qr(ae){var ce;let me={};for(let _e of Fr)me[_e]=(ce=ae[_e])!=null?ce:Tr;return me}function go(ae){let ce=Object(e.useRef)(Qr(ae));return Object(e.useEffect)(()=>{ce.current=Qr(ae)},[ae]),ce}var po="div",yo=1;function Zr(ae){let{beforeEnter:ce,afterEnter:me,beforeLeave:_e,afterLeave:Te,enter:He,enterFrom:et,enterTo:qe,entered:ct,leave:Pt,leaveFrom:At,leaveTo:Yt,...Gt}=ae,nn=Object(e.useRef)(null),[St,ft]=Object(e.useState)("visible"),kt=Gt.unmount?0:1,{show:mn,appear:Mn,initial:Xn}=ur(),{register:tn,unregister:Pn}=Er(),Sn=f(),zn=Object(e.useRef)(!1),dr=Yr(()=>{zn.current||(ft("hidden"),Pn(Sn),Sr.current.afterLeave())});s(()=>{if(Sn)return tn(Sn)},[tn,Sn]),s(()=>{if(kt===1&&!!Sn){if(mn&&St!=="visible"){ft("visible");return}a(St,{hidden:()=>Pn(Sn),visible:()=>tn(Sn)})}},[St,Sn,tn,Pn,mn,kt]);let Br=yr(He),$r=yr(et),Hr=yr(qe),oo=yr(ct),wo=yr(Pt),jr=yr(At),Gr=yr(Yt),Sr=go({beforeEnter:ce,afterEnter:me,beforeLeave:_e,afterLeave:Te}),Po=c();Object(e.useEffect)(()=>{if(Po&&St==="visible"&&nn.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[nn,St,Po]);let Ro=Xn&&!Mn;s(()=>{let Lo=nn.current;if(!!Lo&&!Ro)return zn.current=!0,mn&&Sr.current.beforeEnter(),mn||Sr.current.beforeLeave(),mn?Ur(Lo,Br,$r,Hr,oo,No=>{zn.current=!1,No==="finished"&&Sr.current.afterEnter()}):Ur(Lo,wo,jr,Gr,oo,No=>{zn.current=!1,No==="finished"&&(Kr(dr)||(ft("hidden"),Pn(Sn),Sr.current.afterLeave()))})},[Sr,Sn,zn,Pn,dr,nn,Ro,mn,Br,$r,Hr,wo,jr,Gr]);let aa={ref:nn},ia=Gt;return e.default.createElement(Mr.Provider,{value:dr},e.default.createElement(g,{value:a(St,{visible:0,hidden:1})},n({props:{...ia,...aa},defaultTag:po,features:yo,visible:St==="visible",name:"Transition.Child"})))}function Ar(ae){let{show:ce,appear:me=!1,unmount:_e,...Te}=ae,He=H();if(ce===void 0&&He!==null&&(ce=a(He,{[0]:!0,[1]:!1})),![!0,!1].includes(ce))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[et,qe]=Object(e.useState)(ce?"visible":"hidden"),ct=Yr(()=>{qe("hidden")}),Pt=Dn(),At=Object(e.useMemo)(()=>({show:ce,appear:me||!Pt,initial:Pt}),[ce,me,Pt]);Object(e.useEffect)(()=>{ce?qe("visible"):Kr(ct)||qe("hidden")},[ce,ct]);let Yt={unmount:_e};return e.default.createElement(Mr.Provider,{value:ct},e.default.createElement(Un.Provider,{value:At},n({props:{...Yt,as:e.Fragment,children:e.default.createElement(Zr,{...Yt,...Te})},defaultTag:e.Fragment,features:yo,visible:et==="visible",name:"Transition"})))}Ar.Child=function(ae){let ce=Object(e.useContext)(Un)!==null,me=H()!==null;return!ce&&me?e.default.createElement(Ar,{...ae}):e.default.createElement(Zr,{...ae})},Ar.Root=Ar},function(S,i,t){"use strict";t.d(i,"c",function(){return $}),t.d(i,"a",function(){return H}),t.d(i,"b",function(){return U});var e=t(0),o=t(7),l=t(3),s=t(8),h=t(5),c=t(110),d=t(127),p=t(62),f=t(171),O=t(284),b=t(200),m=t(2),a=({root:L=null,threshold:j=0,rootMargin:B}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[x,P]=Object(m.k)({}),[y,A]=Object(m.k)(null),K=Object(m.j)(new IntersectionObserver(([N])=>P(N),{root:L,threshold:j,rootMargin:B}));return Object(m.d)(()=>{const{current:N}=K;return N.disconnect(),(y==null?void 0:y.base)&&N.observe(y.base),()=>N.disconnect()},[y]),[A,x]},n=t(120),r=t(6),u=t.n(r),v=Object.defineProperty,E=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(L,j,B)=>j in L?v(L,j,{enumerable:!0,configurable:!0,writable:!0,value:B}):L[j]=B,T=(L,j)=>{for(var B in j||(j={}))w.call(j,B)&&_(L,B,j[B]);if(E)for(var B of E(j))C.call(j,B)&&_(L,B,j[B]);return L},W=(L,j,B)=>(_(L,typeof j!="symbol"?j+"":j,B),B);const k=33;class $ extends e.Component{constructor(){super(...arguments);W(this,"onClick",j=>{if(this.props.onClick)this.props.onClick(j);else if(this.props.modalProfile)j.preventDefault(),j.stopPropagation(),this.profileShown||(this.profileShown=!0,Object(h.i)(h.a.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(j){return j?j.author_id?{id:j.author_id,name:j.author_name,photo_url:Object(l.getUserPhotoUrl)(j,{preferAuthorPhoto:!0}),publications:j.subdomain?[j]:[]}:j.user_id?{id:j.user_id,name:j.name,photo_url:Object(l.getUserPhotoUrl)(j),publications:[]}:{id:j.id,name:j.name,photo_url:Object(l.getUserPhotoUrl)(j),publications:[]}:{id:null,name:null,photo_url:l.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(j){return!!$.getSubject(j).photo_url}isSelf(){return this.props.user&&this.props.user.id===$.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?Object(l.getProfileUrl)($.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):Object(l.getReaderProfileUrl)($.getSubject(this.props.subject))}openProfile(j){this.onClick(j)===!1&&Object(s.redirect)(this.profileUrl(),{event:j})}onBeforeProfileClose(j){if(!!j)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:j,pub:B,user:x,badge:P,freeSignup:y,freeSignupEmail:A,token:K,isStatic:N,size:Y,modalProfile:F,isBanned:G,lazy:X,tooltip:q}){Y=Y||k;const se=$.getSubject(j);return Object(e.h)("div",{className:`user-head ${G?"banned":""}`},Object(e.h)("a",{href:N||!F?this.profileUrl():null,onClick:this.onClick},Object(e.h)(H,{photo_url:se.photo_url,size:Y,isStatic:N,isBanned:G,lazy:X,badge:P,tooltip:q})),this.props.modalProfile&&!N&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?Object(e.h)(c.c,{ref:ie=>this.profile=ie,user:x,freeSignup:y,freeSignupEmail:A,needsPhoto:!0,token:K,onBeforeClose:ie=>this.onBeforeProfileClose(ie)}):Object(e.h)(d.a,{ref:ie=>this.profile=ie,profileUser:se,pub:B,isBanned:G})))}}const H=({photo_url:L,size:j,isStatic:B,isBanned:x,lazy:P,badge:y,tooltip:A,style:K,children:N,className:Y})=>{const F=!L&&!!N,G={founding:b.default,author:O.default}[y];return Object(e.h)("div",{className:u()("profile-img-wrap",Y)},F?N:P?Object(e.h)(M,T({},{photo_url:L,size:j,isStatic:B,badge:y,style:K})):Object(e.h)(R,T({},{photo_url:L,size:j,isStatic:B,badge:y,style:K})),G&&Object(e.h)("div",{className:"profile-img-badge",title:A},Object(e.h)(G,{height:14,width:14,stroke:"var(--print_on_pop)",title:A})),x&&Object(e.h)(f.default,null))},g=(L,j)=>Object(o.cloudinary)(L,j*2,{height:j*2,crop:"fill"}),M=({photo_url:L,size:j,isStatic:B,badge:x,style:P})=>{const[y,A]=a({}),K=!A||A.isIntersecting?L:l.DEFAULT_PHOTO_URL;return Object(e.h)(D,{url:g(K,j),size:j,ref:y,badge:x,isStatic:B,style:P})},R=({photo_url:L,size:j,isStatic:B,badge:x,style:P})=>Object(e.h)(D,{url:g(L,j),size:j,badge:x,isStatic:B,style:P}),D=({url:L,size:j,isStatic:B,ref:x,badge:P,className:y})=>B?Object(e.h)(n.a,{className:y,src:Object(o.cloudinary)(L,j*2,{height:j*2,crop:"fill"}),ref:x,height:j,width:j,alt:P||""}):Object(e.h)(p.a,{className:y,src:L,imageProps:{height:j*2,crop:"fill"},maxWidth:j*2,ref:x,alt:P||""}),U=({imageUrl:L,alt:j,size:B,className:x})=>Object(e.h)(D,{className:`user-photo ${x||""}`,url:L,badge:j,size:B})},function(S,i,t){"use strict";t.d(i,"a",function(){return f}),t.d(i,"c",function(){return O}),t.d(i,"b",function(){return b});var e=t(0),o=t(2),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(m,a,n)=>a in m?l(m,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[a]=n,p=(m,a)=>{for(var n in a||(a={}))h.call(a,n)&&d(m,n,a[n]);if(s)for(var n of s(a))c.call(a,n)&&d(m,n,a[n]);return m};const f=Object(e.createContext)({publication:{},pub:{},setPublication:({pub:m,publication:a})=>{}});f.displayName="PublishContext";const O=m=>{const a=n=>{const r=b();return Object(e.h)(m,p(p({},r),n))};return a.displayName=`withPublishContext(${m.name||m.displayName||"Anonymous"})`,a},b=()=>Object(o.b)(f)},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(49),s=t.n(l),h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(u,v,E)=>v in u?h(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,m=(u,v)=>{for(var E in v||(v={}))f.call(v,E)&&b(u,E,v[E]);if(p)for(var E of p(v))O.call(v,E)&&b(u,E,v[E]);return u},a=(u,v)=>c(u,d(v)),n=(u,v)=>{var E={};for(var w in u)f.call(u,w)&&v.indexOf(w)<0&&(E[w]=u[w]);if(u!=null&&p)for(var w of p(u))v.indexOf(w)<0&&O.call(u,w)&&(E[w]=u[w]);return E};const r=u=>{var v=u,{color:E=l.substack_color,width:w=21,height:C=24}=v,_=n(v,["color","width","height"]);return Object(e.h)(o.a,a(m({},_),{name:"SubstackIconNoPadding",svgParams:{height:C,width:w,fill:E,stroke:"none"}}),Object(e.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),Object(e.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),Object(e.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))};i.default=r},function(S,i,t){(function(e,o){S.exports=o(t(1))})(typeof self!="undefined"?self:this,function(e){return function(o){function l(h){if(s[h])return s[h].exports;var c=s[h]={i:h,l:!1,exports:{}};return o[h].call(c.exports,c,c.exports,l),c.l=!0,c.exports}var s={};return l.m=o,l.c=s,l.d=function(h,c,d){l.o(h,c)||Object.defineProperty(h,c,{configurable:!1,enumerable:!0,get:d})},l.n=function(h){var c=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(c,"a",c),c},l.o=function(h,c){return Object.prototype.hasOwnProperty.call(h,c)},l.p="",l(l.s=7)}([function(o,l,s){"use strict";function h(M,R){return O(M)||f(M,R)||d(M,R)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(M,R){if(M){if(typeof M=="string")return p(M,R);var D=Object.prototype.toString.call(M).slice(8,-1);return D==="Object"&&M.constructor&&(D=M.constructor.name),D==="Map"||D==="Set"?Array.from(M):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?p(M,R):void 0}}function p(M,R){(R==null||R>M.length)&&(R=M.length);for(var D=0,U=new Array(R);D<R;D++)U[D]=M[D];return U}function f(M,R){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(M)){var D=[],U=!0,L=!1,j=void 0;try{for(var B,x=M[Symbol.iterator]();!(U=(B=x.next()).done)&&(D.push(B.value),!R||D.length!==R);U=!0);}catch(P){L=!0,j=P}finally{try{U||x.return==null||x.return()}finally{if(L)throw j}}return D}}function O(M){if(Array.isArray(M))return M}var b=s(1),m=s.n(b),a=s(8),n=s.n(a),r=s(2),u=s(10),v=s.n(u),E=s(3),w=s(6),C=function(M){return M.query||Object(E.a)(M)},_=function(M){if(!M)return null;var R=Object.keys(M);return R.length===0?null:R.reduce(function(D,U){return D[Object(r.a)(U)]=M[U],D},{})},T=function(){var M=m.a.useRef(!1);return m.a.useEffect(function(){M.current=!0},[]),M.current},W=function(M){var R=m.a.useContext(w.a),D=function(){return _(M)||_(R)},U=m.a.useState(D),L=h(U,2),j=L[0],B=L[1];return m.a.useEffect(function(){var x=D();v()(j,x)||B(x)},[M,R]),j},k=function(M){var R=function(){return C(M)},D=m.a.useState(R),U=h(D,2),L=U[0],j=U[1];return m.a.useEffect(function(){var B=R();L!==B&&j(B)},[M]),L},$=function(M,R){var D=function(){return n()(M,R||{},!!R)},U=m.a.useState(D),L=h(U,2),j=L[0],B=L[1],x=T();return m.a.useEffect(function(){return x&&B(D()),function(){j.dispose()}},[M,R]),j},H=function(M){var R=m.a.useState(M.matches),D=h(R,2),U=D[0],L=D[1];return m.a.useEffect(function(){var j=function(){L(M.matches)};return M.addListener(j),j(),function(){M.removeListener(j)}},[M]),U},g=function(M,R,D){var U=W(R),L=k(M);if(!L)throw new Error("Invalid or missing MediaQuery!");var j=$(L,U),B=H(j),x=T();return m.a.useEffect(function(){x&&D&&D(B)},[B]),B};l.a=g},function(o,l){o.exports=e},function(o,l,s){"use strict";function h(O){return"-"+O.toLowerCase()}function c(O){if(f.hasOwnProperty(O))return f[O];var b=O.replace(d,h);return f[O]=p.test(b)?"-"+b:b}var d=/[A-Z]/g,p=/^ms-/,f={};l.a=c},function(o,l,s){"use strict";var h=s(2),c=s(11),d=function(b){return"not ".concat(b)},p=function(b,m){var a=Object(h.a)(b);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?a:m===!1?d(a):"(".concat(a,": ").concat(m,")")},f=function(b){return b.join(" and ")},O=function(b){var m=[];return Object.keys(c.a.all).forEach(function(a){var n=b[a];n!=null&&m.push(p(a,n))}),f(m)};l.a=O},function(o,l,s){"use strict";o.exports=s(13)},function(o,l,s){"use strict";o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(o,l,s){"use strict";var h=s(1),c=s.n(h),d=c.a.createContext();l.a=d},function(o,l,s){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var h=s(0),c=s(17),d=s(3),p=s(6);s.d(l,"default",function(){return c.a}),s.d(l,"useMediaQuery",function(){return h.a}),s.d(l,"toQuery",function(){return d.a}),s.d(l,"Context",function(){return p.a})},function(o,l,s){"use strict";function h(f,O,b){function m(E){v&&v.addListener(E)}function a(E){v&&v.removeListener(E)}function n(E){u.matches=E.matches,u.media=E.media}function r(){v&&v.removeListener(n)}var u=this;if(p&&!b){var v=p.call(window,f);this.matches=v.matches,this.media=v.media,v.addListener(n)}else this.matches=d(f,O),this.media=f;this.addListener=m,this.removeListener=a,this.dispose=r}function c(f,O,b){return new h(f,O,b)}var d=s(9).match,p=typeof window!="undefined"?window.matchMedia:null;o.exports=c},function(o,l,s){"use strict";function h(r,u){return c(r).some(function(v){var E=v.inverse,w=v.type==="all"||u.type===v.type;if(w&&E||!w&&!E)return!1;var C=v.expressions.every(function(_){var T=_.feature,W=_.modifier,k=_.value,$=u[T];if(!$)return!1;switch(T){case"orientation":case"scan":return $.toLowerCase()===k.toLowerCase();case"width":case"height":case"device-width":case"device-height":k=f(k),$=f($);break;case"resolution":k=p(k),$=p($);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":k=d(k),$=d($);break;case"grid":case"color":case"color-index":case"monochrome":k=parseInt(k,10)||1,$=parseInt($,10)||0}switch(W){case"min":return $>=k;case"max":return $<=k;default:return $===k}});return C&&!E||!C&&E})}function c(r){return r.split(",").map(function(u){u=u.trim();var v=u.match(O),E=v[1],w=v[2],C=v[3]||"",_={};return _.inverse=!!E&&E.toLowerCase()==="not",_.type=w?w.toLowerCase():"all",C=C.match(/\([^\)]+\)/g)||[],_.expressions=C.map(function(T){var W=T.match(b),k=W[1].toLowerCase().match(m);return{modifier:k[1],feature:k[2],value:W[2]}}),_})}function d(r){var u,v=Number(r);return v||(u=r.match(/^(\d+)\s*\/\s*(\d+)$/),v=u[1]/u[2]),v}function p(r){var u=parseFloat(r);switch(String(r).match(n)[1]){case"dpcm":return u/2.54;case"dppx":return 96*u;default:return u}}function f(r){var u=parseFloat(r);switch(String(r).match(a)[1]){case"em":case"rem":return 16*u;case"cm":return 96*u/2.54;case"mm":return 96*u/2.54/10;case"in":return 96*u;case"pt":return 72*u;case"pc":return 72*u/12;default:return u}}l.match=h,l.parse=c;var O=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,b=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,n=/(dpi|dpcm|dppx)?$/},function(o,l,s){"use strict";function h(c,d){if(c===d)return!0;if(!c||!d)return!1;var p=Object.keys(c),f=Object.keys(d),O=p.length;if(f.length!==O)return!1;for(var b=0;b<O;b++){var m=p[b];if(c[m]!==d[m]||!Object.prototype.hasOwnProperty.call(d,m))return!1}return!0}o.exports=h},function(o,l,s){"use strict";function h(r,u){var v=Object.keys(r);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(r);u&&(E=E.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),v.push.apply(v,E)}return v}function c(r){for(var u=1;u<arguments.length;u++){var v=arguments[u]!=null?arguments[u]:{};u%2?h(Object(v),!0).forEach(function(E){d(r,E,v[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(v)):h(Object(v)).forEach(function(E){Object.defineProperty(r,E,Object.getOwnPropertyDescriptor(v,E))})}return r}function d(r,u,v){return u in r?Object.defineProperty(r,u,{value:v,enumerable:!0,configurable:!0,writable:!0}):r[u]=v,r}var p=s(12),f=s.n(p),O=f.a.oneOfType([f.a.string,f.a.number]),b={orientation:f.a.oneOf(["portrait","landscape"]),scan:f.a.oneOf(["progressive","interlace"]),aspectRatio:f.a.string,deviceAspectRatio:f.a.string,height:O,deviceHeight:O,width:O,deviceWidth:O,color:f.a.bool,colorIndex:f.a.bool,monochrome:f.a.bool,resolution:O},m=c({minAspectRatio:f.a.string,maxAspectRatio:f.a.string,minDeviceAspectRatio:f.a.string,maxDeviceAspectRatio:f.a.string,minHeight:O,maxHeight:O,minDeviceHeight:O,maxDeviceHeight:O,minWidth:O,maxWidth:O,minDeviceWidth:O,maxDeviceWidth:O,minColor:f.a.number,maxColor:f.a.number,minColorIndex:f.a.number,maxColorIndex:f.a.number,minMonochrome:f.a.number,maxMonochrome:f.a.number,minResolution:O,maxResolution:O},b),a={all:f.a.bool,grid:f.a.bool,aural:f.a.bool,braille:f.a.bool,handheld:f.a.bool,print:f.a.bool,projection:f.a.bool,screen:f.a.bool,tty:f.a.bool,tv:f.a.bool,embossed:f.a.bool},n=c(c({},a),m);b.type=Object.keys(a),l.a={all:n,types:a,matchers:b,features:m}},function(o,l,s){var h=s(4);o.exports=s(14)(h.isElement,!0)},function(o,l,s){"use strict";(function(){function h(te){return typeof te=="string"||typeof te=="function"||te===W||te===R||te===$||te===k||te===U||te===L||typeof te=="object"&&te!==null&&(te.$$typeof===B||te.$$typeof===j||te.$$typeof===H||te.$$typeof===g||te.$$typeof===D||te.$$typeof===P||te.$$typeof===y||te.$$typeof===A||te.$$typeof===x)}function c(te){if(typeof te=="object"&&te!==null){var le=te.$$typeof;switch(le){case _:var Q=te.type;switch(Q){case M:case R:case W:case $:case k:case U:return Q;default:var z=Q&&Q.$$typeof;switch(z){case g:case D:case B:case j:case H:return z;default:return le}}case T:return le}}}function d(te){return ee||(ee=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),p(te)||c(te)===M}function p(te){return c(te)===R}function f(te){return c(te)===g}function O(te){return c(te)===H}function b(te){return typeof te=="object"&&te!==null&&te.$$typeof===_}function m(te){return c(te)===D}function a(te){return c(te)===W}function n(te){return c(te)===B}function r(te){return c(te)===j}function u(te){return c(te)===T}function v(te){return c(te)===$}function E(te){return c(te)===k}function w(te){return c(te)===U}var C=typeof Symbol=="function"&&Symbol.for,_=C?Symbol.for("react.element"):60103,T=C?Symbol.for("react.portal"):60106,W=C?Symbol.for("react.fragment"):60107,k=C?Symbol.for("react.strict_mode"):60108,$=C?Symbol.for("react.profiler"):60114,H=C?Symbol.for("react.provider"):60109,g=C?Symbol.for("react.context"):60110,M=C?Symbol.for("react.async_mode"):60111,R=C?Symbol.for("react.concurrent_mode"):60111,D=C?Symbol.for("react.forward_ref"):60112,U=C?Symbol.for("react.suspense"):60113,L=C?Symbol.for("react.suspense_list"):60120,j=C?Symbol.for("react.memo"):60115,B=C?Symbol.for("react.lazy"):60116,x=C?Symbol.for("react.block"):60121,P=C?Symbol.for("react.fundamental"):60117,y=C?Symbol.for("react.responder"):60118,A=C?Symbol.for("react.scope"):60119,K=M,N=R,Y=g,F=H,G=_,X=D,q=W,se=B,ie=j,Ee=T,Ie=$,ge=k,oe=U,ee=!1;l.AsyncMode=K,l.ConcurrentMode=N,l.ContextConsumer=Y,l.ContextProvider=F,l.Element=G,l.ForwardRef=X,l.Fragment=q,l.Lazy=se,l.Memo=ie,l.Portal=Ee,l.Profiler=Ie,l.StrictMode=ge,l.Suspense=oe,l.isAsyncMode=d,l.isConcurrentMode=p,l.isContextConsumer=f,l.isContextProvider=O,l.isElement=b,l.isForwardRef=m,l.isFragment=a,l.isLazy=n,l.isMemo=r,l.isPortal=u,l.isProfiler=v,l.isStrictMode=E,l.isSuspense=w,l.isValidElementType=h,l.typeOf=c})()},function(o,l,s){"use strict";function h(){return null}var c=s(4),d=s(15),p=s(5),f=s(16),O=Function.call.bind(Object.prototype.hasOwnProperty),b=function(){};b=function(m){var a="Warning: "+m;typeof console!="undefined"&&console.error(a);try{throw new Error(a)}catch(n){}},o.exports=function(m,a){function n(P){var y=P&&(L&&P[L]||P[j]);if(typeof y=="function")return y}function r(P,y){return P===y?P!==0||1/P==1/y:P!==P&&y!==y}function u(P){this.message=P,this.stack=""}function v(P){function y(Y,F,G,X,q,se,ie){if(X=X||B,se=se||G,ie!==p){if(a){var Ee=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Ee.name="Invariant Violation",Ee}if(typeof console!="undefined"){var Ie=X+":"+G;!A[Ie]&&K<3&&(b("You are manually calling a React.PropTypes validation function for the `"+se+"` prop on `"+X+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),A[Ie]=!0,K++)}}return F[G]==null?Y?new u(F[G]===null?"The "+q+" `"+se+"` is marked as required in `"+X+"`, but its value is `null`.":"The "+q+" `"+se+"` is marked as required in `"+X+"`, but its value is `undefined`."):null:P(F,G,X,q,se)}var A={},K=0,N=y.bind(null,!1);return N.isRequired=y.bind(null,!0),N}function E(P){function y(A,K,N,Y,F,G){var X=A[K];return M(X)!==P?new u("Invalid "+Y+" `"+F+"` of type `"+R(X)+"` supplied to `"+N+"`, expected `"+P+"`."):null}return v(y)}function w(P){function y(A,K,N,Y,F){if(typeof P!="function")return new u("Property `"+F+"` of component `"+N+"` has invalid PropType notation inside arrayOf.");var G=A[K];if(!Array.isArray(G))return new u("Invalid "+Y+" `"+F+"` of type `"+M(G)+"` supplied to `"+N+"`, expected an array.");for(var X=0;X<G.length;X++){var q=P(G,X,N,Y,F+"["+X+"]",p);if(q instanceof Error)return q}return null}return v(y)}function C(P){function y(A,K,N,Y,F){if(!(A[K]instanceof P)){var G=P.name||B;return new u("Invalid "+Y+" `"+F+"` of type `"+U(A[K])+"` supplied to `"+N+"`, expected instance of `"+G+"`.")}return null}return v(y)}function _(P){function y(A,K,N,Y,F){for(var G=A[K],X=0;X<P.length;X++)if(r(G,P[X]))return null;var q=JSON.stringify(P,function(se,ie){return R(ie)==="symbol"?String(ie):ie});return new u("Invalid "+Y+" `"+F+"` of value `"+String(G)+"` supplied to `"+N+"`, expected one of "+q+".")}return Array.isArray(P)?v(y):(b(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),h)}function T(P){function y(A,K,N,Y,F){if(typeof P!="function")return new u("Property `"+F+"` of component `"+N+"` has invalid PropType notation inside objectOf.");var G=A[K],X=M(G);if(X!=="object")return new u("Invalid "+Y+" `"+F+"` of type `"+X+"` supplied to `"+N+"`, expected an object.");for(var q in G)if(O(G,q)){var se=P(G,q,N,Y,F+"."+q,p);if(se instanceof Error)return se}return null}return v(y)}function W(P){function y(N,Y,F,G,X){for(var q=0;q<P.length;q++)if((0,P[q])(N,Y,F,G,X,p)==null)return null;return new u("Invalid "+G+" `"+X+"` supplied to `"+F+"`.")}if(!Array.isArray(P))return b("Invalid argument supplied to oneOfType, expected an instance of array."),h;for(var A=0;A<P.length;A++){var K=P[A];if(typeof K!="function")return b("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+D(K)+" at index "+A+"."),h}return v(y)}function k(P){function y(A,K,N,Y,F){var G=A[K],X=M(G);if(X!=="object")return new u("Invalid "+Y+" `"+F+"` of type `"+X+"` supplied to `"+N+"`, expected `object`.");for(var q in P){var se=P[q];if(se){var ie=se(G,q,N,Y,F+"."+q,p);if(ie)return ie}}return null}return v(y)}function $(P){function y(A,K,N,Y,F){var G=A[K],X=M(G);if(X!=="object")return new u("Invalid "+Y+" `"+F+"` of type `"+X+"` supplied to `"+N+"`, expected `object`.");var q=d({},A[K],P);for(var se in q){var ie=P[se];if(!ie)return new u("Invalid "+Y+" `"+F+"` key `"+se+"` supplied to `"+N+"`.\nBad object: "+JSON.stringify(A[K],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(P),null,"  "));var Ee=ie(G,se,N,Y,F+"."+se,p);if(Ee)return Ee}return null}return v(y)}function H(P){switch(typeof P){case"number":case"string":case"undefined":return!0;case"boolean":return!P;case"object":if(Array.isArray(P))return P.every(H);if(P===null||m(P))return!0;var y=n(P);if(!y)return!1;var A,K=y.call(P);if(y!==P.entries){for(;!(A=K.next()).done;)if(!H(A.value))return!1}else for(;!(A=K.next()).done;){var N=A.value;if(N&&!H(N[1]))return!1}return!0;default:return!1}}function g(P,y){return P==="symbol"||!!y&&(y["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&y instanceof Symbol)}function M(P){var y=typeof P;return Array.isArray(P)?"array":P instanceof RegExp?"object":g(y,P)?"symbol":y}function R(P){if(P==null)return""+P;var y=M(P);if(y==="object"){if(P instanceof Date)return"date";if(P instanceof RegExp)return"regexp"}return y}function D(P){var y=R(P);switch(y){case"array":case"object":return"an "+y;case"boolean":case"date":case"regexp":return"a "+y;default:return y}}function U(P){return P.constructor&&P.constructor.name?P.constructor.name:B}var L=typeof Symbol=="function"&&Symbol.iterator,j="@@iterator",B="<<anonymous>>",x={array:E("array"),bool:E("boolean"),func:E("function"),number:E("number"),object:E("object"),string:E("string"),symbol:E("symbol"),any:function(){return v(h)}(),arrayOf:w,element:function(){function P(y,A,K,N,Y){var F=y[A];return m(F)?null:new u("Invalid "+N+" `"+Y+"` of type `"+M(F)+"` supplied to `"+K+"`, expected a single ReactElement.")}return v(P)}(),elementType:function(){function P(y,A,K,N,Y){var F=y[A];return c.isValidElementType(F)?null:new u("Invalid "+N+" `"+Y+"` of type `"+M(F)+"` supplied to `"+K+"`, expected a single ReactElement type.")}return v(P)}(),instanceOf:C,node:function(){function P(y,A,K,N,Y){return H(y[A])?null:new u("Invalid "+N+" `"+Y+"` supplied to `"+K+"`, expected a ReactNode.")}return v(P)}(),objectOf:T,oneOf:_,oneOfType:W,shape:k,exact:$};return u.prototype=Error.prototype,x.checkPropTypes=f,x.resetWarningCache=f.resetWarningCache,x.PropTypes=x,x}},function(o,l,s){"use strict";function h(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;o.exports=function(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var O={},b=0;b<10;b++)O["_"+String.fromCharCode(b)]=b;if(Object.getOwnPropertyNames(O).map(function(a){return O[a]}).join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(a){m[a]=a}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch(a){return!1}}()?Object.assign:function(f,O){for(var b,m,a=h(f),n=1;n<arguments.length;n++){b=Object(arguments[n]);for(var r in b)d.call(b,r)&&(a[r]=b[r]);if(c){m=c(b);for(var u=0;u<m.length;u++)p.call(b,m[u])&&(a[m[u]]=b[m[u]])}}return a}},function(o,l,s){"use strict";function h(O,b,m,a,n){for(var r in O)if(f(O,r)){var u;try{if(typeof O[r]!="function"){var v=Error((a||"React class")+": "+m+" type `"+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof O[r]+"`.");throw v.name="Invariant Violation",v}u=O[r](b,r,a,m,null,d)}catch(w){u=w}if(!u||u instanceof Error||c((a||"React class")+": type specification of "+m+" `"+r+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in p)){p[u.message]=!0;var E=n?n():"";c("Failed "+m+" type: "+u.message+(E??""))}}}var c=function(){},d=s(5),p={},f=Function.call.bind(Object.prototype.hasOwnProperty);c=function(O){var b="Warning: "+O;typeof console!="undefined"&&console.error(b);try{throw new Error(b)}catch(m){}},h.resetWarningCache=function(){p={}},o.exports=h},function(o,l,s){"use strict";function h(f,O){if(f==null)return{};var b,m,a=c(f,O);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(f);for(m=0;m<n.length;m++)b=n[m],O.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(f,b)&&(a[b]=f[b])}return a}function c(f,O){if(f==null)return{};var b,m,a={},n=Object.keys(f);for(m=0;m<n.length;m++)b=n[m],O.indexOf(b)>=0||(a[b]=f[b]);return a}function d(f){var O=f.children,b=f.device,m=f.onChange,a=h(f,["children","device","onChange"]),n=Object(p.a)(a,b,m);return typeof O=="function"?O(n):n?O:null}l.a=d;var p=s(0)}])})},,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(49),s=t.n(l),h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(r,u,v)=>u in r?h(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,m=(r,u)=>{for(var v in u||(u={}))f.call(u,v)&&b(r,v,u[v]);if(p)for(var v of p(u))O.call(u,v)&&b(r,v,u[v]);return r},a=(r,u)=>c(r,d(u));const n=r=>Object(e.h)(o.a,a(m({},r),{name:"SubstackIcon",svgParams:{height:1e3,width:1e3,fill:l.substack_color,stroke:"none"}}),Object(e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),Object(e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),Object(e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}));i.default=n},function(S,i,t){"use strict";t.d(i,"b",function(){return Vr}),t.d(i,"c",function(){return zr}),t.d(i,"g",function(){return Qn}),t.d(i,"d",function(){return xr}),t.d(i,"e",function(){return uo}),t.d(i,"h",function(){return fo}),t.d(i,"f",function(){return qr}),t.d(i,"a",function(){return So});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(14),c=t.n(h),d=t(10),p=t.n(d),f=t(7),O=t(118),b=t.n(O),m=t(3),a=t(8),n=t(5),r=t(378),u=t(12),v=t(261),E=t(162),w=t(227),C=t(73),_=t(150),T=t(109),W=t(612),k=t(37),$=t(44),H=Object.defineProperty,g=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,D=(Ue,Be,xe)=>Be in Ue?H(Ue,Be,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ue[Be]=xe,U=(Ue,Be)=>{for(var xe in Be||(Be={}))M.call(Be,xe)&&D(Ue,xe,Be[xe]);if(g)for(var xe of g(Be))R.call(Be,xe)&&D(Ue,xe,Be[xe]);return Ue},L=(Ue,Be,xe)=>new Promise((Ot,ut)=>{var Zt=Ft=>{try{en(xe.next(Ft))}catch(ln){ut(ln)}},$t=Ft=>{try{en(xe.throw(Ft))}catch(ln){ut(ln)}},en=Ft=>Ft.done?Ot(Ft.value):Promise.resolve(Ft.value).then(Zt,$t);en((xe=xe.apply(Ue,Be)).next())});const j=600,B=500,x=({user:Ue,pub:Be,post:xe})=>{var Ot;const[ut,Zt]=Object(o.k)(!1),[$t,en]=Object(o.k)(!1),[Ft,ln]=Object(o.k)(!1),[_n,xn]=Object(o.k)((Ue==null?void 0:Ue.email)||""),In=Object(o.j)(null),Fn=`pub-${Be.id}-subscribe-prompt-next-shown-at`,Wn=`pub-${Be.id}-takeover-next-shown-at`,{height:bn,width:kn}=((Ot=In.current)==null?void 0:Ot.getBoundingClientRect())||{height:0,width:0},qn=typeof window!="undefined"&&window&&In.current?(window.innerHeight-bn)/2:200,rr=typeof window!="undefined"&&window&&In.current?(window.innerWidth-kn)/2:0,Zn=Un=>In.current&&Un<-bn?-bn:Un>qn?qn:Un,[Dn,Vn]=Object(o.k)(Zn((document.documentElement.scrollTop||document.body.scrollTop)-j)),[fr,hr]=Object(o.k)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[wr,Ur]=Object(o.k)(fr>j);Object(o.d)(()=>{const Un=document.getElementsByClassName("available-content");(!Un.length||Un[0].scrollHeight<1.5*window.innerHeight)&&Zt(!0)},[]),Object(o.d)(()=>{if(wr){if(Object($.getStoredValue)(Fn)>Date.now()){Zt(!0);return}Object(n.i)(n.a.SUBSCRIBE_PROMPT_SHOWN,{post_id:xe.id}),Object($.setStoredValue)(Fn,c()().add(1,"hour").valueOf()),Object($.setStoredValue)(Wn,c()().add(1,"hour").valueOf())}},[wr]),Object(o.d)(()=>{$t&&(Object(n.i)(n.a.SUBSCRIBE_PROMPT_DISMISSED,{post_id:xe.id}),Object($.setStoredValue)(Fn,c()().add(1,"day").valueOf()),Object($.setStoredValue)(Wn,c()().add(1,"hour").valueOf()))},[$t]);const yr=Object(o.a)(Un=>L(void 0,null,function*(){if(!Ft){if(ln(!0),Object(n.i)(n.a.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:xe.id}),!Un){document.location.href=Object(m.getSubscribeUrl)(Be,{utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:xe&&xe.id,next:Object(m.getPostUrl)(Be,xe),simple:!0}),ln(!1);return}try{const ur=yield p.a.post("/api/v1/free").send({email:Un,source:"post-subscribe-prompt"});!Be.plans&&!Be.has_recommendations?window.location.reload():document.location.href=Object(m.getSubscribeUrl)(Be,U({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:xe&&xe.id,simple:!0,just_signed_up:!0,next:Object(m.getPostUrl)(Be,xe),requires_confirmation:ur.body.requires_confirmation?"true":""},ur.body.subscription_id&&{subscription_id:ur.body.subscription_id}))}catch(ur){document.location.href=Object(m.getSubscribeUrl)(Be,{utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:xe&&xe.id,simple:!0,next:Object(m.getPostUrl)(Be,xe)});return}finally{ln(!1)}}}),[Ue,xe,Be,Ft,ln]);return Object(o.d)(()=>{if(ut||$t)return;const Un=()=>{const ur=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),Er=ur-fr;let Mr=!1;ur<j?Vn(-bn||-j):Er>0&&Dn<qn?(Mr=!0,Vn(Zn(Dn+Er))):Er<0&&Dn>-bn&&Vn(Zn(Dn+Er)),hr(ur),Mr&&Ur(!0)};return window.addEventListener("scroll",Un),window.addEventListener("resize",Un),()=>{window.removeEventListener("scroll",Un),window.removeEventListener("resize",Un)}},[Dn,Vn,fr,hr]),Object(o.d)(()=>{if(ut||$t)return;const Un=ur=>{ur.key==="Escape"&&Dn>=qn-B&&en(!0)};return window.addEventListener("keydown",Un),()=>{window.removeEventListener("keydown",Un)}},[Dn,qn,en]),ut||$t?Object(e.h)(e.Fragment,null):Object(e.h)(e.Fragment,null,Object(e.h)("div",{ref:In,className:"subscribe-dialog",style:{bottom:`${Dn}px`,left:`${rr}px`}},Object(e.h)(k.a,{pub:Be,logo_url:Be.logo_url||Be.author_photo_url,href:null,size:54,className:"subscribe-dialog-publication-icon"}),Object(e.h)("div",{className:"subscribe-dialog-publication-title subscribe-dialog-header-text"},Be.name),Object(e.h)("div",{className:"subscribe-dialog-publication-subtitle subscribe-dialog-body-text"},Be.hero_text),Object(e.h)("form",{onSubmit:Un=>{Un.preventDefault(),yr(_n)}},Object(e.h)("input",{className:"subscribe-dialog-publication-email-input",placeholder:"Type your email...",value:_n,disabled:!!(Ue==null?void 0:Ue.email)||Ft,onChange:Un=>{Un.stopPropagation(),Un.preventDefault(),xn(Un.currentTarget.value)}}),Object(e.h)("button",{className:"subscribe-dialog-submit-button",type:"submit",disabled:Ft},"Subscribe")),Object(e.h)("div",{className:"subscribe-dialog-let-me-read-it subscribe-dialog-body-text",onClick:()=>en(!0)},Object(e.h)("span",null,"Let me read it first"),Object(e.h)(W.a,null)),Ue===null&&Object(e.h)("div",{className:"subscribe-dialog-body-text"},Object(e.h)("span",null,"Already a subscriber? "),Object(e.h)("span",{className:"subscribe-dialog-sign-in-link"},Object(e.h)("a",{href:Object(m.getSigninUrl)({for_pub:Be.subdomain,redirect:Object(m.getPostUrl)(Be,xe)})},"Sign in")))),Dn>=qn-B&&Object(e.h)("div",{className:"subscribe-dialog-scroll-modal-scroll-capture",style:{opacity:`${(Dn-qn+B)*.12}%`}}))};var P=t(112),y=t(111),A=t(208),K=t(78),N=t(60),Y=t(148),F=t(30),G=t(156),q=({post:Ue})=>Object(e.h)("a",{className:"tw-no-underline hover:tw-underline",href:Object(m.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:Ue.id}),native:!0},Object(e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},Object(e.h)(G.default,{className:"tw-fill-pub-accent tw-stroke-0"}),Object(e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen"))),se=t(63),ie=t(226),Ee=t(133),Ie=t(43),ge=t(329),ee=({className:Ue,pub:Be,utmSource:xe})=>{const Ot=Object(m.getSubscribeUrl)(Be,{utm_source:xe,simple:!0,next:document.location.href});return Object(e.h)(u.b,{className:s()("primary tw-text-sm tw-font-semibold",Ue),href:Ot},Object(f.getSubscribeText)(Be))},te=t(264),le=t(503),Q=t(279),z=t(36),V=Object.defineProperty,ne=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,fe=(Ue,Be,xe)=>Be in Ue?V(Ue,Be,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ue[Be]=xe,we=(Ue,Be)=>{for(var xe in Be||(Be={}))re.call(Be,xe)&&fe(Ue,xe,Be[xe]);if(ne)for(var xe of ne(Be))de.call(Be,xe)&&fe(Ue,xe,Be[xe]);return Ue},Ge=(Ue,Be)=>{var xe={};for(var Ot in Ue)re.call(Ue,Ot)&&Be.indexOf(Ot)<0&&(xe[Ot]=Ue[Ot]);if(Ue!=null&&ne)for(var Ot of ne(Ue))Be.indexOf(Ot)<0&&de.call(Ue,Ot)&&(xe[Ot]=Ue[Ot]);return xe},$e=(Ue,Be,xe)=>new Promise((Ot,ut)=>{var Zt=Ft=>{try{en(xe.next(Ft))}catch(ln){ut(ln)}},$t=Ft=>{try{en(xe.throw(Ft))}catch(ln){ut(ln)}},en=Ft=>Ft.done?Ot(Ft.value):Promise.resolve(Ft.value).then(Zt,$t);en((xe=xe.apply(Ue,Be)).next())});const it=["Podcast Addict"],st=["Apple Podcasts"],Rt=["Apple Podcasts"],Ht=[],je="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",Oe=({feedUrl:Ue,post:Be,pub:xe,sectionId:Ot,hasAccessToPrivatePodcastFeed:ut})=>{const[Zt,$t]=Object(o.k)(!1),[en,Ft]=Object(ie.a)();return Object(e.h)("div",{className:"tw-relative"},Object(e.h)("div",{className:s()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",Zt?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:Ft},Object(e.h)("span",{className:"sm:tw-hidden"},"Open in player"),Object(e.h)("span",{className:"tw-hidden sm:tw-block"},"Listen on"),Object(e.h)(Ee.default,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),Object(e.h)(be,{feedUrl:Ue,menuRef:en,post:Be,pub:xe,sectionId:Ot,onToggle:$t,hasAccessToPrivatePodcastFeed:ut}))},be=({feedUrl:Ue,menuRef:Be,post:xe,pub:Ot,sectionId:ut,onToggle:Zt,hasAccessToPrivatePodcastFeed:$t})=>{const en=Object(a.isMobileBrowser)(),Ft=()=>{Object(n.i)(n.a.PODCAST_FEED_URL_COPIED),Object(a.copyToClipboard)(Ue),alert("Copied")},ln=()=>{Object(n.i)(n.a.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:Ue}),document.location.href=Object(m.getPostAppLinkUrl)(Ot==null?void 0:Ot.subdomain,xe==null?void 0:xe.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return Object(e.h)(Ie.b,{ref:Be,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:_n})=>{Object(n.i)(n.a.PODCAST_LISTEN_ON_CLICKED),Zt(_n)}},en?Object(e.h)(he,{feedUrl:Ue,pub:Ot,onCopyFeed:Ft,onClickSubstackApp:ln,hasAccessToPrivatePodcastFeed:$t}):Object(e.h)(Ce,{feedUrl:Ue,pub:Ot,sectionId:ut,onCopyFeed:Ft,onClickSubstackApp:ln,hasAccessToPrivatePodcastFeed:$t}))},he=({feedUrl:Ue,pub:Be,onCopyFeed:xe,onClickSubstackApp:Ot,hasAccessToPrivatePodcastFeed:ut})=>{var Zt;return Object(e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},Object(e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},"Listen in app"),Object(a.isIOs)()&&Object(e.h)(De,{onClick:Ot},Object(e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},Object(e.h)(Q.default,null)),Object(e.h)("span",null,"Substack App")),Ue&&ge.a.filter($t=>Object(a.isIOs)()?st.includes($t.name):it.includes($t.name)).map(({name:$t,icon:en,onClick:Ft})=>Object(e.h)(De,{key:$t,onClick:()=>{Object(n.i)(n.a.PODCAST_APP_LINK_CLICK,{appName:$t,feedUrl:Ue}),Ft(Ue)}},Object(e.h)("img",{src:en,alt:`${$t} logo`,className:"tw-w-6"}),Object(e.h)("span",{className:"tw-whitespace-nowrap"},$t))),Ue?Object(e.h)("div",{className:"tw-px-2 tw-pt-2"},Object(e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},"Private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed. ",Object(e.h)(Le,null)),Object(e.h)("div",null,Object(e.h)(Se,{className:"tw-w-full",onClick:xe},Object(e.h)(te.default,{className:"tw-stroke-pub-secondary-text"}),Object(e.h)("span",null,"Copy link")))):ut?Object(e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),Object(e.h)("div",null,Object(e.h)(tt,{pub:Be}))):Object(e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(Zt=Be.podcast_title)!=null?Zt:"this podcast"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app. ",Object(e.h)(Le,null)),Object(e.h)(ee,{className:"tw-w-full",pub:Be,utmSource:"podcast_post_listen_on"})))},Ce=({feedUrl:Ue,pub:Be,sectionId:xe,onCopyFeed:Ot,onClickSubstackApp:ut,hasAccessToPrivatePodcastFeed:Zt})=>{var $t;const[en,Ft]=Object(o.k)(!1),[ln,_n]=Object(o.k)(null),xn=()=>$e(void 0,null,function*(){try{Object(n.i)(n.a.PODCAST_EMAIL_LINK_CLICKED),yield p.a.post("/api/v1/subscription/send_podcast_email").send({section_id:xe}),alert("Email sent"),Ft(!0)}catch(In){console.error("Failed to send podcast setup email:",In),_n(In)}});return Object(e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},Object(e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},Object(e.h)(De,{onClick:ut},Object(e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},Object(e.h)(Q.default,null)),Object(e.h)("span",null,"Substack App")),Ue&&ge.a.filter(In=>Object(a.isMac)()?Rt.includes(In.name):Ht.includes(In.name)).map(({name:In,icon:Fn,onClick:Wn})=>Object(e.h)(De,{key:In,onClick:()=>{Object(n.i)(n.a.PODCAST_APP_LINK_CLICK,{appName:In,feedUrl:Ue}),Wn(Ue)}},Object(e.h)("img",{src:Fn,alt:`${In} logo`,className:"tw-w-6"}),Object(e.h)("span",{className:"tw-whitespace-nowrap"},In)))),Object(e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},Ue?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Copy your RSS link and paste it in your podcast app. ",Object(e.h)(Le,null)),Object(e.h)("div",{className:"tw-flex tw-gap-2"},Object(e.h)(Se,{onClick:Ot},Object(e.h)(te.default,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),Object(e.h)("span",null,"Copy link")),Object(e.h)(Se,{onClick:xn,disabled:en},Object(e.h)(le.default,{className:"tw-stroke-pub-secondary-text"}),Object(e.h)("span",null,"Email link"))),ln&&Object(e.h)("div",{className:"tw-mt-2 tw-text-red-600"},Object(a.getNetworkErrorMessage)(ln))):Zt?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),Object(e.h)("div",null,Object(e.h)(tt,{pub:Be}))):Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Get a private RSS link for listening"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe to ",($t=Be.podcast_title)!=null?$t:"this podcast"," to get a private link for listening in your favorite podcast player. ",Object(e.h)(Le,null)),Object(e.h)(ee,{pub:Be,utmSource:"podcast_post_listen_on"}))))},De=Ue=>{var Be=Ue,{children:xe,href:Ot}=Be,ut=Ge(Be,["children","href"]);const Zt="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return Ot?Object(e.h)("a",we({className:s()("tw-no-underline",Zt),href:Ot},ut),xe):Object(e.h)("div",we({className:s()("tw-cursor-pointer",Zt),role:"button"},ut),xe)},Se=({children:Ue,className:Be="",disabled:xe=!1,onClick:Ot})=>Object(e.h)(u.b,{className:s()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",Be),onClick:Ot,disabled:xe},Ue),Le=()=>Object(e.h)("a",{href:je,target:"_blank",rel:"noopener noreferrer",className:"tw-text-pub-accent"},"Learn about RSS."),tt=({pub:Ue})=>Object(e.h)(Se,{className:"tw-w-full",onClick:()=>{}},Object(e.h)(z.a,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:Object(m.getPodcatcherSetupUrl)(Ue),onClick:()=>{}},"Set up feed"));var Xe=Oe,Et=(Ue,Be,xe)=>new Promise((Ot,ut)=>{var Zt=Ft=>{try{en(xe.next(Ft))}catch(ln){ut(ln)}},$t=Ft=>{try{en(xe.throw(Ft))}catch(ln){ut(ln)}},en=Ft=>Ft.done?Ot(Ft.value):Promise.resolve(Ft.value).then(Zt,$t);en((xe=xe.apply(Ue,Be)).next())}),rt=({isFreeSubscribed:Ue,isSubscribed:Be,pub:xe,post:Ot,magicToken:ut,onGetDuration:Zt,isPreview:$t})=>{const[en,Ft]=Object(o.k)(null);return Object(o.d)(()=>{if(!Be&&!Ue)return;(()=>Et(void 0,null,function*(){const _n=yield p.a.get("/api/v1/subscription/podcast_rss_url").query({token:ut,section_id:Ot.section_id});_n.body.podcast_rss_url&&Ft(_n.body.podcast_rss_url)}))()},[Ue,Be,ut]),Object(e.h)(y.a,{feature:"Podcast",pub:xe,src:Ot.podcast_url,duration:Ot.podcast_duration,autoPlay:!1,metricsPost:Ot,addToPodcastLink:null,onGetDuration:Zt,render:({currentTime:ln,isPlaying:_n,progress:xn,progressBarRef:In,progressBarOnMouseDown:Fn,remainingTime:Wn,playbackRate:bn,setPlaybackRate:kn,skipBack:qn,skipForward:rr,togglePlayback:Zn})=>Object(e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},Object(e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},Object(e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),Object(e.h)(se.PlayerControls,{isPlaying:_n,onSkipBack:qn,onSkipForward:rr,onTogglePlayback:Zn}),Object(e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},Object(e.h)(se.PlaybackRateToggle,{onSetPlaybackRate:kn,playbackRate:bn,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),Object(e.h)(se.ProgressBar,{currentTime:ln,remainingTime:Wn,containerRef:In,progress:xn,onMouseDown:Fn}),$t?Object(e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):Object(e.h)(Xe,{feedUrl:en,post:Ot,pub:xe,sectionId:Ot.section_id,hasAccessToPrivatePodcastFeed:Be||Ue}))})},ke=t(105),Nt=({freeSignupEmail:Ue,pub:Be,source:xe,user:Ot,onSuccess:ut})=>Object(e.h)("div",{className:"inline-free-email-form"},Object(e.h)(ke.a,{user:Ot,pub:Be,freeSignupEmail:Ue,source:xe,onSuccess:ut,hideLogin:!0,hideTerms:!0,submitButtonText:Object(f.getSubscribeText)(Be)}));const rn="podcast_post_header";var dt=({freeSignupEmail:Ue,isFreeSubscribed:Be,pub:xe,user:Ot})=>{const[ut,Zt]=Object(o.k)(!1),[$t,en]=Object(o.k)(!1),Ft=Object(o.j)(null),ln=xe.section?xe.section.description:xe.podcast_description,_n=In=>{if(xe.plans){let Fn=Object(m.getSubscribeUrl)(xe,{just_signed_up:!0});In.body.prompt_to_login&&(Fn=`/account/login?redirect=${encodeURIComponent(Fn)}&email=${encodeURIComponent(In.body.email)}`),document.location.href=Fn}else window.location.reload()},xn=Object(o.a)(()=>{Zt(!ut)},[Zt,ut]);return Object(o.g)(()=>{const In=()=>{const Wn=Ft.current&&Ft.current.scrollHeight>Ft.current.clientHeight;en(ut||Wn)};In();const Fn=Object(a.debounce)(In);return window.addEventListener("resize",Fn),()=>{window.removeEventListener("resize",Fn)}},[en,Ft,ut]),Object(e.h)("div",{className:"tw-mt-6 tw-text-center"},ln&&Object(e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},Object(e.h)("span",{ref:Ft,"data-testid":"podcast-description",className:s()({"podcast-description--clamped":!ut})},ln),$t&&Object(e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:xn},!ut&&Object(e.h)("span",null,"show more"),ut&&Object(e.h)("span",null," show less"))),Be?Object(e.h)(u.b,{href:Object(m.getSubscribeUrl)(xe,{utm_source:rn}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},Object(f.getSubscribeText)(xe,{isFreeSubscribed:!0})):Object(a.isMobileBrowser)()?Object(e.h)(u.b,{href:Object(m.getSubscribeUrl)(xe,{utm_source:rn,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},Object(f.getSubscribeText)(xe)):Object(e.h)(Nt,{freeSignupEmail:Ue,pub:xe,source:rn,user:Ot,onSuccess:_n}))},mt=t(115),gt=t(56),ze=t(53),ue=t(289),bt=t(58),wt=t(307),It=t(250),We=t(176),lt=t(117);function Ae({post:Ue,pub:Be,user:xe,showDate:Ot,showDatetime:ut,isStatic:Zt,className:$t,postReactionToken:en,onChange:Ft,allowEdit:ln,hidePinning:_n,showEmailSent:xn,allowSendEmail:In,allowMobileFooter:Fn,reactors:Wn,onCommentsClick:bn,useWashBackground:kn,showRecommendPostModal:qn,setFooterShown:rr}){const Zn=Object(lt.isMobile)({checkFirst4:!0}),Dn=typeof window=="undefined",Vn=Object(f.getBylineUsers)(Ue),fr=ut?c()(Ue.post_date).standardDatetime():Zt?c()(Ue.post_date).standardDate():c()(Ue.post_date).standardDateOrTime(),{getSettingFor:hr}=Object(We.a)(),Ur=Object(bt.c)().getConfigFor("podcast_bylines"),yr=Be.bylines_enabled&&Object(f.getPrintedByline)(Be,Ue)&&!(Ur&&Ue.type==="podcast"),Un=yr&&Be.byline_images_enabled&&Vn.some(({photo_url:Tr})=>!!Tr),ur=Ue.type!=="page",Er=Zn&&Un&&Vn.length>2,Mr=(Be==null?void 0:Be.community_enabled)&&Ue.slug&&!Ue.is_draft&&Object(f.showCommentsOnPost)({publication:Be,post:Ue}),Kr=yr&&Vn.length===1&&Vn[0].is_guest&&Vn[0].primaryPublicationSubscribeUrl&&Vn[0].primaryPublicationId!==Be.id&&!Be.parent_publication&&!Ue.is_draft&&!Object(F.default)("dont_show_guest_byline"),Yr=Vn.length===0&&(Be.parent_publication||Be).subdomain==="thedispatch"?Object(f.getPrintedByline)(Be,Ue):Object(f.oxfordComma)(Vn.map(Tr=>Object(e.h)(N.a,{wrap:!Zt,subject:Tr},Object(e.h)("a",{class:"byline-profile-link",href:Object(m.getProfileUrl)(Tr,Be,{base:Zt}),onClick:Fr=>Fr.stopPropagation()},Tr.name))));return Object(e.h)("div",{class:s()("post-subheader",$t)},Object(e.h)("div",{class:s()("left",{vertical:Er})},Un&&(Zt?Object(e.h)(mt.b,{pub:Be,post:Ue}):Object(e.h)(mt.c,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Vn.map(({id:Tr,name:Fr,photo_url:Qr})=>({id:Tr,name:Fr,photo_url:Qr})),faceUtmSource:"author-byline-face",useWashBackground:kn})),Object(e.h)("div",{class:"label-stack"},yr&&Object(e.h)("div",{class:"bylines"},Object(e.h)("span",{class:"byline-names"},Yr)),Kr&&Object(e.h)("div",{className:"guest-author-publication"},"Writes\xA0",Object(e.h)("a",{class:"guest-author-publication-name",href:Vn[0].primaryPublicationUrl,title:Vn[0].primaryPublicationName},Vn[0].primaryPublicationName),"\xA0\xB7\xA0",Object(e.h)("a",{className:"guest-author-publication-subscribe",href:Vn[0].primaryPublicationSubscribeUrl},"Subscribe")),Object(e.h)("div",{class:"publish-context"},Ue.type==="adhoc_email"?Object(e.h)(ue.default,{className:"audience-icon adhoc-email-icon",height:16,isStatic:Zt}):ur&&Object(ze.isPaidAudience)(Ue.audience)&&Object(e.h)(wt.a,{audience:Ue.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:Zt,thin:!0}),(Ot||ut)&&Ue.post_date&&!Ue.is_draft&&Object(e.h)("time",{dateTime:c()(Ue.post_date).toISOString()},fr),Ue.is_draft&&(Ot||ut)&&"Draft"))),Object(e.h)("div",{class:"right"},Zn&&!Dn&&Fn&&Object(e.h)(gt.b,{post:Ue,pub:Be,user:xe,isStatic:Zt,postReactionToken:en,onChange:Ft,allowEdit:ln,hidePinning:_n,showEmailSent:xn,allowSendEmail:In,hideComments:!Mr,onCommentsClick:bn,showRestackButton:Object(F.default)("enable_restacking")&&Object(It.a)(xe,{enable_restacking:!!hr("enable_restacking")},Ue,Be),showRecommendPostModal:qn,setFooterShown:rr}),!Zn&&Object(e.h)(gt.c,{post:Ue,pub:Be,user:xe,isStatic:Zt,style:"button",postReactionToken:en,onChange:Ft,allowEdit:ln,hidePinning:_n,showEmailSent:xn,allowSendEmail:In,reactors:Wn,labelStyle:"counts-or-none",hideComments:!Mr,onCommentsClick:bn,position:"post-header",showRestackButton:Object(F.default)("enable_restacking")&&Object(It.a)(xe,{enable_restacking:!!hr("enable_restacking")},Ue,Be,Zt),showRecommendPostModal:qn})))}var Ve=t(23),ot=({expiry:Ue,podcastName:Be,pub:xe,postId:Ot})=>{const ut=c()(Ue).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return Object(e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},Object(e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},Object(e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),Object(e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",Be," ends ",ut,". To keep access and continue your support, finish setting up your subscription.")),Object(e.h)(Ve.a,{look:"button",variant:"themed-primary",size:"medium",href:Object(m.getSubscribeUrl)(xe,{utm_source:"continue_your_support",utm_medium:"web",utm_content:Ot,simple:!0,next:document.location.href})},"Continue your support"))},vt=t(51),Ct=t(11),Mt=t(13),_t=({freeSignupEmail:Ue,isFreeSignup:Be,isPaywall:xe,post:Ot,pub:ut,magicToken:Zt,user:$t,onChange:en,onClickCommentButton:Ft,onTopReached:ln})=>{var _n;const[xn,In]=Object(o.k)((_n=Ot.podcast_duration)!=null?_n:0),Fn=Dn=>{In(Dn)},Wn=!!($t==null?void 0:$t.is_subscribed),bn=!!(Be||($t==null?void 0:$t.is_free_subscribed)),kn=!bn||!Wn&&!!ut.plans,qn=Wn&&($t==null?void 0:$t.subscription_type)==="comp"&&c()($t==null?void 0:$t.subscription_expiry).subtract(30,"days").isBeforeNow(),rr=bn&&!Wn&&($t==null?void 0:$t.comp_expired_recently),Zn=Object(f.getBylineUsers)(Ot).sort((Dn,Vn)=>Dn.id===ut.author_id?-1:Vn.id===ut.author_id?1:Dn.is_guest&&!Vn.is_guest?-1:!Dn.is_guest&&Vn.is_guest?1:(Dn.name||"").localeCompare(Vn.name||""));return Object(e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},Object(e.h)("div",{className:"container"},Object(e.h)(Qt,{post:Ot,podcastDuration:xn}),Object(e.h)(Ae,{allowEdit:$t==null?void 0:$t.is_contributor,allowMobileFooter:!0,isStatic:!1,post:Ot,postReactionToken:Zt,pub:ut,showDate:!0,showDatetime:!1,user:$t,onChange:en,onCommentsClick:Ft,useWashBackground:!0}),Object(e.h)(C.a,{onVisible:ln}),xe&&!Object(vt.podcastPostIsFreePreview)(Ot)?Object(e.h)(q,{post:Ot}):Object(e.h)(rt,{isFreeSubscribed:bn,isSubscribed:Wn,post:Ot,pub:ut,magicToken:Zt,onGetDuration:Fn,isPreview:Object(vt.podcastPostIsFreePreview)(Ot)}),ut.bylines_enabled&&Zn&&Zn.length?Object(e.h)(F.SiteConfigGate,{configKey:"podcast_bylines"},Object(e.h)(Ct.a,{direction:"column",gap:24,paddingTop:24},Object(e.h)(Mt.b.H4,{color:"pub-primary-text"},"Appears in this episode"),Zn.map(Dn=>Object(e.h)(Ct.a,{direction:"column",gap:24},Object(e.h)(Ct.a,{direction:"row",alignItems:"center",gap:8},Object(e.h)(mt.c,{className:"podcast-post-header-facepile",maximum:1,hoverProfiles:!0,faces:[Dn],faceUtmSource:"author-byline-face-podcast",useWashBackground:!0}),Object(e.h)(Ct.a,{direction:"column"},Object(e.h)(Mt.b.B4,{color:"pub-primary-text",weight:"bold"},`${Dn.name}`),Dn.primaryPublicationName&&Object(e.h)(Mt.b.B4,{color:"pub-secondary-text"},Dn.primaryPublicationUrl?Object(e.h)(e.Fragment,null,"Writes ",Object(e.h)("a",{style:{textDecoration:"none"},href:Dn.primaryPublicationUrl},Dn.primaryPublicationName)," ",Object(e.h)("a",{href:`${Dn.primaryPublicationUrl}/subscribe`},"Subscribe")):`Writes ${Dn.primaryPublicationName}`))))))):null,qn||rr?Object(e.h)(ot,{postId:Ot.id,expiry:$t.subscription_expiry,podcastName:ut.podcast_title,pub:ut}):kn?Object(e.h)(dt,{freeSignupEmail:Ue,isFreeSubscribed:bn,pub:ut,user:$t}):null))};function Qt({post:Ue,podcastDuration:Be}){return Object(e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},Ue.podcast_episode_image_url&&Object(e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},Object(e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:Object(f.cloudinary)(Ue.podcast_episode_image_url,512,{height:512,crop:"fill"})})),Object(e.h)("div",{className:"tw-text-center sm:tw-text-left"},Object(e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},c()(Ue.post_date).standardDate(),Be>0&&` \u2022 ${Object(f.formatPodcastDuration)(Be)}`),Ue.title&&Object(e.h)("h1",{className:s()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":Ue.title.length<60,"tw-text-3xl sm:tw-text-3xl":Ue.title.length>=60&&Ue.title.length<110,"tw-text-2xl sm:tw-text-2xl":Ue.title.length>=110&&Ue.title.length<140,"tw-text-xl sm:tw-text-xl":Ue.title.length>=140})},Ue.title),Ue.subtitle&&Object(e.h)("h3",{className:s()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":Ue.subtitle.length<110,"tw-text-base":Ue.subtitle.length>=110})},Ue.subtitle)))}function un({post:Ue,pub:Be,user:xe,isPaywall:Ot}){const ut=!!(xe==null?void 0:xe.is_subscribed),Zt=Boolean(xe.is_subscribed||xe.is_free_subscribed),$t="";return Ot&&!Object(vt.podcastPostIsFreePreview)(Ue)?Object(e.h)(q,{post:Ue}):Object(e.h)(rt,{isFreeSubscribed:Zt,isSubscribed:ut,post:Ue,pub:Be,magicToken:$t,isPreview:Object(vt.podcastPostIsFreePreview)(Ue)})}var Jt=t(155),Xt=t(730),yn=t(302),Ze=({activeTab:Ue,commentCount:Be,onClickTab:xe,loadedWithHeaderLink:Ot})=>{const[ut,Zt]=Object(o.k)(Ot);return Object(o.d)(()=>{if(typeof window=="undefined"||ut){Zt(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${Ue}`):window.location.hash=`#${Ue}`},[Ue]),Object(e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},Object(e.h)("div",{className:"container"},Object(e.h)(yn.a,{items:[{key:"details",icon:Object(e.h)(Xt.a,{height:18}),label:"Episode details"},{key:"comments",icon:Object(e.h)(Jt.default,{className:"tw-fill-transparent tw-stroke-pub-primary-text",height:18,strokeWidth:1.5}),label:Be===0?"Comments":Be===1?"1 comment":`${Be} comments`}],onSelect:xe,activeTab:Ue})))},Pe=t(578),Ye=t.n(Pe),Je=t(90),yt=t(308),Ut=({comments:Ue,expectedCommentCount:Be,inputRef:xe,post:Ot,pub:ut,sort:Zt,token:$t,user:en,onAddComment:Ft,onUpdateComment:ln,onUpdateSort:_n})=>Object(f.canSeeComments)(en,Ot)?Object(e.h)("div",null,Object(e.h)(Je.a,{ref:xe,formClassName:"tw-m-0",user:en,pub:ut,post:Ot,token:$t,onSuccess:Ft}),Be>0&&Object(e.h)(yt.a,{sort:Zt,loading:!Ue,onSortSelected:_n,pub:ut}),Ue?Object(e.h)(Je.b,{comments:Ue,post:Ot,pub:ut,reaction_token:$t,user:en,onChange:ln}):Object(e.h)("div",{className:"tw-mt-4"},Ye()(Math.min(Be,5),()=>Object(e.h)(Je.c,null)))):Object(e.h)(P.b,{user:en,publication:ut,post:Ot,title:"Comments on this episode are for paid subscribers",reauthenticationTitle:"To see the comments, please re-authenticate."}),zt=t(251),cn=t(182),vn=t(309),Cn=t(52),ir=({children:Ue,href:Be})=>Object(e.h)(e.Fragment,null,Object(e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",{align:"center"},Object(e.h)("a",{href:Be,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},Ue))))),Hn=t(28);const nr=({post:Ue,compAlreadyExpired:Be=!1})=>{const xe=`${Hn.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${Ue.id}`;return Object(e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},Object(e.h)("tr",null,Object(e.h)("td",{height:"16"})),Object(e.h)("tr",null,Object(e.h)("td",{align:"center",className:"tw-leading-5"},Object(e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),Object(e.h)("br",null),Be?Object(e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",Object(e.h)("br",null),"Continue your support to access paid-only content."):Object(e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",Object(e.h)("br",null),"charged until your free trial ends on ",Hn.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),Object(e.h)("tr",null,Object(e.h)("td",{height:"16"})),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(ir,{href:xe},"Subscribe now"))),Object(e.h)("tr",null,Object(e.h)("td",{height:"16"})))};var Nn=t(26),ht=t(510),Ke=t(69),Fe=(Ue,Be,xe)=>new Promise((Ot,ut)=>{var Zt=Ft=>{try{en(xe.next(Ft))}catch(ln){ut(ln)}},$t=Ft=>{try{en(xe.throw(Ft))}catch(ln){ut(ln)}},en=Ft=>Ft.done?Ot(Ft.value):Promise.resolve(Ft.value).then(Zt,$t);en((xe=xe.apply(Ue,Be)).next())});const Tt=({pub:Ue})=>{const[Be,xe]=Object(o.k)(!0),[Ot,ut]=Object(o.k)(null),[Zt,$t]=Object(o.k)(!1),en=Object(o.j)(null),Ft=()=>{en.current.close()};if(Object(o.d)(()=>{!Ot&&Be&&(()=>Fe(void 0,null,function*(){try{const xn=(yield p.a.get("/api/v1/publication_user/default")).body;if(ut(xn),!xn||xn.id===Ue.id){$t(!0),xe(!1);return}const In=yield p.a.get(`/api/v1/recommendations/from/${xn.id}/to/${Ue.id}`);$t(!!In.body),xe(!1)}catch(_n){console.error("Failed to load recommend cta: ",_n)}}))()},[Ue,Be,xe,Ot,ut]),!(Be||Zt||Ot&&Ot.invite_only))return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"end-of-post-recommend-cta-container"},Object(e.h)(k.a,{pub:Ue,size:54,openInNewTab:!0,logo_url:Ue.logo_url}),Object(e.h)("h3",{className:"publication-name"},"Recommend ",Ue.name," to the readers of ",Ot.name),Object(e.h)("p",{className:"publication-hero-text"},Ue.hero_text),Object(e.h)(u.b,{className:s()({primary:!0,"subscribe-button":!0}),onClick:()=>{Object(n.i)(n.a.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:Ue,recommending_pub_id:Ot==null?void 0:Ot.id}),en.current.isOpen()?en.current.close():en.current.open()}},"Recommend")),Object(e.h)(Vt,{pubToRecommend:Ue,recommendingPub:Ot,setLoading:xe,setStep:Ft,ref:en}))};class Vt extends Nn.a{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return Object(e.h)(ht.a,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:Be=>{this.props.setLoading(Be),Object(Ke.b)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var Kt=t(42);function on({postId:Ue,onClose:Be}){return Object(o.d)(()=>{Object(n.i)(n.a.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:Ue})},[]),Object(e.h)(Kt.a,{isOpen:!0,onClose:Be},Object(e.h)(Kt.d,{includeClose:!0,onClose:Be}),Object(e.h)(Kt.b,null,Object(e.h)(Ct.b,{alignItems:"center",gap:24},Object(e.h)(Ct.b,{style:{textAlign:"center"},justifyContent:"center",gap:8},Object(e.h)(Kt.e,null,"Listen to this post"),Object(e.h)(Mt.b,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app for iOS to hear this article read aloud.")),Object(e.h)(qt,null))),Object(e.h)(Kt.c,{includeDivider:!0,alignment:"center",primaryButton:Object(e.h)(Ve.a,{variant:"primary",href:Object(m.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>Object(n.i)(n.a.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:Ue})},"Get the app")}))}function qt(){const Ue="/img/main/tts-dialog";return Object(e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},Object(e.h)("source",{src:`${Ue}/nux.mp4`,type:"video/mp4"}),Object(e.h)("img",{width:374,height:233,src:`${Ue}/1x.png`,srcset:Array.from(Bt(1,4)).map(Be=>`${Ue}/${Be}x.png ${Be}x`).join(", ")}))}function*Bt(Ue,Be){for(let xe=Ue;xe<Be;xe++)yield xe}var dn=t(62),Bn=t(34),$n=t(541),En=t(542),On=t(72);const sr=({post:Ue})=>{const Be=Object(We.a)().getSettingFor("enable_prev_next_nav"),xe=Object(On.b)();return!Be||!(Ue==null?void 0:Ue.previous_post_slug)&&!(Ue==null?void 0:Ue.next_post_slug)?null:Object(e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},Object(e.h)("div",null,Ue.previous_post_slug&&Object(e.h)(gt.e,{icon:Object(e.h)($n.default,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:xe,onClick:()=>{Object(n.i)(n.a.PREVIOUS_POST_LINK_CLICKED,{post_id:Ue.id}),Object(Bn.route)(`/p/${Ue.previous_post_slug}`)}},Object(e.h)("div",{className:"tw-flex tw-items-center"},"Previous"))),Object(e.h)("div",null,Ue.next_post_slug&&Object(e.h)(gt.e,{icon:Object(e.h)(En.default,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:xe,onClick:()=>{Object(n.i)(n.a.NEXT_POST_LINK_CLICKED,{post_id:Ue.id}),Object(Bn.route)(`/p/${Ue.next_post_slug}`)}},Object(e.h)("div",{className:"tw-flex tw-items-center"},"Next"))))};var Yn=t(306),ar=t(262),er=t(731),Dr=t(517),Tn=Object.defineProperty,pr=Object.defineProperties,lr=Object.getOwnPropertyDescriptors,Rr=Object.getOwnPropertySymbols,cr=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable,Gn=(Ue,Be,xe)=>Be in Ue?Tn(Ue,Be,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ue[Be]=xe,An=(Ue,Be)=>{for(var xe in Be||(Be={}))cr.call(Be,xe)&&Gn(Ue,xe,Be[xe]);if(Rr)for(var xe of Rr(Be))Lr.call(Be,xe)&&Gn(Ue,xe,Be[xe]);return Ue},mr=(Ue,Be)=>pr(Ue,lr(Be)),tr=(Ue,Be,xe)=>(Gn(Ue,typeof Be!="symbol"?Be+"":Be,xe),xe),gr=(Ue,Be,xe)=>new Promise((Ot,ut)=>{var Zt=Ft=>{try{en(xe.next(Ft))}catch(ln){ut(ln)}},$t=Ft=>{try{en(xe.throw(Ft))}catch(ln){ut(ln)}},en=Ft=>Ft.done?Ot(Ft.value):Promise.resolve(Ft.value).then(Zt,$t);en((xe=xe.apply(Ue,Be)).next())});const Vr="focus-comment-input",co=["details","comments"];class zr extends e.Component{constructor(Be,xe){super(Be,xe);tr(this,"onTopReached",Ft=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),Object(n.k)({post:this.props.post,hasPaywall:Ft,surface:"publication"}),this.props.user&&!this.props.noPageview&&Promise.resolve(p.a.post(`/api/v1/posts/${this.props.post.id}/seen`)))}),tr(this,"onCommentButtonClicked",Ft=>{if(this.props.post.type==="podcast"){Ft.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var ln;(ln=this.podcastCommentInput.current)==null||ln.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(Ft.stopPropagation(),Ft.preventDefault(),document.dispatchEvent(new CustomEvent(Vr)))}),tr(this,"handleClickTab",Ft=>{this.setState({activeTab:Ft}),Ft==="comments"&&!this.state.podcastComments&&this.loadComments()}),tr(this,"handleAddPodcastComment",Ft=>{this.setState({podcastComments:[Ft].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),tr(this,"handleUpdatePodcastComments",Ft=>{let ln=0;const _n=(In,Fn)=>In.map(Wn=>Wn.id===Fn.id?(Fn.status==="deleted"?ln-=1:ln+=Fn.children.length-Wn.children.length,Fn):mr(An({},Wn),{children:_n(Wn.children,Fn)})),xn=_n(this.state.podcastComments,Ft);this.setState({podcastComments:xn,addedPodcastComments:this.state.addedPodcastComments+ln})}),tr(this,"handleUpdateSortPodcastComments",Ft=>{Object(n.i)(n.a.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:Ft}),this.setState({commentSort:Ft},()=>{this.loadComments()})});var Ot,ut;const Zt=Object(a.getUrlHash)();this.state={autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(Ot=Be.post.default_comment_sort)!=null?Ot:"best_first",activeTab:co.includes(Zt)?Zt:"details",loadedWithHeaderLink:typeof window!="undefined"&&((ut=window.location.hash)==null?void 0:ut.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!Be.paywall&&!Be.post.hidden&&Be.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=eo(Be.post.body_html),this.state.truncated=Be.truncateAt?ro(Be.post.body_html,Be.truncateAt,Be.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&(Object(m.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,Object(m.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),Object(m.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,Object(m.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=Object(e.createRef)(),this.shareDialogRef=Object(e.createRef)(),this.podcastCommentInput=Object(e.createRef)(),this.shouldShowRecommendCta=Be.pub&&!Be.pub.invite_only&&Be.user&&Be.user.has_publication&&!Be.user.is_admin&&!Be.user.is_contributor&&!Be.user.is_public_admin&&Object(r.isUserFullySubscribed)(Be.user,Be.pub),this.subscribeModalWrapper=Object(e.createRef)();const en=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=Be.post.type==="newsletter"&&en&&!Be.disableSubscribePrompt&&!Be.paywall&&!Be.freeSignup&&!Be.user&&!Zt}loadReactors(){return gr(this,null,function*(){const Be=yield p.a.get(`/api/v1/post/${this.props.post.id}/reactors`);this.setState({reactors:Be.body})})}componentDidMount(){return gr(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&Object(f.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&Object(n.i)(n.a.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors()})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return gr(this,null,function*(){const Be={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const xe=yield p.a.get(`/api/v1/post/${this.props.post.id}/comments`).query(Be);this.setState({podcastComments:xe.body.comments})}catch(xe){alert(Object(a.getNetworkErrorMessage)(xe))}})}triggerShare({fromEmail:Be}={}){Be?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(Be){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),Object(n.j)({post:this.props.post,hasPaywall:Be,surface:"publication"}))}shouldShowUFI(Be){const{fromPostPage:xe}=this.props,{canShowSubscribeFooterAfterPost:Ot}=this.state;return xe&&Ot&&!Be}shouldTrackPaywallPostSeen(){const Be=document.createElement("div");Be.innerHTML=this.props.post.body_html;const xe=this.props.pub.post_preview_limit||f.DEFAULT_PREVIEW_LIMIT;let Ot="",ut=!1;for(let Zt=Be.childNodes.length-1;Zt>=0;Zt--)if(Ot+=Be.childNodes[Zt].textContent,Ot.length>xe){ut=!0;break}return ut}render({commentsEnabled:Be,user:xe,pub:Ot,post:ut,freeSignup:Zt,freeSignupEmail:$t,reaction_token:en,invisible:Ft,paywall:ln,onChange:_n,hideTitle:xn,noTitleLink:In,showComments:Fn,fromPostPage:Wn,disableSubscribePrompt:bn,freeTrialCoupon:kn,showRecommendPostModal:qn},{activeTab:rr,loadedWithHeaderLink:Zn,truncated:Dn,coupon:Vn,autoPlay:fr,autoPlayVoiceOver:hr,podcastComments:wr,commentSort:Ur,addedPodcastComments:yr,reactors:Un}){var ur,Er,Mr,Kr,Yr;const Tr=Object(F.default)("like_posts_enabled"),Fr=(xe==null?void 0:xe.name)?`${Object(f.guessFirstName)(xe.name)}, the`:"The";let Qr=null;(xe&&(xe.is_subscribed||xe.is_free_subscribed)||Zt||Ot.podcast_feed_url||((Er=(ur=ut.section)==null?void 0:ur.podcastSettings)==null?void 0:Er.podcast_feed_url))&&(Qr=Object(m.getPodcatcherSetupUrl)(Ot));const go=xe&&Object(r.isUserFullySubscribed)(xe,Ot),po=!ln||ln&&this.shouldTrackPaywallPostSeen(),yo=ut.type==="video"&&(ln?P.d:A.a),Zr=ut.type==="podcast"&&Be,Ar=ut.comment_count+yr,ae=this.shouldShowUFI(go),ce=to(ut);let me="paid subscribers";return(Ot.parent_publication||Ot).subdomain==="thedispatch"?me="Dispatch Members only":ut.audience==="founding"&&(me=`subscribers in the ${(Mr=Object(vt.getFoundingTierName)(Ot))!=null?Mr:"Founding Member"} plan`),Object(e.h)("article",{className:s()(`typography ${ut.type}-post post`,{"tw-p-0":ut.type==="podcast"}),ref:this.containerRef},(xe==null?void 0:xe.is_contributor)&&(ut==null?void 0:ut.id)&&(ut==null?void 0:ut.type)==="page"&&Object(e.h)(Ve.a,{variant:"themed-secondary",href:Object(m.getEditPostUrlById)(Ot,ut.id,{back:document.location.href}),localNavigation:!1,leftIcon:Object(e.h)(er.a,{size:20})},"Edit"),Object(e.h)(vo,{post:ut,user:xe,onChange:_n}),Object(e.h)(T.a,{ref:this.shareDialogRef,user:xe,pub:Ot,post:ut,reaction_token:en}),this.shouldShowSubscribePrompt&&Object(e.h)(x,{pub:Ot,post:ut,user:xe}),ut.videoUpload&&yo&&Object(e.h)(yo,{mediaUpload:ut.videoUpload,pub:Ot,post:ut,autoPlay:fr,restorePlaybackLocation:!0,reaction_token:en}),ut.type==="podcast"?Object(e.h)(e.Fragment,null,Object(e.h)(_t,{bylinesEnabled:Ot.bylines_enabled,commentCount:Ar,commentsEnabled:Be,freeSignupEmail:$t,isFreeSignup:Zt,isLikesEnabled:Tr,isPaywall:ln,post:ut,pub:Ot,magicToken:en,renderEditButton:()=>Object(e.h)(cn.a,{pub:Ot,post:ut,iconHeight:18,user:xe,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:xe,onChange:_n,onClickCommentButton:this.onCommentButtonClicked,onTopReached:this.onTopReached}),Zr&&Object(e.h)(Ze,{activeTab:rr,loadedWithHeaderLink:Zn,commentCount:Ar,onClickTab:this.handleClickTab})):Object(e.h)(e.Fragment,null,Object(e.h)(xr,{user:xe,pub:Ot,post:ut,freeSignup:Zt,freeSignupEmail:$t,reaction_token:en,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,hideTitle:xn,noTitleLink:In,onChange:_n,hideDate:ut.type==="page",hideAudience:ut.type==="page",showReactions:Tr,showComments:Fn,showLabel:!0,showUpdatedIcons:!0,fromPostPage:Wn,onClickCommentButton:this.onCommentButtonClicked,reactors:Un,showRecommendPostModal:qn}),!Ft&&po&&Object(e.h)(C.a,{onVisible:()=>this.onTopReached(ln)}),ut.type==="podcast"&&(ln&&!Object(vt.podcastPostIsFreePreview)(ut)?Object(e.h)(P.c,{pub:Ot,post:ut,duration:ut.podcast_duration,paywallAudience:me}):Object(e.h)(y.a,{feature:"Podcast",pub:Ot,src:ut.podcast_url,duration:ut.podcast_duration,autoPlay:fr||Object(a.getUrlHash)()==="play",metricsPost:ut,addToPodcastLink:Qr})),(ut.has_voiceover||!!ut.voiceoverUpload)&&Object(e.h)(se.VoiceoverPlayer,{pub:Ot,post:ut,mediaUploadId:ut.voiceover_upload_id,duration:(Kr=ut.voiceoverUpload)==null?void 0:Kr.duration,autoPlay:hr,href:ut.canonical_url,isPaywalled:!ut.voiceover_upload_id}),!ut.voiceoverUpload&&hr&&ce&&Object(e.h)(on,{postId:ut.id,onClose:()=>{Object(n.i)(n.a.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:ut.id}),this.setState({autoPlayVoiceOver:!1})}})),(ut.type!=="podcast"||rr==="details"||!Be)&&Object(e.h)("div",{className:s()({"container container--podcast-post container--podcast-post-with-ufi":ut.type==="podcast"})},Object(e.h)("div",{className:"available-content"},Object(e.h)(_.a,{html:Dn||ut.body_html,pub:Ot,trackSelection:!ln,user:xe,freeSignup:Zt,freeSignupEmail:$t,post:ut,paywall:ln,showing_behind_paywall:!!ut.post_paywall_content_for_google})),ut.post_paywall_content_for_google&&Object(e.h)("div",{className:"paywall-content"},Object(e.h)(_.a,{html:ut.post_paywall_content_for_google,pub:Ot,trackSelection:!ln,user:xe,freeSignup:Zt,freeSignupEmail:$t,post:ut,paywall:ln})),!Ft&&po&&Object(e.h)(C.a,{onVisible:()=>this.onBottomReached(ln)}),ln&&!ut.post_paywall_content_for_google?Object(e.h)(e.Fragment,null,Object(e.h)(P.b,An({user:xe,freeSignupEmail:$t,freeSignup:Zt,publication:Ot,post:ut,fromPostPage:Wn,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?kn:null},Object.assign({title:`${ut.type==="video"&&((Yr=ut.videoUpload)==null?void 0:Yr.preview_duration)>0?"The full":"This"} ${Object(f.getPrintedPostType)(ut.type)} is for ${me}`,reauthenticationTitle:"To read this, please re-authenticate."},ln))),Object(e.h)(sr,{post:ut})):Dn?Object(e.h)("p",null,Object(e.h)(u.b,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",I`show full post`)):!["page"].includes(ut==null?void 0:ut.type)&&Object(e.h)(e.Fragment,null,ae&&Object(e.h)(Nr,{pub:Ot,post:ut,user:xe,freeSignup:Zt,freeSignupEmail:$t,shareCta:go}),!ae&&this.shouldShowRecommendCta&&Object(e.h)(Tt,{pub:Ot}),Object(e.h)("div",{className:"post-footer use-separators"},Object(e.h)(zt.b,{additionalCommentCount:yr,user:xe,pub:Ot,post:ut,showReactions:Tr,showComments:Fn,reaction_token:en,showShare:!0,onChange:_n,shareTooltipText:xe&&xe.is_admin&&!Ot.has_posts&&ut.slug&&ut.slug!=="----THEME-PREVIEW----"&&Object(e.h)("span",null,Fr," next step is to ",Object(e.h)("b",null,"tell everyone!")),fromPostPage:Wn,onClickCommentButton:this.onCommentButtonClicked,reactors:Un})),Object(e.h)(sr,{post:ut})),ut.show_guest_bios&&ut.type!=="podcast"&&Object(e.h)(ho,{user:xe,pub:Ot,post:ut})),ut.type==="podcast"&&rr==="comments"&&Be&&Object(e.h)("div",{className:"container tw-py-12"},Object(e.h)(Ut,{comments:wr,expectedCommentCount:Ar,post:ut,pub:Ot,sort:Ur,token:en,user:xe,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})))}}tr(zr,"contextType",bt.a);const Nr=({pub:Ue,post:Be,user:xe,shareCta:Ot,freeSignup:ut,freeSignupEmail:Zt})=>{Object(o.d)(()=>{Object(n.i)(n.a.POST_END_CTA_RENDERED,{pub_id:Ue.id,post_id:Be.id,type:"PostEndCTAFull"})},[Ue.id,Be.id]);const $t=Object(f.getByLine)(Ue);return Object(e.h)("div",{className:"post-end-cta-full"},Object(e.h)(C.a,{onVisible:()=>{Object(n.i)(n.a.POST_END_CTA_SEEN,{pub_id:Ue.id,post_id:Be.id,type:"PostEndCTAFull"})}}),Object(e.h)("h3",null,!Ot&&"Subscribe to ",Object(e.h)("b",null,Ue.name)),Object(e.h)("p",{className:"end-cta-author-subs"},$t?`By ${$t}`:null,$t&&Ue.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,Ue.rankingDetail),Ue.hero_text&&Object(e.h)("p",{className:"end-cta-hero-text"},Ue.hero_text),Ot?Object(e.h)(vn.a,{user:xe,pub:Ue,post:Be,noIcon:!0,isStatic:!1},Object(e.h)(u.b,{className:"primary share"},"Share post")):Object(e.h)(Y.b,{pub:Ue,post:Be,user:xe,freeSignup:ut,freeSignupEmail:Zt,isStatic:!1,source:"post-end-cta"}))},Qn=({pub:Ue})=>Object(e.h)("div",{className:"post-silhouette"},Object(e.h)("div",{className:"post-silhouette-title"}),Object(e.h)("div",{className:`post-silhouette-meta ${Ue&&Ue.bylines_enabled&&Ue.byline_images_enabled?"with-byline-image":""}`}),Object(e.h)("div",{className:"post-silhouette-body"})),xr=({allowEdit:Ue,allowSendEmail:Be,allowTruncate:xe,base_url:Ot,children:ut,className:Zt,hideAudience:$t,hideDate:en,hideTitle:Ft,hidePinning:ln,noTitleLink:_n,isStatic:xn,isFreePreview:In,is_draft:Fn,onChange:Wn,post:bn,pub:kn,reaction_token:qn,showComments:rr,showDatetime:Zn,showEmailSent:Dn,showReactions:Vn,showShare:fr,showSubtitle:hr,showPhoto:wr,showLabel:Ur,showRestack:yr,hideAuthor:Un,user:ur,utm_source:Er,showUpdatedIcons:Mr,fromPostPage:Kr,onClickCommentButton:Yr,reactors:Tr,inThreadHead:Fr,publishedPost:Qr,compEndsSoon:go,compEndedRecently:po,emailUfiEnabled:yo,emailUfiVariant:Zr,siteConfigValues:Ar={},eligibleForTTS:ae,showRecommendPostModal:ce,showIcon:me})=>{const _e=typeof xe=="number"?xe:45,Te=bn.title&&bn.title.length>_e,He=Fn?bn.draft_title:bn.title,et=[(me||bn.type==="thread")&&Object(e.h)(Dr.a,{postType:bn.type,isStatic:xn,height:15,className:bn.type}),Te&&xe?Object(f.truncateWords)(He,_e):He],qe=Fn?bn.draft_subtitle:bn.subtitle;bn.section_id&&kn.sections&&kn.sections.length&&(bn.section=kn.sections.find(kt=>kt.id===bn.section_id));const ct=!["page"].includes(bn==null?void 0:bn.type),Pt=ct&&xn&&go&&(Ar==null?void 0:Ar.continue_support_cta_in_newsletter_emails),At=ct&&xn&&po&&(Ar==null?void 0:Ar.continue_support_cta_emails_15d_after_expiry),Yt=Pt||At,Gt=to(bn)||ae||bn.voiceoverUpload,nn=ct&&xn;let St;bn.post_url_override?St=bn.post_url_override:xn?St=Hn.Substitutions.POST_TITLE_URL:St=`${Object(m.getPostUrl)(kn,bn)}${Er?`?utm_source=${Er}`:""}`;const ft=`${kn.base_url+(bn.section?Object(m.getSectionUrl)(kn,{section:bn.section}):"")}/?utm_source=substack&utm_medium=menu`;return Object(e.h)("div",{className:s()("post-header",Zt)},Ur&&(kn.parent_publication||bn.section)&&Object(e.h)(Ct.a,{className:"post-label"},Object(e.h)(Mt.b.Meta,{as:"a",size:14,href:ft},kn.parent_publication?kn.name:bn.section.name)),Yt&&Object(e.h)(nr,{post:bn,compAlreadyExpired:po}),!Ft&&Object(e.h)("h1",{className:s()("post-title",bn.is_published?"published":bn.type==="adhoc_email"?"adhoc":bn.type==="restack"?"restack":"unpublished")},_n?et:Object(e.h)("a",{href:St},et)),hr&&qe&&Object(e.h)("h3",{className:"subtitle"},qe),ct&&!xn&&!Qr&&!Fr?Object(e.h)(Ae,{className:"meta-subheader",pub:kn,post:bn,user:ur,showDate:!en,showDatetime:Zn,isStatic:xn,postReactionToken:qn,onChange:Wn,allowEdit:Ue,hidePinning:ln,showEmailSent:Dn,allowSendEmail:Be,allowMobileFooter:Kr,reactors:Tr,onCommentsClick:Yr,showRecommendPostModal:ce}):ct&&!xn&&Qr?Object(e.h)(gt.c,{post:bn,pub:kn,user:ur,style:"compressed",labelStyle:"counts-or-none",postReactionToken:qn,showEmailSent:Dn,hideShare:!fr,hideComments:bn.type==="restack",showPreamble:!0,allowEdit:Ue,allowSendEmail:Be,editButtonIsLast:!0,preambleConfig:{showAudience:!$t,showDate:!en,showDatetime:Zn,showAuthor:!Un},position:"publisher-post-list"}):ct?Object(e.h)(zt.c,{user:ur,pub:kn,post:bn,showDate:!en,showDatetime:Zn,showEmailSent:Dn,showAudience:!$t,showReactions:!nn&&Vn,showComments:!nn&&rr,showShare:!nn&&fr,showRestack:!nn&&yr,reaction_token:qn,onChange:Wn,isStatic:xn,isFreePreview:In,sharedShareDialog:!0,base_url:Ot,allowSendEmail:Be,allowEdit:Ue,showAuthor:!Un,showPhoto:wr,hidePinning:ln,showUpdatedIcons:Mr,inThreadHead:Fr,fromPostPage:Kr,onClickCommentButton:Yr,reactors:Tr}):Object(e.h)("div",{className:"spacer",style:{height:24}}),ct&&nn&&Object(e.h)(gt.d,{customization:{showShare:fr,showComments:rr??!0,showReactions:Vn??!0,showListen:!In&&(Zr==="with_audio"||(Ar==null?void 0:Ar.email_ufi_enabled))&&Gt,showSave:!0,showRestack:!1}}),ut)};class uo extends e.Component{constructor(){super(...arguments);tr(this,"onClick",Be=>{const xe=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&Object(a.redirect)(xe,{event:Be})}),tr(this,"getLink",()=>{var Be;return this.props.linkToComments?Object(m.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((Be=this.props.post)==null?void 0:Be.type)==="video"?Object(m.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?Object(m.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getCoverImage(){return!this.props.showCoverImage||!this.props.post.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(this.props.post.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(this.props.post.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(this.props.post.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(this.props.post.cover_image)?null:this.props.post.cover_image}showCoverImage(){return this.getCoverImage()||this.props.showCoverImage&&!this.props.coverImageOptional}getMaxTitleLength(){let Be=this.props.maxTitleLength;return typeof Be=="function"&&(Be=Be(this)),(typeof Be!="number"||!(Be>0))&&(Be=140),Be}getMaxDescriptionLength(){let Be=this.props.maxDescriptionLength;return typeof Be=="function"&&(Be=Be(this)),(typeof Be!="number"||!(Be>0))&&(Be=152),Be}renderNonSquareNonRoundedImage(Be,xe,Ot,ut,Zt,$t){return Object(e.h)("div",{className:s()("post-preview-image",{empty:!xe})},xe?Object(e.h)(dn.a,{className:s()("post-preview-inner-image",{"is-square":Zt&&Be.cover_image_is_square}),src:xe,alt:"",maxWidth:Ot,imageProps:ut,loading:$t?"lazy":null}):null)}renderRoundedSquareImage(Be,xe,Ot,ut,Zt){return Object(e.h)("div",{className:s()("post-preview-image","tw-flex","tw-justify-center","tw-mt-2",{empty:!xe})},xe?Object(e.h)(dn.a,{className:"post-preview-inner-image post-preview-image-rounded tw-rounded-lg",src:xe,alt:"",maxWidth:Ot,imageProps:ut,loading:Zt?"lazy":null}):null)}render({className:Be,post:xe,pub:Ot,user:ut,showDate:Zt,hideShare:$t,authorInMeta:en,imageAssetSize:Ft,imageAspectRatio:ln,onChange:_n,linkToComments:xn,showPublicationName:In,isBigPost:Fn,showPins:Wn,hideDescription:bn,hideAuthor:kn,isBelowTheFold:qn}){var rr,Zn;const Dn=this.getLink(),Vn=typeof window=="undefined"||Object(F.default)("like_posts_enabled"),fr=!kn&&!en&&(Ot==null?void 0:Ot.bylines_enabled)&&Object(f.getPrintedByline)(Ot,xe);!Ft&&!ln&&(ln=1.32);const hr=Ft||336;let wr=null;this.showCoverImage()&&this.getCoverImage()&&(wr=ln?{height:Math.round(hr/ln),smartCrop:!0}:{});const Ur=(rr=this.context)==null?void 0:rr.getConfigFor("show_entire_square_image"),yr=Ur&&((Zn=this.context)==null?void 0:Zn.getConfigFor("round_square_images"));return Object(e.h)("div",{className:s()("post-preview",Be,{"has-image":this.showCoverImage(),"has-author-line":!en}),onClick:this.onClick},this.showCoverImage()&&(yr&&xe.cover_image_is_square?this.renderRoundedSquareImage(xe,this.getCoverImage(),hr,wr,qn):this.renderNonSquareNonRoundedImage(xe,this.getCoverImage(),hr,wr,Ur,qn)),Object(e.h)("div",{className:"post-preview-content"},(Ot==null?void 0:Ot.parent_publication)&&Fn&&Object(e.h)(Ct.a,{className:"post-label"},Object(e.h)(Mt.b.Meta,{as:"a",size:14,href:`${Ot.base_url}/?utm_source=substack&utm_medium=menu`},Ot.name)),Object(e.h)("a",{href:Dn,className:`post-preview-title ${xe.type}`},xe.type==="thread"&&Object(e.h)(v.default,{height:Fn?26:17,className:"thread"}),xe.type==="podcast"&&Object(e.h)(E.default,{height:Fn?26:17,className:"podcast"}),xe.type==="video"&&Object(e.h)(w.default,{height:Fn?26:19,width:Fn?26:19,className:"video"}),xn&&xe.type!=="thread"&&"Comments on: ",Object(f.truncateWords)(xe.title,this.getMaxTitleLength())),!bn&&Object(e.h)("a",{href:Dn,className:"post-preview-description"},b()(Object(f.truncateWords)(xe.description,this.getMaxDescriptionLength()))),fr&&Object(e.h)("div",{className:"post-preview-author"},Object(f.getBylineUsers)(xe).length>0?Object(f.oxfordComma)(Object(f.getBylineUsers)(xe).map(Un=>Object(e.h)(N.a,{wrap:!0,subject:Un},Object(e.h)("a",{href:Object(m.getProfileUrl)(Un,Ot),onClick:ur=>ur.stopPropagation()},Un.name)))):Object(f.getPrintedByline)(Ot,xe)),Ot&&Object(e.h)(gt.c,{pub:Ot,post:xe,user:ut,hideShare:$t,hideReactions:!Vn,hideComments:!Object(f.showCommentsOnPost)({publication:Ot,post:xe}),allowEdit:!0,editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:_n,showPreamble:!0,preambleConfig:{showPins:Wn,showAudience:!0,showDate:Zt,showAuthor:!kn&&!fr&&en,showPublicationName:In},position:"post-list"})))}}tr(uo,"contextType",bt.a);function fo({post:Ue,pub:Be,user:xe}){var Ot,ut,Zt;const $t=Object(bt.c)(),en=xe.is_subscribed,Ft=xe.is_subscribed||xe.is_free_subscribed,ln=(Ue==null?void 0:Ue.audience)?Object(ze.userHasFullAccessToPost)(xe,Ue):!0,_n=xe.email,In=(Ue==null?void 0:Ue.free_unlock_required)&&!Ft&&["treatment_short","treatment_long"].includes($t.getVariantFor("longer_freewall")),Fn=xe&&!xe.is_admin&&!xe.is_author&&!!(Ue==null?void 0:Ue.audience_before_archived)&&!(xe.is_subscribed&&ln)&&Object(Cn.maybeGetVariantFor)("paywall_the_archives")==="control";let Wn=!Ue.hidden&&(en||Ue&&!Object(ze.isPaidAudience)(Ue.audience)&&!In||Ue&&!Ue.slug&&!In);Wn=Fn||Wn;const bn=Wn?!1:In?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${Be.name} to unlock this ${Ue.type==="podcast"?"episode":"post"}`}:!0;let kn="paid subscribers";(Be.parent_publication||Be).subdomain==="thedispatch"?kn="Dispatch Members only":Ue.audience==="founding"&&(kn=`subscribers in the ${(Ot=Object(vt.getFoundingTierName)(Be))!=null?Ot:"Founding Member"} plan`);const qn=Ue.type==="video"&&(bn?P.d:A.a);Object(ar.b)();const rr=Object(o.j)();Object(o.d)(()=>{const Dn="post viewer",Vn=Boolean(bn);Object(n.k)({post:Ue,hasPaywall:Vn,surface:Dn});let fr=!1;const hr=()=>{if(!fr){const wr=rr.current;wr&&wr.getBoundingClientRect().top<window.innerHeight&&(fr=!0,Object(n.j)({post:Ue,hasPaywall:Vn,surface:Dn}))}};return window.addEventListener("scroll",hr,{passive:!0,capture:!0}),()=>{window.removeEventListener("scroll",hr,{capture:!0})}},[Ue.id]);const{publishedBylines:Zn}=Ue;return Object(e.h)(Ct.b,{as:"article",className:s()(`typography ${Ue.type}-post post post-viewer-post`),gap:16},Ue.videoUpload&&qn&&Object(e.h)(Ct.a,{justifyContent:"center"},Object(e.h)(Ct.a,{justifyContent:"center",flex:"grow",style:{maxWidth:700}},Object(e.h)(qn,{mediaUpload:Ue.videoUpload,pub:Be,post:Ue,restorePlaybackLocation:!0}))),Object(e.h)(Ct.a,{justifyContent:"center"},Object(e.h)(Ct.b,{gap:16,style:{maxWidth:600},flex:"grow"},Object(e.h)(Ct.b,{gap:4,alignItems:"start"},Object(e.h)(Mt.b.Meta,{as:"a",href:Object(m.getBaseUrl)(Be),target:"_blank",decoration:"hover-underline"},Be.name),Object(e.h)(Ct.b,{gap:8,alignItems:"start"},Object(e.h)(Mt.b.H2,{as:"a",href:Object(m.getPostUrl)(Be,Ue),target:"_blank",size:32,lineHeight:40,decoration:"hover-underline"},Ue.title),Ue.type!=="podcast"&&Ue.subtitle&&Object(e.h)(Mt.b.B3,{color:"secondary"},Ue.subtitle))),Zn.length>0&&Object(e.h)(Ct.a,{justifyContent:"space-between",alignContent:"center"},Object(e.h)(Ct.b,null,Object(e.h)(Mt.b.Meta,{color:"primary"},Object(e.h)(Yn.a,{array:Zn,formatter:Dn=>Object(e.h)(N.d,{subject:Dn},Object(e.h)(Mt.b,{as:"a",href:Object(m.getReaderProfileUrl)(Dn),decoration:"hover-underline"},Dn.name)),limit:4})),Object(e.h)(Mt.b.Meta,{color:"secondary"},new Date(Ue.post_date).toLocaleDateString())),Object(e.h)(Ct.a,null,Object(e.h)(mt.c,{faces:Zn,hoverProfiles:!0,maximum:4}))),Object(e.h)("hr",{style:"margin: 16px 0"}))),Object(e.h)("div",{className:s()({"container container--podcast-post container--podcast-post-with-ufi":Ue.type==="podcast"})},Ue.type==="podcast"&&Object(e.h)(Ct.b,{paddingBottom:32},Object(e.h)(un,{post:Ue,pub:Be,user:xe,isPaywall:Boolean(bn)})),(Ue.has_voiceover||!!Ue.voiceoverUpload)&&Object(e.h)(Jr,null,Object(e.h)(se.VoiceoverPlayer,{pub:Be,post:Ue,mediaUploadId:Ue.voiceover_upload_id,duration:(ut=Ue.voiceoverUpload)==null?void 0:ut.duration,href:Ue.canonical_url,isPaywalled:!Ue.voiceover_upload_id})),Object(e.h)("div",{className:"available-content reader2-post-content"},Object(e.h)(_.a,{html:Ue.body_html,pub:Be,trackSelection:!bn,user:xe,freeSignup:Ft,freeSignupEmail:_n,post:Ue,paywall:bn,showing_behind_paywall:!!Ue.post_paywall_content_for_google})),Object(e.h)(Jr,{paddingY:24,borderTop:"detail",ref:rr},bn&&Object(e.h)(P.b,An({user:xe,freeSignupEmail:_n,freeSignup:Ft,publication:Be,post:Ue,title:`${Ue.type==="video"&&((Zt=Ue.videoUpload)==null?void 0:Zt.preview_duration)>0?"The full":"This"} ${Object(f.getPrintedPostType)(Ue.type)} is for ${kn}`,reauthenticationTitle:"To read this, please re-authenticate."},bn)),Object(e.h)(zt.a,{post:Ue,pub:Be,user:xe}))))}function Jr(Ue){return Object(e.h)(Ct.b,An({style:{width:"var(--page-width)",margin:"0 auto"}},Ue))}const qr=({className:Ue,pub:Be})=>Object(e.h)("div",{className:`post-preview-silhouette has-image ${Ue||""}`},Object(e.h)("div",{className:"post-preview-silhouette-image"}),Object(e.h)("div",{className:"post-preview-silhouette-content"},Object(e.h)("div",{className:"post-preview-silhouette-title"}),Object(e.h)("div",{className:"post-preview-silhouette-description"}),Be&&Be.bylines_enabled&&Object(e.h)("div",{className:"post-preview-silhouette-author"}),Object(e.h)("div",{className:"post-preview-silhouette-meta"}))),ho=({user:Ue,pub:Be,post:xe})=>{const Ot=Object(f.getBylineUsers)(xe).filter(ut=>ut.is_guest);return Ot.length===0?null:Object(e.h)("div",{class:"post-contributor-footer"},Object(e.h)("div",{class:"container-border"}),Ot.map(ut=>{const Zt=Object(f.guessFirstName)(ut.name);let $t=ut.primaryPublicationSubscribeUrl;$t&&(Ue==null?void 0:Ue.email)&&($t=Object(m.updateQuery)($t,{email:Ue.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const en=Object(m.updateQuery)(Object(m.getReaderProfileUrl)(ut),{utm_campaign:"guest_post_bio",utm_medium:"web"}),Ft=K.c.hasCustomProfilePhoto(ut);return Object(e.h)("div",{className:s()("post-contributor-bio",{"post-contributor-bio-no-text":!ut.bio}),"data-user-id":ut.id},Object(e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},Object(e.h)("tr",{className:"post-contributor-bio-table-row"},Ft&&Object(e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},Object(e.h)(N.d,{subject:ut},Object(e.h)(K.c,{size:52,user:Ue,pub:Be,subject:ut}))),Object(e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},Object(e.h)("div",{className:"post-contributor-bio-body"},ut.bio&&Object(e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),Object(e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},Object(e.h)("tr",{className:"post-contributor-bio-body-table-row"},Object(e.h)("td",{className:"post-contributor-bio-copy-cell"},!ut.bio&&Object(e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),Object(e.h)(N.d,{subject:ut},Object(e.h)("a",{className:"post-contributor-bio-title",href:en,native:!0},ut.name)),ut.bio&&Object(e.h)("div",{className:"post-contributor-bio-text"},ut.bio)),Object(e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},Object(e.h)("div",{className:"post-contributor-bio-controls"},$t&&Object(e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:$t,native:!0},Object(e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},"Subscribe to ",Zt)))))))))))}))};class So extends e.Component{render({renderPost:Be,posts:xe,hideFirstHeading:Ot,className:ut,top:Zt,children:$t}){return xe=xe.slice(0).sort((en,Ft)=>c()(Ft.post_date)-c()(en.post_date)),Object(e.h)("div",{className:`calendared-post-list ${ut||""}`},Zt,Object(f.flat)(this.renderByHeading(xe,"year",(en,Ft)=>[!Ft.isSameNow("year")&&Object(e.h)("h2",{date:Ft},Ft.year()),this.renderByHeading(en,"month",(ln,_n)=>[!(_n.isSameNow("year")&&_n.isSameNow("month"))&&Object(e.h)("h3",{date:Ft},Object(f.get_month_name)(_n)," ",!_n.isSameNow("year")&&_n.year()),ln.map(xn=>Be(xn,xe.indexOf(xn),xe))])]),1/0).filter(en=>en).filter((en,Ft,ln)=>!Ot||Ft>=ln.findIndex(_n=>!_n.props||!_n.props.date)),$t)}renderByHeading(Be,xe,Ot){return Array.from(Object(f.group_by)(Be,ut=>c()(ut.post_date)[xe]())).sort((ut,Zt)=>Zt[0]-ut[0]).map(([,ut])=>Ot(ut,c()(ut[0].post_date)))}}function ro(Ue,Be=1e4,xe=Be){if(typeof window=="undefined")return null;const Ot=document.createElement("div");if(Ot.innerHTML=Ue,Ot.textContent.length<Be||Ot.childNodes.length<=1)return null;do Ot.removeChild(Ot.lastChild);while(Ot.childNodes.length>1&&Ot.textContent.length>xe);return Ot.innerHTML}function eo(Ue,Be=500){if(typeof window=="undefined")return!1;const xe=document.createElement("div");xe.innerHTML=Ue;let Ot="",ut=!1;for(let Zt=xe.childNodes.length-1;Zt>=0;Zt--){const $t=xe.childNodes[Zt];if(Object(a.hasClass)($t,"button-wrapper")||Object(a.hasClass)($t,"subscription-widget-wrap")){ut=!0;break}if(Ot+=$t.textContent,Ot.length>Be)break}return!ut}function vo({post:Ue,user:Be,onChange:xe}){const{onSave:Ot}=Object(gt.n)({post:Ue,isSaved:!1});return Object(o.d)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",Object(m.updateQuery)({action:null})),Be)){const Zt=Ot();xe({post:mr(An({},Ue),{is_saved:Zt})})}},[]),null}function to(Ue){var Be;return(Be=Ue.audio_items)==null?void 0:Be.some(xe=>xe.type==="tts")}},function(S,i){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){i.cleanSlug=(t,{hashIfEmpty:e=!1,allowUnicode:o=!1}={})=>{const l=(t||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(o?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return t&&typeof t=="string"&&!l&&e?Array.from(t).map(s=>s.codePointAt(0)).map(s=>s.toString(16)).join("").substring(0,12):l}},function(S,i,t){"use strict";t.d(i,"d",function(){return R}),t.d(i,"e",function(){return D}),t.d(i,"c",function(){return j}),t.d(i,"a",function(){return B}),t.d(i,"b",function(){return x});var e=t(0),o=t(10),l=t.n(o),s=t(177),h=t.n(s),c=t(5),d=t(8),p=t.n(d),f=t(7),O=t.n(f),b=t(26),m=t(105),a=t(143),n=t(67),r=t(6),u=t.n(r),v=t(3),E=t.n(v),w=t(28),C=Object.defineProperty,_=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,k=(P,y,A)=>y in P?C(P,y,{enumerable:!0,configurable:!0,writable:!0,value:A}):P[y]=A,$=(P,y)=>{for(var A in y||(y={}))T.call(y,A)&&k(P,A,y[A]);if(_)for(var A of _(y))W.call(y,A)&&k(P,A,y[A]);return P},H=(P,y,A)=>(k(P,typeof y!="symbol"?y+"":y,A),A),g=(P,y,A)=>new Promise((K,N)=>{var Y=X=>{try{G(A.next(X))}catch(q){N(q)}},F=X=>{try{G(A.throw(X))}catch(q){N(q)}},G=X=>X.done?K(X.value):Promise.resolve(X.value).then(Y,F);G((A=A.apply(P,y)).next())});const M="\u2764",R=(P,y,A)=>{const{reaction:K,reactions:N,reactor_names:Y}=U(P,y,A);L(y,K,N,Y)},D=(P,y)=>U(P,y,!y.reaction),U=(P,y,A)=>{let{reaction:K,reactions:N={},reactor_names:Y=[]}=y;return N=$({},N),Y=[...Y],A&&!K?(K=M,N[K]=N[K]?N[K]+1:1,P&&P.is_public_admin&&Y.push(P.name||"author")):!A&&K&&(N[M]=N[M]?N[M]-1:0,P&&P.is_public_admin&&(Y=Y.filter(F=>F!==(P.name||"author"))),K=null),{reaction:K,reactions:N,reactor_names:Y}},L=(P,y,A,K)=>{P.reaction=y,P.reactions=A,P.reactor_names=K};function j(P,y,A,K){const N=Object(v.pathWithQuery)(`/api/v1/${y?"comment":"post"}/${P.id}/reaction`,{token:K});return A?l.a.post(N).send({reaction:M}):l.a.delete(N)}class B extends e.Component{constructor(){super(...arguments);H(this,"state",{includeModal:!1}),H(this,"modalRef",Object(e.createRef)(null)),H(this,"react",y=>g(this,null,function*(){if(this.props.isStatic)return;y&&y.stopPropagation();const K=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(K),this.props.noSelfUpdate)return;const N=yield Object(d.stateLock)(this,"locked",(Y,F)=>g(this,null,function*(){const G=F.comment||F.post,X=j(G,!!F.comment,K,F.token),{reaction:q,reactions:se,reactor_names:ie}=D(F.user,G);this.notifyParent({reactions:se,reaction:q,reactor_names:ie});let Ee;try{yield X}catch(Ie){Ee=Ie,this.notifyParent(G)}return{error:Ee,reaction:q}}));return N&&N.error&&(N.error.response&&N.error.response.statusCode===401?yield this.reactionRejected(N.reaction):alert(Object(d.getNetworkErrorMessage)(N.error))),!!N&&!N.error}))}notifyParent({reaction:y,reactions:A,reactor_names:K}){const N=$({},this.props.post),Y=this.props.comment&&$({},this.props.comment);L(Y||N,y,A,K),this.props.onChange&&this.props.onChange({post:N,comment:Y})}reactionRejected(y){return g(this,null,function*(){Object(c.i)(c.a.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!y}),yield new Promise(A=>{this.state.includeModal?this.modalRef.current.open(A):this.setState({includeModal:!0},()=>this.modalRef.current.open(A))})})}render({className:y,user:A,pub:K,comment:N,height:Y,isStatic:F,post:G,buttonStyle:X,hideReactionCount:q}){const se=N||G,ie=se.reaction,Ee=se.reactions||{},Ie=h()(Object.values(Ee));let ge;return G&&G.reaction_url_override?ge=G.reaction_url_override:F?ge=w.Substitutions.REACTION_URL:ge="javascript:void(0)",Object(e.h)("span",{className:y},this.props.render?this.props.render({liked:ie,numReactions:Ie>0?Object(f.numberToString)(Ie):null,onClick:oe=>{this.react(oe)}}):Object(e.h)("a",{href:ge,className:u()("like-button",{button:X,"post-meta-button":X,liked:ie}),onClick:oe=>this.react(oe)},F?Object(e.h)(a.default,{ampProps:{layout:"fixed"},isStatic:!0,height:Y,stroke:"#757575",fill:"transparent"}):Object(e.h)("div",{className:"reaction-container"},Object(e.h)(a.default,{className:"animation"}),!ie&&Object(e.h)(a.default,{strokeWidth:1.5,height:Y,fill:"transparent",stroke:"#757575"}),ie&&Object(e.h)(a.default,{height:Y,strokeWidth:1.5})),!q&&Ie>0&&Object(e.h)("span",{className:"like-count"},Object(f.numberToString)(Ie)),X&&(q||Ie===0)&&Object(e.h)("span",{className:"like-count"},"Like")),!F&&this.state.includeModal&&Object(e.h)(x,{modalRef:this.modalRef,user:A,pub:K,comment:N,react:this.react}))}}function x({comment:P,pub:y,user:A,modalRef:K,onClose:N,react:Y}){return Object(e.h)(b.b,{className:"modal-free-signup",ref:K,onClose:N},Object(e.h)("h2",{className:"page-title"},"Subscribe to like this ",P?"comment":"post"),Object(e.h)(m.a,{user:A,pub:y,source:"like_button",onSuccess:F=>g(this,null,function*(){const G=F&&F.body&&F.body.email;F&&F.body&&F.body.prompt_to_login||!(yield Y())?window.location.href=Object(v.getSigninUrl)({for_pub:y.subdomain,email:G}):(K==null?void 0:K.current)&&(Object(n.b)({freeSignup:!0,freeSignupEmail:G}),yield K.current.close())})}))}},function(S,i,t){"use strict";t.d(i,"f",function(){return P}),t.d(i,"a",function(){return y}),t.d(i,"c",function(){return A}),t.d(i,"d",function(){return N}),t.d(i,"b",function(){return Y});var e=t(209),o=t(3),l=t(7),s=t(37),h=t(12),c=t(257),d=t(0),p=t(2),f=t(6),O=t.n(f),b=t(5),m=t(10),a=t.n(m),n=(X,q,se)=>new Promise((ie,Ee)=>{var Ie=ee=>{try{oe(se.next(ee))}catch(te){Ee(te)}},ge=ee=>{try{oe(se.throw(ee))}catch(te){Ee(te)}},oe=ee=>ee.done?ie(ee.value):Promise.resolve(ee.value).then(Ie,ge);oe((se=se.apply(X,q)).next())}),r;(function(X){X.READER_ONBOARDING="READER_ONBOARDING",X.SEARCH_RESULTS="SEARCH_RESULTS"})(r||(r={}));const u={[r.READER_ONBOARDING]:{subscribe:b.a.SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED,unsubscribe:b.a.UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED},[r.SEARCH_RESULTS]:{subscribe:b.a.SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED,unsubscribe:b.a.UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED}},v=({user:X,pub:q,isSubscribed:se,subscribedButtonText:ie="Subscribed",onClick:Ee,trackingContext:Ie=r.SEARCH_RESULTS})=>{const[ge,oe]=Object(p.k)(!1),[ee,te]=Object(p.k)(!!se),le=X?ee:se;return X&&q&&X.id===q.author_id?Object(d.h)(h.b,{disabled:!0,className:O()({secondary:!0,"subscribe-button":!0,subscribed:!0})},"Owner"):Object(d.h)(h.b,{className:O()({secondary:!0,"subscribe-button":!0,subscribed:le}),onClick:()=>n(void 0,null,function*(){const z=!le;if(z?Object(b.i)(u[Ie].subscribe,{pub_id:q.id}):Object(b.i)(u[Ie].unsubscribe,{pub_id:q.id}),X){let V=!1;oe(!0),te(z),z?V=!!(yield a.a.post("/api/v1/reader/signup/pub").send({publication_id:q.id,email:X.email,visibility:"public",source:"search-results-subscribe-button"})).ok:V=!(yield a.a.post("/api/v1/subscription/email").send({digest_enabled:!1,email_disabled:!0,publication_id:q.id})).ok,te(V),oe(!1),Ee==null||Ee(V)}else te(z),Ee==null||Ee(z)})},le&&ie,!le&&"Subscribe")};var E=t(393),w=t(154),C=t(36),_=t(183),T=t(396),W=t(52),k=t(8),$=t(263),H=t(81),g=Object.defineProperty,M=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,U=(X,q,se)=>q in X?g(X,q,{enumerable:!0,configurable:!0,writable:!0,value:se}):X[q]=se,L=(X,q)=>{for(var se in q||(q={}))R.call(q,se)&&U(X,se,q[se]);if(M)for(var se of M(q))D.call(q,se)&&U(X,se,q[se]);return X},j=(X,q)=>{var se={};for(var ie in X)R.call(X,ie)&&q.indexOf(ie)<0&&(se[ie]=X[ie]);if(X!=null&&M)for(var ie of M(X))q.indexOf(ie)<0&&D.call(X,ie)&&(se[ie]=X[ie]);return se};function B(X){const q=X.plans&&X.plans.filter(Ee=>Ee.interval==="month").sort((Ee,Ie)=>Ee.amount-Ie.amount)[0],se=X.plans&&X.plans.filter(Ee=>Ee.interval==="year").sort((Ee,Ie)=>Ee.amount-Ie.amount)[0],ie=q||se;if(ie)return Object(l.planBasePricing)(ie)}const x={desktop:15,mobile:6};function P(X,{includePrice:q=!0,includeRankingDetail:se=!0,includeByline:ie=!0}={}){const Ee=Object(l.getByLine)(X);return[ie&&Ee&&`By ${Ee}`,se&&X.rankingDetail,q&&B(X)].filter(Ie=>!!Ie).join("  \xB7  ")}const y=({className:X,hasFeatured:q,categories:se,categoryId:ie,categoryIds:Ee,loadingCategoryId:Ie,ranking:ge,onCategoryClicked:oe,defaultExpanded:ee,isReaderOnboarding:te})=>{const[le,Q]=Object(p.k)(ee||!1),z=Object(H.useMediaQuery)({query:"only screen and (max-width: 650px)"}),V=x[z?"mobile":"desktop"],ne=le?se:se.slice(0,V),re=de=>de.id===ie||(Ee==null?void 0:Ee.includes(de.id));return Object(d.h)("div",{className:O()("categories",X)},q?Object(d.h)(h.b,{className:O()({active:ie==="featured"&&(!Ie||Ie==="featured"),loading:Ie==="featured"&&ie!=="featured"}),onClick:()=>oe({categoryId:"featured",ranking:"all",categories:se})},"Featured"):null,ne.map(de=>Object(d.h)(h.b,{key:de.id,className:O()({active:re(de)&&(!Ie||Ie===de.id),loading:Ie===de.id&&ie!==de.id}),onClick:()=>oe({categoryId:de.id,ranking:ge,categories:se})},de.id==="twitter"&&Object(d.h)(w.default,{width:z?12:15,height:z?12:15,strokeWidth:0}),Object(l.toTitleCase)(de.canonical_name||""))),!te&&Object(d.h)(h.b,{className:O()({active:ie===l.COMMUNITY_PICKS_CATEGORY_NAME&&(!Ie||Ie===l.COMMUNITY_PICKS_CATEGORY_NAME),loading:Ie===l.COMMUNITY_PICKS_CATEGORY_NAME&&ie!==l.COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>oe({categoryId:l.COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:se})},"Writer favorites"),!te&&Object(d.h)(h.b,{className:O()({active:ie===l.TASTEMAKER_CATEGORY_NAME&&(!Ie||Ie===l.TASTEMAKER_CATEGORY_NAME),loading:Ie===l.TASTEMAKER_CATEGORY_NAME&&ie!==l.TASTEMAKER_CATEGORY_NAME}),onClick:()=>oe({categoryId:l.TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:se})},"Featured recommenders"),se.length>V&&!le&&Object(d.h)(h.b,{className:"show-more",onClick:()=>Q(!0)},Object(d.h)(E.default,null)))},A=({publications:X,explanations:q,ranking:se,openInNew:ie,startRankAt:Ee=0,source:Ie,onPublicationVisited:ge=null,categories:oe,user:ee,shouldShowSubscribeButton:te=!1,onReaderOnboarded:le,categoryId:Q})=>{const z=Object(p.j)(null);return Object(d.h)(d.Fragment,null,te&&le&&Object(d.h)($.a,{ref:z,categories:oe||[],entry:"search-results-subscribe-button",noCloseButton:!0,user:ee,onClose:()=>{le()}}),Object(d.h)("div",{className:"publications"},X.map((V,ne)=>{var re,de,fe;let we=q&&q[ne];if(!V)return;we||(we=[]);const Ge=we.filter(he=>["posts.title","posts.subtitle"].includes(he.type)),$e=!!((de=(re=Ge[0])==null?void 0:re.posts[0][0])==null?void 0:de.slug);let it;$e&&(it=(fe=Ge[0])==null?void 0:fe.posts[0][0]);const st=we.filter(he=>he.type==="description")[0],Rt=we.filter(he=>["name","subdomain","hero_text","custom_domain","author_name"].includes(he.type)).length>0||!st&&!it,Ht=we.filter(he=>he.type==="description").map(he=>he.keyword),je=we.filter(he=>["posts.title","posts.subtitle"].includes(he.type)).map(he=>he.keyword);let Oe;st&&(Oe=new RegExp(st.keyword,"g"));const be=Object(o.getPubUrl)(V,{params:{utm_source:Ie||"discover"},signedIn:!!ee});return te?Object(d.h)("div",{key:V.id,className:"publication with-subscribe-button"},Object(d.h)("div",{className:"publication-content"},Object(d.h)(s.a,{pub:V,href:be,logo_url:V.logo_url||V.author_photo_url,linkify:!1,belowTheFold:!0}),Object(d.h)("div",{className:"publication-text-area"},Object(d.h)("div",{className:"publication-name-author-description"},Object(d.h)("a",{href:be,native:!0,target:ie?"_blank":null,onClick:()=>{Object(b.l)(V,Ie||"leaderboards",{position:ne+1,category:Q}),ge&&ge(V)},rel:"noopener",className:"publication-title"},V.name),Object(d.h)("div",{className:"publication-description"},V.editorial_bio||K(V.hero_text,Ht)),Object(d.h)("div",{className:"publication-author"},P(V))),Object(d.h)(v,{pub:V,isSubscribed:V.is_current_user_subscribed,onClick:()=>{ee||z.current.openToPubSignup(V)},user:ee})))):Object(d.h)("a",{key:V.id,className:"publication",href:be,native:!0,target:ie?"_blank":null,onClick:he=>{Object(b.l)(V,Ie||"leaderboards",{position:ne+1,category:Q}),ge&&ge(V)},rel:"noopener"},se==="paid"?Object(d.h)("div",{className:"publication-rank"},ne+1+Ee):null,Object(d.h)("div",{className:"publication-content"},Object(d.h)(s.a,{pub:V,href:be,logo_url:V.logo_url||V.author_photo_url,linkify:!1,belowTheFold:!0}),Object(d.h)("div",{className:"publication-text-area"},Object(d.h)("div",{className:"publication-title"},V.name),(Rt||it)&&Object(d.h)("div",{className:"publication-description"},V.editorial_bio||K(V.hero_text,Ht)),!Rt&&st&&!it&&Object(d.h)("div",{className:"publication-description"},K(st.sentence,Ht)),!Rt&&it&&Object(d.h)("div",{className:"publication-explanation-box"},$e&&Object(d.h)("a",{className:"title",href:Object(o.getPostUrl)(V,it)},Object(d.h)("div",{className:"post-preview-content"},Object(d.h)("div",{className:"left-flex"},Object(d.h)("p",{className:"title"},K(it.title,je)),Object(d.h)("p",{className:"subtitle"},K(it.subtitle,je))),Object(d.h)("div",{className:"right-flex"},Object(d.h)("img",{src:it.cover_image,className:it.cover_image?"":"no-preview"}))))),Object(d.h)("div",{className:"publication-author"},P(V)))))})))};function K(X,q){if(!X)return"";const se=new RegExp(q.join("|"),"ig"),ie=X.split(se),Ee=[...X.matchAll(se)];return Object(d.h)("span",null,ie.map((Ie,ge)=>Object(d.h)(d.Fragment,null,Ie,ge!==ie.length-1&&Object(d.h)("b",null,Ee[ge]))))}const N=({onCategoryClicked:X,categoryId:q,ranking:se,loadingRanking:ie,categories:Ee})=>["featured","twitter",l.COMMUNITY_PICKS_CATEGORY_NAME,l.TASTEMAKER_CATEGORY_NAME].includes(q)?null:Object(d.h)("div",{className:"ranking-toggle"},Object(d.h)(C.a,{className:O()({active:se==="paid"&&!ie||ie==="paid",loading:ie==="paid"&&se!=="paid"}),onClick:()=>X({categoryId:q,ranking:"paid",categories:Ee})},"Top paid"),"  \xB7  ",Object(d.h)(C.a,{className:O()({active:se==="all"&&!ie||ie==="all",loading:ie==="all"&&se!=="all"}),onClick:()=>X({categoryId:q,ranking:"all",categories:Ee})},"All")),Y=X=>{var q=X,{Component:se=F}=q,ie=j(q,["Component"]);const Ee=Object(T.a)(ie);return Ee.categories?Object(d.h)(se,L({},Ee)):null};class F extends d.Component{componentDidUpdate(q){if(this.props.categorySlug===q.categorySlug&&this.props.rankingSlug===q.rankingSlug)return;const se=Object(e.getCategoryIdFromSlug)(this.props.categorySlug,this.props.categories),ie=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:se,ranking:ie})}startReading(q){window.sessionStorage.setItem("initialJoinSubstack","true"),Object(b.i)(b.a.HOMEPAGE_READER_LINK_CLICKED,{url:Object(o.getBaseReaderUrl)()}),Object(k.redirect)(Object(o.getBaseReaderUrl)(),{event:q})}render({categories:q,publications:se,categoryId:ie,loadingCategoryId:Ee,ranking:Ie,loadingRanking:ge,onCategoryClicked:oe,hasMore:ee,viewMore:te,featuredPublications:le,underratedPublications:Q,tastemakerPublications:z,maxPublications:V,showTwitterBanner:ne,user:re}){const de=ie==="featured",fe=ie===l.COMMUNITY_PICKS_CATEGORY_NAME,we=ie===l.TASTEMAKER_CATEGORY_NAME,Ge=ie==="twitter",$e=q.find(it=>it.id===ie);return de&&!le.length&&typeof window!="undefined"&&oe({categoryId:l.COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:q}),Object(d.h)("div",{className:O()("new-landing-page reader-landing-page page",{"category-featured":de})},Object(d.h)("div",{className:"container"},Object(d.h)("div",{className:"landing-content"},Object(d.h)("div",{className:"landing-section landing-publications"},Object(d.h)("div",{className:"publications-header not-mobile"},Object(d.h)(N,{categories:q,categoryId:ie,ranking:Ie,onCategoryClicked:oe})),Object(d.h)(A,{publications:se,ranking:de||fe||we?"all":Ie,categoryId:ie}),Ie==="all"&&!de&&!fe&&!we&&!Ge&&!V&&ee&&Object(d.h)("div",{className:"view-more"},Object(d.h)(h.b,{className:"primary top-pad",onClick:te},"View more")),V&&ie!=="featured"&&Object(d.h)("div",{className:"see-all",style:{paddingLeft:Ie==="all"?"108px":"146px"}},Object(d.h)("a",{href:de?Object(o.getDiscoverCategoryUrl)():[l.TASTEMAKER_CATEGORY_NAME,l.COMMUNITY_PICKS_CATEGORY_NAME].includes(ie)?Object(o.getDiscoverCategoryUrl)({slug:ie},Ie):Object(o.getDiscoverCategoryUrl)($e,Ie),native:!0},"See all ",Object(d.h)(c.default,{width:7,height:11,color:"#544740",style:{marginLeft:"3px"}})))),Object(d.h)("div",{className:"landing-section landing-categories"},Object(d.h)("div",{className:"only-mobile"},Object(d.h)("div",{className:"mobile-toggle"},Object(d.h)(N,{categories:q,categoryId:ie,ranking:Ie,onCategoryClicked:oe}))),Object(d.h)(y,{hasFeatured:le&&le.length>0,hasUnderrated:Q&&Q.length>0,hasTastemakers:z&&z.length>0,categories:q,categoryId:ie,loadingCategoryId:Ee,onCategoryClicked:oe,ranking:Ie,loadingRanking:ge}))),ne&&ie==="featured"&&!(re==null?void 0:re.has_linked_twitter)?Object(d.h)(_.b,null):null))}}var G=i.e=Y},function(S,i,t){"use strict";t.d(i,"a",function(){return it}),t.d(i,"b",function(){return Rt}),t.d(i,"c",function(){return ee});var e=t(1);function o(je,Oe){for(var be=0;be<Oe.length;be++){var he=Oe[be];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(je,he.key,he)}}function l(je,Oe,be){return Oe&&o(je.prototype,Oe),be&&o(je,be),je}function s(){return s=Object.assign||function(je){for(var Oe=1;Oe<arguments.length;Oe++){var be=arguments[Oe];for(var he in be)Object.prototype.hasOwnProperty.call(be,he)&&(je[he]=be[he])}return je},s.apply(this,arguments)}function h(je,Oe){je.prototype=Object.create(Oe.prototype),je.prototype.constructor=je,c(je,Oe)}function c(je,Oe){return c=Object.setPrototypeOf||function(he,Ce){return he.__proto__=Ce,he},c(je,Oe)}function d(je,Oe){if(je==null)return{};var be={},he=Object.keys(je),Ce,De;for(De=0;De<he.length;De++)Ce=he[De],!(Oe.indexOf(Ce)>=0)&&(be[Ce]=je[Ce]);return be}function p(je,Oe){if(!!je){if(typeof je=="string")return f(je,Oe);var be=Object.prototype.toString.call(je).slice(8,-1);if(be==="Object"&&je.constructor&&(be=je.constructor.name),be==="Map"||be==="Set")return Array.from(je);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return f(je,Oe)}}function f(je,Oe){(Oe==null||Oe>je.length)&&(Oe=je.length);for(var be=0,he=new Array(Oe);be<Oe;be++)he[be]=je[be];return he}function O(je,Oe){var be=typeof Symbol!="undefined"&&je[Symbol.iterator]||je["@@iterator"];if(be)return(be=be.call(je)).next.bind(be);if(Array.isArray(je)||(be=p(je))||Oe&&je&&typeof je.length=="number"){be&&(je=be);var he=0;return function(){return he>=je.length?{done:!0}:{done:!1,value:je[he++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(je){var Oe=Object(e.useRef)(null);function be(he){!he||he===Oe.current||(Oe.current=he,je(he))}return be}function m(je){var Oe=Object(e.useRef)(je);return Object(e.useMemo)(function(){function be(Ce){typeof Ce=="function"?Oe.current=Ce(Oe.current):Oe.current=Ce}function he(){return Oe.current}return[he,be]},[])}function a(){var je=Object(e.useRef)([]);return Object(e.useMemo)(function(){function Oe(){return je.current.length>0}function be(){for(var Ce=O(je.current),De;!(De=Ce()).done;){var Se=De.value;Se()}je.current=[]}function he(Ce){je.current.push(Ce)}return{hasEventSubscriptions:Oe,removeAllEventSubscriptions:be,addEventSubscription:he}},[])}var n=typeof window!="undefined"?e.useLayoutEffect:e.useEffect;function r(je,Oe){var be=Object(e.useRef)(je);return Oe?(be.current=je,be):(be.current=null,be)}var u={top:0,left:0,right:1,bottom:1,width:1,height:1};function v(je){var Oe=je===void 0?{}:je,be=Oe.enabled,he=be===void 0?!0:be,Ce=Oe.preventDefault,De=Ce===void 0?!0:Ce,Se=Object(e.useRef)(null),Le=Object(e.useState)(u),tt=Le[0],Xe=Le[1];function Et(){Xe(u)}var Qe=tt!==u;function rt(ke){if(!!he){De&&ke.preventDefault();var jt=ke.clientX,Nt=ke.clientY;Xe({top:Nt,left:jt,width:1,height:1,right:jt+1,bottom:Nt+1})}}return{hasMousePosition:Qe,resetMousePosition:Et,handleMouseEvent:rt,trigger:{getBounds:function(){return tt},getParent:Se.current?function(){return Se.current}:void 0},parentRef:Se}}function E(je){return parseFloat(je.replace("px",""))}function w(je,Oe,be){return je<Oe?Oe:je>be?be:je}function C(je){return je!=null}function _(){for(var je=arguments.length,Oe=new Array(je),be=0;be<je;be++)Oe[be]=arguments[be];return function(he){for(var Ce=O(Oe),De;!(De=Ce()).done;){var Se=De.value;!Se||(typeof Se=="function"?Se(he):Se.current=he)}}}function T(je,Oe){if(typeof je!="undefined")return Oe||je.ResizeObserver}function W(je,Oe){var be=[];if(!je||!Oe||je===document.body)return be;var he=Oe.getComputedStyle(je),Ce=he.overflow,De=he.overflowX,Se=he.overflowY;return[Ce,De,Se].some(function(Le){return["auto","scroll"].includes(Le)})&&be.push(je),[].concat(be,W(je.parentElement,Oe))}function k(je){return"react-laag: Could not find a valid reference for the "+je+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+je+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+je+" when the isOpen prop is set to true"}function $(je){var Oe=je.enabled,be=je.onChange,he=je.environment,Ce=je.ResizeObserverPolyfill,De=je.overflowContainer,Se=je.triggerOption,Le=T(he,Ce);Object(e.useEffect)(function(){},[Le]);var tt=Object(e.useRef)(null),Xe=Boolean(Se),Et=m({scrollContainers:[],trigger:null,layer:null}),Qe=Et[0],rt=Et[1],ke=a(),jt=ke.hasEventSubscriptions,Nt=ke.addEventSubscription,rn=ke.removeAllEventSubscriptions,sn=Object(e.useCallback)(function(){var It=Qe(),We=It.layer,lt=It.trigger,Ae=It.scrollContainers,Ve=Ae[0];if(!We)throw new Error(k("layer"));if(!lt&&!Xe)throw new Error(k("trigger"));var at={top:0,left:0};if(Ve){var ot=Ve.scrollLeft,vt=Ve.scrollTop;at={top:vt,left:ot}}else{var Ct=he.scrollX,Mt=he.scrollY;at={top:Mt,left:Ct}}var Lt={left:0,top:0};if(Ve){var _t=he.getComputedStyle(Ve),Qt=_t.borderLeftWidth,un=_t.borderTopWidth;Lt={left:E(Qt)||0,top:E(un)||0}}be({layer:We,trigger:lt,scrollContainers:Ae,arrow:tt.current},at,Lt)},[Qe,be,he,tt,Xe]),dt=Object(e.useCallback)(function(){var It=Qe(),We=It.trigger,lt=It.layer,Ae=It.scrollContainers;if(!lt)throw new Error(k("layer"));if(!We&&!Xe)throw new Error(k("trigger"));if(Le){for(var Ve=!1,at=function(){if(!Ve){Ve=!0;return}sn()},ot=new Le(at),vt=0,Ct=[We,lt,document.body];vt<Ct.length;vt++){var Mt=Ct[vt];Mt&&ot.observe(Mt)}Nt(function(){for(var Jt=0,Xt=[We,lt,document.body];Jt<Xt.length;Jt++){var yn=Xt[Jt];yn&&ot.unobserve(yn)}ot.disconnect()})}for(var Lt=[he].concat(Ae),_t=function(){var Xt=un.value;Xt.addEventListener("scroll",sn),Nt(function(){return Xt.removeEventListener("scroll",sn)})},Qt=O(Lt),un;!(un=Qt()).done;)_t()},[Qe,Nt,sn,he,Le,Xe]),mt=Object(e.useCallback)(function(wt,It){Oe&&wt&&wt!==It&&(rn(),dt(),sn())},[rn,dt,sn,Oe]),gt=b(Object(e.useCallback)(function(wt){var It=Qe(),We=It.layer;rt(function(lt){return s({},lt,{layer:wt})}),mt(We,wt)},[Qe,rt,mt])),ze=Object(e.useCallback)(function(It){var We=W(It,he),lt=We[0];if(lt){var Ae=he.getComputedStyle(lt).position,Ve=["relative","absolute","fixed"].includes(Ae)||De;Ve||(lt.style.position="relative")}return We},[he,De]),ue=b(Object(e.useCallback)(function(wt){var It=ze(wt),We=Qe(),lt=We.trigger;rt(function(Ae){return s({},Ae,{trigger:wt,scrollContainers:It})}),mt(lt,wt)},[Qe,rt,mt,ze])),bt=Se==null||Se.getParent==null?void 0:Se.getParent();return n(function(){!bt||rt(function(wt){return s({},wt,{scrollContainers:ze(bt)})})},[bt,rt,ze]),n(function(){return Oe&&(jt()||dt()),function(){jt()&&rn()}},[Oe,jt,dt,rn]),n(function(){Oe&&sn()}),{triggerRef:ue,layerRef:gt,arrowRef:tt,closestScrollContainer:Qe().scrollContainers[0]||null}}var H=Object(e.createContext)({});function g(je){var Oe=je.children,be=je.registrations,he=Object(e.useCallback)(function(De){return be.current.add(De),function(){return be.current.delete(De)}},[be]);return Object(e.createElement)(H.Provider,{value:he},Oe)}function M(je,Oe){for(var be=O(je),he;!(he=be()).done;){var Ce=he.value.shouldCloseWhenClickedOutside;if(!Ce(Oe))return!1}return!0}function R(je){var Oe=je.isOpen,be=je.onOutsideClick,he=je.onParentClose,Ce=Object(e.useRef)(null),De=Object(e.useRef)(null),Se=Object(e.useRef)(new Set),Le=Object(e.useContext)(H),tt=Object(e.useCallback)(function(Et){var Qe=Et.target,rt=Ce.current&&Ce.current.contains(Qe),ke=De.current&&De.current.contains(Qe),jt=M(Se.current,Et);return ke&&jt&&Se.current.forEach(function(Nt){var rn=Nt.closeChild;return rn()}),!rt&&!ke&&jt},[Ce,De,Se]);return Object(e.useEffect)(function(){if(typeof Le=="function")return Le({shouldCloseWhenClickedOutside:tt,closeChild:function(){he&&he()}})},[Le,tt,he,Se]),Object(e.useEffect)(function(){var Xe=typeof Le=="function",Et=!Oe||!be||Xe;if(Et)return;function Qe(rt){tt(rt)&&be()}return document.addEventListener("click",Qe,!0),function(){return document.removeEventListener("click",Qe,!0)}},[Oe,be,tt,Le]),Object(e.useEffect)(function(){Oe||Se.current.forEach(function(Xe){var Et=Xe.closeChild;return Et()})},[Oe]),{closeOnOutsideClickRefs:{trigger:Ce,layer:De},registrations:Se}}var D=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],U={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},L=function(){function je(be,he,Ce,De,Se,Le,tt,Xe,Et){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=be,this.opposite=he,this.isHorizontal=Ce,this.sizeProp=De,this.oppositeSizeProp=Se,this.cssProp=Le,this.oppositeCssProp=tt,this.isCenter=Xe,this.isPush=Et}var Oe=je.prototype;return Oe.factor=function(he){return he*(this.isPush?1:-1)},Oe.isOppositeDirection=function(he){return this.isHorizontal!==he.isHorizontal},je}();function j(je,Oe){Oe===void 0&&(Oe=!0);var be=["left","right"].includes(je);return new L(je,Oe?j(U[je],!1):null,be,be?"width":"height",be?"height":"width",be?"left":"top",be?"top":"left",je==="center",!["right","bottom"].includes(je))}var B={top:j("top"),bottom:j("bottom"),left:j("left"),right:j("right")},x=s({},B,{center:j("center")}),P=["top","left","bottom","right"],y=function(){function je(Oe){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Oe)}return je.mergeSmallestSides=function(be){var he=be[0],Ce=be.slice(1);if(!he)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var De=Object.fromEntries(P.map(function(rt){return[rt,he[rt]]})),Se=O(Ce),Le;!(Le=Se()).done;)for(var tt=Le.value,Xe=O(P),Et;!(Et=Xe()).done;){var Qe=Et.value;De[Qe]=Math.min(De[Qe],tt[Qe])}return new je(De)},l(je,[{key:"allSidesArePositive",get:function(){var be=this;return P.every(function(he){return be[he]>=0})}},{key:"negativeSides",get:function(){var be=this;return Object.fromEntries(P.filter(function(he){return be[he]<0}).map(function(he){return[he,be[he]]}))}}]),je}();function A(){for(var je=arguments.length,Oe=new Array(je),be=0;be<je;be++)Oe[be]=arguments[be];return Oe.reduce(function(he,Ce){return he+(Ce?E(Ce):0)},0)}function K(je){var Oe=je.top,be=je.left,he=je.right,Ce=je.bottom,De=je.width,Se=je.height;return{top:Oe,left:be,right:he,bottom:Ce,width:De,height:Se}}var N={top:0,left:0,right:0,bottom:0,width:0,height:0},Y=function(){je.create=function(he){return new je(he)},je.fromElement=function(he,Ce){Ce===void 0&&(Ce={});var De=Ce,Se=De.withTransform,Le=Se===void 0?!0:Se,tt=De.environment,Xe=tt===void 0?window:tt,Et=De.withScrollbars,Qe=Et===void 0?!0:Et,rt=K(he.getBoundingClientRect()),ke=new je(rt);if(!Le){var jt=Xe.getComputedStyle(he),Nt=jt.width,rn=jt.height,sn=jt.boxSizing,dt=jt.borderLeft,mt=jt.borderRight,gt=jt.borderTop,ze=jt.borderBottom,ue=jt.paddingLeft,bt=jt.paddingRight,wt=jt.paddingTop,It=jt.paddingBottom,We=sn==="border-box"?E(Nt):A(Nt,dt,mt,ue,bt),lt=sn==="border-box"?E(rn):A(rn,gt,ze,wt,It);ke=new je(s({},ke,{width:We,height:lt}))}if(!Qe){var Ae=ke.width-he.clientWidth,Ve=ke.height-he.clientHeight;return ke.substract({right:Ae,bottom:Ve})}return ke},je.empty=function(){return new je},je.fromWindow=function(he){var Ce,De=(Ce=he==null?void 0:he.document.scrollingElement)!=null?Ce:he==null?void 0:he.document.documentElement,Se=De??{},Le=Se.clientWidth,tt=Le===void 0?0:Le,Xe=Se.clientHeight,Et=Xe===void 0?0:Xe;return new je({width:tt,height:Et,right:tt,bottom:Et})};function je(be){return be===void 0&&(be={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,N,be)}var Oe=je.prototype;return Oe.toObject=function(){return K(this)},Oe.merge=function(he){var Ce=this.toObject();return new je(s({},Ce,typeof he=="function"?he(Ce):he))},Oe.substract=function(he){for(var Ce=this.toObject(),De=Object.entries(he),Se=0,Le=De;Se<Le.length;Se++){var tt=Le[Se],Xe=tt[0],Et=tt[1];if(Xe in B){var Qe=B[Xe];Ce[Xe]+=Qe.factor(Et),Ce[Qe.isHorizontal?"width":"height"]-=Et}else Ce[Xe]-=Et||0}return new je(Ce)},Oe.offsetsTo=function(he){return new y({top:he.top-this.top,bottom:this.bottom-he.bottom,left:he.left-this.left,right:this.right-he.right})},Oe.mapSides=function(he){for(var Ce=this.toObject(),De=Object.values(B),Se=0,Le=De;Se<Le.length;Se++){var tt=Le[Se];Ce[tt.prop]=he(tt,Ce[tt.prop])}return new je(Ce)},l(je,[{key:"surface",get:function(){return this.width*this.height}}]),je}(),F=function(){function je(be,he,Ce,De,Se){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=be,this.secondary=he,this.offsets=Se,this.setSubjectsBounds(Ce,De)}var Oe=je.prototype;return Oe.setSubjectsBounds=function(he,Ce){if(!Ce){this.subjectsBounds=he;return}var De=typeof Ce=="function"?Ce(this.primary.prop):Ce;this.subjectsBounds=he.merge({layer:s({},he.layer,De)})},Oe.getLayerBounds=function(he){if(he===void 0&&(he=0),this._cachedLayerBounds&&he===0)return this._cachedLayerBounds;var Ce=this.primary,De=this.secondary,Se=this.subjectsBounds,Le=Se.trigger,tt=Se.layer,Xe=Se.arrow,Et=Ce.isHorizontal,Qe=Ce.oppositeCssProp,rt=Ce.oppositeSizeProp,ke=Ce.prop,jt=Ce.opposite,Nt=Y.empty();Nt[jt.prop]=Le[ke]-Ce.factor(this.offsets.trigger),Nt[ke]=Nt[jt.prop]-Ce.factor(tt[Ce.sizeProp]);var rn=this.offsets.arrow*2,sn=Le[Qe]-(tt[rt]-Xe[rt])+rn,dt=Le[Qe]+(Le[rt]-Xe[rt])-rn;if(De.isPush||(sn+=tt[rt],dt+=tt[rt]),De.isCenter){var mt=(Et?B.top:B.left).prop,gt=(Et?B.bottom:B.right).prop;Nt[mt]=w(Le[mt]+Le[rt]/2-tt[rt]/2+he,sn,dt),Nt[gt]=Nt[mt]+tt[rt]}else{var ze=De,ue=Le[ze.prop],bt=ue<sn?sn-ue:ue>dt?dt-ue:0;Nt[ze.prop]=w(ue+he+bt,sn,dt),Nt[ze.opposite.prop]=Nt[ze.prop]+De.factor(tt[rt])}Nt.width=Nt.right-Nt.left,Nt.height=Nt.bottom-Nt.top;var wt=Y.create(Nt);return he===0&&(this._cachedLayerBounds=wt),wt},Oe.getLayerCollisionBounds=function(){var he=this.offsets.container;return this.getLayerBounds().mapSides(function(Ce,De){return De-=Ce.factor(he)}).merge(function(Ce){var De=Ce.width,Se=Ce.height;return{width:De+he*2,height:Se+he*2}})},Oe.getContainerOffsets=function(he){if(this._cachedContainerOffsets&&!he)return this._cachedContainerOffsets;var Ce=this.subjectsBounds.merge({layer:he||this.getLayerCollisionBounds()}),De=y.mergeSmallestSides(Ce.layerOffsetsToScrollContainers);return he||(this._cachedContainerOffsets=De),De},l(je,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var he=this.secondary.isHorizontal,Ce=this.subjectsBounds,De=Ce.triggerHasBiggerWidth,Se=Ce.triggerHasBiggerHeight;return he&&De||!he&&Se}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var he=this.getLayerBounds(),Ce=this.getContainerOffsets(he),De=Ce.negativeSides;for(var Se in De)De[Se]=-De[Se];return he.substract(De).surface}},{key:"secondaryOffsetSide",get:function(){var he,Ce,De=this,Se=this.getContainerOffsets(),Le=(he=(Ce=Object.entries(Se.negativeSides).map(function(Xe){var Et=Xe[0],Qe=Xe[1];return[B[Et],Qe]}).filter(function(Xe){var Et=Xe[0];return De.primary.isOppositeDirection(Et)}).sort(function(Xe,Et){var Qe=Xe[1],rt=Et[1];return rt-Qe}))==null?void 0:Ce[0])!=null?he:[],tt=Le[0];return tt||null}}]),je}(),G=function(je){h(Oe,je);function Oe(){return je.apply(this,arguments)||this}var be=Oe.prototype;return be.getLayerBounds=function(){var Ce=this.subjectsBounds,De=Ce.trigger,Se=Ce.layer,Le=Y.empty();return Le.top=De.top+De.height/2-Se.height/2,Le.bottom=Le.top+Se.height,Le.left=De.left+De.width/2-Se.width/2,Le.right=Le.left+Se.width,Le.width=Le.right-Le.left,Le.height=Le.bottom-Le.top,Le},Oe}(F);function X(je,Oe,be){var he=je.layer,Ce=je.trigger,De=je.arrow,Se=Oe.primary.oppositeSizeProp,Le=Oe.primary.isHorizontal?["top","bottom"]:["left","right"],tt=Le[0],Xe=Le[1],Et=he[tt]+he[Se]/2-Ce[tt]-De[Se]/2-be,Qe=he[Xe]-he[Se]/2-Ce[Xe]+De[Se]/2+be;return(Et<0?-Et:0)+(Qe>0?-Qe:0)}var q={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function se(je,Oe,be){var he;if(Oe.primary.isCenter)return q;var Ce=je.layer,De=je.trigger,Se=je.arrow,Le=Oe.primary.oppositeSizeProp,tt=De[Le]>Ce[Le],Xe=be+Se[Le]/2,Et=Ce[Le]-Se[Le]/2-be,Qe=X(je,Oe,be),rt=Oe.primary.prop,ke=Oe.primary.oppositeCssProp,jt=tt?Ce[Le]/2+Qe:De[ke]+De[Le]/2-Ce[ke];return s({},q,(he={},he[rt]="100%",he[ke]=w(jt,Xe,Et),he))}var ie=function(){function je(be,he,Ce){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=be,this.config=he,this.subjectsBounds=Ce}je.getSidesFromPlacementType=function(he){var Ce=he.split("-"),De=Ce[0],Se=Ce[1],Le=B[De],tt;return Se==="center"?tt=x.center:Le.isHorizontal?tt=Se==="start"?x.top:x.bottom:tt=Se==="start"?x.left:x.right,[Le,tt]},je.create=function(he,Ce){var De={arrow:Ce.arrowOffset,container:Ce.containerOffset,trigger:Ce.triggerOffset};function Se(Le){Le===void 0&&(Le=Ce.placement);var tt=je.getSidesFromPlacementType(Le),Xe=tt[0],Et=tt[1],Qe=B[Xe.isHorizontal?Ce.preferY:Ce.preferX],rt=!Xe.isHorizontal&&he.triggerHasBiggerWidth||Xe.isHorizontal&&he.triggerHasBiggerHeight;function ke(Nt,rn){return new F(Nt,rn,he,Ce.layerDimensions,De)}var jt=[];return jt[0]=ke(Xe,Et),jt[1]=ke(Xe,Et.isCenter?Qe:x.center),jt[2]=ke(Xe,x[(Et.opposite.isCenter?Qe.opposite:Et.opposite).prop]),jt[3]=ke(Qe,rt?Xe:x[Xe.opposite.prop]),jt[4]=ke(Qe,x.center),jt[5]=ke(Qe,rt?x[Xe.opposite.prop]:Xe),jt[6]=ke(B[Qe.opposite.prop],rt?Xe:x[Xe.opposite.prop]),jt[7]=ke(B[Qe.opposite.prop],x.center),jt[8]=ke(B[Qe.opposite.prop],rt?x[Xe.opposite.prop]:Xe),jt[9]=ke(B[Xe.opposite.prop],Et),jt[10]=ke(B[Xe.opposite.prop],Et.isCenter?Qe:x.center),jt[11]=ke(B[Xe.opposite.prop],x[(Et.opposite.isCenter?Qe.opposite:Et.opposite).prop]),jt=jt.filter(function(Nt){return Nt.type===Ce.placement||Ce.possiblePlacements.includes(Nt.type)}),jt}return Ce.placement==="center"?new je([new G(x.center,x.center,he,Ce.layerDimensions,De)].concat(Se(Ce.preferY+"-"+Ce.preferX)),Ce,he):new je(Se(),Ce,he)};var Oe=je.prototype;return Oe.filterPlacementsBySide=function(he){return this.placements.filter(function(Ce){return Ce.primary===he})},Oe.findFirstPlacementThatFits=function(){return this.placements.find(function(he){return he.fitsContainer})},Oe.placementWithBiggestVisibleSurface=function(){var he=this.placements.map(function(De){return{placement:De,surface:De.visibleSurface}}).sort(function(De,Se){return Se.surface-De.surface}),Ce=he[0].placement;return Ce},Oe.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Oe.getSecondaryOffset=function(he){var Ce=this.config,De=Ce.auto,Se=Ce.snap;if(!De||Se||he instanceof G)return 0;var Le=this.filterPlacementsBySide(he.primary),tt=Le.indexOf(he)===0;if(tt&&he.fitsContainer)return 0;var Xe=Le.find(function(Nt){return!Nt.fitsContainer});if(!Xe)return 0;var Et=Xe.secondaryOffsetSide;if(!Et)return 0;var Qe=he.getContainerOffsets(),rt=he.secondary,ke;he.triggerIsBigger||Xe===he?ke=Et.isPush?-1:1:ke=rt===x.left||[x.top,x.center].includes(rt)&&Et.isPush?-1:1;var jt=Qe[Et.prop];return jt*ke},Oe.getStyles=function(he,Ce,De,Se){var Le={willChange:"top, left, width, height"},tt=se(this.subjectsBounds.merge({layer:he}),Ce,this.config.arrowOffset),Xe=this.config.overflowContainer?s({},Le,{position:"fixed",top:he.top,left:he.left}):s({},Le,{position:"absolute",top:he.top-this.subjectsBounds.parent.top+De.top-Se.top,left:he.left-this.subjectsBounds.parent.left+De.left-Se.left});return{arrow:tt,layer:Xe}},Oe.getHasDisappeared=function(he){var Ce=this.config.overflowContainer?this.subjectsBounds.trigger:he,De=y.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(Ce,!0)),Se=Object.entries(De.negativeSides),Le=Se.some(function(tt){var Xe=tt[0],Et=tt[1],Qe=B[Xe];return Et<=-Ce[Qe.sizeProp]});return Le?"full":De.allSidesArePositive?null:"partial"},Oe.result=function(he,Ce){var De=this.findSuitablePlacement(),Se=this.getSecondaryOffset(De),Le=De.getLayerBounds(Se),tt=this.getStyles(Le,De,he,Ce),Xe=De.primary.prop;return{styles:tt,layerSide:Xe,placement:De,layerBounds:Le,hasDisappeared:this.getHasDisappeared(Le)}},je}(),Ee=function(){function je(be,he){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=he,Object.assign(this,be)}je.create=function(he,Ce,De,Se,Le,tt,Xe,Et){var Qe=Y.fromWindow(he);return new je({layer:Y.fromElement(Ce,{environment:he,withTransform:!1}),trigger:Et?Y.create(K(Et())):Y.fromElement(De),arrow:Le?Y.fromElement(Le):Y.empty(),parent:Se?Y.fromElement(Se):Qe,window:Qe,scrollContainers:[Qe].concat(tt.map(function(rt){return Y.fromElement(rt,{withScrollbars:!1})}))},Xe)};var Oe=je.prototype;return Oe.merge=function(he){return new je(s({},this,he),this.overflowContainer)},Oe.offsetsToScrollContainers=function(he,Ce){Ce===void 0&&(Ce=!1);var De=this.overflowContainer&&!Ce?[this.window]:this.scrollContainers;return De.map(function(Se){return Se.offsetsTo(he)})},l(je,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),je}(),Ie=null;function ge(je){typeof document!="undefined"&&(typeof je=="function"?Ie=je():typeof je=="string"?Ie=document.getElementById(je):Ie=je)}var oe={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:D,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function ee(je){var Oe,be=je.isOpen,he=be===void 0?!1:be,Ce=je.overflowContainer,De=Ce===void 0?oe.overflowContainer:Ce,Se=je.environment,Le=Se===void 0?typeof window!="undefined"?window:void 0:Se,tt=je.ResizeObserver,Xe=je.placement,Et=Xe===void 0?oe.placement:Xe,Qe=je.possiblePlacements,rt=Qe===void 0?oe.possiblePlacements:Qe,ke=je.preferX,jt=ke===void 0?oe.preferX:ke,Nt=je.preferY,rn=Nt===void 0?oe.preferY:Nt,sn=je.auto,dt=sn===void 0?oe.auto:sn,mt=je.snap,gt=mt===void 0?oe.snap:mt,ze=je.triggerOffset,ue=ze===void 0?oe.triggerOffset:ze,bt=je.containerOffset,wt=bt===void 0?oe.containerOffset:bt,It=je.arrowOffset,We=It===void 0?oe.arrowOffset:It,lt=je.container,Ae=lt===void 0?oe.container:lt,Ve=je.layerDimensions,at=Ve===void 0?null:Ve,ot=je.onDisappear,vt=je.onOutsideClick,Ct=je.onParentClose,Mt=je.trigger,Lt=Object(e.useState)(function(){return{layerSide:Et==="center"?"center":ie.getSidesFromPlacementType(Et)[0].prop,styles:{layer:{position:De?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),_t=Lt[0],Qt=Lt[1],un=Object(e.useRef)(null),Jt=r(_t,he),Xt=Object(e.useRef)({cancelled:!1});Object(e.useEffect)(function(){return function(){Xt.current.cancelled=!0}},[]);var yn=Object(e.useCallback)(function(vn,Cn,Rn){var ir=vn.arrow,Hn=vn.layer,nr=vn.scrollContainers,Nn=vn.trigger,ht=nr[0],Ke=Ee.create(Le,Hn,Nn,ht,ir,nr,De,Mt==null?void 0:Mt.getBounds),Fe={placement:Et,possiblePlacements:rt,auto:dt,layerDimensions:at,arrowOffset:We,containerOffset:wt,triggerOffset:ue,preferX:jt,preferY:rn,snap:gt,overflowContainer:De},Tt=ie.create(Ke,Fe).result(Cn,Rn),Vt=Tt.hasDisappeared,Kt=Tt.layerSide,on=Tt.styles,qt={layerSide:Kt,styles:on};if(!Jt.current||te(Jt.current,qt)){Jt.current=qt,Xt.current.cancelled=!0;var Bt={cancelled:!1};Xt.current=Bt,Promise.resolve().then(function(){Bt.cancelled||Qt(qt)})}C(Vt)&&C(ot)&&ot(Vt)},[We,dt,wt,Le,at,ot,De,Et,rt,jt,rn,gt,ue,Jt,Mt]),wn=$({ResizeObserverPolyfill:tt,environment:Le,enabled:he,overflowContainer:De,onChange:yn,triggerOption:Mt}),Ze=wn.triggerRef,Pe=wn.layerRef,Ye=wn.arrowRef,Je=wn.closestScrollContainer,yt=R({isOpen:he,onOutsideClick:vt,onParentClose:Ct}),Dt=yt.closeOnOutsideClickRefs,Ut=yt.registrations,zt={triggerProps:Boolean(Mt)?{}:{ref:_(Ze,Dt.trigger,un)},layerProps:{ref:_(Pe,Dt.layer),style:_t.styles.layer},arrowProps:{ref:Ye,style:_t.styles.arrow,layerSide:_t.layerSide},layerSide:_t.layerSide,triggerBounds:he?Mt?Mt.getBounds():(Oe=un.current)==null?void 0:Oe.getBoundingClientRect():null,renderLayer:function(vn){return typeof document!="undefined"?Object(e.createPortal)(Object(e.createElement)(g,{registrations:Ut,children:vn}),De||!Je?Q(Ae):Je):null}};return zt}function te(je,Oe){if(je.layerSide!==Oe.layerSide)return!0;for(var be=["position","top","left","right","bottom"],he=0,Ce=be;he<Ce.length;he++){var De=Ce[he];if(je.styles.layer[De]!==Oe.styles.layer[De]||je.styles.arrow[De]!==Oe.styles.arrow[De])return!0}return!1}var le="layers";function Q(je){var Oe;if(typeof je=="function"){if(Oe=je(),!Oe||!(Oe instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(je instanceof HTMLElement)Oe=je;else if(typeof je=="string"){if(Oe=document.getElementById(je),!Oe)throw new Error("react-laag: You've passed element with id '"+je+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(Ie instanceof HTMLElement)return Ie;Oe=document.getElementById(le),Oe||(Oe=document.createElement("div"),Oe.id=le,Oe.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Oe))}return Oe}var z=["size","angle","borderWidth","borderColor","roundness","backgroundColor","layerSide","style"],V="left",ne="top",re="bottom",de="right";function fe(je,Oe){return Math.tan(je*(Math.PI/180))*Oe}function we(je,Oe,be,he){var Ce,De=(Ce={},Ce[re]="0 "+-he+" "+Oe+" "+je,Ce[ne]="0 0 "+Oe+" "+(je+he),Ce[de]=-he+" 0 "+je+" "+Oe,Ce[V]="0 0 "+(je+he)+" "+Oe,Ce);return De[be.prop]}function Ge(je,Oe,be,he,Ce){var De,Se,Le,tt=he/10*je*2,Xe=(De={},De[re]=[0,je],De[ne]=[0,0],De[de]=[je,Oe],De[V]=[0,Oe],De)[be.prop].join(" "),Et=be.isHorizontal?"V 0":"H "+Oe,Qe=Oe/2,rt=Oe/2+fe(Ce,je/8),ke=je/8,jt=(Se={},Se[re]=["C",rt,ke,Qe+tt,0,Qe,0],Se[ne]=["C",rt,je-ke,Qe+tt,je,Qe,je],Se[de]=["C",ke,Oe-rt,0,Qe-tt,0,Qe],Se[V]=["C",je-ke,Oe-rt,je,Qe-tt,je,Qe],Se)[be.prop].join(" "),Nt=Oe/2-fe(Ce,je/8),rn=je/8,sn=(Le={},Le[re]=["C",Qe-tt,0,Nt,rn,Xe],Le[ne]=["C",Qe-tt,je,Nt,je-rn,Xe],Le[de]=["C",0,Qe+tt,rn,Oe-Nt,Xe],Le[V]=["C",je,Qe+tt,je-rn,Oe-Nt,Xe],Le)[be.prop].join(" ");return["M",Xe,Et,jt,sn].join(" ")}function $e(je,Oe,be,he,Ce){var De=fe(Ce,be),Se=he.isPush?[0,be]:[je,je-be],Le=Se[0],tt=Se[1];return he.isHorizontal?["M",Le,be,"V",Oe-be,"L",tt,Oe-be-De,"V",De+be,"Z"].join(" "):["M",be,Le,"H",Oe-be,"L",Oe-be-De,tt,"H",De+be,"Z"].join(" ")}var it=Object(e.forwardRef)(function(Oe,be){var he=Oe.size,Ce=he===void 0?8:he,De=Oe.angle,Se=De===void 0?45:De,Le=Oe.borderWidth,tt=Le===void 0?0:Le,Xe=Oe.borderColor,Et=Xe===void 0?"black":Xe,Qe=Oe.roundness,rt=Qe===void 0?0:Qe,ke=Oe.backgroundColor,jt=ke===void 0?"white":ke,Nt=Oe.layerSide,rn=Nt===void 0?"top":Nt,sn=Oe.style,dt=sn===void 0?{}:sn,mt=d(Oe,z);if(rn==="center")return null;var gt=B[rn],ze=Ce,ue=fe(Se,Ce)*2,bt=Math.max(ze,ue);return Object(e.createElement)("svg",s({ref:be},mt,{style:s({},dt,{transform:"translate"+(gt.isHorizontal?"Y":"X")+"(-50%)"}),width:bt,height:bt,preserveAspectRatio:gt.isPush?"xMinYMin":"xMaxYMax",viewBox:we(ze,ue,gt,tt)}),Object(e.createElement)("path",{fill:jt,strokeWidth:tt,stroke:Et,d:Ge(ze,ue,gt,rt,Se)}),Object(e.createElement)("path",{fill:jt,d:$e(ze,ue,tt,gt,Se)}))}),st;(function(je){je[je.ENTERING=0]="ENTERING",je[je.LEAVING=1]="LEAVING",je[je.IDLE=2]="IDLE"})(st||(st={}));function Rt(je){var Oe=je===void 0?{}:je,be=Oe.delayEnter,he=be===void 0?0:be,Ce=Oe.delayLeave,De=Ce===void 0?0:Ce,Se=Oe.hideOnScroll,Le=Se===void 0?!0:Se,tt=Object(e.useState)(!1),Xe=tt[0],Et=tt[1],Qe=Object(e.useRef)(null),rt=Object(e.useRef)(st.IDLE),ke=Object(e.useRef)(!1),jt=Object(e.useCallback)(function(){clearTimeout(Qe.current),Qe.current=null,rt.current=st.IDLE},[]);function Nt(){rt.current===st.LEAVING&&Qe.current&&jt(),!Xe&&(rt.current=st.ENTERING,Qe.current=window.setTimeout(function(){Et(!0),Qe.current=null,rt.current=st.IDLE},he))}function rn(dt,mt){if(rt.current===st.ENTERING&&Qe.current&&jt(),!!Xe){if(mt){Et(!1),Qe.current=null,rt.current=st.IDLE;return}rt.current=st.LEAVING,Qe.current=window.setTimeout(function(){Et(!1),Qe.current=null,rt.current=st.IDLE},De)}}Object(e.useEffect)(function(){function dt(){Xe&&Le&&(jt(),Et(!1))}return window.addEventListener("scroll",dt,!0),function(){window.removeEventListener("scroll",dt,!0),Qe.current&&clearTimeout(Qe.current)}},[Xe,Le,jt]);var sn={onMouseEnter:Nt,onMouseLeave:rn,onTouchStart:function(){ke.current=!1},onTouchMove:function(){ke.current=!0},onTouchEnd:function(){!ke.current&&!Xe&&Et(!0),ke.current=!1}};return[Xe,sn,function(){return rn(null,!0)}]}function Ht(je){var Oe=je.isOpen,be=je.children,he=Object(e.useState)({isOpenInternal:Oe,isLeaving:!1}),Ce=he[0],De=he[1],Se=Object(e.useRef)(!1);return Object(e.useEffect)(function(){Oe?De({isOpenInternal:!0,isLeaving:!1}):Se.current&&De({isOpenInternal:!1,isLeaving:!0})},[Oe,De]),Object(e.useEffect)(function(){},[be]),Object(e.useEffect)(function(){Se.current=!0},[]),!Oe&&!Ce.isOpenInternal&&!Ce.isLeaving?null:be(Ce.isOpenInternal,function(){Ce.isOpenInternal||De(function(Le){return s({},Le,{isLeaving:!1})})},Ce.isLeaving)}},function(S,i,t){"use strict";t.d(i,"b",function(){return yn}),t.d(i,"a",function(){return Ie}),t.d(i,"d",function(){return Hn}),t.d(i,"e",function(){return nr}),t.d(i,"i",function(){return Nn}),t.d(i,"c",function(){return Ye}),t.d(i,"j",function(){return $.j}),t.d(i,"h",function(){return $.g}),t.d(i,"f",function(){return $.a}),t.d(i,"g",function(){return $.c});var e=t(0),o=t(6),l=t.n(o),s=t(55),h=t(7),c=t(10),d=t.n(c),p=t(2),f=t(26),O=t(14),b=t.n(O),m=t(12),a=t(127),n=t(3),r=(ht,Ke,Fe)=>new Promise((Tt,Vt)=>{var Kt=Bt=>{try{qt(Fe.next(Bt))}catch(dn){Vt(dn)}},on=Bt=>{try{qt(Fe.throw(Bt))}catch(dn){Vt(dn)}},qt=Bt=>Bt.done?Tt(Bt.value):Promise.resolve(Bt.value).then(Kt,on);qt((Fe=Fe.apply(ht,Ke)).next())});const u={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},v=({ban:ht,onReply:Ke,showReplyLink:Fe,name:Tt})=>{const Vt=b()(ht.expiry).standardDatetimeWithYear();return Object(e.h)("div",{className:"banned"},Tt," is banned until ",Vt,"."," ",Fe&&Object(e.h)("span",null,Object(e.h)("a",{onClick:Ke,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function E({pub:ht,sub:Ke,children:Fe,tab:Tt}){return!Ke||!Ke.email?Fe:Object(e.h)("a",{target:"_blank",href:Object(n.getSubscriberDetailsUrl)(ht,Ke.email,{tab:Tt})},Fe)}const w=({sub:ht})=>ht?ht.is_subscribed?Object(e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):ht.is_free_subscribed?Object(e.h)("span",{className:"subscribed"},"Subscribed (Free)"):Object(e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,C=({bans:ht,activeBans:Ke})=>ht.length===0?Object(e.h)("span",null,"No previous bans"):Ke.length>0?Object(e.h)("span",{className:"banned status"},"Banned"):Object(e.h)("span",{className:"status"},"Banned previously from ",b()(ht[0].start).standardDatetimeWithYear()," to"," ",b()(ht[0].expiry).standardDatetimeWithYear()),_=({comment:ht,pub:Ke,onReply:Fe,onBan:Tt,onClose:Vt})=>{const[Kt,on]=Object(p.k)(null),[qt,Bt]=Object(p.k)(!1),[dn,Bn]=Object(p.k)([]),[$n,En]=Object(p.k)(!1),[On,sr]=Object(p.k)("24h"),[Yn,ar]=Object(p.k)(null),[er,Dr]=Object(p.k)(!0),Tn=Object(p.j)(null),pr=!!ht||qt,lr=An=>{const mr=An;An.forEach(tr=>{mr.findIndex(gr=>gr.id===tr.id)==-1&&mr.push(tr)}),Bn(mr)},Rr=()=>{Fe(ht.id),Tn.current.close()};Object(p.d)(()=>{!(Tn==null?void 0:Tn.current)||(pr?Tn.current.state.open||Tn.current.open():Tn.current.state.open&&Tn.current.close())},[ht,qt]),Object(p.d)(()=>r(void 0,null,function*(){if(!!ht){En(!1),Bt(!0),Bn([]),ar(null),on(null);try{const An=yield d.a.get(`/api/v1/user/${ht.user_id}/bans`);Bn(An.body.bans),on(An.body.sub)}catch(An){console.error("Failed to get bans:",An),ar(!0)}Bt(!1)}}),[ht]);const cr=()=>r(void 0,null,function*(){Bt(!0);try{const An=yield d.a.post(`/api/v1/comment_ban/${ht.id}`,{pub:Ke}).send({user_id:ht.user_id,expiry:On,removeAllComments:er});er&&document.location.reload(),lr(An.body.bans),En(!0),Bt(!1),Tt(ht,dn)}catch(An){console.error("Failed to submit ban",An),ar(!0)}Bt(!1)});if(!ht)return null;const Lr=u[On],Gn=dn.filter(An=>b()(An.expiry).isAfter(b()()));return Object(e.h)(f.a,{ref:Tn,noExitOnClick:!0,onClose:Vt},Object(e.h)("div",{className:"ban-dialog comment"},Object(e.h)("div",{className:"profile"},Object(e.h)("div",{className:"photo"},Object(e.h)(E,{pub:Ke,sub:Kt},Object(e.h)(a.b,{photo_url:ht.photo_url,size:80,banned:Gn.length>0}))),Object(e.h)("div",{className:"info"},Object(e.h)(E,{pub:Ke,sub:Kt},Object(e.h)("span",{className:"name"},ht.name)),Object(e.h)(w,{sub:Kt}),Object(e.h)(C,{bans:dn,activeBans:Gn}))),Yn&&Object(e.h)("div",{className:"error"},"Sorry, an error occurred."),qt?"Loading...":Object(e.h)("form",{className:"form"},Gn.length===0&&Object(e.h)("div",null,Object(e.h)("label",null,"Ban from commenting for",Object(e.h)("select",{onInput:An=>sr(An.target.value),value:On},Object(e.h)("option",{value:"1h"},"one hour"),Object(e.h)("option",{value:"24h"},"24 hours"),Object(e.h)("option",{value:"7d"},"one week"),Object(e.h)("option",{value:"30d"},"one month"),Object(e.h)("option",{value:"100y"},"indefinitely"))),Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:er,onInput:An=>Dr(An.target.checked)}),"Remove ",Object(h.guessFirstName)(ht.name),"'s"," ",Object(e.h)(E,{pub:Ke,sub:Kt,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),Object(e.h)("div",{className:"button-wrapper"},Object(e.h)(m.b,{className:"button primary",onClick:cr},"Ban for ",Lr))),Gn.length>0&&dn.filter(An=>An.user_id).map(An=>Object(e.h)(v,{ban:An,showReplyLink:$n,onReply:Rr,name:ht.name})))))};var T=_,W=t(78),k=t(60),$=t(45),H=t(530),g=t(531),M=t(532),R=t(124),D=t(43),U=t(165),L=Object.defineProperty,j=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,P=(ht,Ke,Fe)=>Ke in ht?L(ht,Ke,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):ht[Ke]=Fe,y=(ht,Ke)=>{for(var Fe in Ke||(Ke={}))B.call(Ke,Fe)&&P(ht,Fe,Ke[Fe]);if(j)for(var Fe of j(Ke))x.call(Ke,Fe)&&P(ht,Fe,Ke[Fe]);return ht};const A=({post:ht,pub:Ke,comment:Fe,isCollapsed:Tt,openUserProfile:Vt,userBanned:Kt,toggleCollapse:on,noHoverProfile:qt})=>{var Bt,dn;const Bn=Yn=>Yn.children.length+Yn.children.reduce((ar,er)=>ar+Bn(er),0),$n=Bn(Fe),En=Fe.metadata.is_author||Tt,On=!!Fe.edited_at,sr=!Fe.hidden&&((Bt=Fe.metadata.author_on_other_pub)==null?void 0:Bt.id)!=null;return[Object(e.h)("div",{className:"comment-meta"},Object(e.h)("span",{className:"commenter-name"},Fe.name?Object(e.h)(k.d,{subject:Object($.c)(Fe),disabled:qt||!Object(s.hasVisibleStatus)(Fe)||Fe.hidden||Tt},Object(e.h)("a",{onClick:Vt,href:"javascript:void(0)"},Fe.name)):Fe.hidden?Object(e.h)("i",null,"hidden"):Fe.deleted?Object(e.h)("i",null,"deleted"):Object(s.hasVisibleStatus)(Fe)?"Anonymous":"Removed",Kt&&Object(e.h)("span",{className:"ban-status"}," (Banned)")),Fe.metadata.author_on_other_pub&&!Fe.metadata.is_author&&(sr?Object(e.h)(K,{publication_id:(dn=Fe.metadata.author_on_other_pub)==null?void 0:dn.id,comment:Fe}):Object(e.h)(N,{comment:Fe})),Object(e.h)("a",{class:"comment-timestamp",href:Object($.f)(ht,Fe,Ke),onClick:Yn=>(void 0).onDateClick(Yn),native:!0},b()(Fe.date).standardDateOrTime()),On&&[Object(e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),Object(e.h)("span",{className:"edited-indicator"},Object(e.h)("em",null,"edited ",b()(Fe.edited_at).standardDateOrTime()))],Object(e.h)(Y,{comment:Fe})),Tt&&Object(e.h)("div",{className:"tags-row"},Object(e.h)(m.b,{className:"outline comment-collapse-toggle",onClick:on},"Expand comment ",$n>0?`and ${Object(h.pluralize)($n,"reply")}`:""))]};function K({publication_id:ht,comment:Ke}){const Fe=Object(U.c)({publication_id:ht});return Object(e.h)(e.Fragment,null,Object(e.h)(N,{triggerProps:Fe.triggerProps,hoverProps:Fe.hoverProps,comment:Ke}),Fe.hoverCard)}function N({triggerProps:ht,hoverProps:Ke,comment:Fe}){return Object(e.h)("a",y(y({className:"commenter-publication",href:Object(n.updateQuery)(Fe.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),target:"_blank"},ht),Ke),"Writes ",Object(e.h)("span",null," ",Object(h.truncateText)(Fe.metadata.author_on_other_pub.name,32)," "))}const Y=({comment:ht})=>{const[Ke,Fe]=Object(p.k)(!1),Tt=Object(p.j)(null),Vt=Object(p.j)(null),Kt=ht.pinned_by_user_id?"pinned":ht.metadata.is_author?"author":ht.reactor_names.length>0?"liked":null;if(!Kt)return null;const on={pinned:Object(e.h)(H.default,null),author:Object(e.h)(M.default,null),liked:Object(e.h)(g.default,null)},qt={pinned:"Pinned",author:"Author",liked:`Liked by ${ht.reactor_names.join(", ")}`},Bt=Kt==="pinned"&&ht.pinned_by_name;return Object(e.h)("span",{ref:Tt,className:l()("highlight",{hover:Ke}),onMouseEnter:()=>Bt&&Fe(!0),onMouseLeave:()=>Bt&&Fe(!1)},on[Kt],Object(e.h)("span",{className:"highlight-text"},qt[Kt]),Bt&&Object(e.h)(R.a,{baseRef:Tt,hoverToggle:!0,onOpen:()=>{var dn;return(dn=Vt.current)==null?void 0:dn.open()},onClose:()=>{var dn;return(dn=Vt.current)==null?void 0:dn.close()}},Object(e.h)(D.a,{ref:Vt,noList:!0,className:"explanation above small thin"},"Pinned by ",Object(e.h)("span",{className:"bold"},ht.pinned_by_name))))};var F=t(5),G=t(27),X=t(110),q=t(112),se=t(130),ie=t(8),Ee=(ht,Ke,Fe)=>new Promise((Tt,Vt)=>{var Kt=Bt=>{try{qt(Fe.next(Bt))}catch(dn){Vt(dn)}},on=Bt=>{try{qt(Fe.throw(Bt))}catch(dn){Vt(dn)}},qt=Bt=>Bt.done?Tt(Bt.value):Promise.resolve(Bt.value).then(Kt,on);qt((Fe=Fe.apply(ht,Ke)).next())});class Ie extends e.Component{constructor(Ke){super(Ke);var Fe;this.state={value:(Fe=Ke.commentBeingEdited)==null?void 0:Fe.body}}componentDidMount(){var Ke;this.props.autoFocus&&((Ke=this.bodyInput)==null||Ke.focus())}needsProfile(){const{user:Ke}=this.props;return!Ke||!Ke.name}onKeyDown(Ke){var Fe;if((Fe=this.props.user)==null?void 0:Fe.is_magic){Ke&&Ke.preventDefault(),this.showFinishMagicLoginModal();return}if(!Object(h.canPostComments)(this.props.user,this.props.post,this.props.pub)){Ke&&Ke.preventDefault(),this.showPaywall();return}Ke.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():Ke.key==="Enter"&&Ke.metaKey&&this.form.handleSubmit(Ke)}onInput(Ke){if(!Object(h.canPostComments)(this.props.user,this.props.post,this.props.pub)){Ke&&Ke.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return Ee(this,arguments,function*({profileUpdated:Ke}={}){const{user:Fe,pub:Tt,post:Vt,parent:Kt,token:on}=this.props;if(!Object(h.canPostComments)(Fe,Vt,Tt))throw yield this.showPaywall(),yield new Promise(Bt=>setTimeout(Bt,600)),new G.a("Please sign in");if(this.needsProfile()&&!Ke)throw yield this.showProfileUpdate(),yield new Promise(Bt=>setTimeout(Bt,600)),new G.a("Please update your profile");const qt={parent_id:Kt?Kt.id:void 0,body:this.bodyInput.value,token:on};try{const Bt=yield d.a.post(`/api/v1/post/${Vt.id}/comment`).send(qt);if(!(Fe==null?void 0:Fe.profile_set_up_at)){const{body:{count:dn}}=yield d.a.get("/api/v1/user/profile_role_count");if(dn>=2)return window.location=Object(n.pathWithQuery)(`${Object(n.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:Object($.f)(Vt,Bt.body,Tt)}),!1}return Bt}catch(Bt){throw Bt.response&&Bt.response.statusCode===403&&(Fe&&Fe.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),Bt}})}onSuccess(Ke){if(Ke!==!1)if(this.props.onSuccess&&!this.needsProfile())this.setState({value:""}),this.props.onSuccess(Ke.body);else{const Fe=Object($.g)(this.props.post,this.props.pub);window.location.pathname===Fe?window.location.reload():window.location.href=Object($.g)(this.props.post,this.props.pub)}}showFinishMagicLoginModal(){return Ee(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,Object(F.i)(F.a.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return Ee(this,null,function*(){this.paywallShown||(this.paywallShown=!0,Object(F.i)(F.a.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&(yield this.modalPaywall.open())})}showProfileUpdate(){return Ee(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,Object(F.i)(F.a.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return Ee(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield d.a.post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(Ke){alert(Object(ie.getNetworkErrorMessage)(Ke))}}})}focus(){this.bodyInput.focus()}render({user:Ke,freeSignup:Fe,freeSignupEmail:Tt,pub:Vt,post:Kt,token:on,onCancel:qt,autoFocus:Bt,commentBeingEdited:dn,saveEdit:Bn,formClassName:$n},{value:En}){return Object(e.h)("div",{className:l()("comment-input-wrap",{comment:dn})},Object(e.h)(G.g,{ref:On=>this.form=On,className:l()("comment-input",$n),performSubmit:On=>dn?Bn(En):this.postComment(On),onSuccess:On=>this.onSuccess(On),noInlineErrors:!0,autoLock:!0},Object(e.h)("div",{className:"comment-input-head"},Object(e.h)(W.c,{ref:On=>this.userHead=On,subject:Ke,pub:Vt,user:Ke,freeSignup:Fe,freeSignupEmail:Tt,token:on,modalProfile:!Ke})),Object(e.h)("div",{className:"comment-input-right"},dn&&Object(e.h)(A,{post:Kt,pub:Vt,comment:dn,isCollapsed:!1,openUserProfile:On=>this.userHead.openProfile(On),userBanned:!1}),Object(e.h)(se.a,{ref:On=>this.bodyInput=On&&On.base,name:"body",placeholder:"Write a comment\u2026",autoHeight:!0,maxLines:8,value:En||"",onInput:On=>this.onInput(On),onKeyDown:On=>this.onKeyDown(On)}),Object(e.h)("div",{id:"error-container"}),Object(e.h)("div",{className:"comment-button-container"},(qt||!!En)&&Object(e.h)(m.b,{className:"primary",type:"submit"},dn?"Save":"Post"),qt&&Object(e.h)(m.b,{className:"cancel",onClick:qt},"Cancel")))),Object(e.h)(X.c,{ref:On=>this.profileUpdater=On,user:Ke,freeSignup:Fe,freeSignupEmail:Tt,optionalPhoto:!0,token:on,text:"Save & Post Comment",onBeforeClose:On=>On&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),Object(e.h)(q.a,{ref:On=>this.modalPaywall=On,user:Ke,freeSignup:Fe,freeSignupEmail:Tt,publication:Vt,post:Kt,title:`Only ${(Vt.parent_publication||Vt).subdomain==="thedispatch"?"Dispatch Members only":"paid subscribers"} can comment on this post`,reauthenticationTitle:"To post a comment, please re-authenticate."}),Object(e.h)(f.a,{ref:On=>this.finishMagicLoginModal=On,className:"finish-magic-login-modal"},Object(e.h)("h4",null,"Check your email"),Object(e.h)("p",null,"For your security, we need to re-authenticate you."),Object(e.h)("p",null,"Click the link we sent to ",Ke==null?void 0:Ke.email,", or"," ",Object(e.h)("a",{href:Object(n.getSigninUrl)({for_pub:Vt.subdomain,with_password:!0}),native:!0},"click here to sign in"),".")))}}const ge=({comment:ht,bodyRef:Ke,expandToggleClicked:Fe})=>{const[Tt,Vt]=Object(p.k)(!1),Kt=(ht.user_banned_for_comment||ht.reported_by_user)&&!Tt;return Object(e.h)("div",{className:"comment-body",ref:Ke},Object(e.h)(oe,{comment:ht,showHiddenComment:Tt,setShowHiddenComment:Vt}),ht.hidden?Object(e.h)("i",null,"Comment hidden"):ht.deleted?Object(e.h)("i",null,"Comment deleted"):Kt?Object(e.h)("i",null):ht.suppressed&&!Tt?Object(e.h)("i",null,"Comment removed"):ht.type==="reply"?Object(e.h)(ee,{comment:ht}):Object($.a)(ht.body),Object(e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>Fe()},Object(e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},oe=({comment:ht,showHiddenComment:Ke,setShowHiddenComment:Fe})=>{const Tt=Object(s.hasVisibleStatus)(ht)&&(ht.user_banned_for_comment||ht.reported_by_user),Vt=ht.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return Tt&&Object(e.h)("div",{className:"comment_notice"},Object(e.h)("i",null,Vt,Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>Fe(!Ke)},Ke?"Hide":"Show")))},ee=({comment:ht})=>{const{title:Ke,truncated_body_text:Fe,date:Tt,bylines:Vt,like_count:Kt,comment_count:on,url:qt}=ht.reply;return Object(e.h)("a",{class:"reply-comment",href:Object(n.pathWithQuery)(qt,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},Object(e.h)("div",{class:"reply-comment-title"},Ke),Fe&&Object(e.h)("div",{class:"reply-comment-body"},Object(h.formatEllipsis)(Fe)),Object(e.h)("button",{class:"reply-comment-read-more"},"Read more"),Object(e.h)("div",{class:"reply-comment-meta"},Object(h.getPostEmbedMeta)({date:Tt,bylines:Vt,like_count:Kt,comment_count:on})))};var te=ge,le=t(87),Q=t(36),z=t(30),V=t(86),ne=t(136),re=t(533),de=t(534),fe=t(535),we=t(536),Ge=t(537),$e=t(538),it=(ht,Ke,Fe)=>new Promise((Tt,Vt)=>{var Kt=Bt=>{try{qt(Fe.next(Bt))}catch(dn){Vt(dn)}},on=Bt=>{try{qt(Fe.throw(Bt))}catch(dn){Vt(dn)}},qt=Bt=>Bt.done?Tt(Bt.value):Promise.resolve(Bt.value).then(Kt,on);qt((Fe=Fe.apply(ht,Ke)).next())}),Rt=({comment:ht,pub:Ke,user:Fe,post:Tt,reaction_token:Vt,commentsEnabledForPost:Kt,isCollapsed:on,hideContextMenu:qt,onChange:Bt,startReply:dn,startEdit:Bn,startReport:$n,openBan:En,setCollapsed:On,scrollRef:sr,updateCommentReacted:Yn})=>{const{pinned_by_user_id:ar}=ht,er=!!ar,Dr=Object(p.j)(),Tn=Object(p.j)(),pr=Object(p.j)(),[lr,Rr]=Object(p.k)(!1),[cr,Lr]=Object(p.k)(!1),[Gn,An]=Object(p.k)(!1),[mr,tr]=Object(p.k)(!1),gr=Object(p.a)(()=>{var xe;mr?(xe=pr.current)==null||xe.toggle():tr(!0)},[mr,tr,pr]);Object(p.d)(()=>{var xe;(xe=pr.current)==null||xe.toggle()},[mr]);const Vr=()=>it(void 0,null,function*(){if(!Gn&&!!window.confirm(`Are you sure you want to ${er?"unpin":"pin"} this comment?`)&&!Gn){An(!0);try{yield d.a.patch(`/api/v1/comment/${ht.id}/pin`).send({pinned:!er}),Bt({pinned:!er}),document.location.reload()}catch(xe){alert(Object(ie.getNetworkErrorMessage)(xe)),An(!1)}}}),co=()=>it(void 0,null,function*(){var xe;if(!lr&&!!window.confirm("Are you sure you want to remove this comment?")&&!lr){Rr(!0);try{yield d.a.patch(`/api/v1/comment/${ht.id}/status`).send({status:s.COMMENT_STATUS.moderator_removed}),Bt({suppressed:!0,status:s.COMMENT_STATUS.moderator_removed,body:null}),(xe=Tn.current)==null||xe.close()}catch(Ot){alert(Object(ie.getNetworkErrorMessage)(Ot))}Rr(!1)}}),zr=()=>it(void 0,null,function*(){var xe;if(!cr&&!!window.confirm("Are you sure you want to delete this comment?")&&!cr){Lr(!0);try{yield d.a.delete(`/api/v1/comment/${ht.id}`).send(),Bt({status:s.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(xe=Tn.current)==null||xe.close()}catch(Ot){alert(Object(ie.getNetworkErrorMessage)(Ot))}Lr(!1)}}),Nr=24,Qn="#222",xr=Object(h.canEditComment)(Fe,ht),uo=(Fe==null?void 0:Fe.is_contributor)&&Object(s.hasVisibleStatus)(ht)&&ht.ancestor_path==="",fo=xr||uo,Jr=(Fe==null?void 0:Fe.is_contributor)&&Object(s.hasVisibleStatus)(ht),qr=Ke.moderation_enabled&&!ht.reported_by_user&&!ht.hidden&&!ht.suppressed&&ht.user_id!==(Fe==null?void 0:Fe.id),ho=Jr,So=Jr&&Fe.is_global_admin,ro=qr||ho||So,eo=Jr&&!ht.user_banned,vo=Jr&&ht.email,to=eo||vo,Ue=Object(z.default)("like_comments_enabled"),Be=!qt&&Fe&&(fo||ro||to);return Object(e.h)("div",{className:"comment-actions"},!ht.deleted&&[Ue&&Object(e.h)(le.a,{user:Fe,pub:Ke,post:Tt,comment:ht,height:14,token:Vt,onChange:({comment:xe})=>Bt(xe),onReactedChange:xe=>{!Yn||Yn(ht.id,xe)},noSelfUpdate:!!Yn}),Kt&&Object(e.h)("span",null,Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>dn()},"Reply")),ht.metadata.eligibleForGift&&!ht.metadata.is_author&&Object(e.h)("span",null,Object(e.h)("a",{href:`${Ke.base_url}/subscribe?gift=true&recipient=${ht.user_id}-${Object(V.cleanSlug)(ht.name,{hashIfEmpty:!0})}&comment_id=${ht.id}`},"Gift a subscription")),Fe&&Fe.id===ht.user_id&&Object(e.h)("span",null,Object(e.h)("a",{href:"javascript:void(0)",onClick:zr},cr?"Deleting\u2026":"Delete")),!on&&On&&Object(e.h)("span",null,Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>On(!0)},"Collapse")),Be&&Object(e.h)("span",{onClick:gr,ref:Dr},Object(e.h)(ne.default,{className:"comment-actions-menu"}),mr&&Object(e.h)(R.a,{baseRef:Dr,ref:pr,onOpen:()=>{var xe;return(xe=Tn.current)==null?void 0:xe.open()},onClose:()=>{var xe;return(xe=Tn.current)==null?void 0:xe.close()},rootElement:document.getElementById("main"),scrollContainers:[sr]},Object(e.h)(D.a,{ref:Tn,className:"comment-actions-dropdown"},xr&&Object(e.h)(Q.a,{className:"comment-action-button",onClick:Bn},Object(e.h)(re.default,{class:"comment-action-icon",stroke:Qn,size:Nr}),"Edit comment"),uo&&Object(e.h)(Q.a,{className:"comment-action-button",onClick:Vr},Object(e.h)(de.default,{class:"comment-action-icon",stroke:Qn,size:Nr}),Gn?`${er?"Unpinning":"Pinning"} comment...`:`${er?"Unpin":"Pin"} comment`),fo&&(ro||to)&&Object(e.h)("hr",{class:"dropdown-separator"}),qr&&Object(e.h)(Q.a,{className:"comment-action-button",onClick:$n},Object(e.h)(fe.default,{class:"comment-action-icon",stroke:Qn,size:Nr}),"Report comment"),ho&&Object(e.h)(Q.a,{className:"comment-action-button",onClick:co},Object(e.h)(we.default,{class:"comment-action-icon",stroke:Qn,size:Nr}),lr?"Removing comment...":"Remove comment"),to&&ro&&Object(e.h)("hr",{class:"dropdown-separator"}),eo&&Object(e.h)(Q.a,{className:"comment-action-button",onClick:En},Object(e.h)(Ge.default,{class:"comment-action-icon",stroke:Qn,size:Nr}),"Ban or suspend user"),vo&&Object(e.h)(Q.a,{className:"comment-action-button",onClick:()=>window.open(Object(n.getSubscriberDetailsUrl)(Ke,ht.email),"_blank")},Object(e.h)($e.default,{class:"comment-action-icon",stroke:Qn,size:Nr}),"View subscriber details"))))])},Ht=t(504),je=t(49),Oe=(ht,Ke,Fe)=>new Promise((Tt,Vt)=>{var Kt=Bt=>{try{qt(Fe.next(Bt))}catch(dn){Vt(dn)}},on=Bt=>{try{qt(Fe.throw(Bt))}catch(dn){Vt(dn)}},qt=Bt=>Bt.done?Tt(Bt.value):Promise.resolve(Bt.value).then(Kt,on);qt((Fe=Fe.apply(ht,Ke)).next())});const be=({pub:ht,comment:Ke,onClose:Fe,onReportSuccess:Tt})=>{const Vt=Object(p.j)(null),[Kt,on]=Object(p.k)(!1),qt={Report:0,Confirm:1},[Bt,dn]=Object(p.k)(qt.Report),Bn=En=>Oe(void 0,null,function*(){if(En===""){alert("Please enter a reason!");return}on(!0);try{yield d.a.post(`/api/v1/comment/${Ke.id}/report`).send({reason:En}),Tt(),dn(qt.Confirm)}catch(On){alert(Object(ie.getNetworkErrorMessage)(On))}finally{on(!1)}}),$n=()=>{var En;(En=Vt==null?void 0:Vt.current)==null||En.close()};return Object(p.d)(()=>{var En;(En=Vt==null?void 0:Vt.current)==null||En.open()},[]),Object(e.h)(f.a,{className:"report-comment-modal",ref:Vt,onClose:Fe},Bt===qt.Report?Object(e.h)(he,{pub:ht,reportComment:Bn,reporting:Kt,closeModal:$n}):Object(e.h)(Ce,{pub:ht,closeModal:$n}))},he=({pub:ht,reportComment:Ke,reporting:Fe,closeModal:Tt})=>{const[Vt,Kt]=Object(p.k)("");return Object(e.h)(e.Fragment,null,Object(e.h)("h4",null,"Report to publication admins"),Object(e.h)("p",null,"Thanks for reporting this comment. Only the admins of ",Object(e.h)("span",{className:"weight"},ht.name)," will see your name and the content of this report."),Object(e.h)(se.a,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:Vt,onInput:on=>Kt(on.target.value)}),Object(e.h)("div",{className:"buttons"},Object(e.h)(m.b,{className:"secondary",onClick:Tt},Object(e.h)("span",null,"Cancel")),Object(e.h)(m.b,{className:"primary",onClick:()=>Ke(Vt),disabled:Vt===""||Fe},Object(e.h)("span",null,Fe?"Loading...":"Submit"))))},Ce=({pub:ht,closeModal:Ke})=>Object(e.h)(e.Fragment,null,Object(e.h)(Ht.default,{stroke:ht.theme_var_background_pop||je.substack_color}),Object(e.h)("h4",null,"Thanks for your report"),Object(e.h)("p",null,"The admins of ",Object(e.h)("span",{className:"weight"},ht.name)," will review this comment."),Object(e.h)("div",{className:"buttons"},Object(e.h)(m.b,{className:"primary",onClick:Ke},Object(e.h)("span",null,"Done"))));var De=be,Se=Object.defineProperty,Le=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,rt=(ht,Ke,Fe)=>Ke in ht?Se(ht,Ke,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):ht[Ke]=Fe,ke=(ht,Ke)=>{for(var Fe in Ke||(Ke={}))Et.call(Ke,Fe)&&rt(ht,Fe,Ke[Fe]);if(Xe)for(var Fe of Xe(Ke))Qe.call(Ke,Fe)&&rt(ht,Fe,Ke[Fe]);return ht},jt=(ht,Ke)=>Le(ht,tt(Ke)),Nt=(ht,Ke,Fe)=>(rt(ht,typeof Ke!="symbol"?Ke+"":Ke,Fe),Fe),rn=(ht,Ke,Fe)=>new Promise((Tt,Vt)=>{var Kt=Bt=>{try{qt(Fe.next(Bt))}catch(dn){Vt(dn)}},on=Bt=>{try{qt(Fe.throw(Bt))}catch(dn){Vt(dn)}},qt=Bt=>Bt.done?Tt(Bt.value):Promise.resolve(Bt.value).then(Kt,on);qt((Fe=Fe.apply(ht,Ke)).next())});const sn=200,dt=50,mt=140,gt=728,ze=80;function ue(){const Ke=Math.min(gt,document.body.clientWidth)-mt;return Math.ceil(Ke/dt)}const bt=ue();class wt extends e.Component{constructor(Ke,Fe){super(Ke,Fe);Nt(this,"bodyRef",Object(e.createRef)(null)),Nt(this,"headContainerRef",Object(e.createRef)(null)),Nt(this,"openBan",()=>{this.props.banComment()}),Nt(this,"setSelectedHighlight",()=>{const Vt=Object($.e)()===this.props.comment.id;this.setState({isSelected:Vt})}),Nt(this,"startEdit",()=>{this.setState({editing:!0})}),Nt(this,"saveEdit",Tt=>rn(this,null,function*(){if(!!this.state.editing)return yield d.a.patch(`/api/v1/comment/${this.props.comment.id}`).send({body:Tt})})),Nt(this,"onSaveEditSuccess",({edited:Tt})=>{this.setState({editing:!1}),this.props.onChange(ke(ke({},this.props.comment),Tt))}),Nt(this,"startReport",()=>{this.setState({reporting:!0})}),Nt(this,"cancelReport",()=>{this.setState({reporting:!1})}),Nt(this,"onReportSuccess",()=>{this.props.onChange(jt(ke({},this.props.comment),{reported_by_user:!0}))}),Nt(this,"expandToggleClicked",()=>{const Tt=this.bodyRef.current;!Tt||(Tt.classList.remove("long"),Tt.classList.add("expanded"),Object(F.i)(F.a.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:Tt.getAttribute("data-hidden-height")}))}),Nt(this,"onChange",Tt=>{this.props.onChange?this.props.onChange(ke(ke({},this.props.comment),Tt)):document.location.href=Object($.g)(this.props.post,this.props.pub)}),Nt(this,"setComment",Tt=>{this.setState({comment:Tt})}),Nt(this,"setCollapsed",Tt=>{var Vt,Kt;if(this.setState({isCollapsed:Tt}),Tt&&((Kt=(Vt=this.headContainerRef)==null?void 0:Vt.current)==null?void 0:Kt.scrollIntoView)){const on=this.headContainerRef.current.getBoundingClientRect();on.top<0&&(document.documentElement.scrollTop+=on.top-ze)}this.props.retainUserCollapseState&&Object($.k)(this.props.comment.id,Tt)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&Object($.i)(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(Ke){var Fe,Tt;((Fe=Ke.comment)==null?void 0:Fe.id)!==((Tt=this.props.comment)==null?void 0:Tt.id)&&this.setSelectedHighlight(),Ke.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const Ke=/^#comment-(\d+)-reply$/.exec(window.location.hash);!Ke||Number(Ke[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return rn(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(Ke=>this.setState({replying:!0},Ke)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(Ke){const[Fe,Tt]=Ke.target.href.split("?")[0].split("#");Fe===window.location.href.split("?")[0].split("#")[0]&&Tt&&(Ke.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${Tt}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const Ke=this.bodyRef.current;if(!Ke)return;const Fe=Ke.scrollHeight-Ke.clientHeight;Fe>0&&Fe<sn?Ke.classList.add("expanded"):Fe>=sn&&(Ke.classList.add("long"),Ke.setAttribute("data-hidden-height",Fe))}render({user:Ke,comment:Fe,freeSignup:Tt,freeSignupEmail:Vt,pub:Kt,post:on,reaction_token:qt,depth:Bt,collapseAtDepth:dn,onChange:Bn,scrollRef:$n,retainUserCollapseState:En,onStartReply:On,noHoverProfile:sr,onProfileClick:Yn,hideContextMenu:ar,updateCommentReacted:er},{isSelected:Dr,replying:Tn,editing:pr,reporting:lr,hideAnchors:Rr,isCollapsed:cr}){var Lr,Gn;const An=Kt.community_enabled&&on&&on.write_comment_permissions!=="none",{user_banned:mr}=Fe;let tr=!1;return((Lr=Fe.metadata)==null?void 0:Lr.is_author)?tr="author":((Gn=Fe.metadata)==null?void 0:Gn.founding)&&(tr="founding"),pr?Object(e.h)(Ie,{autoFocus:!0,user:Ke,freeSignup:Tt,freeSignupEmail:Vt,pub:Kt,post:on,commentBeingEdited:Fe,saveEdit:this.saveEdit,token:qt,onCancel:()=>this.setState({editing:!1}),onSuccess:Bn?this.onSaveEditSuccess:null}):Object(e.h)("div",{className:l()("comment",{selected:Dr,"post-reply":Fe.type==="reply",collapsed:cr}),key:`comment-${Fe.id}`},!Rr&&[Object(e.h)("div",{id:`comment-${Fe.id}`,className:"comment-anchor"}),Object(e.h)("div",{id:`comment-${Fe.id}-reply`,className:"comment-anchor"})],Object(e.h)("table",{className:"comment-content"},Object(e.h)("tr",null,Object(e.h)("td",{className:"comment-head",ref:this.headContainerRef},Object(e.h)(k.d,{subject:Object($.c)(Fe),disabled:sr||!Object(s.hasVisibleStatus)(Fe)||Fe.hidden||cr},({profile:gr})=>{var Vr;const co=Boolean((Vr=((gr==null?void 0:gr.subscriptions)||[]).find(Nr=>Nr.publication.id===Kt.id))==null?void 0:Vr.is_founding),zr=tr||(co?"founding":null);return Object(e.h)(W.c,{ref:Nr=>this.userHead=Nr,subject:Object($.c)(Fe),pub:Kt,user:Ke,freeSignup:Tt,freeSignupEmail:Vt,token:qt,isBanned:mr,tooltip:{founding:Object(h.foundingMemberDescription)(Kt),author_ons_other_pub:"Author of another publication"}[zr],badge:zr,isAuthor:Fe.metadata.is_author,onClick:Yn?()=>Yn(Fe):null,lazy:!0})})),Object(e.h)("td",{className:"comment-rest"},Object(e.h)(A,{post:on,pub:Kt,comment:Fe,commentUser:$.c,isCollapsed:cr,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),openUserProfile:gr=>this.userHead.openProfile(gr),userBanned:mr,noHoverProfile:sr}),Object(e.h)(te,{comment:Fe,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!Tn&&Object(e.h)(Rt,{comment:Fe,pub:Kt,user:Ke,post:on,reaction_token:qt,commentsEnabledForPost:An,hideContextMenu:ar,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,scrollRef:$n,isCollapsed:cr,setCollapsed:gr=>this.setCollapsed(gr),updateCommentReacted:er})))),Tn&&An&&Object(e.h)(Ie,{ref:gr=>this.commentInput=gr,user:Ke,freeSignup:Tt,freeSignupEmail:Vt,pub:Kt,post:on,parent:Fe,token:qt,onCancel:()=>this.setState({replying:!1}),onSuccess:Bn?gr=>{this.setState({replying:!1});const Vr=jt(ke({},Fe),{children:[gr].concat(Fe.children)});Bn(Vr)}:null}),Fe.childrenSummary&&Object(e.h)("div",{className:"more-replies-container"},Object(e.h)("a",{className:"more-replies",href:Object($.f)(on,Fe,Kt)},Fe.childrenSummary)),!Fe.childrenSummary&&Bt>=bt&&!!Fe.children.length&&Object(e.h)(m.b,{className:"outline continue-thread-button",href:Object($.f)(on,Fe,Kt)},"Continue Thread \u2192"),!Fe.childrenSummary&&Bt<bt&&Object(e.h)(yn,{key:`comment:${Fe.id}`,user:Ke,freeSignup:Tt,freeSignupEmail:Vt,pub:Kt,post:on,comments:Fe.children,parent:Fe,reaction_token:qt,depth:(Bt||0)+1,collapseAtDepth:dn,onChange:Bn,isChild:!0,scrollRef:$n,retainUserCollapseState:En,onStartReply:On,noHoverProfile:sr,onProfileClick:Yn,hideContextMenu:ar,updateCommentReacted:er}),!cr&&Object(e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},Object(e.h)("div",{className:"comment-list-collapser-line"})),lr&&Object(e.h)(De,{pub:Kt,comment:Fe,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}var It=Object.defineProperty,We=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,ot=(ht,Ke,Fe)=>Ke in ht?It(ht,Ke,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):ht[Ke]=Fe,vt=(ht,Ke)=>{for(var Fe in Ke||(Ke={}))Ve.call(Ke,Fe)&&ot(ht,Fe,Ke[Fe]);if(Ae)for(var Fe of Ae(Ke))at.call(Ke,Fe)&&ot(ht,Fe,Ke[Fe]);return ht},Ct=(ht,Ke)=>We(ht,lt(Ke)),Mt=(ht,Ke,Fe)=>(ot(ht,typeof Ke!="symbol"?Ke+"":Ke,Fe),Fe);const Lt=5,_t=1,Qt=16,un=50,Jt=200;function Xt(ht){return ht.reduce((Ke,Fe)=>Ke+1+Xt(Fe.children||[]),0)}class yn extends e.Component{constructor(Ke,Fe){super(Ke,Fe);Mt(this,"_pageSize",()=>this.props.pageSize||Qt),Mt(this,"loadMore",()=>{const Kt=window.scrollY;this.setState(on=>({limit:on.limit+this._pageSize()}),()=>window.scrollTo(window.scrollX,Kt))}),Mt(this,"showNew",(Kt=!0)=>{const{comments:on,newComments:qt,limit:Bt}=this.state,dn=qt.concat(on);this.setState({collapsed:Kt?!1:this.state.collapsed,comments:dn,newComments:[],limit:Bt+qt.length})});const Tt=this.props.comments||[];let Vt=!1;Object(s.forEachComment)(Tt,Kt=>{if(this.props.user&&this.props.user.id===Kt.user_id)return Vt=!0,!1}),this.state={limit:this._pageSize(),comments:Tt,commentBeingBanned:null,commentReplying:null,newComments:[],collapsed:!Vt&&(this.props.depth||0)===this.props.collapseAtDepth}}banComment(Ke){this.setState({commentBeingBanned:Ke})}componentDidMount(){setTimeout(this.showNew,500,!1)}commentBanned(Ke,Fe){this.props.onChange?this.props.onChange(Ct(vt({},Ke),{user_banned:!0,bans:Fe.concat(Ke.bans)})):document.location.href=Object($.g)(this.props.post,this.props.pub)}componentDidUpdate(Ke,Fe){if(Object($.b)(Ke.comments,this.props.comments)||this.state.commentBeingBanned!==Fe.commentBeingBanned){const Tt=this.state.comments.map(Bt=>this.props.comments.find(dn=>dn.id===Bt.id)||Bt),Vt=this.state.newComments.map(Bt=>this.props.comments.find(dn=>dn.id===Bt.id)||Bt),Kt=this.props.comments.filter(Bt=>!Ke.comments.find(dn=>dn.id===Bt.id));let on,qt;!this.state.collapsed&&this.props.newCommentsAtTopUncollapsed?(on=Kt,qt=[]):[on,qt]=Object(h.splitArray)(Kt,Bt=>this.props.user&&this.props.user.id===Bt.user_id),this.setState({comments:on.concat(Tt),newComments:qt.concat(Vt),collapsed:on.length===0&&this.state.collapsed})}}render({user:Ke,freeSignup:Fe,freeSignupEmail:Tt,pub:Vt,post:Kt,parent:on,reaction_token:qt,depth:Bt,collapseAtDepth:dn,onChange:Bn,scrollRef:$n,retainUserCollapseState:En,className:On,onStartReply:sr,noHoverProfile:Yn,onProfileClick:ar,hideContextMenu:er,updateCommentReacted:Dr},{comments:Tn,newComments:pr,collapsed:lr,limit:Rr}){if(!Tn||Tn.concat(pr).length===0)return;let cr=(Tn??[]).slice(0,Rr);const Lr=Object($.e)();if(Lr&&!cr.find(Gn=>Gn.id===Lr)){const Gn=Object($.d)(Lr,Tn);if(Gn){const An=Gn.ancestor_path.match(/\d+/),mr=An&&!cr.find(tr=>tr.id===Number(An[0]))&&Tn.find(tr=>tr.id===Number(An[0]));cr=mr?[mr].concat(cr):cr}}return Object(e.h)("div",{className:l()("comment-list",On,{collapsed:lr},{"has-new-comments":pr.length>0})},Object(e.h)(_,{pub:Vt,comment:this.state.commentBeingBanned,onClose:()=>this.setState({commentBeingBanned:null}),onReply:Gn=>this.setState({commentReplying:Gn,commentBeingBanned:null}),onBan:(Gn,An)=>this.commentBanned(Gn,An)}),lr||Tn.length===0?Object(e.h)(m.b,{className:"collapsed-reply outline",onClick:this.showNew},Object(h.pluralize)(Xt(Tn.concat(pr)),pr.length>0?"new reply":"reply")):[pr.length>0&&Object(e.h)(m.b,{className:"collapsed-reply outline",onClick:this.showNew},Object(h.pluralize)(Xt(pr),"new reply")),Object(e.h)("div",{className:"comment-list-items"},cr.map(Gn=>Object(e.h)(wt,{banComment:()=>this.banComment(Gn,Ke),key:`cmt-${Gn.id}`,user:Ke,freeSignup:Fe,freeSignupEmail:Tt,pub:Vt,post:Kt,comment:Gn,parent:on,reaction_token:qt,collapseAtDepth:dn,depth:Bt||0,onChange:Bn,replying:this.state.commentReplying===Gn.id,scrollRef:$n,retainUserCollapseState:En,onStartReply:sr,noHoverProfile:Yn,onProfileClick:ar,hideContextMenu:er,updateCommentReacted:Dr}))),cr.length<(Tn??[]).length?Object(e.h)(m.b,{className:"collapsed-reply outline",onClick:this.loadMore},"Load More"):null])}}var wn=t(308),Ze=t(331),Pe=t(193);const Ye=()=>Object(e.h)("div",{className:"comment-silhouette"},Object(e.h)("div",{className:"comment-silhouette-head"}),Object(e.h)("div",{className:"comment-silhouette-content"},Object(e.h)("div",{className:"comment-silhouette-meta"}),Object(e.h)("div",{className:"comment-silhouette-body"}),Object(e.h)("div",{className:"comment-silhouette-actions"})));var Je=t(109),yt=Object.defineProperty,Dt=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,cn=(ht,Ke,Fe)=>Ke in ht?yt(ht,Ke,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):ht[Ke]=Fe,vn=(ht,Ke)=>{for(var Fe in Ke||(Ke={}))Ut.call(Ke,Fe)&&cn(ht,Fe,Ke[Fe]);if(Dt)for(var Fe of Dt(Ke))zt.call(Ke,Fe)&&cn(ht,Fe,Ke[Fe]);return ht},Cn=(ht,Ke,Fe)=>(cn(ht,typeof Ke!="symbol"?Ke+"":Ke,Fe),Fe),Rn=(ht,Ke,Fe)=>new Promise((Tt,Vt)=>{var Kt=Bt=>{try{qt(Fe.next(Bt))}catch(dn){Vt(dn)}},on=Bt=>{try{qt(Fe.throw(Bt))}catch(dn){Vt(dn)}},qt=Bt=>Bt.done?Tt(Bt.value):Promise.resolve(Bt.value).then(Kt,on);qt((Fe=Fe.apply(ht,Ke)).next())});const ir=30*1e3;class Hn extends e.Component{constructor(Ke,Fe){super(Ke,Fe);Cn(this,"modalRef",Object(e.createRef)(null)),Cn(this,"onWindowVisibilityChange",()=>{Object(ie.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},Ke.post&&Ke.post.slug===Ke.slug&&(this.state.post=Ke.post),this.state.sort=Ke.sort||this.state.post&&this.state.post.default_comment_sort||Ke.publication.default_comment_sort||"best_first",this.state.comments=Ke.initialComments,this.scrollRef=Object(e.createRef)(),this.shareDialogRef=Object(e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return Rn(this,null,function*(){Object(ie.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost()})}componentWillUnmount(){Object(ie.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(Ke,Fe){return Rn(this,null,function*(){if(Ke.slug!==this.props.slug||Fe.sort!==this.state.sort){const Tt=this.props.post&&this.props.post.slug===this.props.slug;yield Object(ie.setState)(this,{post:Tt?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.props.commentsViewed&&!this.state.loading){let Tt=0;Object(s.forEachComment)(this.state.comments,()=>Tt++),this.state.post.comment_count!==Tt&&(this.state.post.comment_count=Tt,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:Ke}=this.state;Object(F.i)(F.a.COMMENTS_VIEWED,{post_id:Ke.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(Ke.type==="thread"||Object(h.canSeeComments)(this.props.user,Ke))&&Object(F.i)(F.a.COMMENT_PAYWALL_SHOWN,{post_id:Ke.id,post_type:Ke.type}),Ke.type==="thread"&&this.props.user&&Promise.resolve(d.a.post(`/api/v1/posts/${Ke.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),ir)}loadPost(){return Rn(this,null,function*(){if(this.state.comments&&!Object(ie.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const Ke=this.state.comments&&this.state.comments.length>0;let Fe;this.state.comments&&(Fe=null,Object(s.forEachComment)(this.state.comments,Tt=>{!Tt.deleted&&Tt.date&&(!Fe||Tt.date>Fe)&&(Fe=Tt.date)}));try{const Tt=this.props.slug,Vt=this.state.sort,Kt={token:this.props.post_reaction_token||"",all_comments:!0,sort:Vt,last_comment_at:Fe};this.state.post&&this.props.commentId&&(Kt.comment_id=this.props.commentId);const on=yield d.a.get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${Tt}`).query(Kt);if(this.setState({loading:!1}),Tt!==this.props.slug||Vt!==this.state.sort)return;let qt=this.state.sort;!this.state.post&&on.body.default_comment_sort&&(qt=on.body.default_comment_sort),(!this.state.post||!this.state.comments||on.body.comments)&&(yield Object(ie.setState)(this,{post:this.state.post||on.body,comments:on.body.comments||[],sort:qt}))}catch(Tt){console.error("Failed to load post:",Tt),Tt.statusCode===400&&(yield Object(ie.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!Ke&&this.state.comments&&this.state.comments.length>0&&Object(ie.scrollToHash)(),Object(ie.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(Ke){this.setState({comments:Object($.j)(this.state.comments,Ke)})}onSortSelected(Ke){this.setState({sort:Ke}),Object(F.i)(F.a.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:Ke})}triggerShareOnLoad(){var Ke;!((Ke=this.shareDialogRef)==null?void 0:Ke.current)||Object(n.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,Object(n.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(Ke){var Fe;const{publication:Tt}=this.props;return((Fe=(Tt==null?void 0:Tt.parent_publication)||Tt)==null?void 0:Fe.subdomain)===Ke}render({slug:Ke,user:Fe,freeSignup:Tt,freeSignupEmail:Vt,publication:Kt,post_reaction_token:on,inline:qt,commentId:Bt,selectionFromQuery:dn,freeTrialCoupon:Bn},{sort:$n,post:En,comments:On,notAllowedToFetchComments:sr,reactionSigninComment:Yn}){if(!En||!Kt.community_enabled)return!qt&&Object(e.h)("div",{className:"comments-page"},Object(e.h)("div",{className:"container"},Object(e.h)(Ze.b,null)));const ar=Kt.community_enabled&&En&&En.write_comment_permissions!=="none",er=sr||ar&&!Object(h.canSeeComments)(Fe,En),Dr=(Tn,pr)=>Rn(this,null,function*(){return Nn({user:Fe,reactionToken:on,comments:On,id:Tn,reacted:pr,setComments:lr=>this.setState({comments:lr}),onNeedsSignin:lr=>new Promise(Rr=>this.setState({reactionSigninComment:lr},()=>this.modalRef.current.open(Rr)))})});return Object(e.h)("div",{className:"comments-page"},Object(e.h)(Pe.a,{post:En,publication:Kt,isCommentPage:!this.props.inline,selection:dn}),Object(e.h)(Je.a,{ref:this.shareDialogRef,user:Fe,pub:Kt,post:En,reaction_token:on}),!qt&&!Bt&&Object(e.h)("div",{className:"container"},Object(e.h)(Ze.a,{pub:Kt,post:Object.assign({},En,{comment_url_override:Object(n.getPostUrl)(Kt,En,{comments:!0})}),user:Fe,freeSignup:Tt,freeSignupEmail:Vt,hidden:!Object(h.isUUID)(Ke)&&En.hidden,truncated:En.type!=="thread",post_reaction_token:on,onChange:Tn=>this.setState(Tn),showUnsubscribeNotice:!0},Object(e.h)("div",{class:"full-container-border"}))),er&&Object(e.h)("div",{className:"container"},Object(e.h)(q.b,{user:Fe,freeSignupEmail:Vt,freeSignup:Tt,publication:Kt,post:En,title:`Comments on this ${En.type==="podcast"?"episode":"post"} are for ${this._isPub("thedispatch")?"Dispatch Members only":"paid subscribers"}`,reauthenticationTitle:"To see the comments, please re-authenticate.",coupon:Bn})),En.type==="thread"||Object(h.canSeeComments)(Fe,En)?Object(e.h)("div",{className:"container"},On&&Object(e.h)("div",{className:"comments-heading"},Object(h.pluralize)(En.comment_count,"Comment",{zero_fallback:"Comments"})),On&&On.length>0&&!ar&&Object(e.h)(nr,{post:En}),ar&&Object(e.h)(Ie,{user:Fe,freeSignup:Tt,freeSignupEmail:Vt,pub:Kt,post:En,token:on,autoFocus:Object($.h)(),onSuccess:Tn=>this.setState({comments:[Tn].concat(On)})}),(!On||On.length>0)&&!sr&&!Bt&&Object(e.h)(wn.a,{sort:$n,loading:!On,onSortSelected:Tn=>this.onSortSelected(Tn),pub:Kt}),Bt&&On&&Object(e.h)("a",{class:"return-to-thread-link",href:Object(n.getPostUrl)(Kt,En,{comments:!0,commentId:Bt,highlightComment:!0})},"\u2B60 Return to thread"),!On&&!sr?[Object(e.h)(Ye,null),Object(e.h)(Ye,null)]:On.length>0?[Object(e.h)("div",{className:"comment-list-container",ref:this.scrollRef},Object(e.h)(yn,{key:`post:${En.id}`,user:Fe,freeSignup:Tt,freeSignupEmail:Vt,pub:Kt,post:En,comments:On,newCommentsAtTopUncollapsed:$n==="most_recent_first",reaction_token:on,depth:0,collapseAtDepth:qt?10:On.length>3&&$n==="most_recent_first"?_t:Lt,onChange:Tn=>this.onChange(Tn),pageSize:qt||this._isPub("astralcodexten")?Jt:En.type==="thread"?un:Qt,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Dr}))]:null):null,Yn&&Object(e.h)(le.b,{comment:Yn,pub:Kt,user:Fe,react:()=>Dr(Yn.id,!0),modalRef:this.modalRef}))}}const nr=({post:ht})=>Object(e.h)("div",{className:"locked-comments"},"Commenting has been turned off for this ",Object(h.getPrintedPostType)(ht.type));function Nn(ht){return Rn(this,arguments,function*({user:Ke,reactionToken:Fe,comments:Tt,id:Vt,reacted:Kt,setComments:on,onNeedsSignin:qt}){var Bt;const dn=Object($.d)(Vt,Tt);if(!dn)return;const Bn=vn({},dn);Object(le.d)(Ke,Bn,Kt),on(Object($.j)(Tt.slice(0),Bn));try{yield Object(le.c)(Bn,!0,Kt,Fe)}catch($n){if(Object(le.d)(Ke,Bn,!Kt),on(Object($.j)(Tt.slice(0),vn({},Bn))),((Bt=$n.response)==null?void 0:Bt.statusCode)!==401){alert(Object(ie.getNetworkErrorMessage)($n));return}yield qt({comment:Bn})}})}},,function(S,i,t){"use strict";t.d(i,"a",function(){return u}),t.d(i,"b",function(){return E}),t.d(i,"c",function(){return T});var e=t(0),o=t(2),l=t(22),s=t(10),h=t.n(s),c=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,m=(k,$,H)=>$ in k?c(k,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):k[$]=H,a=(k,$)=>{for(var H in $||($={}))O.call($,H)&&m(k,H,$[H]);if(f)for(var H of f($))b.call($,H)&&m(k,H,$[H]);return k},n=(k,$)=>d(k,p($)),r=(k,$,H)=>new Promise((g,M)=>{var R=L=>{try{U(H.next(L))}catch(j){M(j)}},D=L=>{try{U(H.throw(L))}catch(j){M(j)}},U=L=>L.done?g(L.value):Promise.resolve(L.value).then(R,D);U((H=H.apply(k,$)).next())});function u({defaultState:k,shouldLoad:$=!0,children:H}){return Object(e.h)(w,{defaultState:k==null?void 0:k.activity,shouldLoad:$},Object(e.h)(W,{shouldLoad:$},H))}const v=Object(e.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>r(void 0,null,function*(){return!0}),markAllAsRead:()=>r(void 0,null,function*(){}),hasLoadedOnce:!1});v.displayName="NotificationsContext";function E(){return Object(o.b)(v)}function w({defaultState:k,shouldLoad:$=!0,children:H}){const g=Object(l.g)({pathname:"/api/v1/activity/unread",deps:[],auto:$,initialResult:k}),M=()=>r(this,null,function*(){const R=yield h.a.post("/api/v1/activity/unread").send({after:new Date().toISOString()});g.setResult(R.body)});return Object(e.h)(v.Provider,{value:{lastViewedAt:g.result!=null?g.result.lastViewedAt:null,activityUnreadCount:g.result!=null?g.result.count:0,activityUnreadAtMax:g.result!=null?g.result.max:!1,refetch:g.refetch,markAllAsRead:M,hasLoadedOnce:g.hasLoadedOnce}},H)}const C={count:0,max:!1,refetch:()=>r(void 0,null,function*(){return!0}),markAllAsRead:()=>r(void 0,null,function*(){}),hasLoadedOnce:!1},_=Object(e.createContext)(C);_.displayName="SavedPostsContext";function T(){return Object(o.b)(_)}function W({shouldLoad:k=!0,children:$}){const H=Object(l.g)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:k,initialResult:C}),g=()=>H.refetch({method:"PUT"});return Object(e.h)(_.Provider,{value:n(a({},H.result),{refetch:H.refetch,markAllAsRead:g,hasLoadedOnce:H.hasLoadedOnce})},$)}},function(S,i,t){"use strict";t.d(i,"a",function(){return f}),t.d(i,"c",function(){return O}),t.d(i,"b",function(){return b});var e=t(0),o=t(2),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(m,a,n)=>a in m?l(m,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[a]=n,p=(m,a)=>{for(var n in a||(a={}))h.call(a,n)&&d(m,n,a[n]);if(s)for(var n of s(a))c.call(a,n)&&d(m,n,a[n]);return m};const f=Object(e.createContext)({});f.displayName="WWWContext";const O=m=>{const a=n=>{const r=Object(o.b)(f);return Object(e.h)(m,p(p({},r),n))};return a.displayName=`withWWWContext(${m.name||m.displayName||"Anonymous"})`,a},b=()=>Object(o.b)(f)},function(S,i,t){var e=t(97),o=t(638),l=t(324),s="Expected a function",h=Math.max,c=Math.min;function d(p,f,O){var b,m,a,n,r,u,v=0,E=!1,w=!1,C=!0;if(typeof p!="function")throw new TypeError(s);f=l(f)||0,e(O)&&(E=!!O.leading,w="maxWait"in O,a=w?h(l(O.maxWait)||0,f):a,C="trailing"in O?!!O.trailing:C);function _(D){var U=b,L=m;return b=m=void 0,v=D,n=p.apply(L,U),n}function T(D){return v=D,r=setTimeout($,f),E?_(D):n}function W(D){var U=D-u,L=D-v,j=f-U;return w?c(j,a-L):j}function k(D){var U=D-u,L=D-v;return u===void 0||U>=f||U<0||w&&L>=a}function $(){var D=o();if(k(D))return H(D);r=setTimeout($,W(D))}function H(D){return r=void 0,C&&b?_(D):(b=m=void 0,n)}function g(){r!==void 0&&clearTimeout(r),v=0,b=u=m=r=void 0}function M(){return r===void 0?n:H(o())}function R(){var D=o(),U=k(D);if(b=arguments,m=this,u=D,U){if(r===void 0)return T(u);if(w)return clearTimeout(r),r=setTimeout($,f),_(u)}return r===void 0&&(r=setTimeout($,f)),n}return R.cancel=g,R.flush=M,R}S.exports=d},,,function(S,i){function t(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}S.exports=t},function(S,i,t){"use strict";t.d(i,"a",function(){return l});var e=t(0),o=t(58);const l=Object(e.createContext)({isStatic:!1,isAmp:!1,isFreemail:!0,siteConfigValues:{}});function s({isAmp:h,isFreemail:c,siteConfigValues:d,children:p}){return Object(e.h)(l.Provider,{value:{isStatic:!0,isAmp:h,isFreemail:c,siteConfigValues:d}},Object(e.h)(o.b,{siteConfigs:d},p))}},function(S,i,t){"use strict";t.d(i,"d",function(){return d}),t.d(i,"c",function(){return p}),t.d(i,"b",function(){return f}),t.d(i,"a",function(){return O});var e=t(145),o=t.n(e);const l="substack_ref_url",s="substack_ref";let h,c;typeof window!="undefined"&&window.location&&window.location.href&&(h=window.location.href,c=document.referrer,o.a.get(l)||(o.a.set(l,h),o.a.set(s,c)));const d=o.a.get(l),p=o.a.get(s),f=h,O=c},,function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}},function(S,i,t){"use strict";t.d(i,"a",function(){return o});function e(l,s){for(var h=0;h<s.length;h++){var c=s[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}function o(l,s,h){return s&&e(l.prototype,s),h&&e(l,h),l}},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(303);function o(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),s&&Object(e.a)(l,s)}},function(S,i,t){"use strict";t.d(i,"a",function(){return l}),t.d(i,"c",function(){return s}),t.d(i,"b",function(){return h});var e=t(0),o=t(2);const l=Object(e.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setDrawer:()=>null,checkFocus:()=>!1});function s(c,{style:d,backAction:p}={}){const f=h();return Object(o.g)(()=>{f.setChildOptions({title:c,style:d,backAction:p})},[f,c,d,p]),f}function h(){return Object(o.b)(l)}},function(S,i,t){"use strict";t.d(i,"a",function(){return Y});var e=t(0),o=t(6),l=t.n(o),s=t(27),h=t(7),c=t(3),d=t(8),p=t(99),f=t(5),O=t(12),b=t(38),m=t(67),a=t(23),n=t(11),r=t(13),u={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--1W2AP",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--3KwYe",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--1ffYG",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--1iiny",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--1EvKC",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--1MXI5",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--1KhOY"},v=t(2),E=t(77);const w=({emailSuggestions:F,currentEmail:G,onAccept:X,onReject:q})=>{const se=Object(d.isMobileBrowser)(),[ie,Ee]=Object(v.k)(!1),[Ie,ge]=Object(v.k)(null),oe=Object(v.j)(null),ee=Q=>{Ee(!1),Object(f.i)(f.a.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:G,email_suggested:Q}),q&&q()},te=F&&G&&F[G]&&F[G]!=G.trim(),le=Q=>{Ee(!1),Object(f.i)(f.a.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:G,email_suggested:Q}),X(Q)};return Object(v.d)(()=>{if(te){const Q=F[G];Object(f.i)(f.a.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:G,email_suggested:Q}),ge(Q),Ee(!0)}else Ee(!1)},[te,F,G]),Object(e.h)("div",{className:u.animationWrapper},Object(e.h)(E.c,{show:ie,enter:"tw-transition-all tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:oe},Object(e.h)(n.a,{className:u.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},Object(e.h)(n.b,{className:u.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:4,alignItems:"start",gap:20},Object(e.h)(r.b,{size:16,font:"display",className:u.secondaryText},"Did you mean",Object(e.h)("br",null),Object(e.h)(r.b,{as:"span",weight:"semibold",className:u.primaryText},Ie),"?"),Object(e.h)(n.c,{justifyContent:"space-between",flex:"grow",gap:12,className:u.buttonWrapper},Object(e.h)(a.a,{onClick:()=>le(Ie),className:u.buttonFill,variant:"themed-primary"},se?"Yes":"Yes, Subscribe with correction"),Object(e.h)(a.a,{className:u.buttonFill,variant:"secondary",onClick:()=>ee(Ie)},"No"))))))};var C=t(94),_=t.n(C),T=t(10),W=t.n(T),k=t(558),$=t.n(k),H=(F,G,X)=>new Promise((q,se)=>{var ie=ge=>{try{Ie(X.next(ge))}catch(oe){se(oe)}},Ee=ge=>{try{Ie(X.throw(ge))}catch(oe){se(oe)}},Ie=ge=>ge.done?q(ge.value):Promise.resolve(ge.value).then(ie,Ee);Ie((X=X.apply(F,G)).next())});const g=(F,G)=>H(void 0,null,function*(){const X=yield W.a.get("/api/v1/check-email").query({email:F});G([F,X.body])}),M=_()((F,G)=>H(void 0,null,function*(){yield g(F,G)}),200),R=F=>H(void 0,null,function*(){return $()(F)?new Promise((G,X)=>{M(F,G)}):[]});var D=Object.defineProperty,U=Object.defineProperties,L=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,P=(F,G,X)=>G in F?D(F,G,{enumerable:!0,configurable:!0,writable:!0,value:X}):F[G]=X,y=(F,G)=>{for(var X in G||(G={}))B.call(G,X)&&P(F,X,G[X]);if(j)for(var X of j(G))x.call(G,X)&&P(F,X,G[X]);return F},A=(F,G)=>U(F,L(G)),K=(F,G,X)=>(P(F,typeof G!="symbol"?G+"":G,X),X),N=(F,G,X)=>new Promise((q,se)=>{var ie=ge=>{try{Ie(X.next(ge))}catch(oe){se(oe)}},Ee=ge=>{try{Ie(X.throw(ge))}catch(oe){se(oe)}},Ie=ge=>ge.done?q(ge.value):Promise.resolve(ge.value).then(ie,Ee);Ie((X=X.apply(F,G)).next())});class Y extends e.Component{constructor(G){super(G);K(this,"handleEmailChange",()=>{const X=this.emailInput.value;!X||(this.setState({currentEmail:X}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(X))&&R(X).then(q=>{const[se,ie]=q;this.setState({emailSuggestions:A(y({},this.state.emailSuggestions),{[se]:ie})})}))}),K(this,"_onSuccess",X=>N(this,null,function*(){X.body.prompt_to_login||f.h(),X.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(X):alert(`Confirmation required: we sent an email to ${X.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==X.body.email&&Object(m.b)({freeSignupEmail:X.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(X))})),K(this,"onSuccess",X=>N(this,null,function*(){typeof window!="undefined"&&window.campaign&&Object(c.getQueryItem)("referralCode")?window.campaign.identify({email:X.body.email},()=>this._onSuccess(X)):yield this._onSuccess(X)})),K(this,"onAcceptSuggestion",X=>{this.emailInput.value=X,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return N(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(G){this.setState({loading:G,requires_confirmation:!1})}onError(G){G.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(G)}render({pub:G,className:X,referralCode:q,submitButtonText:se,showArchives:ie,hideLogin:Ee,hideTerms:Ie,contentLinks:ge,source:oe,loginRedirect:ee,autoFocus:te,disabled:le,onPrepareData:Q,children:z,onMaybeLater:V},{loading:ne,requires_confirmation:re}){var de,fe,we,Ge,$e,it;const st=oe==="treatment_bold_fade",Rt=((we=(fe=(de=Object(c.getQueryItem)("referring_pub_ids"))==null?void 0:de.split)==null?void 0:fe.call(de,","))==null?void 0:we[0])||void 0,Ht=((it=($e=(Ge=Object(c.getQueryItem)("referring_pub_ids"))==null?void 0:Ge.split)==null?void 0:$e.call(Ge,","))==null?void 0:it.slice(1))||void 0,je=this.getPrefilledEmail();return Object(e.h)(e.Fragment,null,Object(e.h)(s.g,{ref:Oe=>this.form=Oe,className:X,noInlineErrors:!0,action:Object(c.pathWithQuery)("/api/v1/free"),noJsAction:Object(c.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:Oe=>{re&&(Oe.resend_confirmation=!0),Q&&Q(Oe)},onChangeLoadingState:this.onLoadingState.bind(this),onError:Oe=>this.onError(Oe),onSuccess:Oe=>this.onSuccess(Oe),typoFound:Oe=>this.setState({emailSuggestion:Oe})},Object(e.h)("input",{type:"hidden",name:"first_url",value:p.d}),Object(e.h)("input",{type:"hidden",name:"first_referrer",value:p.c}),Object(e.h)("input",{type:"hidden",name:"current_url",value:p.b}),Object(e.h)("input",{type:"hidden",name:"current_referrer",value:p.a}),Object(e.h)("input",{type:"hidden",name:"referral_code",value:q}),Object(e.h)("input",{type:"hidden",name:"source",value:oe}),Object(e.h)("input",{type:"hidden",name:"referring_pub_id",value:Rt}),Object(e.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:Ht}),Object(e.h)("div",{className:"sideBySideWrap"},!!je&&Object(d.inputPrefillHack)(),Object(e.h)("input",{onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:Oe=>this.emailInput=Oe,type:"email",name:st?"email-pop":"email",readOnly:!!(this.getSavedEmail()||ne||le),disabled:!!(ne||le),autoFocus:te&&!(this.getPrefilledEmail()||le)&&!Object(d.isMobileBrowser)(),placeholder:I`Type your email…`}),Object(e.h)(O.b,{className:`rightButton ${st?"pop":""} primary subscribe-btn`,type:"submit",disabled:!!(ne||le)},Object(e.h)("b",{className:`button-text ${st?"pop":""}`},se||Object(h.getSubscribeText)(G)))),re?Object(e.h)("div",null,Object(e.h)("div",{className:"error other-error"},"This email address is not confirmed yet.",Object(e.h)("br",null),Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):Object(e.h)("div",{id:"error-container"}),ge&&Object(e.h)("div",{className:"welcome-links-mobile"},Object(e.h)("div",null,this.getSavedEmail()?Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getSignoutUrl)({for_pub:G.subdomain}),native:!0},I`Not you?`):Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getSigninUrl)({for_pub:G.subdomain,redirect:ee}),native:!0},I`Login`),Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getAboutUrl)(G),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getArchiveUrl)(G),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`)),V&&Object(e.h)("button",{className:"button close-welcome-modal-mobile",onClick:Oe=>{Oe.preventDefault(),V()},"aria-label":"Close"},Object(e.h)(b.default,null))),Object(e.h)("div",{className:l()("subtle-help-text below-input",{"welcome-modal":ge})},!Ee&&(this.getSavedEmail()?Object(e.h)("a",{className:"login-button",href:Object(c.getSignoutUrl)({for_pub:G.subdomain}),native:!0},I`Not you?`):Object(e.h)("a",{className:"login-button",href:Object(c.getSigninUrl)({for_pub:G.subdomain,redirect:ee}),native:!0},I`Login`)),ie&&Object(e.h)("a",{className:"legal",href:Object(c.getBaseArchiveUrl)(G),native:!0},"Archives"),!Ie&&[Object(e.h)("a",{className:"legal",href:Object(c.getPrivacyUrl)(G),target:"_blank",native:!0},I`Privacy`),Object(e.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},I`Terms`),Object(e.h)("a",{className:"legal",href:`${Object(c.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},"Information collection notice")],ge&&[Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getArchiveUrl)(G,{params:{sort:"top"}}),onClick:this.props.markWelcomePageAsHidden},I`Top posts`),Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getAboutUrl)(G),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getArchiveUrl)(G),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`),Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getAboutUrl)(G,{params:{sort:"people"}}),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Authors`),this.getSavedEmail()?Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getSignoutUrl)({for_pub:G.subdomain}),native:!0},I`Not you?`):Object(e.h)("a",{className:"welcome-content-link",href:Object(c.getSigninUrl)({for_pub:G.subdomain,redirect:ee}),native:!0},I`Login`)],z)),Object(e.h)(w,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}},function(S,i,t){var e=t(458),o=t(463);function l(s,h){var c=o(s,h);return e(c)?c:void 0}S.exports=l},function(S,i,t){"use strict";t.d(i,"c",function(){return u}),t.d(i,"a",function(){return v}),t.d(i,"d",function(){return w}),t.d(i,"b",function(){return C});var e=t(0),o=t(6),l=t.n(o),s=t(25),h={reset:"frontend-pencraft-common-module__reset--1p7T1","color-primary":"frontend-pencraft-common-module__color-primary--dX2PK","color-secondary":"frontend-pencraft-common-module__color-secondary--31o27"},c=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,m=(_,T,W)=>T in _?c(_,T,{enumerable:!0,configurable:!0,writable:!0,value:W}):_[T]=W,a=(_,T)=>{for(var W in T||(T={}))O.call(T,W)&&m(_,W,T[W]);if(f)for(var W of f(T))b.call(T,W)&&m(_,W,T[W]);return _},n=(_,T)=>d(_,p(T)),r=(_,T)=>{var W={};for(var k in _)O.call(_,k)&&T.indexOf(k)<0&&(W[k]=_[k]);if(_!=null&&f)for(var k of f(_))T.indexOf(k)<0&&b.call(_,k)&&(W[k]=_[k]);return W};const u=Object(s.a)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),v=Object(s.a)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function E(_){var T=_,{className:W,color:k,as:$="span"}=T,H=r(T,["className","color","as"]);return Object(e.h)($,n(a({},H),{className:l()(W,k&&h[`color-${k}`])}))}const w="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",C=Object(s.a)(w,E)},function(S,i,t){"use strict";t.d(i,"a",function(){return s});var e=t(338),o=t.n(e),l=t(248);function s(h,c){if(c&&(o()(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Object(l.a)(h)}},function(S,i,t){"use strict";t.d(i,"a",function(){return L});var e=t(0),o=t(5),l=t(8),s=t.n(l),h=t(44),c=t.n(h),d=t(7),p=t.n(d),f=t(3),O=t.n(f),b=t(26),m=t(12),a=t(390),n=t(391),r=t(240),u=t(179),v=t(354),E=t(69),w=t(78),C=t(62),_=Object.defineProperty,T=Object.defineProperties,W=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,g=(x,P,y)=>P in x?_(x,P,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[P]=y,M=(x,P)=>{for(var y in P||(P={}))$.call(P,y)&&g(x,y,P[y]);if(k)for(var y of k(P))H.call(P,y)&&g(x,y,P[y]);return x},R=(x,P)=>T(x,W(P)),D=(x,P,y)=>new Promise((A,K)=>{var N=G=>{try{F(y.next(G))}catch(X){K(X)}},Y=G=>{try{F(y.throw(G))}catch(X){K(X)}},F=G=>G.done?A(G.value):Promise.resolve(G.value).then(N,Y);F((y=y.apply(x,P)).next())});const U=({pub:x,post:P,profile:y})=>{let A=document.title,K="",N="";const Y=Object(f.getBaseUrl)(x).replace(/^https?:\/\//,"").replace(/\/$/);return P?(A=P.title||P.draft_title,K=Y,N=P.cover_image||null):x?(A=x.name,K=Y,N=x.logo_url):y&&(A=y.name,K=y.bio,N=Object(f.getUserPhotoUrl)(y)),Object(e.h)("div",{class:`social-preview-box ${P?"post":x?"pub":"user"}`},Object(e.h)("div",{class:"social-image-box"},(P||x)&&N&&Object(e.h)(C.a,{className:"social-image",src:N,alt:"",maxWidth:120,loading:"lazy"}),!P&&!x&&N&&Object(e.h)(w.b,{className:"social-image",imageUrl:N,size:52}),!N&&Object(e.h)(v.default,{className:"social-image-default"})),Object(e.h)("div",{class:"social-labels"},Object(e.h)("div",{class:"social-title"},A),Object(e.h)("div",{class:"social-subtitle"},K)))};class L extends b.a{constructor(P,y){super(P,y);this.noFullscreen=!0}open(){var P=y=>super[y];return D(this,null,function*(){const y="direct",A={title:this.shareName(),url:this.getShareUrl(y)};if(Object(l.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(A))try{yield navigator.share(A),Object(o.i)(o.a.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),Object(h.setStoredValue)(`${this.props.pub.subdomain} shared`,!0);return}catch(K){if(K.name==="AbortError")return;Object(o.i)(o.a.NATIVE_SHARE_FAILED,{errorName:K.name,errorMessage:K.message})}P("open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){Object(o.i)(o.a.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}shareName(){const{post:P,pub:y,profile:A}=this.props;return P?P.title:y?y.name:A?`${A.name} on Substack`:document.title}getShareUrl(P){const{pub:y,post:A,profile:K,user:N,utm_campaign:Y}=this.props,F={r:(N==null?void 0:N.id)?N.id.toString(36):null,utm_campaign:Y||(A?"post":K?"profile":y?"pub":"unknown"),utm_medium:this.state.medium||"web",utm_source:P};return(y==null?void 0:y.subdomain)&&(A==null?void 0:A.slug)?Object(f.getPostAppLinkUrl)(y.subdomain,A.slug,{params:F}):Object(f.pathWithQuery)(`${A?Object(f.getPostUrl)(y,A):y?`${y.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,F)}renderChildren({post:P,pub:y,profile:A}){const K=P?"post":y?"publication":A?"profile":null,N=K?`Share this ${K}`:"Share";return Object(e.h)(e.Fragment,null,Object(e.h)("div",{class:"share-dialog-title"},N),(P||y||A)&&Object(e.h)(U,{post:P,pub:y,profile:A}),Object(e.h)(B,R(M({utm_campaign:this.state.utm_campaign},this.props),{shareName:this.shareName(),shareUrl:this.getShareUrl()})))}}class j extends e.Component{onShareViaTwitter(){const{pub:P,post:y}=this.props,A=(P==null?void 0:P.twitter_screen_name)||d.twitterScreenNames[P==null?void 0:P.subdomain];let K=this.props.shareName;P&&!y&&(K=`Subscribe to ${K}`),A&&(!y||P&&(!y.publishedBylines.length||y.publishedBylines.some(N=>N.id===P.author_id)))&&(K+=`, by @${A}`),this.triggerShare("twitter",N=>Object(f.pathWithQuery)("https://twitter.com/share",{url:N,text:K}))}onShareViaCopyLink(){this.triggerShare("copy",P=>(Object(l.copyToClipboard)(P),!1)),Object(E.b)("Link copied to clipboard")}onShareViaEmail(){this.triggerShare("email",P=>Object(f.pathWithQuery)("mailto:",{subject:this.props.shareName,body:P}))}onShareViaFacebook(){this.triggerShare("facebook",P=>Object(f.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:P}))}triggerShare(P,y){const{post:A,pub:K}=this.props;Object(o.i)(o.a.SHARE_LINK_CLICKED,{name:P,post_id:A?A.id:null});const N=y(this.props.shareUrl);N&&(N.startsWith("http")?window.open(N,"_blank"):document.location.href=N),Object(h.setStoredValue)(`${K.subdomain} shared`,!0)}}class B extends j{render(){return Object(e.h)("div",{class:"share-action-row"},Object(e.h)(m.b,{onClick:()=>this.onShareViaCopyLink(),className:"share-action"},Object(e.h)("div",{className:"action-icon"},Object(e.h)(u.default,null)),Object(e.h)("div",{class:"action-label"},"Copy link")),Object(e.h)(m.b,{className:"share-action",onClick:()=>this.onShareViaTwitter()},Object(e.h)("div",{className:"action-icon"},Object(e.h)(a.default,null)),Object(e.h)("div",{class:"action-label"},"Twitter")),Object(e.h)(m.b,{className:"share-action",onClick:()=>this.onShareViaFacebook()},Object(e.h)("div",{className:"action-icon"},Object(e.h)(n.default,null)),Object(e.h)("div",{class:"action-label"},"Facebook")),Object(e.h)(m.b,{className:"share-action",onClick:()=>this.onShareViaEmail()},Object(e.h)("div",{className:"action-icon"},Object(e.h)(r.default,null)),Object(e.h)("div",{class:"action-label"},"Email")))}}},function(S,i,t){"use strict";t.d(i,"a",function(){return L}),t.d(i,"b",function(){return j}),t.d(i,"c",function(){return B});var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(6),c=t.n(h),d=t(27),p=t(12),f=t(5),O=t(26),b=t(8),m=t(7),a=t(3),n=t(153),r=(P,y,A)=>new Promise((K,N)=>{var Y=X=>{try{G(A.next(X))}catch(q){N(q)}},F=X=>{try{G(A.throw(X))}catch(q){N(q)}},G=X=>X.done?K(X.value):Promise.resolve(X.value).then(Y,F);G((A=A.apply(P,y)).next())}),v=({photoUrl:P,newPhotoUrl:y,newPhotoOrientation:A,updatePhoto:K})=>{const N=Object(o.j)(null),Y=()=>r(void 0,null,function*(){const F=N.current.files[0];if(N.current.value="",!F){K({newPhotoUrl:null,newPhotoOrientation:null});return}let G;try{G=yield Object(b.getDataUrlFromFile)(F)}catch(q){console.error("Failed to get data URL from file:",q),alert(q.message);return}let X;try{X=yield Object(b.getExifOrientationFromFile)(F)}catch(q){console.error("Failed to extract EXIF data from file:",q)}K({newPhotoUrl:G,newPhotoOrientation:X})});return Object(e.h)("div",{className:"profile-photo-wrap"},P&&Object(e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${y||Object(m.cloudinary)(P,144)})`,transform:Object(b.transformExifOrientation)(A)}}),!P&&Object(e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${Object(m.cloudinary)(a.DEFAULT_PHOTO_URL,144)})`,transform:Object(b.transformExifOrientation)(A)}}),Object(e.h)(p.b,{onClick:()=>{(Object(b.isIE)()||Object(b.isFirefox)())&&N.current.click()}},Object(e.h)("input",{ref:N,type:"file",name:"photo",accept:"image/*",onChange:Y}),Object(e.h)("div",{class:"add-photo-fab",onClick:F=>{F.preventDefault(),N.current.click()}},Object(e.h)("div",{class:"add-photo-fab-inner"},Object(e.h)(n.default,{height:12,width:12,stroke:"#fff",fill:"#fff"})))))},E=t(64),w=t(37),C=Object.defineProperty,_=Object.defineProperties,T=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,H=(P,y,A)=>y in P?C(P,y,{enumerable:!0,configurable:!0,writable:!0,value:A}):P[y]=A,g=(P,y)=>{for(var A in y||(y={}))k.call(y,A)&&H(P,A,y[A]);if(W)for(var A of W(y))$.call(y,A)&&H(P,A,y[A]);return P},M=(P,y)=>_(P,T(y)),R=(P,y)=>{var A={};for(var K in P)k.call(P,K)&&y.indexOf(K)<0&&(A[K]=P[K]);if(P!=null&&W)for(var K of W(P))y.indexOf(K)<0&&$.call(P,K)&&(A[K]=P[K]);return A},D=(P,y,A)=>new Promise((K,N)=>{var Y=X=>{try{G(A.next(X))}catch(q){N(q)}},F=X=>{try{G(A.throw(X))}catch(q){N(q)}},G=X=>X.done?K(X.value):Promise.resolve(X.value).then(Y,F);G((A=A.apply(P,y)).next())});const U=({sub:P,onSetVisibility:y,source:A})=>{const K=P.publication;return Object(e.h)("div",{className:"edit-sub-visibility-row"},Object(e.h)("div",{className:"left"},Object(e.h)(w.a,{pub:K,logo_url:K.logo_url||K.author_photo_url}),Object(e.h)("span",null,K.name)),Object(e.h)("div",{className:"right"},Object(e.h)(E.a,{checked:P.visibility==="public",onChange:()=>y(P.visibility==="public"?"private":"public")})))},L=({profile:P,onFinalizeVisibility:y,onSetVisibility:A,source:K})=>{if(!P)return;const N=P.subscriptions.every(({visibility:X})=>X==="public"),Y=()=>{A(P.subscriptions.reduce((X,{publication:q})=>M(g({},X),{[q.id]:N?"private":"public"}),{})),Object(f.i)(f.a.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:P.subscriptions.length})},F=X=>q=>{A(P.subscriptions.reduce((se,{visibility:ie,publication:Ee})=>M(g({},se),{[Ee.id]:Ee.id===X.id?q:ie}),{})),Object(f.i)(f.a.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:q})},G=Object(e.h)("button",{className:"small",onClick:Y},N?"Hide all":"Show all");return Object(e.h)("div",{className:"edit-sub-visibility-form"},Object(e.h)("div",{className:"bulk-action-row"},G),Object(e.h)("div",{className:"edit-sub-visibility-frame"},P.subscriptions.map(X=>Object(e.h)(U,{sub:X,onSetVisibility:F(X.publication),source:K}))),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)(p.b,{className:"primary",onClick:y},"Done")))};class j extends e.Component{constructor(y,A){super(y,A);var K;this.state={newName:null,newBio:null,newEmail:y.user&&y.user.is_magic?y.user.email:null},y.isPostInvite&&!((K=y.user)==null?void 0:K.has_publication)&&(this.state.createPublication=!0)}isComplete(){const{user:y,needsPhoto:A}=this.props;return y&&!y.is_magic&&(y.is_subscribed||y.is_free_subscribed)&&y.name&&(!A||y.photo_url)}onFileInputChanged(){return D(this,null,function*(){const y=this.fileInput.files[0];if(this.fileInput.value="",!y){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let A;try{A=yield Object(b.getDataUrlFromFile)(y)}catch(N){console.error("Failed to get data URL from file:",N),alert(N.message);return}let K;try{K=yield Object(b.getExifOrientationFromFile)(y)}catch(N){console.error("Failed to extract EXIF data from file:",N)}this.setState({newPhotoUrl:A,newPhotoOrientation:K})})}onError(y){this.setState({sentLoginEmail:!1}),y.status===401&&this.sendLoginEmail()}createDefaultPublication(y,A){return D(this,null,function*(){try{const K=yield s.a.get("/api/v1/publication/suggestion"),N=A||`${y} on Substack`;yield s.a.post("/api/v1/publication").send({name:y,subdomain:K.body.subdomain,hero_text:N,tos:!0})}catch(K){Object(f.i)(f.a.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",K)}})}sendLoginEmail(){return D(this,null,function*(){const y=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!y)){this.setState({loading:!0});try{yield s.a.post("/api/v1/email-login").send({email:y,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(A){console.error("Failed send login email:",A)}this.setState({loading:!1})}})}render({user:y,numVisibleSubscriptions:A,numSubscriptions:K,freeSignup:N,freeSignupEmail:Y,needsPhoto:F,optionalPhoto:G,token:X,text:q,onSuccess:se,prepareData:ie,pageTitle:Ee,primaryEligiblePublications:Ie,isPostInvite:ge,complete:oe,profileExists:ee,onSkip:te,onEditReadVisibility:le,barebones:Q,onEditRecommendations:z,numRecommendationsToMake:V},{newPhotoUrl:ne,newPhotoOrientation:re,newName:de,newEmail:fe,loading:we,sentLoginEmail:Ge,newBio:$e,createPublication:it}){const st=ne||Object(a.getUserPhotoUrl)(y,{noFallbackToSignedOut:!0}),Rt=typeof Ee=="string"?Ee:`${this.isComplete()?"Update":"Create"} your profile`,Ht=de||y&&y.name||"",je=typeof $e=="string"?$e:y&&y.bio||"",Oe=(be,he)=>D(this,null,function*(){it&&(yield this.createDefaultPublication(Ht,je)),se(be,he)});return Object(e.h)("div",{className:"profile-updater"},Object(e.h)("h2",{className:"page-title profile-updater-title"},Rt),(st||F||G)&&Object(e.h)(v,{photoUrl:st,newPhotoUrl:ne,newPhotoOrientation:re,updatePhoto:({newPhotoOrientation:be,newPhotoUrl:he})=>this.setState({newPhotoOrientation:be,newPhotoUrl:he}),onFileInputChanged:()=>this.onFileInputChanged()}),Object(e.h)(d.g,{method:"put",action:"/api/v1/user/profile",prepareData:ie,onSuccess:Oe,onError:be=>this.onError(be),noInlineErrors:!0,loading:we,autoLock:!0},Object(e.h)("label",{for:"name"},"Your name"),Object(e.h)("input",{type:"text",className:"profile-name",placeholder:"Your name\u2026",name:"name",value:Ht,onInput:be=>this.setState({newName:be.target.value})}),!Q&&Object(e.h)("label",{for:"bio"},"Your bio"),!Q&&Object(e.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",value:je,onInput:be=>this.setState({newBio:be.target.value})}),ge&&Object(e.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),ge&&Object(e.h)("div",{class:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),ge&&Ie&&(y==null?void 0:y.has_publication)&&Ie.length>1&&Object(e.h)(e.Fragment,null,Object(e.h)("label",null,"Publication to display"),Object(e.h)("div",{class:"primary-publication-selector"},Ie.map((be,he)=>Object(e.h)("label",{class:"publication-selector-row",for:`primary-radio-${be.id}`},Object(e.h)("input",{id:`primary-radio-${be.id}`,type:"radio",name:"primary_publication_user_id",value:be.id,checked:he===0}),Object(e.h)(w.a,{pub:be.publication,logo_url:Object(m.cloudinary)(be.publication.logo_url,28*2,{height:28*2,crop:"fill"}),linkify:!1,size:28,title:be.publication.name}),Object(e.h)("div",{class:"primary-publication-name"},be.publication.name))))),(!y||y.is_magic)&&!Y&&!ge&&Object(e.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:fe,onInput:be=>this.setState({newEmail:be.target.value})}),!(y&&(y.is_subscribed||y.is_free_subscribed)||N)&&Object(e.h)("label",{className:"profile-signup-checkbox"},Object(e.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),ge&&!(y==null?void 0:y.has_publication)&&Object(e.h)("label",{className:"profile-signup-checkbox"},Object(e.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:it,onChange:be=>this.setState({createPublication:be.target.checked})}),"Create a Substack publication for me"),Object(e.h)("input",{type:"hidden",name:"photo_url",value:st}),Object(e.h)("input",{type:"hidden",name:"user_id",value:(y==null?void 0:y.id)||""}),Object(e.h)("input",{type:"hidden",name:"needs_photo",value:!!F}),Object(e.h)("input",{type:"hidden",name:"token",value:X}),oe&&Object(e.h)("input",{type:"hidden",name:"complete",value:!0}),Object(e.h)("div",{id:"error-container"},Ge&&Object(e.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",Object(e.h)("b",null,fe)," with a link that you can use to sign in.")),Object(e.h)("p",{className:c()("left",{hidden:!(typeof A=="number"&&K>0&&le)})},Object(m.pluralize)(A||0,"subscription")," ",ee?"are":"will be"," displayed on your profile (",Object(e.h)("a",{onClick:le},"edit"),")"),!ee&&z&&K>0&&Object(e.h)("p",{className:"left second"},Object(m.pluralize)(V||0,"recommendation")," will be made on your publication (",Object(e.h)("a",{onClick:z},"edit"),")"),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)("p",{className:c()("skip",{hidden:!te})},Object(e.h)("a",{className:"small",onClick:te||(()=>{})},"Skip for now")),Object(e.h)(p.b,{className:"primary",type:"submit"},q||"Update profile"),ge&&Object(e.h)(e.Fragment,null,Object(e.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),Object(e.h)("div",{class:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",Object(e.h)("a",{href:`${Object(a.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class B extends O.a{renderChildren(){const y=this.props,{ref:A,onBeforeClose:K,contributor:N}=y,Y=R(y,["ref","onBeforeClose","contributor"]);return Object(e.h)("div",{className:"profile-updater-modal"},N?Object(e.h)(x,M(g({},Y),{onSuccess:()=>this.close(!0)})):Object(e.h)(j,M(g({},Y),{onSuccess:()=>this.close(!0)})))}}const x=({profile:P,user:y,pub:A,onSuccess:K,isOwnProfile:N})=>{const Y=Object(o.j)(),[F,G]=Object(o.k)(null),[X,q]=Object(o.k)(null),se=F||P&&P.photo_url,[ie,Ee]=Object(o.k)(P.name),[Ie,ge]=Object(o.k)(P.bio),oe=()=>D(void 0,null,function*(){var ee;const te=((ee=Y.current)==null?void 0:ee.files)?Y.current.files[0]:null;if(Y.value="",!te){G(null),q(null);return}let le;try{le=yield Object(b.getDataUrlFromFile)(te)}catch(z){console.error("Failed to get data URL from file:",z),alert(z.message);return}let Q;try{Q=yield Object(b.getExifOrientationFromFile)(te)}catch(z){console.error("Failed to extract EXIF data from file:",z)}G(le),q(Q)});return Object(e.h)("div",{className:"profile-updater"},Object(e.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),Object(e.h)("div",{className:"profile-photo-wrap"},se&&Object(e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${F||Object(m.cloudinary)(P.photo_url,144)})`,transform:Object(b.transformExifOrientation)(X)}}),Object(e.h)(p.b,{onClick:()=>{(Object(b.isIE)()||Object(b.isFirefox)())&&Y.click()}},!se&&"Set photo",Object(e.h)("input",{ref:Y,type:"file",name:"photo",accept:"image/*",onChange:()=>oe()}))),Object(e.h)(d.g,{method:"patch",action:`/api/v1/publication/users/${P.id}`,onSuccess:K,autoLock:!0},Object(e.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:ie,onInput:ee=>Ee(ee.target.value)}),Object(e.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:Ie,onInput:ee=>ge(ee.target.value)}),Object(e.h)("input",{type:"hidden",name:"photo_url",value:se}),Object(e.h)("span",{className:"notice"},Object(e.h)("p",null,Object(e.h)("b",null,"Note:")," This is a contributor profile, viewable by ",A.name,"'s readers."),N&&Object(e.h)("p",null,"You may also edit your"," ",Object(e.h)("a",{native:!0,href:`${Object(a.getReaderProfileUrl)(y)}`},"personal profile"),".")),Object(e.h)(p.b,{className:"primary",type:"submit"},"Update profile")))}},function(S,i,t){"use strict";t.d(i,"a",function(){return P});var e=t(0),o=t(8),l=t.n(o),s=t(44),h=t.n(s),c=t(7),d=t.n(c),p=t(3),f=t.n(p),O=t(6),b=t.n(O),m=t(5),a=t(80),n=t(234),r=t(235),u=t(523),v=t(371),E=t(12),w=t(51),C=t.n(w),_=Object.defineProperty,T=Object.defineProperties,W=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,g=(y,A,K)=>A in y?_(y,A,{enumerable:!0,configurable:!0,writable:!0,value:K}):y[A]=K,M=(y,A)=>{for(var K in A||(A={}))$.call(A,K)&&g(y,K,A[K]);if(k)for(var K of k(A))H.call(A,K)&&g(y,K,A[K]);return y},R=(y,A)=>T(y,W(A)),D=(y,A,K)=>(g(y,typeof A!="symbol"?A+"":A,K),K),U=(y,A,K)=>new Promise((N,Y)=>{var F=q=>{try{X(K.next(q))}catch(se){Y(se)}},G=q=>{try{X(K.throw(q))}catch(se){Y(se)}},X=q=>q.done?N(q.value):Promise.resolve(q.value).then(F,G);X((K=K.apply(y,A)).next())});const L="AudioPlayer.playbackRate",j=5,B={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class x extends e.Component{constructor(A){super(A)}shouldComponentUpdate(A){return this.props.currentPlaybackRate!==A.currentPlaybackRate||this.props.setPlaybackRate!==A.setPlaybackRate}render(){const{currentPlaybackRate:A,setPlaybackRate:K}=this.props;return Object(e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:N=>K(Number(N.target.value))},Object(e.h)("option",{value:"1",selected:A===1},"1x"),Object(e.h)("option",{value:"1.25",selected:A===1.25},"1.25x"),Object(e.h)("option",{value:"1.5",selected:A===1.5},"1.5x"),Object(e.h)("option",{value:"1.75",selected:A===1.75},"1.75x"),Object(e.h)("option",{value:"2",selected:A===2},"2x"))}}class P extends e.Component{constructor(A,K){super(A,K);D(this,"setPlaybackRate",N=>{this.state.playbackRate!==N&&(this.player&&(this.player.playbackRate=N),this.setState({playbackRate:N}),Object(s.setStoredValue)(L,N))}),D(this,"maybeAppendIframeVisitId",N=>{var Y;const F=(Y=Object(m.b)())==null?void 0:Y.id;return F&&(N=Object(p.updateQuery)(N,{src_iid:F})),N}),D(this,"openEpisodePage",()=>{let N=this.props.post.canonical_url;N=this.maybeAppendIframeVisitId(N),N=Object(p.updateQuery)(N,B),window.open(N,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:Object(s.getStoredValue)(L,1),currentTime:0,waiting:!0,duration:A.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var A,K;(A=o.globalPlaybackNotifier)==null||A.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((K=this.player)==null?void 0:K.duration)&&this.props.onGetDuration(this.player.duration),Object(o.preloadImage)(Object(c.cloudinary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var A;(A=o.globalPlaybackNotifier)==null||A.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(A,K){!this.state.playing&&typeof this.state.waiting=="number"&&typeof K.waiting!="number"&&this.track(m.a.AUDIO_BUFFERING_STARTED),this.state.playing&&!K.playing&&!this.state.waiting&&typeof K.waiting=="number"&&this.track(m.a.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-K.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(K.currentTime)&&Math.floor(this.state.currentTime)%j==0&&this.track(m.a.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&K.playing&&this.player&&this.player.ended&&this.track(m.a.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var A;(A=o.globalPlaybackNotifier)==null||A.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(A){this.onDragStart(A.clientX)}onMouseMove(A){this.onDragMove(A.clientX)}onTouchStart(A){A.touches&&A.touches.length>0&&this.onDragStart(A.touches[0].pageX)}onTouchMove(A){typeof this.state.dragTime=="number"&&A.preventDefault(),A.touches&&A.touches.length>0&&this.onDragMove(A.touches[0].pageX)}onDragStart(A){typeof this.state.dragTime!="number"&&this.setDragTime(A)}onDragMove(A){typeof this.state.dragTime=="number"&&this.setDragTime(A)}onDragEnd(){this.clearDragTime()}onUnload(A){this.state.playing&&(A.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(A){this!==A&&this.player&&(this.track(m.a.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return U(this,null,function*(){if(this.player)if(this.player.paused){this.track(m.a.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(A){if(A.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw A}}else this.track(m.a.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const A=Math.max(0,this.state.currentTime-15);this.track(m.a.SEEKED_AUDIO,{new_time:A,source:"skip"}),this.player.currentTime=A}}skipForward(){if(this.player){const A=Math.min(this.state.duration,this.state.currentTime+30);this.track(m.a.SEEKED_AUDIO,{new_time:A,source:"skip"}),this.player.currentTime=A}}setDragTime(A){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const K=document.body.getBoundingClientRect(),N=this.progressBar.getBoundingClientRect(),Y=N.left-K.left,F=N.right;let X=(Math.max(Y,Math.min(F,A))-Y)/(F-Y)*this.state.duration;this.isDragTimeCloseToCurrentTime(X)&&(X=this.state.currentTime),this.setState({dragTime:X})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const A=this.state.dragTime;this.track(m.a.SEEKED_AUDIO,{new_time:A,source:"slider"}),this.isDragTimeCloseToCurrentTime(A)?this.setState({dragTime:null}):(this.setState({currentTime:A,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=A))}isDragTimeCloseToCurrentTime(A){if(typeof this.state.currentTime!="number")return!1;let K;return this.state.duration<10?K=0:this.state.duration<30?K=3:K=5,Math.abs(this.state.currentTime-A)<K}track(A,K={}){const N=this.props.metricsPost;!N||Object(m.i)(A,Object.assign({post_id:N.id,is_podcast_free_preview:Object(w.podcastPostIsFreePreview)(N),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},K))}render({src:A,autoPlay:K,pub:N,post:Y,isFancy:F,showCTAs:G,metricsPost:X,addToPodcastLink:q,isPaywalled:se,render:ie}){if(ie){const{dragTime:Ee,duration:Ie,currentTime:ge,playbackRate:oe}=this.state;return Object(e.h)(e.Fragment,null,ie({isPaywalled:se,progress:Ie?(typeof Ee=="number"?Ee:ge)/Ie:0,currentTime:Ie?Object(c.secondsToHHMMSS)(ge):"--:--",remainingTime:Ie?`-${Object(c.secondsToHHMMSS)(Ie-Math.min(ge,Ie))}`:"--:--",isPlaying:this.state.playing,playbackRate:oe,progressBarOnMouseDown:ee=>{this.onMouseDown(ee)},progressBarRef:ee=>{this.progressBar=ee},setPlaybackRate:ee=>{this.setPlaybackRate(ee)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),A&&!se&&Object(e.h)("audio",{ref:ee=>{this.player=ee},src:A,autoPlay:K},"Audio playback is not supported on your browser. Please upgrade."))}return F?this.renderFancy({src:A,autoPlay:K,pub:N,post:Y,metricsPost:X,showCTAs:G}):this.renderOriginal({src:A,autoPlay:K,pub:N,metricsPost:X,addToPodcastLink:q})}renderFancy({src:A,autoPlay:K,pub:N,post:Y,showCTAs:F}){const G=Object(o.getPodcastEpisodeImageUrl)(N,Y);return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"audio-player-wrapper-fancy"},Object(e.h)("div",{className:"audio-player"},Object(e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},Object(e.h)(a.default,{color:"#F8F8F8"})),Object(e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},G&&Object(e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:Object(c.cloudinary)(G,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),Object(e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},Y.title),Object(e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},Y.subtitle),A&&Object(e.h)("audio",{"data-testid":"audio-element",ref:X=>this.player=X,src:A,autoPlay:K},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),F&&Object(e.h)("div",{className:"btn-group"},Object(e.h)(E.b,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),Object(e.h)(E.b,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId(Object(p.getSubscribeUrl)(N,R(M({},B),{simple:!0,next:Object(p.getPostUrl)(N,Y)}))),newTab:!0},Object(c.getSubscribeText)(N))))))}renderOriginal({src:A,autoPlay:K,pub:N,addToPodcastLink:Y}){return Object(e.h)("div",{className:"audio-player-wrapper"},Object(e.h)("div",{className:"audio-player"},A&&Object(e.h)("audio",{ref:F=>this.player=F,src:A,autoPlay:K},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),Y&&!N.hide_podcast_feed_link&&Object(e.h)("div",{className:"audio-player-add-to-podcast-link",href:Y},Object(e.h)("a",{href:Y,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:A,href:K},{playing:N,waiting:Y,playbackRate:F}){return Object(e.h)("div",{className:"audio-player-buttons"},Object(e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},Object(e.h)(n.default,{className:"skip-icon"})),Object(e.h)("button",{className:b()("audio-player-play",{pause:"playing",waiting:Y}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},N?Object(e.h)(v.default,{className:"playback-icon pause",fill:"#1C110B"}):Object(e.h)(u.default,{className:"playback-icon play",fill:"#1C110B"})),Object(e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},Object(e.h)(r.default,{className:"skip-icon"})))}renderButtons({src:A,href:K,isStatic:N},{playing:Y,waiting:F,playbackRate:G}){return Object(e.h)("div",{className:"audio-player-buttons"},Object(e.h)("table",{className:"custom"},Object(e.h)("tr",null,Object(e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),Object(e.h)("td",{className:"audio-player-backward"},Object(e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:K||"javascript:void(0)",onClick:()=>this.skipBack()},Object(e.h)(n.default,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:N}))),Object(e.h)("td",{className:`audio-player-play ${Y?"pause":""} ${F?"waiting":""}`},Object(e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:K||"javascript:void(0)",onClick:()=>this.togglePlayback()},Object(e.h)("img",{src:Object(c.cloudinary)(Y?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),Object(e.h)("td",{className:"audio-player-forward"},Object(e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:K||"javascript:void(0)",onClick:()=>this.skipForward()},Object(e.h)(r.default,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:N}))),Object(e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),A&&Object(e.h)(x,{currentPlaybackRate:G,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:A,currentTime:K,dragTime:N}){return Object(e.h)("div",{className:"audio-player-progress"},Object(e.h)("table",{className:"custom"},Object(e.h)("tr",null,Object(e.h)("td",{className:"audio-player-progress-past"},A?Object(c.secondsToHHMMSS)(K):"--:--"),Object(e.h)("td",{ref:Y=>this.progressBar=Y,className:"audio-player-progress-bar",onMouseDown:Y=>this.onMouseDown(Y)},Object(e.h)("div",{className:"audio-player-progress-bar-track"}),Object(e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${A?100*(typeof N=="number"?N:K)/A:0}%`}),Object(e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${A?100*K/A:0}%`}),Object(e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${A?100*(typeof N=="number"?N:K)/A:0}%`}),typeof N=="number"&&Object(e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${A?100*N/A:0}%`},Object(c.secondsToHHMMSS)(N))),Object(e.h)("td",{className:"audio-player-progress-left"},A?`-${Object(c.secondsToHHMMSS)(A-Math.min(K,A))}`:"--:--"))))}renderProgressFancy({},{duration:A,currentTime:K,dragTime:N,lastDragClearedAt:Y}){const F=typeof N=="number",G=Y?performance.now()-Y<50:!1;return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"audio-player-progress"},Object(e.h)("div",{ref:X=>this.progressBar=X,className:"audio-player-progress-bar",onMouseDown:X=>this.onMouseDown(X)},Object(e.h)("div",{className:"audio-player-progress-bar-track"}),Object(e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${A?100*(F?N:K)/A:0}%`}}),Object(e.h)("div",{className:b()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":F,"audio-player-progress-bar-current-disable-animations":G}),style:`left:${A?100*K/A:0}%`}),F&&Object(e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${A?100*N/A:0}%`}),F&&Object(e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${A?100*N/A:0}%`},Object(c.secondsToHHMMSS)(N)))),Object(e.h)("div",{className:"audio-player-time-wrapper"},Object(e.h)("div",{className:"audio-player-progress-past"},A?Object(c.secondsToHHMMSS)(K):"--:--"),Object(e.h)("div",{className:"audio-player-progress-left"},A?`-${Object(c.secondsToHHMMSS)(A-Math.min(K,A))}`:"--:--")))}}},function(S,i,t){"use strict";t.d(i,"b",function(){return k}),t.d(i,"a",function(){return M}),t.d(i,"c",function(){return R}),t.d(i,"d",function(){return D});var e=t(0),o=t(7),l=t.n(o),s=t(3),h=t.n(s),c=t(12),d=t(26),p=t(111),f=t(208),O=t(232),b=t(105),m=t(51),a=t.n(m),n=t(148),r=t(28),u=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,C=(L,j,B)=>j in L?u(L,j,{enumerable:!0,configurable:!0,writable:!0,value:B}):L[j]=B,_=(L,j)=>{for(var B in j||(j={}))E.call(j,B)&&C(L,B,j[B]);if(v)for(var B of v(j))w.call(j,B)&&C(L,B,j[B]);return L},T=(L,j)=>{var B={};for(var x in L)E.call(L,x)&&j.indexOf(x)<0&&(B[x]=L[x]);if(L!=null&&v)for(var x of v(L))j.indexOf(x)<0&&w.call(L,x)&&(B[x]=L[x]);return B},W=(L,j,B)=>(C(L,typeof j!="symbol"?j+"":j,B),B);const k=({className:L=null,title:j,subtitle:B=null,reauthenticationTitle:x,publication:P,post:y,user:A,freeSignup:K=null,freeSignupEmail:N=null,email_form:Y=!1,autoFocus:F=!1,isStatic:G=!1,coupon:X=null})=>{const q=A&&A.email||N||null,se=Boolean((A==null?void 0:A.is_subscribed)&&(A==null?void 0:A.is_magic)),ie=Boolean((y==null?void 0:y.audience)==="founding"),Ee=Boolean((A==null?void 0:A.is_free_subscribed)||K),Ie=Object(s.getPostUrl)(P,y),ge=X&&X.id&&!ie;let oe;ge?(y==null?void 0:y.type)==="podcast"?oe="Listen to this episode with a 7-day free trial":(y==null?void 0:y.type)==="video"?oe="Watch with a 7-day free trial":oe=`Keep ${Object(o.getPostCtaPresentParticiple)(y==null?void 0:y.type)} with a 7-day free trial`:se?oe=x:oe=j;let ee;return ge&&((y==null?void 0:y.type)==="podcast"?ee="listen to this episode":(y==null?void 0:y.type)==="video"?ee="watch this video":ee=`keep ${Object(o.getPostCtaPresentParticiple)(y==null?void 0:y.type)} this ${Object(o.getPrintedPostType)(y==null?void 0:y.type)}`),Object(e.h)("div",{className:`paywall ${L||""}`,"data-testid":"paywall"},q&&Object(e.h)("div",{className:"paywall-intro"},"Hi ",Object(e.h)("b",null,q)),Object(e.h)("h2",{className:"paywall-title"},oe),B&&!ge&&Object(e.h)("p",{className:"paywall-subtitle"},B),ge&&Object(e.h)("div",{className:"paywall-free-trial-subtitle"},Object(e.h)("p",{className:"paywall-subtitle"},"Subscribe to"," ",Object(e.h)("b",null,Object(e.h)("i",null,P.name))," ","to ",ee," and get 7 days of free access to the full post archives.")),Y?!Ee&&Object(e.h)("div",{className:"paywall-cta"},Object(e.h)(b.a,{source:"post-unlock",email:q,user:A,pub:P,freeSignup:K,freeSignupEmail:N,onSuccess:()=>document.location.reload(),hideLogin:!0,hideTerms:!0,autoFocus:F??!0,submitButtonText:`Start ${Object(o.getPostCtaPresentParticiple)(y==null?void 0:y.type,{isFinalWord:!0})}`})):Object(e.h)($,{coupon:X,email:q,isStatic:G,post:y,postUrl:Ie,publication:P,useCoupon:ge,user:A}),!se&&!G&&Object(e.h)("div",{className:"paywall-login"},Object(e.h)("a",{href:Object(s.getSigninUrl)({for_pub:P.subdomain,change_user:!!q}),native:!0},U({post:y,publication:P,isPaid:!Y})," ",Object(e.h)("b",null,q?"Switch accounts":"Sign in"))))},$=({coupon:L,email:j,isStatic:B,post:x,postUrl:P,publication:y,useCoupon:A,user:K})=>{const N=Boolean(K==null?void 0:K.is_founding),Y=Boolean(K==null?void 0:K.is_subscribed),F=Boolean((K==null?void 0:K.is_subscribed)&&(K==null?void 0:K.is_magic)),G=(x==null?void 0:x.audience)==="founding";if(B){if(!y.plans)return null;const X=G?r.Substitutions.FOUNDING_CHECKOUT_URL:r.Substitutions.CHECKOUT_URL,q=A?`&coupon=${L.id}`:"",se=G?`Upgrade to ${Object(m.getFoundingTierName)(y)}`:A?"Start trial":Object(e.h)(n.a,{pub:y,user:K,isStatic:B});return Object(e.h)(H,{href:`${X}simple=true&utm_source=paywall&utm_medium=email&utm_content=${x.id}&next=${P}${q}`},se)}return!N&&G?y.plans?Object(e.h)(g,{href:Object(s.getCheckoutUrl)(y,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:x?x.id:null,plan:"founding"})},`Upgrade to ${Object(m.getFoundingTierName)(y)}`):null:Y?F?Object(e.h)(g,{href:Object(s.getSigninUrl)({for_pub:y.subdomain,email:j})},"Click here to sign in"):null:y.plans?Object(e.h)(g,{href:Object(s.getCheckoutUrl)(y,{simple:!0,next:document.location.href,utm_source:A?"paywall-free-trial":"paywall",utm_medium:B?"email":"web",utm_content:x?x.id:null,coupon:A?L.id:null})},A?"Start trial":Object(e.h)(n.a,{pub:y,user:K,isStatic:B})):null},H=({children:L,href:j})=>Object(e.h)("div",{className:"paywall-cta"},Object(e.h)("a",{className:"button primary subscribe-btn",href:j},Object(e.h)("span",null,L))),g=({children:L,href:j})=>Object(e.h)("div",{className:"paywall-cta"},Object(e.h)("a",{href:j,native:!0},Object(e.h)(c.b,{className:"subscribe-btn"},L)));class M extends d.a{renderChildren(){const j=this.props,{ref:B}=j,x=T(j,["ref"]);return Object(e.h)(k,_({className:"modal-paywall"},x))}}class R extends p.a{renderButtons({pub:j,post:B,isStatic:x,paywallAudience:P}){return Object(e.h)("div",{className:"audio-player-buttons audio-player-paywall"},Object(e.h)("a",{className:"primary",href:Object(s.getCheckoutUrl)(j,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:B?B.id:null}),native:!0},Object(e.h)(c.b,null,Object(e.h)(O.default,{alt:"play",isStatic:x,stroke:"#000000",fill:"#000000"}),`This episode is for ${P??"paid subscribers"}`)))}}class D extends f.a{constructor(){super(...arguments);W(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),W(this,"cta",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?"Subscribe for full video":"Subscribe and watch"),W(this,"href",()=>{var j;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||Object(s.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(j=this.props.post)==null?void 0:j.id})})}}function U({post:L,publication:j,isPaid:B=!0}={}){var x;return B?(L==null?void 0:L.audience)==="founding"?`Already in the ${(x=Object(m.getFoundingTierName)(j))!=null?x:"Founding Member"} plan?`:"Already a paid subscriber?":"Already a subscriber?"}},,function(S,i){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){typeof window=="object"&&(t=window)}S.exports=t},function(S,i,t){"use strict";t.d(i,"c",function(){return g}),t.d(i,"b",function(){return M}),t.d(i,"a",function(){return R});var e=t(0),o=t(2),l=t(60),s=t(26),h=t(78),c=t(3),d=t(577),p=t(612),f=t(671),O=t(6),b=t.n(O),m=t(7);const a=40,n=.5*a,r=.2,u=2;function v(D){return{width:(D-1)*a*(1-r)+a+2*u,height:a+2*u}}function E({faces:D}){const L=D.slice(0).reverse().map(({id:x,photo_url:P},y)=>({id:x,photo_url:P||Object(c.getDefaultUserPhotoById)(x),x:(D.length-y-1)*(1-r)*a+u})),{width:j,height:B}=v(D.length);return Object(e.h)("svg",{version:"1.1",width:j,height:B,viewBox:`0 0 ${j} ${B}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Object(e.h)("defs",null,L.map(({id:x,photo_url:P,x:y})=>Object(e.h)("pattern",{id:`image-${x}`,x:y,y:u,patternUnits:"userSpaceOnUse",height:a,width:a},Object(e.h)("image",{height:a,width:a,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:P})))),L.map(({id:x,x:P})=>Object(e.h)("circle",{cx:P+n,cy:n+u,r:n,fill:`url(#image-${x})`,stroke:"#fff","stroke-width":u})))}var w=t(206),C=t(8),_=Object.defineProperty,T=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,$=(D,U,L)=>U in D?_(D,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):D[U]=L,H=(D,U)=>{for(var L in U||(U={}))W.call(U,L)&&$(D,L,U[L]);if(T)for(var L of T(U))k.call(U,L)&&$(D,L,U[L]);return D};function g({faces:D,maximum:U=5,pileLabel:L,modalLabel:j,loading:B,hoverProfiles:x,enableModal:P,className:y,hideDefaultPhotos:A,noPublicationTheme:K,openLinksInNewTab:N,totalCount:Y,faceUtmSource:F,detailUtmSource:G,onDialogOpen:X,labelOnly:q,useWashBackground:se}){const[ie,Ee]=Object(o.k)(!1),Ie=Object(o.j)(),ge=D.filter(({photo_url:ee})=>!A||!!ee).slice(0,U).reverse(),oe=Object(C.isMobileBrowser)();return Object(e.h)("div",{class:b()("facepile",y)},!B&&ge.length>0&&!q&&Object(e.h)("div",{class:"facepile-faces"},ge.map(({id:ee,name:te,photo_url:le,className:Q,tooltipTitle:z,tooltipContent:V},ne)=>{const re=Object(c.getReaderProfileUrl)({id:ee,name:te},{utm_source:F});return Object(e.h)(l.a,{wrap:x&&!oe,key:ee,subject:{id:ee,name:te,photo_url:le}},Object(e.h)(w.a,{title:z,content:V,className:"inverse bottom"},Object(e.h)("a",{className:"facepile-link",href:re,target:N?"_blank":null},Object(e.h)("img",{className:b()("facepile-face",Q,{"no-theme":K,"first-face":ne===ge.length-1,"use-wash-background":se}),src:Object(m.cloudinary)(le||Object(c.getDefaultUserPhotoById)(ee),64)}))))})),B&&!q&&Object(e.h)("div",{class:"facepile-faces"},new Array(U).fill(null).map(()=>Object(e.h)("div",{class:"facepile-placeholder silhouette"}))),L&&Object(e.h)("div",{onClick:()=>{!P||!D.length||(Ee(!0),X&&X())},class:b()("facepile-quantity",{"has-reactors":!!D.length,"no-theme":K})},L),ie&&Object(e.h)(R,{modalRef:Ie,modalLabel:j,faces:D,openLinksInNewTab:N,totalCount:Y,onBeforeClose:()=>Ee(!1),utmSource:G}))}function M({pub:D,post:U}){var L;const j=Object(m.cloudinary)(`${Object(c.getBaseUrl)(D)}/p/${U.slug}/authors.svg`,400*2,{format:"png",crop:"scale"}),{height:B,width:x}=v((L=U==null?void 0:U.publishedBylines)==null?void 0:L.length);return Object(e.h)("img",{src:j,width:x,height:B})}function R({modalRef:D,onBeforeClose:U,modalLabel:L,faces:j,openLinksInNewTab:B,totalCount:x,utmSource:P}){const[y,A]=Object(o.k)(!1),K=Object(o.a)(G=>A(G.target.scrollTop>3),[A]),N=Object(o.a)(G=>{G.stopPropagation(),U(G),(D==null?void 0:D.current)&&D.current.close()},[D,U]),Y=(x||0)-j.length,F=Object(C.isMobileBrowser)();return Object(e.h)(e.Fragment,null,Object(e.h)("div",{class:"facepile-detail-modal all-faces-modal-backdrop",onClick:N}),Object(e.h)(s.b,{className:"facepile-detail-modal all-faces-modal",openByDefault:!0,ref:D,onBeforeClose:U},Object(e.h)("div",{class:b()("all-faces-modal-header",{scrolled:y})},Object(e.h)("h2",null," ",L)),Object(e.h)("ul",{class:b()("all-faces-list"),onScroll:K},j.map(({id:G,name:X,photo_url:q,writes:se,className:ie})=>{const Ee=Object(c.getReaderProfileUrl)({id:G,name:X},{utm_source:P});return Object(e.h)("li",{key:G},Object(e.h)(l.a,{wrap:!F,className:"facepile-list-account-hover",subject:{id:G,name:X,photo_url:q},preferPositionLeft:!0,verticalOffset:50},Object(e.h)("a",H({href:Ee},B?{target:"_blank"}:{}),Object(e.h)("div",{class:"facepile-list-face-container"},Object(e.h)(h.a,{className:b()("facepile-list-face",ie),photo_url:Object(m.cloudinary)(q||Object(c.getDefaultUserPhotoById)(G),80),lazy:!0,size:32}),Object(e.h)("div",{class:"facepile-list-face-badge"},Object(e.h)(d.a,{fill:"#fff",stroke:"transparent",height:11}))),Object(e.h)("div",{class:"facepile-list-name-container"},Object(e.h)("div",{class:b()("facepile-list-name",{"no-name":!(X||"").trim().length})},X),se&&Object(e.h)("div",{class:"facepile-list-writes"},se)),Object(e.h)(p.a,{stroke:"#666","stroke-width":"1.5"}))))}),Y>0&&Object(e.h)("li",{class:"facepile-list-others"},Object(e.h)("div",{class:"facepile-list-others-face"},Object(e.h)(f.a,{class:"icon",height:20})),Object(e.h)("div",{class:"facepile-list-others-label"},"+",Object(m.pluralize)(Y,"other reader"))))))}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{name:u,children:v}=r,E=m(r,["name","children"]);return Object(e.h)(o.a,b(O({},E),{name:u,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),v)};i.default=a},function(S,i,t){"use strict";t.r(i),t.d(i,"MOBILE_USER_AGENT_PATTERN",function(){return e}),t.d(i,"MOBILE_USER_AGENT_FIRST_4_PATTERN",function(){return o}),t.d(i,"isMobile",function(){return l}),t.d(i,"isMobileUserAgent",function(){return s}),t.d(i,"getIosVersion",function(){return h}),t.d(i,"isIos",function(){return c}),t.d(i,"isAndroidUserAgent",function(){return p}),t.d(i,"isAndroid",function(){return f});const e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function l(O={}){let b=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!b&&typeof window!="undefined"&&(b=window.opera),b?s(b,O):!1}function s(O,{checkFirst4:b}={}){return e.lastIndex=0,o.lastIndex=0,!!(e.test(O)||b&&o.test(O.substr(0,4)))}function h(){if(typeof navigator=="undefined")return null;const O=navigator.userAgent;if(!O.match(/iPad/i)&&!O.match(/iPhone/i))return null;const b=O.indexOf("OS ");return b===-1?null:parseInt(O.substr(b+3,3).replace("_","."))||null}function c(){return!!h()}const d=/Android/i;function p(O){return d.lastIndex=0,!!O&&d.test(O)}function f(){return typeof navigator=="undefined"?!1:p(navigator.userAgent)}},function(S,i){S.exports=t=>(t||"").replace(/&#(\d+);/g,(e,o)=>String.fromCharCode(o))},,function(S,i,t){"use strict";var e=t(0),o=t(98),l=t(2),s=Object.defineProperty,h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(m,a,n)=>a in m?s(m,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[a]=n,f=(m,a)=>{for(var n in a||(a={}))c.call(a,n)&&p(m,n,a[n]);if(h)for(var n of h(a))d.call(a,n)&&p(m,n,a[n]);return m},O=(m,a)=>{var n={};for(var r in m)c.call(m,r)&&a.indexOf(r)<0&&(n[r]=m[r]);if(m!=null&&h)for(var r of h(m))a.indexOf(r)<0&&d.call(m,r)&&(n[r]=m[r]);return n};const b=m=>{const a=m,{ampProps:n}=a,r=O(a,["ampProps"]);return Object(l.b)(o.a).isAmp?Object(e.h)("amp-img",f(f({},n),r)):Object(e.h)("img",f({},r))};i.a=b},function(S,i){function t(e){return e!=null&&typeof e=="object"}S.exports=t},function(S,i,t){"use strict";var e=t(412);S.exports=Function.prototype.bind||e},function(S,i,t){var e=t(224);function o(l,s){return e(l,s)}S.exports=o},function(S,i,t){"use strict";var e=t(0),o=t(1),l=t(6),s=t.n(l),h=t(123),c=t.n(h),d=t(94),p=t.n(d),f=t(8),O=t.n(f),b=Object.defineProperty,m=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(w,C,_)=>C in w?b(w,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):w[C]=_,u=(w,C)=>{for(var _ in C||(C={}))a.call(C,_)&&r(w,_,C[_]);if(m)for(var _ of m(C))n.call(C,_)&&r(w,_,C[_]);return w},v=(w,C,_)=>(r(w,typeof C!="symbol"?C+"":C,_),_);class E extends e.Component{constructor(C,_){super(C,_);v(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),v(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),v(this,"onDocumentMouseUp",T=>{var W;!Object(f.isRootOrChild)(T.target,this.portalRef.current,((W=this.props.baseRef)==null?void 0:W.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),v(this,"onDocumentKeyDown",T=>{T.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=p()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=Object(e.createRef)()}toggle(){const C=!this.state.open;C?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:C})}updateCoords(){var C,_,T,W,k,$,H;const g=(W=(_=((C=this.props.baseRef)==null?void 0:C.current)||this.props.baseRef)==null?void 0:_.getBoundingClientRect)==null?void 0:W.call(((T=this.props.baseRef)==null?void 0:T.current)||this.props.baseRef);if(g){let M=0,R=((k=this.props.baseRef)==null?void 0:k.current)||this.props.baseRef;for(;R=R==null?void 0:R.parentElement;)M+=R.scrollTop;this.setState({coords:{left:g.x+(this.props.rightAlign?g.width:0)+(typeof window!="undefined"?window.scrollX:0)+((($=this.props.offset)==null?void 0:$.x)||0),top:g.y+M+(((H=this.props.offset)==null?void 0:H.y)||0),width:g.width,height:g.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var C,_,T,W;(_=((C=this.props.baseRef)==null?void 0:C.current)||this.props.baseRef)==null||_.addEventListener("mouseenter",this.open),(W=((T=this.props.baseRef)==null?void 0:T.current)||this.props.baseRef)==null||W.addEventListener("mouseleave",this.close)}removeMouseListeners(){var C,_,T,W;(_=((C=this.props.baseRef)==null?void 0:C.current)||this.props.baseRef)==null||_.removeEventListener("mouseenter",this.open),(W=((T=this.props.baseRef)==null?void 0:T.current)||this.props.baseRef)==null||W.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(C){var _,T;const W=C==null?void 0:C.getBoundingClientRect(),k=(T=((_=this.props.baseRef)==null?void 0:_.current)||this.props.baseRef)==null?void 0:T.getBoundingClientRect();if(!W||!k)return;const $=({x:D,y:U})=>M<=D&&D<=R&&H<=U&&U<=g,{top:H,bottom:g,left:M,right:R}=W;$({x:k.left,y:k.top})||$({x:k.right,y:k.top})||$({x:k.left,y:k.bottom})||$({x:k.right,y:k.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(C=>C())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(C=>{const _=(C==null?void 0:C.current)||C,T=p()(()=>this.onScroll(_),10);return _==null||_.addEventListener("scroll",T),()=>_==null?void 0:_.removeEventListener("scroll",T)})}componentShouldUpdate(C,_){return!c()(this.props,C)||!c()(this.state,_)}componentDidUpdate(C){var _,T,W,k;!c()(C.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),c()(C.baseRef,this.props.baseRef)||((T=((_=C.baseRef)==null?void 0:_.current)||C.baseRef)==null||T.removeEventListener("mouseenter",this.open),(k=((W=C.baseRef)==null?void 0:W.current)||C.baseRef)==null||k.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:C,rootElement:_,className:T},{coords:W}){return typeof window=="undefined"?null:Object(o.createPortal)(Object(e.h)("div",{style:u({},W),className:s()("tooltip-portal",T),ref:this.portalRef},C),_||document.body)}}E.defaultProps={scrollContainers:[]},i.a=E},function(S,i,t){var e=t(129),o=t(121),l="[object Symbol]";function s(h){return typeof h=="symbol"||o(h)&&e(h)==l}S.exports=s},function(S,i,t){"use strict";t.d(i,"a",function(){return d});var e=t(0),o=t(3),l=t(16),s={reader2Avatar:"frontend-reader2-Avatar-module__reader2Avatar--3bg03"},h=t(6),c=t.n(h);function d({user:p,size:f,className:O}){return Object(e.h)(l.a,{className:c()(s.reader2Avatar,O),src:Object(o.getUserPhotoUrl)(p),size:f})}},function(S,i,t){"use strict";t.d(i,"a",function(){return k}),t.d(i,"b",function(){return H});var e=t(0),o=t(10),l=t.n(o),s=t(14),h=t.n(s),c=t(7),d=t.n(c),p=t(3),f=t.n(p),O=t(26),b=t(171),m=t(6),a=t.n(m),n=Object.defineProperty,r=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(g,M,R)=>M in g?n(g,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):g[M]=R,w=(g,M)=>{for(var R in M||(M={}))u.call(M,R)&&E(g,R,M[R]);if(r)for(var R of r(M))v.call(M,R)&&E(g,R,M[R]);return g},C=(g,M)=>{var R={};for(var D in g)u.call(g,D)&&M.indexOf(D)<0&&(R[D]=g[D]);if(g!=null&&r)for(var D of r(g))M.indexOf(D)<0&&v.call(g,D)&&(R[D]=g[D]);return R},_=(g,M,R)=>new Promise((D,U)=>{var L=x=>{try{B(R.next(x))}catch(P){U(P)}},j=x=>{try{B(R.throw(x))}catch(P){U(P)}},B=x=>x.done?D(x.value):Promise.resolve(x.value).then(L,j);B((R=R.apply(g,M)).next())});const T=92;class W extends e.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(M){!this.props.manualLoad&&M.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return _(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const M=yield l.a.get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:M.body})}catch(M){console.error("Failed to load profile:",M)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:M}){var R;const D=((R=this.getProfileUser().publications)==null?void 0:R.filter(U=>U.id!==M.id))||[];return Object(e.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},Object(e.h)(H,{photo_url:Object(p.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:M}),Object(e.h)("div",{className:"user-profile-name"},this.getProfileUser().name),Object(e.h)("div",{className:"user-profile-status"},this.getProfileUser().id===M.author_id?Object(e.h)("b",null,"Author of ",M.name):this.getProfileUser().subscribed_at?`Subscriber to ${M.name} since ${h()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),D.length>0&&Object(e.h)("div",{className:"user-profile-publication"},"Author of"," ",Object(c.oxfordComma)(D.map(U=>Object(e.h)("a",{href:U.base_url,native:!0},U.name)))),this.props.isBanned&&Object(e.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",M.name))}}class k extends O.a{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const M=this.props,{ref:R}=M,D=C(M,["ref"]);return Object(e.h)("div",{className:"user-profile-modal"},Object(e.h)(W,w({ref:U=>this.profile=U,manualLoad:!0},D)))}}const $=({children:g,email:M,pub:R})=>Object(e.h)("a",{target:"_blank",href:Object(p.getSubscriberDetailsUrl)(R,M)},g),H=({photo_url:g,size:M=T,banned:R=!1,email:D="",className:U="",pub:L=null,children:j=void 0})=>{const B=Object(e.h)("img",{className:"user-profile-head",height:M,width:M,src:Object(c.cloudinary)(g,M*2,{height:M*2,crop:"fill"})});return Object(e.h)("div",{className:a()(U,"profile-image-wrapper")},D&&L?Object(e.h)($,{email:D,pub:L},B):B,R&&Object(e.h)(b.default,{height:M}),j)}},,function(S,i,t){var e=t(134),o=t(459),l=t(460),s="[object Null]",h="[object Undefined]",c=e?e.toStringTag:void 0;function d(p){return p==null?p===void 0?h:s:c&&c in Object(p)?o(p):l(p)}S.exports=d},function(S,i,t){"use strict";t.d(i,"b",function(){return n}),t.d(i,"a",function(){return r});var e=t(0),o=t(8),l=t.n(o),s=t(7),h=t.n(s),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(u,v,E)=>v in u?c(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,b=(u,v)=>{for(var E in v||(v={}))p.call(v,E)&&O(u,E,v[E]);if(d)for(var E of d(v))f.call(v,E)&&O(u,E,v[E]);return u},m=(u,v)=>{var E={};for(var w in u)p.call(u,w)&&v.indexOf(w)<0&&(E[w]=u[w]);if(u!=null&&d)for(var w of d(u))v.indexOf(w)<0&&f.call(u,w)&&(E[w]=u[w]);return E},a=(u,v,E)=>(O(u,typeof v!="symbol"?v+"":v,E),E);const n={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class r extends e.Component{constructor(){super(...arguments);a(this,"onWindowResize",v=>{this.setAutoHeight()}),a(this,"onKeyDown",v=>(this.props.inline&&v.key==="Enter"&&v.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(v))),a(this,"onInput",v=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(v))),a(this,"onBlur",()=>{var v;if(this.props.inline){const E=(v=this.base)==null?void 0:v.value,w=Object(s.sanitizeInlineText)(E);E&&E!==w&&(this.base.value=w,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(v,E,w){v.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){!this.props.autoHeight||!this.base||typeof window=="undefined"||!window.getComputedStyle||Object(o.stateTransaction)(this,v=>{this.base.style.height="";const E=window.getComputedStyle(this.base),w=parseInt(E.getPropertyValue("height")),C=parseInt(E.getPropertyValue("padding-top"))+parseInt(E.getPropertyValue("padding-bottom")),_=parseInt(E.getPropertyValue("line-height")),T=Math.min(Math.round((this.base.scrollHeight-C)/_),this.props.maxLines||1/0);this.base.style.height=`${Math.max(T*_+C,w)}px`,this.base.style.height!==v.height&&this.setState({height:this.base.style.height})})}render(v,{height:E}){var w=v,{children:C,ref:_,style:T,onKeyDown:W,onInput:k,inline:$,autoHeight:H,maxLines:g}=w,M=m(w,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return H&&(T=Object.assign({},T,{height:E})),Object(e.h)("textarea",b(b({style:T,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},n),M),C)}}},function(S,i,t){"use strict";t.d(i,"a",function(){return o});function e(l,s){if(l==null)return{};var h={},c=Object.keys(l),d,p;for(p=0;p<c.length;p++)d=c[p],!(s.indexOf(d)>=0)&&(h[d]=l[d]);return h}function o(l,s){if(l==null)return{};var h=e(l,s),c,d;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);for(d=0;d<p.length;d++)c=p[d],!(s.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(l,c)||(h[c]=l[c]))}return h}},function(S,i,t){"use strict";t.d(i,"f",function(){return N}),t.d(i,"d",function(){return X}),t.d(i,"c",function(){return q}),t.d(i,"e",function(){return se}),t.d(i,"i",function(){return Ee}),t.d(i,"j",function(){return oe}),t.d(i,"h",function(){return te}),t.d(i,"a",function(){return z}),t.d(i,"b",function(){return V}),t.d(i,"g",function(){return ne});var e=t(0),o=t(1),l=t(14),s=t.n(l),h=t(6),c=t.n(h),d=t(22),p=t(258),f=t(3),O=t(7),b=t(8),m=t(92),a=t(104),n=t(5),r=t(163),u=t(75),v=t(126),E=t(672),w=t(387),C=t(388),_=t(389),T=t(60),W=t(115),k=t(66),$=t(255),H=t(72),g=t(16),M=t(241),R={root:"frontend-reader2-NotificationsPage-module__root--1WLCU",body:"frontend-reader2-NotificationsPage-module__body--3oE4p",notification:"frontend-reader2-NotificationsPage-module__notification--27Pvi",notificationLink:"frontend-reader2-NotificationsPage-module__notificationLink--1R6PM",container:"frontend-reader2-NotificationsPage-module__container--Wo67i",avatarContainer:"frontend-reader2-NotificationsPage-module__avatarContainer--2LV9T",reactionBadge:"frontend-reader2-NotificationsPage-module__reactionBadge--2hyOH",textContainer:"frontend-reader2-NotificationsPage-module__textContainer--wLlb0",pubLogo:"frontend-reader2-NotificationsPage-module__pubLogo--9X46C",head:"frontend-reader2-NotificationsPage-module__head--67Xq8",name:"frontend-reader2-NotificationsPage-module__name--1sU8q",light:"frontend-reader2-NotificationsPage-module__light--U-VVC",time:"frontend-reader2-NotificationsPage-module__time--1kvgN",avatar:"frontend-reader2-NotificationsPage-module__avatar--1zIO0","notification-like":"frontend-reader2-NotificationsPage-module__notification-like---uMZM","notification-reply":"frontend-reader2-NotificationsPage-module__notification-reply--2IjDa","notification-comment":"frontend-reader2-NotificationsPage-module__notification-comment--2g2Wi"},D=Object.defineProperty,U=Object.defineProperties,L=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,P=(re,de,fe)=>de in re?D(re,de,{enumerable:!0,configurable:!0,writable:!0,value:fe}):re[de]=fe,y=(re,de)=>{for(var fe in de||(de={}))B.call(de,fe)&&P(re,fe,de[fe]);if(j)for(var fe of j(de))x.call(de,fe)&&P(re,fe,de[fe]);return re},A=(re,de)=>U(re,L(de));const K="Activity";function N({}){Object(a.c)(K,{style:"notifications"});const re=Object(m.b)();return re.hasLoadedOnce&&Object(e.h)(Y,{notificationsContext:re})}function Y({notificationsContext:re}){var de;const fe=Object(H.b)(),[we,Ge]=Object(o.useState)(re.lastViewedAt);Object(o.useEffect)(()=>{re.markAllAsRead(),Object(n.i)(r.b.ACTIVITY_SCREEN_VIEWED,{platform:"web"})},[]);const{pages:$e,lastPage:it,fetchMore:st}=Object(d.h)({pathname:"/api/v1/activity-feed-web",auto:!0,getPageInit:({lastPage:be,init:he})=>{var Ce;const De=(Ce=be==null?void 0:be.result)==null?void 0:Ce.activityItems,Se=De&&De[De.length-1];return Se&&(he.query=A(y({},he.query),{after:s()(Se.updated_at).subtract(1,"milliseconds").toISOString()})),he}}),Rt=$e[0],Ht=Rt==null?void 0:Rt.result,je=((de=it==null?void 0:it.result)==null?void 0:de.more)&&!(it==null?void 0:it.isLoading)&&!(it==null?void 0:it.error),{bodyRef:Oe}=Object(p.a)(st,[it],{shouldCheck:je});return Object(e.h)(g.p,{className:R.root},Object(b.setMetaData)({title:`${K} | Substack`}),fe&&Object(e.h)(g.x,null,K),Object(e.h)(g.q,null,(Rt==null?void 0:Rt.isLoading)?Object(e.h)(g.v,null,Array(5).fill(0).map(()=>Object(e.h)(ie,null))):Ht&&Ht.activityItems.length===0?Object(e.h)(g.r,null,Object(e.h)(g.N,{icon:Object(e.h)(E.a,{className:"zero-icon",size:24}),title:"You don\u2019t have any activity yet.",text:"Likes and replies will appear here."})):Object(e.h)(g.v,{ref:Oe},$e.map(({result:be,error:he,isLoading:Ce})=>{if(Ce)return Object(e.h)(g.b,null);if(he)return"Error";if(be){const{publications:De,posts:Se,users:Le,comments:tt}=ne(be);return be.activityItems.filter(Xe=>oe.has(Xe.type)).map(Xe=>Object(e.h)(G,{key:Xe.id,isUnread:we==null||we<Xe.updated_at,item:A(y({},Xe),{pub:De.get(Xe.publication_id),post:Se.get(Xe.target_post_id),recent_senders:Object($.a)(Xe.recent_sender_ids,Et=>Le.get(Et)),comment:Xe.comment_id&&tt.get(Xe.comment_id)||null,target_comment:Xe.target_comment_id&&tt.get(Xe.target_comment_id)||null})}))}}))))}const F=new Set(["post_like","comment_like"]);function G({item:re,isUnread:de}){const fe=Ee(re),[we,Ge]=Object(o.useState)(!1);return Object(e.h)(X,{item:re,isUnread:de},Object(e.h)(q,null,Object(e.h)("div",{className:R.head},Object(e.h)(se,{sender:fe,item:re,onFacepile:Ge})),Object(e.h)(g.z,{className:R.description,variant:de?"primary":"secondary",isConstrained:!0},te(re))),re.pub.logo_url&&Object(e.h)("a",{className:R.avatarContainer,href:re.pub.base_url},Object(e.h)(u.a,{pub:re.pub,size:32})),we&&Object(e.h)(W.a,{modalLabel:"Likes",faces:re.recent_senders,openLinksInNewTab:!1,totalCount:re.length,onBeforeClose:()=>Ge(!1),utmSource:null}))}function X({item:re,isUnread:de,children:fe,isPadded:we,trackingProps:Ge}){const $e=Ee(re),[it,st]=Object(M.b)(de);return Object(e.h)(g.l,{linkClassName:R.notificationLink,isPadded:we,onClick:Rt=>{Object(n.i)(r.b.ACTIVITY_ITEM_TAPPED,y({platform:"web",type:re.type,publication_id:re.publication_id},Ge)),Rt.target instanceof HTMLAnchorElement||(st(),location.href=le(re))}},Object(e.h)("div",{className:R.container},Object(e.h)(V,{user:$e,size:40},it,Object(e.h)(Q,{item:re})),fe))}const q=Object(k.a)(R.textContainer);function se({sender:re,item:de,onFacepile:fe,context:we}){const Ge=Object(H.b)()||we=="dropdown",$e=s()(de.updated_at);return Object(e.h)("span",null,Object(e.h)(T.c,{subject:re},Object(e.h)("a",{className:R.name,href:Object(f.getReaderProfileUrl)(re)},re.name))," ",Object(e.h)("span",null,Ie(de,fe),ee(de)),Object(e.h)("span",{className:R.light}," ","\u2219 ",Object(e.h)("span",{className:R.time},Ge?$e.fromNowShort():$e.fromNow())))}function ie(){return Object(e.h)(g.l,{linkClassName:R.notificationLink},Object(e.h)("div",{className:R.container},Object(e.h)(g.A,{className:R.avatar}),Object(e.h)("div",{className:`${R.textContainer} tw-flex tw-flex-col tw-gap-y-4`},Object(e.h)(g.A,{type:"bar",width:"75%"}),Object(e.h)("div",{className:"tw-flex tw-flex-col tw-gap-y-2"},Object(e.h)(g.A,{type:"bar",width:"90%"}),Object(e.h)(g.A,{type:"bar",width:"50%"}))),Object(e.h)(g.A,{className:R.pubLogo})))}function Ee(re){const de=re.recent_senders.length;return re.recent_senders[de-1]}function Ie(re,de){let fe=null;const we=re.recent_senders.length;if(re.type==="comment_like"||re.type==="post_like"){const Ge=re.sender_count-1;if(Ge===1&&we>1){const $e=re.recent_senders[we-2];fe=Object(e.h)(e.Fragment,null," ","and",Object(e.h)(T.c,{subject:$e},Object(e.h)("a",{href:Object(f.getReaderProfileUrl)($e)},$e.name))," ")}else Ge>1&&(fe=Object(e.h)(e.Fragment,null,Object(e.h)("a",{onClick:()=>{de(!0)}},"and ",Ge," others")," "))}return fe}const ge=["post_reply","post_like","comment_reply","comment_like"],oe=new Set(ge);function ee(re){const de=Object(e.h)(e.Fragment,null," ",Object(e.h)("b",null,Object(e.h)("a",{href:Object(f.getPostUrl)(re.pub,re.post)},re.post.title)));if(re.type==="comment_reply")switch(re.comment_audience){case"post_author":return Object(e.h)(e.Fragment,null,"replied to a comment on ",de);case"publication_author":return Object(e.h)(e.Fragment,null,"replied to a comment on ",de);case"comment_sibling":return Object(e.h)(e.Fragment,null,"also commented on ",de);default:return Object(e.h)(e.Fragment,null,"replied to your comment on ",de)}else{if(re.type==="post_reply")return Object(e.h)(e.Fragment,null,"commented on ",de);if(re.type==="post_like")return Object(e.h)(e.Fragment,null,"liked your post, ",de);if(re.type==="comment_like")return Object(e.h)(e.Fragment,null,"liked your comment on ",de)}return""}function te(re){var de,fe,we;let Ge="";switch(re.type){case"post_reply":Ge=(de=re.comment)==null?void 0:de.body;break;case"comment_reply":Ge=(fe=re.comment)==null?void 0:fe.body;break;case"post_like":Ge=re.post.title;break;case"comment_like":Ge=(we=re.target_comment)==null?void 0:we.body;break}return Object(O.truncateWords)(Ge,300)}function le(re){switch(re.type){case"post_reply":return Object(f.getPostUrl)(re.pub,re.post,{commentId:re.comment_id});case"post_like":return Object(f.getPostUrl)(re.pub,re.post);case"comment_reply":return Object(f.getPostCommentInContextUrl)(re.pub,re.post,re.comment);case"comment_like":return Object(f.getPostUrl)(re.pub,re.post,{commentId:re.target_comment_id})}}function Q({item:re}){let de;return F.has(re.type)?de="like":re.type==="comment_reply"?re.comment_audience==="comment_sibling"?de="comment":de="reply":de="comment",Object(e.h)(z,{type:de})}function z({type:re}){return Object(e.h)("div",{className:c()(R.reactionBadge,R[`notification-${re}`])},re==="like"?Object(e.h)(w.HeartIcon,null):re==="comment"?Object(e.h)(_.CommentIcon,null):Object(e.h)(C.ReplyIcon,null))}function V({user:re,size:de,children:fe}){return Object(e.h)("a",{className:R.avatarContainer,href:Object(f.getReaderProfileUrl)(re)},fe,Object(e.h)(v.a,{user:re,size:de}))}function ne(re){const de=new Map(re.pubs.map($e=>[$e.id,$e])),fe=new Map(re.posts.map($e=>[$e.id,$e])),we=new Map(re.users.map($e=>[$e.id,$e])),Ge=new Map(re.comments.map($e=>[$e.id,$e]));return{publications:de,posts:fe,users:we,comments:Ge}}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:"#1C110B"}}),Object(e.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");");i.default=m},function(S,i,t){var e=t(71),o=e.Symbol;S.exports=o},,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),Object(e.h)("circle",{cx:"23",cy:"50",r:"9"}),Object(e.h)("circle",{cx:"50",cy:"50",r:"9"}),Object(e.h)("circle",{cx:"77",cy:"50",r:"9"}));i.default=m},function(S,i,t){var e,o;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(l){var s=!1;if(e=l,o=typeof e=="function"?e.call(i,t,i,S):e,o!==void 0&&(S.exports=o),s=!0,S.exports=l(),s=!0,!s){var h=window.Cookies,c=window.Cookies=l();c.noConflict=function(){return window.Cookies=h,c}}})(function(){function l(){for(var h=0,c={};h<arguments.length;h++){var d=arguments[h];for(var p in d)c[p]=d[p]}return c}function s(h){function c(d,p,f){var O;if(typeof document!="undefined"){if(arguments.length>1){if(f=l({path:"/"},c.defaults,f),typeof f.expires=="number"){var b=new Date;b.setMilliseconds(b.getMilliseconds()+f.expires*864e5),f.expires=b}f.expires=f.expires?f.expires.toUTCString():"";try{O=JSON.stringify(p),/^[\{\[]/.test(O)&&(p=O)}catch(C){}h.write?p=h.write(p,d):p=encodeURIComponent(String(p)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)),d=d.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),d=d.replace(/[\(\)]/g,escape);var m="";for(var a in f)!f[a]||(m+="; "+a,f[a]!==!0&&(m+="="+f[a]));return document.cookie=d+"="+p+m}d||(O={});for(var n=document.cookie?document.cookie.split("; "):[],r=/(%[0-9A-Z]{2})+/g,u=0;u<n.length;u++){var v=n[u].split("="),E=v.slice(1).join("=");!this.json&&E.charAt(0)==='"'&&(E=E.slice(1,-1));try{var w=v[0].replace(r,decodeURIComponent);if(E=h.read?h.read(E,w):h(E,w)||E.replace(r,decodeURIComponent),this.json)try{E=JSON.parse(E)}catch(C){}if(d===w){O=E;break}d||(O[w]=E)}catch(C){}}return O}}return c.set=c,c.get=function(d){return c.call(c,d)},c.getJSON=function(){return c.apply({json:!0},[].slice.call(arguments))},c.defaults={},c.remove=function(d,p){c(d,"",l(p,{expires:-1}))},c.withConverter=s,c}return s(function(){})})},,,function(S,i,t){"use strict";var e=t(164);function o(){for(var l=arguments.length,s=new Array(l),h=0;h<l;h++)s[h]=arguments[h];return Object(e.a)(s)}i.a=o},function(S,i,t){"use strict";t.d(i,"a",function(){return d});var e=t(2),o=t(44),l=t.n(o),s=t(14),h=t.n(s);const c=()=>{};function d(p,f=null,O=c){const[b,m]=Object(e.k)(!1);if(!p)return[!0,c];const a=()=>{O();const v=new Date;Object(o.setStoredValue)(p,v.toString()),m(!0)};let n;const r=typeof window=="undefined"?new Date().toString():Object(o.getStoredValue)(p);return r&&f?n=h()(r).add(f,"second").isAfterNow():n=Boolean(r),[b||n,a]}},function(S,i,t){var e=t(385),o=t(555),l=t(520),s=t(501),h=l(function(c,d){if(c==null)return[];var p=d.length;return p>1&&s(c,d[0],d[1])?d=[]:p>2&&s(d[0],d[1],d[2])&&(d=[d[0]]),o(c,e(d,1),[])});S.exports=h},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(577),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.d(i,"b",function(){return h}),t.d(i,"a",function(){return c});var e=t(0),o=t(2),l=t(1);const s=Object(e.createContext)(null);function h({root:d,children:p}){const f=Object(o.j)(d);return Object(e.h)(s.Provider,{value:f},p,!d&&Object(e.h)("div",{ref:f}))}function c({children:d}){const p=Object(o.b)(s).current;return p?Object(l.createPortal)(d,p):null}},function(S,i,t){var e=t(212),o=[t(213),t(594),t(595),t(214)],l=[];S.exports=e.createStore(o,l)},function(S,i,t){var e=t(125),o=1/0;function l(s){if(typeof s=="string"||e(s))return s;var h=s+"";return h=="0"&&1/s==-o?"-0":h}S.exports=l},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),Object(e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return g}),t.d(i,"b",function(){return M});var e=t(0),o=t(7),l=t.n(o),s=t(3),h=t.n(s),c=t(105),d=t(6),p=t.n(d),f=t(187),O=t(502),b=t(23),m=t(98),a=t(49),n=t.n(a),r=t(28),u=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,T=(R,D,U)=>D in R?u(R,D,{enumerable:!0,configurable:!0,writable:!0,value:U}):R[D]=U,W=(R,D)=>{for(var U in D||(D={}))C.call(D,U)&&T(R,U,D[U]);if(w)for(var U of w(D))_.call(D,U)&&T(R,U,D[U]);return R},k=(R,D)=>v(R,E(D));const $=["Subscribe","Subscribe now","Sign up","Sign up now"];function H({isStatic:R,pub:D,user:U,freeSignup:L,children:j}){if(R)return Object(e.h)(m.a.Consumer,null,({isFreemail:P})=>j({isFreeSubscribed:!0,isSubscribed:!P,isFullySubscribed:!D.plans||!P,isForPaidSubscription:!!D.plans&&P}));const B=L||(U==null?void 0:U.is_free_subscribed),x=U==null?void 0:U.is_subscribed;return j({isFreeSubscribed:B,isSubscribed:x,isFullySubscribed:B&&!D.plans||x,isForPaidSubscription:!!D.plans&&B&&!x})}function g({pub:R,user:D,now:U,isStatic:L}){return Object(e.h)(H,{isStatic:L,user:D,pub:R},({isFreeSubscribed:j})=>Object(o.getSubscribeText)(R,{now:U,isFreeSubscribed:j}))}class M extends e.Component{onSignup(D){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(D):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=Object(s.getSubscribeUrl)(this.props.pub,k(W({utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:D.body.requires_confirmation?"true":""},D.body.subscription_id&&{subscription_id:D.body.subscription_id}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(D){const{pub:U,subscribeButtonAttrs:L,isStatic:j,source:B,post:x,next:P}=this.props,y={utm_medium:j?"email":"web",utm_source:B||"subscribe-widget",utm_content:x&&x.id,next:P,referring_pub_ids:j?void 0:Object(s.getQueryItem)("referring_pub_ids")};return D?j?r.Substitutions.ACCOUNT_URL:Object(s.getPubAccountSettingsUrl)(U,{params:y}):Object(s.getSubscribeUrl)(U,W({root:L?L.url:j&&r.Substitutions.CHECKOUT_URL},y))}getButtonLabel(D,U){if(D)return"Subscribed";const{pub:L,subscribeButtonAttrs:j}=this.props,B=j&&j.text;if(B&&!$.includes(B))return B;const x=U;return Object(o.getSubscribeText)(L,{now:!x,isFreeSubscribed:x})}render({pub:D,user:U,freeSignup:L,freeSignupEmail:j,source:B,isStatic:x,forceEmailInput:P,onPrepareData:y,onError:A},{loading:K}){return Object(e.h)(H,{pub:D,user:U,isStatic:x,freeSignup:L},({isFreeSubscribed:N,isSubscribed:Y,isFullySubscribed:F})=>{var G;const X=this.getButtonLabel(Y,N),q=N||Y;return Object(e.h)("div",{className:p()("subscribe-widget",{"is-signed-up":q,"is-fully-subscribed":F})},!P&&(q&&D.plans||x)?Object(e.h)("p",{className:"button-wrapper"},x?Object(e.h)("a",{className:p()("button subscribe-btn",F?"outline":"primary"),href:this.getHref(F),native:!x},F&&Object(e.h)(O.default,{stroke:((G=D==null?void 0:D.theme)==null?void 0:G.background_pop_color)||(D==null?void 0:D.theme_var_background_pop)||a.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),Object(e.h)("span",null,X)):Object(e.h)(b.a,{className:"subscribe-btn",href:this.getHref(F),localNavigation:!1,variant:F?"themed-secondary":"themed-primary",leftIcon:F?Object(e.h)(f.a,{size:20}):null},Object(e.h)("span",null,X))):Object(e.h)(c.a,{source:B||"subscribe-widget",user:U,pub:D,freeSignup:L,freeSignupEmail:j,onPrepareData:y,onSuccess:se=>this.onSignup(se),onConfirmationRequired:(D==null?void 0:D.payments_state)==="enabled"?()=>null:void 0,onError:A,hideTerms:!0,hideLogin:!0,disabled:q||K,submitButtonText:q?"\u2713":Object(o.getSubscribeText)(D)}))})}}},function(S,i){function t(e){return e}S.exports=t},function(S,i,t){"use strict";t.d(i,"a",function(){return te});var e=t(0),o=t(5),l=t(8),s=t(52),h=t(7),c=t(10),d=t.n(c),p=t(94),f=t.n(p),O=t(6),b=t.n(O),m=t(179),a=t(521),n=t(522),r=t(3),u=t(69),v=Object.defineProperty,E=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(le,Q,z)=>Q in le?v(le,Q,{enumerable:!0,configurable:!0,writable:!0,value:z}):le[Q]=z,T=(le,Q)=>{for(var z in Q||(Q={}))w.call(Q,z)&&_(le,z,Q[z]);if(E)for(var z of E(Q))C.call(Q,z)&&_(le,z,Q[z]);return le},W=(le,Q,z)=>new Promise((V,ne)=>{var re=we=>{try{fe(z.next(we))}catch(Ge){ne(Ge)}},de=we=>{try{fe(z.throw(we))}catch(Ge){ne(Ge)}},fe=we=>we.done?V(we.value):Promise.resolve(we.value).then(re,de);fe((z=z.apply(le,Q)).next())});const k=272,$=(le,Q)=>Q?`"${Object(h.truncateText)(le,230-Q.length)}" - ${Q}`:`"${Object(h.truncateText)(le,230)}"`;class H extends e.Component{constructor(Q){super(Q);this.state={styles:{},selectionFromBackend:null,showPreview:!1,imageLoaded:!1,hidden:!1},this.shareToFacebook=this.shareToFacebook.bind(this),this.shareToTwitter=this.shareToTwitter.bind(this),this.copyLink=this.copyLink.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.fetchSelectionDebounced=f()(this.fetchSelection.bind(this),1500,{leading:!0,trailing:!1})}componentDidMount(){typeof document!="undefined"&&document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){typeof document!="undefined"&&document.removeEventListener("keydown",this.onKeyDown)}onKeyDown(Q){Q.key==="Escape"&&(Q.preventDefault(),this.setState({hidden:!this.state.hidden}))}onMouseOver(){this.props.variant==="treatment_card"&&(this.state.selectionFromBackend||this.fetchSelectionDebounced(),this.setState({showPreview:!0}))}onMouseOut(){this.setState({showPreview:!1})}fetchSelection(){return W(this,null,function*(){const{selection:{startParagraph:Q,endParagraph:z,startOffset:V,endOffset:ne},post:re}=this.props;try{const{body:{selection:de}}=yield d.a.put("/api/v1/post_selection").send({postId:re.id,startParagraph:Q,endParagraph:z,startOffset:V,endOffset:ne});this.setState({selectionFromBackend:de})}catch(de){console.error("Failed to put selection: ",de)}})}getShareUrl(){return W(this,null,function*(){const{selection:{startParagraph:Q,endParagraph:z,startOffset:V,endOffset:ne,text:re},pub:de,post:fe,user:we,utm_campaign:Ge,variant:$e}=this.props;if([Q,z,V,ne].some(it=>isNaN(Number(it))))return console.error("NaN value: ",{startParagraph:Q,endParagraph:z,startOffset:V,endOffset:ne}),Object(r.getPostUrl)(de,fe);if($e==="treatment_card")try{let it=this.state.selectionFromBackend;if(!it){const{body:{selection:st}}=yield d.a.put("/api/v1/post_selection").send({postId:fe.id,startParagraph:Q,endParagraph:z,startOffset:V,endOffset:ne});it=st,this.setState({selectionFromBackend:it})}return{postUrl:Object(r.getPostUrl)(de,fe,{urlParams:{r:we?we.id.toString(36):null,selection:it.id,utm_campaign:Ge||"post_selection",utm_medium:"web"}}),selectionId:it.id,selectionText:it.text}}catch(it){return console.error("Failed to put selection: ",it),{postUrl:Object(r.getPostUrl)(de,fe,{urlParams:{r:we?we.id.toString(36):null,utm_campaign:Ge||"post_selection",utm_medium:"web"}}),selectionId:null,selectionText:null}}else return{postUrl:Object(r.getPostUrl)(de,fe,{urlParams:{r:we?we.id.toString(36):null,utm_campaign:Ge||"post_selection",utm_medium:"web"}}),selectionId:null,selectionText:re}})}triggerShare(Q,z){return W(this,null,function*(){const{post:V}=this.props,{postUrl:ne,selectionId:re,selectionText:de}=yield this.getShareUrl();Object(o.i)(o.a.SHARE_LINK_CLICKED,{name:Q,selection_id:re,post_id:V.id});const fe=z(ne,de);fe&&(fe.startsWith("http")?window.open(fe,"_blank"):document.location.href=fe)})}shareToFacebook(){return W(this,null,function*(){const{variant:Q}=this.props;yield this.triggerShare("facebook",(z,V)=>Object(r.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",T({u:z},Q==="treatment_text"&&{quote:V})))})}shareToTwitter(){return W(this,null,function*(){const{post:Q,pub:z,variant:V}=this.props;yield this.triggerShare("twitter",(ne,re)=>{var de;return Object(r.pathWithQuery)("https://twitter.com/share",{url:ne,text:V==="treatment_text"?$(re,((de=Q.publishedBylines)==null?void 0:de.length)?Object(h.getPrintedByline)(z,Q):null):Q.title})})})}copyLink(){return W(this,null,function*(){yield this.triggerShare("copy",Q=>(Object(l.copyToClipboard)(Q),this.props.clearActiveSelection(),Object(u.b)("Link copied to clipboard"),!1))})}render({},{hidden:Q}){return Object(e.h)("div",{style:{top:this.props.top,left:`calc(50vw - ${k/2}px)`,position:"absolute"},className:b()("selection-popover",{hidden:Q})},Object(e.h)("div",{className:b()("preview",{"show-preview":this.state.showPreview&&this.state.imageLoaded})},this.state.selectionFromBackend&&Object(e.h)("img",{src:Object(r.getPostSelectionPreviewSvgUrl)(this.props.pub,this.props.post,this.state.selectionFromBackend.id),loading:"eager",onLoad:()=>this.setState({imageLoaded:!0})})),Object(e.h)("div",{className:"buttons"},Object(e.h)("span",null,"Share to"),Object(e.h)("button",{onClick:this.shareToFacebook,onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,title:"Facebook",className:"button secondary"},Object(e.h)(a.default,{stroke:"none",fill:"var(--print_on_web_bg_color, #1a1a1a)"})),Object(e.h)("button",{onClick:this.shareToTwitter,onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,title:"Twitter",className:"button secondary"},Object(e.h)(n.default,{stroke:"var(--print_on_web_bg_color, #1a1a1a)",fill:"var(--print_on_web_bg_color, #1a1a1a)"})),Object(e.h)("button",{onClick:this.copyLink,onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,title:"Copy Link",className:"button secondary"},Object(e.h)(m.default,{stroke:"none",fill:"var(--print_on_web_bg_color, #1a1a1a)",viewBox:"-1 0 19 16"}))))}}var g=H,M=t(545),R=t(2),D=t(42),U=t(11),L={chrome:"frontend-components-ImageViewerModal-module__chrome--1xusK",inactive:"frontend-components-ImageViewerModal-module__inactive--1gxOI",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--1r2QT",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--3fvrK",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--1xe2y",modalBody:"frontend-components-ImageViewerModal-module__modalBody--5de4a",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--qjaNp",img:"frontend-components-ImageViewerModal-module__img--WKP7Q",isLoading:"frontend-components-ImageViewerModal-module__isLoading--2ZBW4",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--kB3Fp",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--2OyoI",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--2Tyyz"},j=t(23),B=t(612),x=t(611),P=t(379),y=t(726),A=t(16);function K({showModal:le,modalContent:Q,onClose:z,step:V}){return Object(R.d)(()=>{le?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[le]),Object(e.h)(D.a,{isOpen:le,onClose:z,position:"full",opacity:"dark"},Object(e.h)(N,{modalContent:Q,onClose:z,stepDefault:V}))}function N({modalContent:le=[],onClose:Q,stepDefault:z}){const[V,ne]=Object(R.k)(z),[re,de]=Object(R.k)(!0),fe=Object(l.isMobileBrowser)(),we=Le=>{Le.currentTarget===Le.target&&Q()},[Ge,$e]=Object(R.k)(!1);Object(R.d)(()=>{if(!fe){let Le;const tt=()=>{clearTimeout(Le),$e(!1),Le=setTimeout(()=>{$e(!0)},2e3)};return window.addEventListener("pointermove",tt,{capture:!0,passive:!0}),window.addEventListener("pointerdown",tt,{capture:!0,passive:!0}),window.addEventListener("keydown",tt,{capture:!0,passive:!0}),tt(),()=>{clearTimeout(Le),window.removeEventListener("pointermove",tt,{capture:!0}),window.removeEventListener("pointerdown",tt,{capture:!0}),window.removeEventListener("keydown",tt,{capture:!0})}}},[fe]),Object(R.d)(()=>{const Le=tt=>{const{key:Xe}=tt;["ArrowRight","ArrowDown"].includes(Xe)?st():["ArrowLeft","ArrowUp"].includes(Xe)&&it()};return window.addEventListener("keydown",Le),()=>{window.removeEventListener("keydown",Le)}},[V]);const it=()=>{V!==0&&(ne(V-1),de(!0))},st=()=>{V!==le.length-1&&(ne(V+1),de(!0))},Rt=le[V],{src:Ht,attrs:{src:je,alt:Oe,title:be,width:he,height:Ce}}=Rt,De=fe?8:16,Se="#FFFFFF";return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:b()(L.chrome,Ge&&L.inactive)},V<le.length-1&&Object(e.h)(Y,{buttonFunction:st,style:{right:0,padding:De},isSidebar:!0,icon:Object(e.h)(B.a,{size:20,strokeWidth:2,stroke:Se})}),V>0&&Object(e.h)(Y,{buttonFunction:it,style:{left:0,padding:De},isSidebar:!0,icon:Object(e.h)(x.a,{size:20,strokeWidth:2,stroke:Se})}),Object(e.h)(Y,{buttonFunction:Q,style:{position:"absolute",right:De,top:De},isSidebar:!1,icon:Object(e.h)(P.a,{size:20,strokeWidth:2,stroke:Se})}),Object(e.h)(Y,{buttonFunction:Le=>{Le.stopPropagation(),F(be,je)},style:{position:"absolute",left:De,top:De},isSidebar:!1,icon:Object(e.h)(y.a,{size:20,strokeWidth:2,stroke:Se})})),Object(e.h)("div",{className:L.imgContainer,onClick:we},Object(e.h)("img",{className:b()(L.img,re&&L.isLoading),onLoad:()=>{de(!1)},alt:Oe,title:be,src:Object(r.cloudinary)(je,void 0,{quality:"auto:best"}),key:je,onClick:we})),re&&Object(e.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},Object(e.h)(A.b,{className:L.imgDrunkSpin})))}function Y({buttonFunction:le,style:Q,isSidebar:z,icon:V,tetherRef:ne}){return Object(e.h)(U.a,{className:b()(L.modalImageButtonContainer,z?L.modalImageSidebar:null),style:Q,alignItems:"center",justifyContent:"center",onClick:le,ref:ne},Object(e.h)(j.a,{className:L.modalImageButton,look:"circle"},V))}function F(le,Q){const z=document.createElement("a");return document.body.appendChild(z),z.href=Q,z.target="_blank",z.click(),document.body.removeChild(z),null}var G=Object.defineProperty,X=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ie=(le,Q,z)=>Q in le?G(le,Q,{enumerable:!0,configurable:!0,writable:!0,value:z}):le[Q]=z,Ee=(le,Q)=>{var z={};for(var V in le)q.call(le,V)&&Q.indexOf(V)<0&&(z[V]=le[V]);if(le!=null&&X)for(var V of X(le))Q.indexOf(V)<0&&se.call(le,V)&&(z[V]=le[V]);return z},Ie=(le,Q,z)=>(ie(le,typeof Q!="symbol"?Q+"":Q,z),z),ge=(le,Q,z)=>new Promise((V,ne)=>{var re=we=>{try{fe(z.next(we))}catch(Ge){ne(Ge)}},de=we=>{try{fe(z.throw(we))}catch(Ge){ne(Ge)}},fe=we=>we.done?V(we.value):Promise.resolve(we.value).then(re,de);fe((z=z.apply(le,Q)).next())});const oe=`
div.body.markup > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,ee=".image-link.image2";class te extends e.Component{constructor(Q,z){super(Q,z);Ie(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null}),Ie(this,"onMouseUp",()=>{this.state.selection&&Object(o.i)(o.a.POST_TEXT_SELECTED,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type})}),Ie(this,"onSelectionChange",()=>{const V=this.getSelectionState();V?this.setState({selection:V}):this.state.selection&&this.setState({selection:null})}),Ie(this,"onDocumentClick",V=>{const ne=V.target.closest(".image-link.image2");if(ne&&this.originalImageState){const re=ne.querySelector("img"),de=this.originalImageState.findIndex(fe=>fe.src===re.src);if(de>=0){V.preventDefault(),this.setState({selectedImgIndex:de});return}}if(!this.props.skipTrackClick)this.onLinkClick(V);else return null}),Ie(this,"clearActiveSelection",()=>{this.setState({selection:null})}),Ie(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),this.body=Object(e.createRef)()}componentDidMount(){return ge(this,null,function*(){const Q=Array.from(this.body.current.querySelectorAll(oe));this.originalParagraphState=Q.map(fe=>({text:fe.textContent}));const z=new URL(window.location).searchParams.get("img");let V=Array.from(this.body.current.querySelectorAll(ee));V=V.map(fe=>{const we=fe.querySelector("img"),Ge=JSON.parse(we.getAttribute("data-attrs")),$e=Ge.width/Ge.height,it=Ge.resizeWidth?Ge.resizeWidth/$e:Ge.height,st=Ge.resizeWidth?Ge.resizeWidth/it:$e;return{element:fe,image:we,attrs:Ge,extraAttrs:{imageRatio:$e,resizeHeight:it,resizeRatio:st}}});let ne=0;if(z){const fe=V.find(we=>we.attrs.src===z);fe&&(ne=fe.image.getBoundingClientRect().top-65)}const re=240,de=4;if(V=V.filter(fe=>Object(r.uncloudinary)(fe.image.src)===Object(r.uncloudinary)(fe.element.href)),V=V.filter(fe=>fe.attrs.height>re&&fe.extraAttrs.resizeHeight>re),V=V.filter(fe=>fe.extraAttrs.imageRatio<de&&fe.extraAttrs.resizeRatio<de),this.originalImageState=V.map(fe=>{var we;const Ge=fe.image.src;let $e=null;const it=fe.element.parentElement;return it.tagName==="FIGURE"&&($e=(we=it.querySelector(":scope > figcaption"))==null?void 0:we.textContent),{src:Ge,attrs:fe.attrs,caption:$e}}),z){window.scrollTo({top:ne});const fe=this.originalImageState.findIndex(we=>we.attrs.src===z);fe>=0&&this.setState({selectedImgIndex:fe})}typeof window!="undefined"&&document.addEventListener("selectionchange",this.onSelectionChange)})}componentWillUnmount(){typeof window!="undefined"&&document.removeEventListener("selectionchange",this.onSelectionChange)}shouldComponentUpdate(Q,z){return this.props.html!==Q.html||this.state.selectedImgIndex!==z.selectedImgIndex}onLinkClick(Q){if(!Q.target.nodeName||Q.target.nodeName!=="A"&&Q.target.parentNode.nodeName!=="A")return;const z=Q.target.nodeName==="A"?Q.target:Q.target.parentNode;if(Object(o.i)(o.a.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:z.href}),window.location.host===z.host){const V=Object(h.transformDocumentLink)(z.href);V!==z.href&&Object(l.redirect)(V,{local_navigation:!1,event:Q});return}Q.preventDefault(),Object(h.handleDocumentLinkClick)(z.href)}getSelectionState(){if(!!this.props.trackSelection&&!!window.getSelection)try{const Q=window.getSelection();if(!Q||Q.isCollapsed||Q.anchorNode===Q.focusNode&&Q.anchorOffset===Q.focusOffset)return;const z=this.findParentParagraph(Q.anchorNode);if(!z)return;const V=this.findParentParagraph(Q.focusNode);if(!V)return;const ne=Array.from(this.body.current.querySelectorAll(oe)),re=ne.findIndex($e=>$e.isSameNode(z));if(re===-1)return;const de=ne.findIndex($e=>$e.isSameNode(V));if(de===-1)return;const fe=this.getCharacterOffsetParagraph(z,Q.anchorNode,Q.anchorOffset);if(fe===null)return;const we=this.getCharacterOffsetParagraph(V,Q.focusNode,Q.focusOffset);if(we===null)return;let Ge=!1;return(z>V||z===V&&fe>we)&&(Ge=!0),{startParagraph:Ge?de:re,endParagraph:Ge?re:de,startOffset:Ge?we:fe,endOffset:Ge?fe:we,y:Q.getRangeAt(0).getBoundingClientRect().y,height:Q.getRangeAt(0).getBoundingClientRect().height,text:Q.toString()}}catch(Q){console.error("Failed to parse selection:",Q)}}findParentParagraph(Q){return Q?Q.nodeName==="P"?Q:this.findParentParagraph(Q.parentNode):null}isAncestorOf(Q,z){return Q===null?!1:Q.isSameNode(z)?!0:this.isAncestorOf(Q.parentNode,z)}getCharacterOffsetParagraph(Q,z,V){var ne;if(V===0)return 0;let re=V;for(let de=0;de<Q.childNodes.length;de++){const fe=Q.childNodes[de];if(this.isAncestorOf(z,fe))return re;fe.className!=="footnote-anchor"&&(re+=((ne=fe.textContent)==null?void 0:ne.length)||0)}}showSelectionPopover(){var Q,z,V;const{selection:ne}=this.state,{post:re,pub:de}=this.props;return(re==null?void 0:re.audience)==="everyone"&&!(de==null?void 0:de.invite_only)&&((V=(z=(Q=ne==null?void 0:ne.text)==null?void 0:Q.split)==null?void 0:z.call(Q," "))==null?void 0:V.length)>3&&["treatment_card","treatment_text"].includes(Object(s.maybeGetVariantFor)("selection_sharing",["treatment_card","treatment_text","control"]))}shouldShowImageViewerModal(){const{selectedImgIndex:Q}=this.state;return Q!=null}render(Q){var z=Q,{children:V,html:ne,pub:re,skipTrackClick:de,trackSelection:fe,paywall:we}=z,Ge=Ee(z,["children","html","pub","skipTrackClick","trackSelection","paywall"]);const{selection:$e,selectedImgIndex:it}=this.state;return ne&&(V=Object(M.a)(ne,re,Ge),V&&(ne=null)),Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:`body markup${we?" paywall-files":""}`,dangerouslySetInnerHTML:ne?{__html:ne}:null,ref:this.body,onClick:this.onDocumentClick,onMouseUp:fe?st=>this.onMouseUp(st):null,dir:"auto"},V),this.showSelectionPopover()&&Object(e.h)(g,{top:$e.y+window.scrollY-60,selection:$e,user:this.props.user,pub:re,post:this.props.post,variant:Object(s.maybeGetVariantFor)("selection_sharing",["treatment_card","treatment_text","control"]),clearActiveSelection:this.clearActiveSelection}),Object(e.h)(K,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:it}))}}},function(S,i){function t(e,o,l){return o in e?Object.defineProperty(e,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[o]=l,e}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";t.d(i,"a",function(){return U}),t.d(i,"b",function(){return L}),t.d(i,"c",function(){return P});var e=t(0),o=t(2),l=t(332),s=t(63),h=t(217),c=t(218),d=t(275),p=t(6),f=t.n(p),O=t(1);function b({children:y}){const A="post-it-portal";let K=document.getElementById(A);return K===null&&(K=document.createElement("div"),K.setAttribute("id",A),K.setAttribute("style","position: sticky; bottom: 0px"),document.body.appendChild(K)),K?Object(O.createPortal)(y,K):null}const m=({isOpen:y,children:A,className:K})=>{const N=Object(o.j)(null);return Object(o.d)(()=>{y&&N.current.focus()},[N,y]),y&&Object(e.h)(b,null,Object(e.h)("div",{className:f()("tw-absolute tw-bottom-0 tw-right-0 tw-mb-4 tw-mr-4 tw-w-[400px] tw-rounded-lg tw-border tw-border-solid tw-border-substack-detail tw-bg-substack-bg tw-shadow-lg",K),ref:N},A))},a=c.a,n=d.a,r=h.b;var u=t(723),v=t(233),E=t.n(v),w=t(23),C=t(302),_=t(210),T=t(5),W=t(375),k={uploadIcon:"frontend-editor-plugins-menu-InsertAudioModal-module__uploadIcon--2vsP5",fileUpload:"frontend-editor-plugins-menu-InsertAudioModal-module__fileUpload--3D2V7"},$=Object.defineProperty,H=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(y,A,K)=>A in y?$(y,A,{enumerable:!0,configurable:!0,writable:!0,value:K}):y[A]=K,D=(y,A)=>{for(var K in A||(A={}))g.call(A,K)&&R(y,K,A[K]);if(H)for(var K of H(A))M.call(A,K)&&R(y,K,A[K]);return y},U;(function(y){y.Embed="Embed audio",y.Voiceover="Add voiceover",y.PodcastPreview="Free version"})(U||(U={}));var L;(function(y){y.Embed="Upload or record an audio file embedded into the text.",y.Voiceover="Upload or record a new voiceover: an audio version of your post.",y.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds."})(L||(L={}));var j;(function(y){y.Record="Record",y.File="Upload"})(j||(j={}));const B={[j.File]:"Upload audio",[j.Record]:"Record audio"},x=E()((y,A,K)=>{y({label:A,mediaUploadId:K.id,duration:K.duration,mediaUpload:K})},1e3,{trailing:!1}),P=({feature:y,description:A,modes:K=[j.File,j.Record],editorDroppedFile:N,open:Y,pub:F,postId:G,onInsert:X,onClose:q,setPostId:se,canLabel:ie=!1})=>{const[Ee,Ie]=Object(o.k)(K[0]),[ge,oe]=Object(o.k)(""),[ee,te]=Object(o.k)(N),[le,Q]=Object(o.k)(null),z=Object(o.j)(),V=Object(o.j)(),[ne,re]=Object(o.k)(!1),[de,fe]=Object(o.k)(!1);Object(o.d)(()=>{te(N)},[N]);const we=()=>{if(ne&&V.current.recorder.suspend(),(ne||le)&&!confirm("Your audio will be discarded, are you sure?")){ne&&V.current.recorder.resume();return}Object(T.i)(T.a.AUDIO_MODAL_CANCEL_CLICKED,{has_media_upload:!!le,is_recording:ne}),Ge()},Ge=()=>{Ie(j.File),Q(null),te(null),re(!1),fe(!1),q()};return Object(e.h)(m,{isOpen:Y},Object(e.h)(a,{isModal:!1,as:"h3",title:y,description:A,includeClose:!0,onClose:we}),Object(e.h)(r,null,Object(e.h)(C.a,{items:K.map($e=>({key:$e,label:B[$e],isDisabled:!!le||!!ee||de})),onSelect:Ie,activeTab:Ee,tabPadding:"tw-py-2 tw-px-2",className:"tw-my-3 tw-border-t-0 tw-border-r-0 tw-border-l-0 tw-border-b tw-border-solid tw-border-substack-detail",useSubstackTheme:!0}),ie&&Object(e.h)(e.Fragment,null,Object(e.h)("label",{for:"label",className:"tw-invisible tw-block tw-h-0"},"Title (optional)"),Object(e.h)("input",{onChange:$e=>oe($e.target.value),type:"text",name:"label",placeholder:"Title (optional)",className:"tw-mt-4 tw-box-border tw-w-full tw-rounded tw-border tw-border-solid tw-border-pub-detail tw-p-2 tw-text-sm"})),Ee===j.File&&(ee?Object(e.h)(l.a,{feature:y,ref:z,isModal:!0,mediaType:"audio",initialFile:ee,pub:F,postId:G,setPostId:se,onChange:({mediaUpload:$e})=>{Q($e)},showClose:!1,isPodcast:!1,renderUploadProcess:s.UploadProcess,renderTranscodingProcess:s.TranscodingProcess,onError:Ge}):Object(e.h)(W.a,{onFileSelected:te,dragCTA:"Drag audio file here",pickEvent:T.a.AUDIO_MODAL_BROWSE_FILES_CLICKED,dropEvent:T.a.AUDIO_MODAL_DROPPED_FILE,acceptableTypes:_.b,className:k.fileUpload})),Ee===j.Record&&Object(e.h)(l.a,{feature:y,ref:z,audioRecorderRef:V,isModal:!0,mediaType:"audio",pub:F,postId:G,setPostId:se,onChange:({mediaUpload:$e})=>{Q($e)},showClose:!1,isPodcast:!1,renderUploadProcess:s.UploadProcess,renderTranscodingProcess:s.TranscodingProcess,renderRecordProcess:s.RecordProcess,onRecorderStarted:()=>{re(!0),fe(!0)},onRecorderStopped:()=>re(!1),onError:Ge})),Object(e.h)(n,D({includeDivider:!0,primaryButton:Object(e.h)(w.a,{variant:"themed-primary",onClick:()=>{Object(T.i)(T.a.AUDIO_MODAL_INSERT_CLICKED),x(X,ge,le),Ge()},disabled:(le==null?void 0:le.state)!=="transcoded"},"Insert"),secondaryButton:Object(e.h)(w.a,{variant:"secondary",onClick:we,disabled:ne},"Cancel")},Ee===j.Record&&le&&{destructiveButton:Object(e.h)(w.a,{leftIcon:Object(e.h)(u.a,{size:18}),onClick:()=>{Object(T.i)(T.a.AUDIO_MODAL_START_OVER_CLICKED),Q(null),re(!1),fe(!1),z.current.setState({mediaUploadId:null,mediaUpload:null})},look:"borderless",variant:"tertiary",noPadding:!0},"Start over")})))}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PlusIcon",svgParams:{height:14,width:14,fill:"#757575"}}),Object(e.h)("path",{d:"M7 0V7M7 14V7M7 7H14H0"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"TwitterIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(614),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),Object(e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));i.default=m},function(S,i,t){var e=t(446),o=t(491),l=t(149),s=t(61),h=t(497);function c(d){return typeof d=="function"?d:d==null?l:typeof d=="object"?s(d)?o(d[0],d[1]):e(d):h(d)}S.exports=c},function(S,i,t){var e=t(448),o=t(449),l=t(450),s=t(451),h=t(452);function c(d){var p=-1,f=d==null?0:d.length;for(this.clear();++p<f;){var O=d[p];this.set(O[0],O[1])}}c.prototype.clear=e,c.prototype.delete=o,c.prototype.get=l,c.prototype.has=s,c.prototype.set=h,S.exports=c},function(S,i,t){var e=t(181);function o(l,s){for(var h=l.length;h--;)if(e(l[h][0],s))return h;return-1}S.exports=o},function(S,i,t){var e=t(106),o=e(Object,"create");S.exports=o},function(S,i,t){var e=t(472);function o(l,s){var h=l.__data__;return e(s)?h[typeof s=="string"?"string":"hash"]:h.map}S.exports=o},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PodcastIcon",svgParams:{height:19,width:19}}),Object(e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return e}),t.d(i,"b",function(){return o});const e={ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_EDUCATION_MODAL_CLICKED_THROUGH:"Audio Education Modal Clicked Through",AUDIO_EDUCATION_MODAL_DISMISSED:"Audio Education Modal Dismissed",AUDIO_EDUCATION_MODAL_SHOWN:"Audio Education Modal Shown",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",BUNDLE_SUBSCRIBED:"Bundle Subscribed",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_DATA_FETCHED:"Inbox Data Fetched",INBOX_INITIAL_DATA_LOADED:"Inbox Initial Data Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INBOX_POST_REACTION:"Inbox Post Reaction",INBOX_SIDEBAR_HIDDEN:"Inbox Sidebar Hidden",INBOX_SIDEBAR_TOGGLED:"Inbox Sidebar Toggled",INBOX_SIDEBAR_VIEWED:"Inbox Sidebar Viewed",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",IOS_APP_BANNER_DISMISSED:"Ios App Banner Dismissed",IOS_APP_BANNER_TAPPED:"Ios App Banner Tapped",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",PAGES:"Pages",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_SAVED:"Post Saved",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_VISITED:"Publication Visited",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",REVUE_IMPORT_FORM_ERROR:"Revue Import Form Error",REVUE_IMPORT_FORM_INPUT_FILLED:"Revue Import Form Input Filled",REVUE_IMPORT_FORM_SUBMIT_PRESSED:"Revue Import Form Submit Pressed",SAVED_POST_CLICKED:"Saved Post Clicked",SECRET_LINK_COPIED:"Secret Link Copied",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETUP_SECURITY_QUESTIONS_BANNER_CLICKED:"Setup Security Questions Banner Clicked",SETUP_SECURITY_QUESTIONS_BANNER_DISMISSED:"Setup Security Questions Banner Dismissed",SETUP_SECURITY_QUESTIONS_BANNER_SHOWN:"Setup Security Questions Banner Shown",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited"},o={ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},function(S,i,t){"use strict";t.d(i,"a",function(){return g});function e(M){for(var R=0,D,U=0,L=M.length;L>=4;++U,L-=4)D=M.charCodeAt(U)&255|(M.charCodeAt(++U)&255)<<8|(M.charCodeAt(++U)&255)<<16|(M.charCodeAt(++U)&255)<<24,D=(D&65535)*1540483477+((D>>>16)*59797<<16),D^=D>>>24,R=(D&65535)*1540483477+((D>>>16)*59797<<16)^(R&65535)*1540483477+((R>>>16)*59797<<16);switch(L){case 3:R^=(M.charCodeAt(U+2)&255)<<16;case 2:R^=(M.charCodeAt(U+1)&255)<<8;case 1:R^=M.charCodeAt(U)&255,R=(R&65535)*1540483477+((R>>>16)*59797<<16)}return R^=R>>>13,R=(R&65535)*1540483477+((R>>>16)*59797<<16),((R^R>>>15)>>>0).toString(36)}var o=e,l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s=l;function h(M){var R={};return function(D){return R[D]===void 0&&(R[D]=M(D)),R[D]}}var c=h,d=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,p="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",f=/[A-Z]|^ms/g,O=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b=function(R){return R.charCodeAt(1)===45},m=function(R){return R!=null&&typeof R!="boolean"},a=c(function(M){return b(M)?M:M.replace(f,"-$&").toLowerCase()}),n=function(R,D){switch(R){case"animation":case"animationName":if(typeof D=="string")return D.replace(O,function(U,L,j){return H={name:L,styles:j,next:H},L})}return s[R]!==1&&!b(R)&&typeof D=="number"&&D!==0?D+"px":D};if(!1)var r,u,v,E,w,C;var _=!0;function T(M,R,D,U){if(D==null)return"";if(D.__emotion_styles!==void 0)return D;switch(typeof D){case"boolean":return"";case"object":{if(D.anim===1)return H={name:D.name,styles:D.styles,next:H},D.name;if(D.styles!==void 0){var L=D.next;if(L!==void 0)for(;L!==void 0;)H={name:L.name,styles:L.styles,next:H},L=L.next;var j=D.styles+";";return j}return W(M,R,D)}case"function":{if(M!==void 0){var B=H,x=D(M);return H=B,T(M,R,x,U)}break}case"string":if(!1)var P,y;break}if(R==null)return D;var A=R[D];return A!==void 0&&!U?A:D}function W(M,R,D){var U="";if(Array.isArray(D))for(var L=0;L<D.length;L++)U+=T(M,R,D[L],!1);else for(var j in D){var B=D[j];if(typeof B!="object")R!=null&&R[B]!==void 0?U+=j+"{"+R[B]+"}":m(B)&&(U+=a(j)+":"+n(j,B)+";");else if(Array.isArray(B)&&typeof B[0]=="string"&&(R==null||R[B[0]]===void 0))for(var x=0;x<B.length;x++)m(B[x])&&(U+=a(j)+":"+n(j,B[x])+";");else{var P=T(M,R,B,!1);switch(j){case"animation":case"animationName":{U+=a(j)+":"+P+";";break}default:U+=j+"{"+P+"}"}}}return U}var k=/label:\s*([^\s;\n{]+)\s*;/g,$,H,g=function(R,D,U){if(R.length===1&&typeof R[0]=="object"&&R[0]!==null&&R[0].styles!==void 0)return R[0];var L=!0,j="";H=void 0;var B=R[0];B==null||B.raw===void 0?(L=!1,j+=T(U,D,B,!1)):j+=B[0];for(var x=1;x<R.length;x++)j+=T(U,D,R[x],j.charCodeAt(j.length-1)===46),L&&(j+=B[x]);var P;k.lastIndex=0;for(var y="",A;(A=k.exec(j))!==null;)y+="-"+A[1];var K=o(j)+y;return{name:K,styles:j,next:H}}},function(S,i,t){"use strict";t.d(i,"c",function(){return g}),t.d(i,"b",function(){return j}),t.d(i,"a",function(){return B});var e=t(0),o=t(2),l=t(35),s=t(187),h=t(13),c=t(11),d=t(216),p=t(3),f=t.n(p),O=t(22),b=t(7),m=t.n(b),a=t(59),n=t(75),r=t(126),u=t(16),v=t(6),E=t.n(v),w=t(70),C=t(89),_=Object.defineProperty,T=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,$=(x,P,y)=>P in x?_(x,P,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[P]=y,H=(x,P)=>{for(var y in P||(P={}))W.call(P,y)&&$(x,y,P[y]);if(T)for(var y of T(P))k.call(P,y)&&$(x,y,P[y]);return x};function g({publication_id:x,preferPlacement:P,possiblePlacements:y}){const A=Object(a.c)(),K=Object(o.j)(!1),[N,Y]=Object(C.b)({delayEnter:300,delayLeave:150,hideOnScroll:!0}),{triggerProps:F,layerProps:G,renderLayer:X}=Object(C.c)({isOpen:N,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:y||["top-center","bottom-start","left-center","right-center"],placement:P||"bottom-start",triggerOffset:4}),{isLoading:q,result:se,refetch:ie}=Object(O.g)({pathname:`/api/v1/publication/public/${x}`,auto:!1,deps:[x]});Object(o.d)(()=>{N&&!K.current&&(K.current=!0,ie())},[N,ie]);let Ee=se==null?void 0:se.pub.contributors,Ie=null;return Ee&&Ee.length>3&&(Ie=`See all (${Object(b.numberToString)(Ee.length)})`,Ee=Ee.slice(0,3)),{triggerProps:F,hoverProps:Y,hoverCard:N&&X(Object(e.h)("div",H(H({className:E()(w.a.hoverBase,w.a.publicationHover)},G),Y),q||!se?Object(e.h)(L,null):Object(e.h)(M,{result:se,user:A,contributorList:Ee,seeAllLabel:Ie})))}}function M({result:x,user:P,contributorList:y,seeAllLabel:A}){return Object(e.h)(c.b,null,Object(e.h)(c.c,{padding:8},Object(e.h)("a",{href:x.pub.base_url},Object(e.h)(n.a,{pub:x.pub,size:56}))),Object(e.h)(c.b,{padding:8,gap:6},Object(e.h)(j,{title:x.pub.name,blurb:x.pub.hero_text,url:x.pub.base_url}),x.pub.rankingDetail&&Object(e.h)(h.b,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},x.pub.rankingDetail.toUpperCase())),Object(e.h)(c.b,{padding:8},Object(e.h)(R,{isContr:x.isContributor,isSubs:x.isSubscribed,pub:x.pub,user:P,dashboardUrl:x.pub.base_url})),Object(e.h)(c.c,{padding:8},Object(e.h)("div",{className:w.a.hoverDivider})),Object(e.h)(c.b,null,Object(e.h)(D,{contributors:y,seeAllLabel:A,redirLink:x.pub.base_url})))}function R({isContr:x,isSubs:P,pub:y,user:A,dashboardUrl:K}){const N=Object(p.getProfileSetupUrl)(),Y=Object(d.i)("profile");return Object(e.h)(c.b,null,x?Object(e.h)(e.Fragment,null,Object(e.h)(l.a,{priority:"secondary",fill:"outline",href:`${K}/publish`},"Dashboard")):P?Object(e.h)(l.a,{priority:"secondary",fill:"outline",href:Object(p.getSubscribeUrl)(y,{user:A,addBase:!0,utm_source:"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:Object(e.h)(s.a,null)},"Subscribed"):Object(e.h)(l.a,{priority:"primary",href:Object(p.getSubscribeUrl)(y,{user:A,addBase:!0,utm_source:"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:Y(y)},"Subscribe"))}function D({contributors:x,seeAllLabel:P,redirLink:y}){return Object(e.h)(c.b,null,Object(e.h)(B,{sectionTitle:"Written by",seeAllLabel:P,link:`${y}/about?sort=people`}),Object(e.h)(c.b,null,x.map(A=>Object(e.h)(U,{profile:A}))))}function U({profile:x}){return Object(e.h)("a",{href:Object(p.getProfileUrlById)(x.user_id,x.name),className:w.a.hoverAvatar},Object(e.h)(r.a,{user:x,size:32}),Object(e.h)(h.b,{font:"text",weight:"semibold",size:14,lineHeight:20},x.name))}function L(){return Object(e.h)(c.b,{padding:8,gap:8},Object(e.h)(u.A,{size:56,style:{borderRadius:4}}),Object(e.h)(u.A,{type:"bar",width:"100%",height:20}),Object(e.h)(u.A,{type:"bar",width:"20%",height:20}),Object(e.h)(u.A,{type:"bar",width:"60%",height:20}))}function j({title:x,blurb:P,url:y,themed:A}){return Object(e.h)(e.Fragment,null,Object(e.h)("a",{style:{textDecoration:"none"},href:y},Object(e.h)(h.b,{color:A?"pub-primary-text":"primary",weight:"extrabold",font:"display",className:w.a.hoverTitle,size:24,lineHeight:30},x)),Object(e.h)("div",{className:w.a.hoverClamp},Object(e.h)(h.b,{font:"text",color:A?"pub-secondary-text":"secondary",size:16,lineHeight:24,weight:"normal"},P)))}function B({sectionTitle:x,seeAllLabel:P,link:y}){return Object(e.h)(c.c,{padding:8,justifyContent:"space-between"},Object(e.h)(h.b,{font:"text",color:"primary",weight:"extrabold",size:16,lineHeight:20},x),P&&Object(e.h)("a",{className:w.a.hoverSeeAll,href:y},Object(e.h)(h.b,{font:"text",color:"secondary",size:14,weight:"semibold",lineHeight:20},P)))}},function(S,i,t){"use strict";var e=t(0),o=t(79),l=t(8),s=t.n(l),h=t(299),c=t(6),d=t.n(c),p=Object.defineProperty,f=Object.defineProperties,O=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(C,_,T)=>_ in C?p(C,_,{enumerable:!0,configurable:!0,writable:!0,value:T}):C[_]=T,r=(C,_)=>{for(var T in _||(_={}))m.call(_,T)&&n(C,T,_[T]);if(b)for(var T of b(_))a.call(_,T)&&n(C,T,_[T]);return C},u=(C,_)=>f(C,O(_)),v=(C,_)=>{var T={};for(var W in C)m.call(C,W)&&_.indexOf(W)<0&&(T[W]=C[W]);if(C!=null&&b)for(var W of b(C))_.indexOf(W)<0&&a.call(C,W)&&(T[W]=C[W]);return T};const E=()=>null,w=C=>{var _=C,{variant:T="default",isSearchable:W=!1,className:k}=_,$=v(_,["variant","isSearchable","className"]),H,g;const{pub:M}=Object(o.b)();return Object(e.h)(h.a,u(r({},$),{isDisabled:$.isDisabled,className:d()("themed-select",k),components:r({IndicatorSeparator:E},$.components),theme:Object(l.getSelectTheme)(((H=M.theme)==null?void 0:H.background_pop_color)||M.theme_var_background_pop||"#1a1a1a",T==="light"?"white":(g=M.theme)==null?void 0:g.web_bg_color),isSearchable:W,styles:r(r({container:R=>u(r({},R),{flex:1}),dropdownIndicator:R=>u(r({},R),{color:"#1a1a1a"})},$.showOnlyIndicator&&{valueContainer:R=>u(r({},R),{width:0,padding:0})}),$.styles)}))};i.a=w},function(S,i,t){"use strict";const{AbortController:e,AbortSignal:o}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;S.exports=e,S.exports.AbortSignal=o,S.exports.default=e},,,function(S,i,t){var e=t(254),o=t(198);function l(s){return s!=null&&o(s.length)&&!e(s)}S.exports=l},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>{const n=100;return Object(e.h)(o.a,b(O({},a),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),Object(e.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:n/2-4,strokeWidth:"8"}),Object(e.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))};i.default=m},,,,function(S,i,t){var e=t(350),o=t(365),l=t(170);function s(h){return l(h)?e(h):o(h)}S.exports=s},function(S,i,t){"use strict";t.d(i,"b",function(){return a}),t.d(i,"a",function(){return r});var e=t(0),o=t(2),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(u,v,E)=>v in u?l(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,p=(u,v)=>{for(var E in v||(v={}))h.call(v,E)&&d(u,E,v[E]);if(s)for(var E of s(v))c.call(v,E)&&d(u,E,v[E]);return u},f;const O=typeof window!="undefined"?(f=window._preloads)==null?void 0:f.publicationSettings:{},b=u=>({getSettingFor:E=>{if(!E||!u)return null;const w=u[E];return w===void 0?null:w}}),m=Object(e.createContext)(b(O));m.displayName="PublicationSettingsContext";const a=u=>{const v=E=>{const w=r();return Object(e.h)(u,p(p({},w),E))};return v.displayName=`withPubSettingsContext(${u.name||u.displayName||"Anonymous"})`,v};function n({settings:u={},children:v}){const E=Object(o.h)(()=>b(u),[u]);return Object(e.h)(m.Provider,{value:E},v)}function r(){return Object(o.b)(m)}},function(S,i,t){var e=t(680),o=t(149);function l(s){return s&&s.length?e(s,o):0}S.exports=l},function(S,i,t){(function(e){var o=c(),l=d(),s=p(),h=typeof window!="undefined"?window:e;S.exports={assign:o,create:l,trim:s,bind:f,slice:O,each:b,map:m,pluck:a,isList:n,isFunction:r,isObject:u,Global:h};function c(){return Object.assign?Object.assign:function(E,w,C,_){for(var T=1;T<arguments.length;T++)b(Object(arguments[T]),function(W,k){E[k]=W});return E}}function d(){if(Object.create)return function(w,C,_,T){var W=O(arguments,1);return o.apply(this,[Object.create(w)].concat(W))};{let E=function(){};var v=E;return function(C,_,T,W){var k=O(arguments,1);return E.prototype=C,o.apply(this,[new E].concat(k))}}}function p(){return String.prototype.trim?function(E){return String.prototype.trim.call(E)}:function(E){return E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function f(v,E){return function(){return E.apply(v,Array.prototype.slice.call(arguments,0))}}function O(v,E){return Array.prototype.slice.call(v,E||0)}function b(v,E){a(v,function(w,C){return E(w,C),!1})}function m(v,E){var w=n(v)?[]:{};return a(v,function(C,_){return w[_]=E(C,_),!1}),w}function a(v,E){if(n(v)){for(var w=0;w<v.length;w++)if(E(v[w],w))return v[w]}else for(var C in v)if(v.hasOwnProperty(C)&&E(v[C],C))return v[C]}function n(v){return v!=null&&typeof v!="function"&&typeof v.length=="number"}function r(v){return v&&{}.toString.call(v)==="[object Function]"}function u(v){return v&&{}.toString.call(v)==="[object Object]"}}).call(this,t(114))},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}));i.default=m},function(S,i){var t=S.exports={},e,o;function l(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=l}catch(r){e=l}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch(r){o=s}})();function h(r){if(e===setTimeout)return setTimeout(r,0);if((e===l||!e)&&setTimeout)return e=setTimeout,setTimeout(r,0);try{return e(r,0)}catch(u){try{return e.call(null,r,0)}catch(v){return e.call(this,r,0)}}}function c(r){if(o===clearTimeout)return clearTimeout(r);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(r);try{return o(r)}catch(u){try{return o.call(null,r)}catch(v){return o.call(this,r)}}}var d=[],p=!1,f,O=-1;function b(){!p||!f||(p=!1,f.length?d=f.concat(d):O=-1,d.length&&m())}function m(){if(!p){var r=h(b);p=!0;for(var u=d.length;u;){for(f=d,d=[];++O<u;)f&&f[O].run();O=-1,u=d.length}f=null,p=!1,c(r)}}t.nextTick=function(r){var u=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)u[v-1]=arguments[v];d.push(new a(r,u)),d.length===1&&!p&&h(m)};function a(r,u){this.fun=r,this.array=u}a.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function n(){}t.on=n,t.addListener=n,t.once=n,t.off=n,t.removeListener=n,t.removeAllListeners=n,t.emit=n,t.prependListener=n,t.prependOnceListener=n,t.listeners=function(r){return[]},t.binding=function(r){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(r){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(S,i){function t(e,o){return e===o||e!==e&&o!==o}S.exports=t},function(S,i,t){"use strict";t.d(i,"b",function(){return W}),t.d(i,"a",function(){return k});var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(7),c=t.n(h),d=t(3),p=t.n(d),f=t(8),O=t.n(f),b=t(5),m=t(136),a=t(395),n=t(43),r=t(36),u=t(30),v=t(340),E=t.n(v),w=Object.defineProperty,C=($,H,g)=>H in $?w($,H,{enumerable:!0,configurable:!0,writable:!0,value:g}):$[H]=g,_=($,H,g)=>(C($,typeof H!="symbol"?H+"":H,g),g),T=($,H,g)=>new Promise((M,R)=>{var D=j=>{try{L(g.next(j))}catch(B){R(B)}},U=j=>{try{L(g.throw(j))}catch(B){R(B)}},L=j=>j.done?M(j.value):Promise.resolve(j.value).then(D,U);L((g=g.apply($,H)).next())});class W extends e.Component{constructor(){super(...arguments);_(this,"toggleTopExclusion",H=>Object(f.stateTransaction)(this,(g,M)=>T(this,[g,M],function*(R,{post:D,onChange:U}){if(R.topExcluding)return;this.setState({topExcluding:H.id});const L=D.top_exclusions.includes(H.id),j=`/api/v1/publication/${H.id}/exclusion/${D.id}`;try{L?(yield s.a.del(j),D.top_exclusions.splice(0)):(yield s.a.post(j),D.top_exclusions.splice(0),D.top_exclusions.push(H.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(B){console.error("Failed to exclude post:",B),alert(Object(f.getNetworkErrorMessage)(B));return}finally{this.setState({topExcluding:null})}U&&(yield U({post:D}))}))),_(this,"toggleSectionPin",(H,g)=>Object(f.stateTransaction)(this,(M,R)=>T(this,[M,R],function*(D,{post:U,onChange:L}){if(D.pinning)return;this.setState({sectionPinning:g});const j=`/api/v1/publication/${H.id}/section/${g}/pin/${U.id}`;try{U.is_section_pinned?(yield s.a.del(j),U.is_section_pinned=!1):(yield s.a.post(j),U.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(B){console.error("Failed to pin post:",B),alert(Object(f.getNetworkErrorMessage)(B));return}finally{this.setState({sectionPinning:null})}L&&(yield L({post:U}))}))),_(this,"togglePin",H=>Object(f.stateTransaction)(this,(g,M)=>T(this,[g,M],function*(R,{post:D,onChange:U}){if(R.pinning)return;this.setState({pinning:H.id});const L=D.pins.includes(H.id),j=`/api/v1/publication/${H.id}/pin/${D.id}`;try{L?(yield s.a.del(j),D.pins.splice(D.pins.indexOf(H.id),1)):(yield s.a.post(j),H.multiple_pins||D.pins.splice(0),D.pins.push(H.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(B){console.error("Failed to pin post:",B),alert(Object(f.getNetworkErrorMessage)(B));return}finally{this.setState({pinning:null})}U&&(yield U({post:D}))}))),_(this,"sendEmail",()=>T(this,null,function*(){const{post:H}=this.props,g={everyone:"everyone",only_paid:"paid subscribers",founding:"founding members"}[H.audience];if(!confirm(`Send this published post as an email to ${g}?`))return;const M=`/api/v1/drafts/${H.id}/publish`;try{yield s.a.post(M).send({send:!0,only_send:!0}),location.reload()}catch(R){console.error("Failed to send post:",R),alert(Object(f.getNetworkErrorMessage)(R))}})),_(this,"clearCache",()=>T(this,null,function*(){const{post:H}=this.props;try{yield s.a.put(`/api/v1/posts/${H.id}/clear_cache`),location.reload()}catch(g){console.error("Failed to clear post from cache"),alert(Object(f.getNetworkErrorMessage)(g))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:H,post:g,hidePinning:M,user:R,emailSent:D,allowSendEmail:U,className:L,useDrawerOnMobile:j},{pinning:B,sectionPinning:x,topExcluding:P}){let y=null;return g.section_id&&H.sections&&H.sections.length&&(y=H.sections.find(A=>A.id===g.section_id)),Object(e.h)(n.b,{ref:A=>this.editMenu=A,className:L,useDrawerOnMobile:j},Object(e.h)(r.a,{href:Object(d.getPostUrl)(H,g,{edit:!0}),onClick:E.a},"Edit post"),!M&&g.slug&&[Object(h.isPinnable)(H)&&g.section_id&&(g.section_name||y.name)&&Object(e.h)(r.a,{onClick:()=>this.toggleSectionPin(H,g.section_id)},[g.is_section_pinned^x===g.section_id?"Unpin from":"Pin on",` ${g.section_name||y.name}`]),Object(h.isPinnable)(H)&&Object(e.h)(r.a,{onClick:()=>this.togglePin(H)},[g.pins.includes(H.id)^B===H.id?"Unpin from":"Pin on",H.parent_publication_id||y?` ${H.name}`:" home page"]),H.parent_publication&&Object(h.isPinnable)(H.parent_publication)&&Object(e.h)(r.a,{onClick:()=>this.togglePin(H.parent_publication)},[g.pins.includes(H.parent_publication.id)^B===H.parent_publication.id?"Unpin from":"Pin on",` ${H.parent_publication.name}`])],g.slug&&g.type!=="adhoc_email"&&[Object(e.h)(r.a,{onClick:()=>this.toggleTopExclusion(H)},[g.top_exclusions.includes(H.id)^P===H.id?"Include in":"Exclude from"," Top",H.parent_publication_id&&` for ${H.name}`]),H.parent_publication&&Object(e.h)(r.a,{onClick:()=>this.toggleTopExclusion(H.parent_publication)},[g.top_exclusions.includes(H.parent_publication.id)^P===H.parent_publication.id?"Include in":"Exclude from"," Top",` for ${H.parent_publication.name}`])],!D&&U&&g.is_published&&Object(e.h)(r.a,{onClick:()=>this.sendEmail()},"Send as email"),(R==null?void 0:R.is_global_admin)&&Object(e.h)(r.a,{onClick:()=>this.clearCache()},"Clear post from cache"),Object(e.h)(r.a,{onClick:()=>{window.open(`${Object(d.getPostUrl)(H,g)}/media-assets`)}},"View media assets"))}}function k({pub:$,post:H,iconHeight:g,hidePinning:M,user:R,emailSent:D,allowSendEmail:U,showUpdatedIcons:L,dropdownClassName:j,iconClassName:B}){const x=Object(o.j)();return Object(e.h)(e.Fragment,null,Object(e.h)(r.a,{onClick:()=>{x.current.isOpen()||Object(b.i)(b.a.EDIT_POST_DROPDOWN_MENU_OPENED),x.current.toggle()}},L?Object(e.h)(a.default,{stroke:"#262626",height:g,className:B}):Object(e.h)(m.default,{stroke:"#757575",height:g,className:B})),Object(e.h)(W,{ref:x,pub:$,post:H,hidePinning:M,user:R,emailSent:D,allowSendEmail:U,className:j}))}},function(S,i,t){"use strict";t.d(i,"b",function(){return X}),t.d(i,"c",function(){return Ie}),t.d(i,"a",function(){return ge});var e=t(0),o=t(34),l=t(162),s=t(6),h=t.n(s);const c=()=>Object(e.h)(d,null,Object(e.h)(l.default,{height:10,stroke:"white"}),"Podcast"),d=({children:Q,className:z})=>Object(e.h)("div",{className:h()("pill",z)},Object(e.h)("span",null,Q));var p=d,f=t(373),O=t(3),b=t(8),m=t(202),a=t.n(m),n=t(228),r=t.n(n),u=t(285),v=t.n(u),E=t(142),w=t.n(E),C=t(506),_=t.n(C),T=t(2),W=t(14),k=t.n(W),$=t(10),H=t.n($),g=t(27),M=t(12),R=t(36),D=t(127),U=t(154),L=Object.defineProperty,j=Object.defineProperties,B=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,A=(Q,z,V)=>z in Q?L(Q,z,{enumerable:!0,configurable:!0,writable:!0,value:V}):Q[z]=V,K=(Q,z)=>{for(var V in z||(z={}))P.call(z,V)&&A(Q,V,z[V]);if(x)for(var V of x(z))y.call(z,V)&&A(Q,V,z[V]);return Q},N=(Q,z)=>j(Q,B(z)),Y=(Q,z,V)=>new Promise((ne,re)=>{var de=Ge=>{try{we(V.next(Ge))}catch($e){re($e)}},fe=Ge=>{try{we(V.throw(Ge))}catch($e){re($e)}},we=Ge=>Ge.done?ne(Ge.value):Promise.resolve(Ge.value).then(de,fe);we((V=V.apply(Q,z)).next())});const F=({onClick:Q,checked:z})=>Object(e.h)("div",{className:"select-all"},Object(e.h)("input",{name:"all",type:"checkbox",onInput:Q,checked:z}),Object(e.h)("label",{for:"all",onClick:Q},"Select ",z?"none":"all")),G=({disabled:Q,onClick:z,children:V})=>Object(e.h)(M.b,{type:"submit",className:"primary xl",disabled:Q,onClick:z},V),X=({isStatic:Q=!1,extraProps:z={},linkType:V=null,discoverable:ne=null,text:re,icon:de=!0,onClick:fe=null})=>{const we={};V!==null&&(we.type=V),ne!==null&&(we.discoverable=ne);const Ge=Object(O.getFindTwitterPubsUrl)(we);return Object(e.h)("div",K({className:"twitter-discover"},z),Object(e.h)("a",N(K({className:"twitter-link",href:Ge},fe&&{onClick:fe}),{native:!0}),Object(e.h)("div",{className:"inner"},de&&Object(e.h)(U.default,{stroke:"white",fill:"white",isStatic:Q}),Object(e.h)("span",{className:"twitter-link-text"},re||"Find writers I follow"))))},q=({pub:Q,checked:z,onToggle:V,isSubscribed:ne,author:re,screenName:de})=>Object(e.h)("li",{className:"linked-pub"},Object(e.h)("div",{className:"linked-pub"},Object(e.h)("div",{className:"photo"},Object(e.h)("div",{className:"subscribed-status"},Object(e.h)("input",{type:"checkbox",checked:z||ne,disabled:ne,onInput:()=>V(Q.id)})),Object(e.h)(D.b,{size:60,photo_url:re.photo_url}),Object(e.h)("div",{className:"twitter-handle"},Object(e.h)("span",{className:"author"},re==null?void 0:re.name),Object(e.h)("span",{className:"handle"}," @",de))),Object(e.h)("div",{className:"info"},Object(e.h)("div",{className:"publication-row"},Object(e.h)("a",{className:"publication",href:Object(O.updateQuery)(`${Object(O.getBaseUrl)(Q)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},Object(e.h)(f.b,{publication:Q,logo_size:30},ne?Object(e.h)("div",{className:"subscribed"},Object(e.h)(p,null,"Subscribed")):null)))))),se=({result:Q,selectedPubs:z,onToggle:V})=>{var ne;const{publicationAuthor:re,screen_name:de,publication_id:fe}=Q,{name:we,ownedPublications:Ge}=re,$e=r()(Ge,Rt=>Rt.id),it=w()($e,Rt=>Rt.latestPost[0]?k()(Rt.latestPost[0].post_date).toDate():k.a.unix(1).toDate()).reverse(),st=re.photo_url||((ne=Ge.find(Rt=>Rt.id===fe))==null?void 0:ne.logo_url);return it.map(Rt=>{const Ht=Rt.subscriptions.length;return Object(e.h)(q,{author:re,screenName:de,authorName:we,showLogo:st!==re.photo_url,pub:Rt,checked:z.has(Rt.id),onToggle:V,isSubscribed:Ht})})},ie=({user:Q,freeSignupEmail:z,twitterEmail:V,twitterToken:ne,onConfirmed:re,onSubscribed:de,formAction:fe,pubIds:we,subscribeToken:Ge,redirect:$e,showDiscover:it,editable:st,showLogout:Rt})=>{const Ht=(Q==null?void 0:Q.email)||z||V,[je,Oe]=Object(T.k)(!1),[be,he]=Object(T.k)(!0),[Ce,De]=Object(T.k)(Ht);we?$e=Object(O.updateQuery)($e,{pubIds:we,t:ne}):$e=Object(O.updateQuery)($e,{t:ne,d:be});const Se=Le=>{const{userExists:tt,subscribed:Xe}=Le.body;Xe?de(Xe):tt?tt&&(window.location.href=Object(O.pathWithQuery)(`${Object(O.getSubstackUrl)()}/sign-in`,{with_password:!1,email:Ce,redirect:$e})):re()};return Object(e.h)("div",{className:"twitter-publications container"},Object(e.h)("section",null,Object(e.h)("div",{className:"terms-check"},Object(e.h)(g.g,{onSuccess:Le=>Se(Le),method:"post",action:fe,loading:!1,autoLock:!0},Object(e.h)("input",{name:"t",type:"hidden",value:ne}),we&&Object(e.h)("input",{name:"pubIds",type:"hidden",value:we}),Ge&&Object(e.h)("input",{name:"subscribeToken",type:"hidden",value:Ge}),Object(e.h)("input",{name:"email",type:"text",disabled:!st&&Ht,value:Ce,onInput:Le=>De(Le.target.value)}),Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:je,onInput:()=>Oe(!je)}),"I accept the"," ",Object(e.h)("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),it&&Object(e.h)("label",null,Object(e.h)("input",{name:"allow_discover",type:"checkbox",checked:be,onInput:()=>he(!je)}),"Allow people to find my publications via Twitter"),Rt&&Object(e.h)("label",null,Object(e.h)("a",{className:"login-button",href:Object(O.getSignoutUrl)(),native:!0},"Not you?")),Object(e.h)(G,{disabled:!je},"Next \u2192")))))},Ee=()=>Object(e.h)("div",{className:"twitter-publications container landing"},Object(e.h)("h2",null,"Thousands of writers and readers are already on Substack"),Object(e.h)("section",null,Object(e.h)("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",Object(e.h)("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),Object(e.h)("div",{className:"banner"},Object(e.h)(X,null)))),Ie=({user:Q,stage:z,twitterEmail:V,freeSignupEmail:ne,twitterToken:re})=>!re&&!Q||z=="connect"?Object(e.h)(Ee,null):Object(e.h)(ge,K({},{user:Q,stage:z,twitterEmail:V,freeSignupEmail:ne,twitterToken:re})),ge=({user:Q,stage:z,twitterEmail:V,freeSignupEmail:ne,twitterToken:re,buttonText:de=null,onSignup:fe=null,requireSignup:we=!0,needsEmailConfirm:Ge=!0,renderIfNoneFound:$e=null,useProfilePrefix:it=!1})=>{const[st,Rt]=Object(T.k)(null),[Ht,je]=Object(T.k)(null),[Oe,be]=Object(T.k)(null),[he,Ce]=Object(T.k)(null),[De,Se]=Object(T.k)(!Ge),[Le,tt]=Object(T.k)(null),[Xe,Et]=Object(T.k)(!1),[Qe,rt]=Object(T.k)(new Set),[ke,jt]=Object(T.k)(null),Nt=Object(O.getQueryItem)("subscribed"),rn=it?"/profile":"";Nt?fe?fe():(be(Nt.split(",")),Object(o.route)("/discover-twitter/success")):z&&z!=="connect"&&!st&&!Oe&&Object(o.route)("/discover-twitter");const sn=We=>{const lt=new Set(Qe);Qe.has(We)?lt.delete(We):lt.add(We),rt(lt)},dt=We=>v()(We.map(lt=>{var Ae;return((Ae=lt.publicationAuthor)==null?void 0:Ae.ownedPublications)||[]}));Object(T.d)(()=>Y(void 0,null,function*(){if(!Xe){Et(!0);try{const We=yield H.a.get("/api/v1/twitter/publications"),{results:lt,subscribeToken:Ae,needsConnect:Ve,needsTwitterConfirm:at}=We.body;if(Ve)Object(o.route)("/discover-twitter/connect");else{const ot=dt(lt),vt=new Set(ot.filter(Mt=>Mt.subscriptions.length===0).map(Mt=>Mt.id));let Ct;vt.size<=30?Ct=new Set(vt):Ct=new Set,Rt(lt),tt(!1),jt(Ae),je(vt),rt(Ct),Ce(!at)}}catch(We){tt(We)}Et(!1)}}),[]);let mt;st&&(st.length>0?he?mt=`We found ${st.length} account${st.length>1?"s":""} you follow on Twitter`:mt=`Confirm your email to see ${st.length} account${st.length>1?"s":""} you follow on Twitter`:he||(mt="Confirm your email to continue")),z==="confirm"&&(mt="Confirm your email"),Oe&&(mt="Success!");const gt=st?dt(st):null,ze=()=>{Se(!0),Ce(!0)},ue=()=>Y(void 0,null,function*(){Et(!0);try{const We=yield H.a.post("/api/v1/twitter/subscribe").send({pubIds:[...Qe].join(","),t:re,subscribeToken:ke});if(fe)fe();else{const{subscribed:lt}=We.body;be(lt),Object(o.route)("/discover-twitter/success")}}catch(We){console.error("error subscribing",We)}Et(!1)}),bt=We=>{be(We),Object(o.route)("/discover-twitter/success")},wt=We=>{let lt;We?lt=new Set(Ht):lt=new Set,rt(lt)},It=()=>{!Ge||De?ue():Object(o.route)("/discover-twitter/confirm")};return Object(e.h)("div",{className:"twitter-publications pub-list"},Object(e.h)("h2",{className:z},mt),Xe&&Object(e.h)("p",{className:"loading"},"Loading..."),Le&&Object(e.h)(e.Fragment,null,Object(e.h)("p",{className:"error"},"Sorry, there was an error getting your results!"),Object(e.h)("p",{className:"error"},Object(b.getNetworkErrorMessage)(Le)),Object(e.h)("div",{className:"banner"},Object(e.h)(X,null))),Object(e.h)(o.default,null,st&&!Oe&&he&&!Xe&&Object(e.h)(le,{path:`${rn}/discover-twitter`,results:st,selectedPubs:Qe,subscribablePubs:Ht,onToggleChecked:sn,onToggleAll:wt,onNext:It,loading:Xe,buttonText:de,requireSignup:we,renderIfNoneFound:$e}),he==!1&&Object(e.h)(ie,{path:`${rn}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:Q,onConfirmed:ze,twitterEmail:V,twitterToken:re,freeSignupEmail:ne,pubIds:[...Qe],showDiscover:!0}),!De&&Object(e.h)(ie,{path:`${rn}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:Q,onSubscribed:bt,twitterEmail:V,twitterToken:re,freeSignupEmail:ne,pubIds:[...Qe],subscribeToken:ke,editable:!1,showLogout:!0}),st&&Oe&&Object(e.h)(ee,{path:`${rn}/discover-twitter/success`,user:Q,subscribed:Oe,pubs:gt,results:st})))},oe=({pub:Q,result:z})=>{const{hero_text:V,stripeAccount:ne,logo_url:re}=Q,{screen_name:de,publicationAuthor:{name:fe,photo_url:we}}=z,Ge=ne==null?void 0:ne.plans;return Object(e.h)("li",{className:"linked-pub subscribed"},Object(e.h)("div",{className:"linked-pub"},Object(e.h)("div",{className:"photo"},Object(e.h)(D.b,{size:60,photo_url:re||we})),Object(e.h)("div",{className:"info"},Object(e.h)("div",{className:"publication-row"},Object(e.h)("div",{className:"publication"},Object(e.h)("div",{className:"name"},"@",de," - ",fe),Object(e.h)("div",{className:"description"},V)),Object(e.h)("div",null,Ge&&Object(e.h)(R.a,{className:"outline small button",href:`${Object(O.getBaseUrl)(Q)}/subscribe`,target:"_blank"},"Upgrade"))))))},ee=({subscribed:Q,pubs:z,results:V})=>{const ne=r()(z.filter(Ge=>Q.find($e=>$e===Ge.subdomain)),Ge=>Ge.id),[re,de]=a()(ne,Ge=>{var $e;return($e=Ge.stripeAccount)==null?void 0:$e.plans}),fe=[...re,...de].length>1,we=re.length>1;return Object(e.h)("ul",null,Object(e.h)("div",{className:"sign-up"},re.length>0?Object(e.h)(e.Fragment,null,we?`${re.length} of the newsletters`:fe?"One of the newsletters":"The newsletter"," ","you subscribed to ",we?"have":"has"," a paid version. You can upgrade"," ",we?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${fe?"these newsletters":"this newsletter"}.  Happy reading!`),[...re,...de].map(Ge=>{const $e=V.find(it=>it.screen_name===Ge.twitterAccount.screen_name);return $e?Object(e.h)(oe,{pub:Ge,result:$e}):null}))},te=({onNext:Q})=>Object(e.h)("div",null,Object(e.h)("ul",null,Object(e.h)("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),Object(e.h)(R.a,{className:"primary button",onClick:()=>{Q()}},"Continue"))),le=({results:Q,selectedPubs:z,onNext:V,onToggleChecked:ne,onToggleAll:re,subscribablePubs:de,loading:fe,buttonText:we,requireSignup:Ge,renderIfNoneFound:$e})=>{if(Q.length===0)return $e||Object(e.h)(te,{onNext:V});const it=w()(Q,he=>{var Ce;let De;return he.publicationAuthor.ownedPublications?De=_()(he.publicationAuthor.ownedPublications,Se=>Se.latestPost[0]?k()(Se.latestPost[0].post_date).toDate():null):De=null,(De==null?void 0:De.latestPost[0])?k()((Ce=De.latestPost[0])==null?void 0:Ce.post_date).toDate():k.a.unix(1).toDate()}).reverse(),[st,Rt]=a()(it,he=>(he.publicationAuthor.ownedPublications||[]).some(Ce=>Ce.subscriptions.length===0)),Ht=de.size===z.size,je=()=>{re(!Ht)},Oe=(!Ge||z.size>0)&&!fe,be=!Ge||de.size>0?Object(e.h)(G,{onClick:V,disabled:!Oe},we?(z.size>0?"Subscribe and ":"")+we:"Sign up \u2192"):null;return Object(e.h)("div",null,Object(e.h)("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),Object(e.h)("ul",null,(!Ge||de.size>0)&&Object(e.h)(e.Fragment,null,(de.size>3||!Ge)&&be,Object(e.h)("li",null,de.size<30&&Object(e.h)(F,{checked:Ht,onClick:je}))),[...st,...Rt].map(he=>Object(e.h)(se,{result:he,selectedPubs:z,onToggle:ne})),be))}},function(S,i,t){"use strict";var e=t(0),o=t(2),l=t(124),s=t(43);const h=({children:c,content:d,baseRef:p=void 0,portalClass:f="",className:O="",style:b=void 0})=>{const m=Object(o.j)(null),a=Object(o.j)(null);return d?Object(e.h)("div",{ref:m,className:O,style:b},c,Object(e.h)(l.a,{baseRef:p||m,hoverToggle:!0,onOpen:()=>{var n;return(n=a.current)==null?void 0:n.open()},onClose:()=>{var n;return(n=a.current)==null?void 0:n.close()},className:f},Object(e.h)(s.a,{ref:a,noList:!0,className:"explanation"},d))):c};i.a=h},function(S,i,t){"use strict";t.d(i,"b",function(){return k}),t.d(i,"f",function(){return M}),t.d(i,"e",function(){return R}),t.d(i,"d",function(){return D}),t.d(i,"c",function(){return U}),t.d(i,"a",function(){return j});var e=t(276),o=t.n(e),l=t(212),s=t.n(l),h=t(213),c=t.n(h),d=t(214),p=t.n(d),f=Object.defineProperty,O=Object.defineProperties,b=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(x,P,y)=>P in x?f(x,P,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[P]=y,u=(x,P)=>{for(var y in P||(P={}))a.call(P,y)&&r(x,y,P[y]);if(m)for(var y of m(P))n.call(P,y)&&r(x,y,P[y]);return x},v=(x,P)=>O(x,b(P));const E=s.a.createStore([c.a,p.a],[]),w=".buffer",C="ss-version-backups-local",_=32,T=4,W=7*24*60*60*1e3,k=()=>{var x,P,y,A;return((P=(x=window._preloads)==null?void 0:x.pub)==null?void 0:P.id)?((A=(y=window._preloads)==null?void 0:y.user)==null?void 0:A.id)?H().filter(K=>!(K.publication_id!==window._preloads.pub.id||K.user_id&&K.user_id!==window._preloads.user.id||K.local_version_saved_at&&Date.now()-new Date(K.local_version_saved_at)<W)):[]:[]},$=x=>{if(!(x==null?void 0:x.post_id)||!(x==null?void 0:x.draft_updated_at)||!(x==null?void 0:x.draft_body))return;const P=H();if(P.filter(K=>K.post_id===x.post_id).length>=T){const K=o()(P,N=>N.post_id===x.post_id);K>=0&&P.splice(K,1)}const A=[x].concat(P.filter(K=>K.post_id!==x.post_id||K.draft_updated_at!==x.draft_updated_at&&K.draft_body&&K.draft_body!==x.draft_body)).slice(0,_);B(C,A)},H=()=>E.get(C,[]).filter(Boolean),g=()=>E.get(C+w,{}),M=x=>{var P,y;!((P=window._preloads.pub)==null?void 0:P.id)||!((y=window._preloads.user)==null?void 0:y.id)||!(x==null?void 0:x.post_id)||!(x==null?void 0:x.draft_updated_at)||!(x==null?void 0:x.draft_body)||B(C+w,v(u({},x),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},R=()=>{E.remove(C+w)},D=x=>{if(!(x==null?void 0:x.post_id)||!(x==null?void 0:x.draft_updated_at))return;const y=H().filter(A=>A.post_id!==x.post_id||A.draft_updated_at!==x.draft_updated_at);B(C,y)},U=()=>{const x=g();!(x==null?void 0:x.draft_body)||($(x),R())},L=()=>{R(),E.remove(C)},j=x=>{(!x||H().find(P=>P.user_id&&P.user_id!==x))&&L()},B=(x,P)=>{try{if(E.set(x,P),JSON.stringify(E.get(x))!==JSON.stringify(P))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",x)}catch(y){console.error("localStorage.setItem failed:",y),L()}}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":a.strokeWidth,fill:a.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);i.a=o},function(S,i,t){var e=t(204),o=t(146);function l(s,h){h=e(h,s);for(var c=0,d=h.length;s!=null&&c<d;)s=s[o(h[c++])];return c&&c==d?s:void 0}S.exports=l},function(S,i,t){"use strict";t.d(i,"a",function(){return sn});var e=t(131),o=t(32);function l(dt){if(Array.isArray(dt))return dt}function s(dt,mt){var gt=dt==null?null:typeof Symbol!="undefined"&&dt[Symbol.iterator]||dt["@@iterator"];if(gt!=null){var ze=[],ue=!0,bt=!1,wt,It;try{for(gt=gt.call(dt);!(ue=(wt=gt.next()).done)&&(ze.push(wt.value),!(mt&&ze.length===mt));ue=!0);}catch(We){bt=!0,It=We}finally{try{!ue&&gt.return!=null&&gt.return()}finally{if(bt)throw It}}return ze}}var h=t(305);function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(dt,mt){return l(dt)||s(dt,mt)||Object(h.a)(dt,mt)||c()}for(var p=t(512),f=t(68),O=t(101),b=t(102),m=t(248),a=t(103),n=t(108),r=t(65),u=t(1),v=t(236),E=t(21),w=t(39),C=t(140),_=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],T=new RegExp("["+_.map(function(dt){return dt.letters}).join("")+"]","g"),W={},k=0;k<_.length;k++)for(var $=_[k],H=0;H<$.letters.length;H++)W[$.letters[H]]=$.base;var g=function(mt){return mt.replace(T,function(gt){return W[gt]})};function M(dt,mt){var gt=Object.keys(dt);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(dt);mt&&(ze=ze.filter(function(ue){return Object.getOwnPropertyDescriptor(dt,ue).enumerable})),gt.push.apply(gt,ze)}return gt}function R(dt){for(var mt=1;mt<arguments.length;mt++){var gt=arguments[mt]!=null?arguments[mt]:{};mt%2?M(Object(gt),!0).forEach(function(ze){Object(f.a)(dt,ze,gt[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(gt)):M(Object(gt)).forEach(function(ze){Object.defineProperty(dt,ze,Object.getOwnPropertyDescriptor(gt,ze))})}return dt}var D=function(mt){return mt.replace(/^\s+|\s+$/g,"")},U=function(mt){return"".concat(mt.label," ").concat(mt.value)},L=function(mt){return function(gt,ze){var ue=R({ignoreCase:!0,ignoreAccents:!0,stringify:U,trim:!0,matchFrom:"any"},mt),bt=ue.ignoreCase,wt=ue.ignoreAccents,It=ue.stringify,We=ue.trim,lt=ue.matchFrom,Ae=We?D(ze):ze,Ve=We?D(It(gt)):It(gt);return bt&&(Ae=Ae.toLowerCase(),Ve=Ve.toLowerCase()),wt&&(Ae=g(Ae),Ve=g(Ve)),lt==="start"?Ve.substr(0,Ae.length)===Ae:Ve.indexOf(Ae)>-1}};function j(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var B={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},x=function(mt){return Object(E.c)("span",Object(o.a)({css:B},mt))};function P(dt){var mt=dt.in,gt=dt.out,ze=dt.onExited,ue=dt.appear,bt=dt.enter,wt=dt.exit,It=dt.innerRef,We=dt.emotion,lt=Object(e.a)(dt,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Object(E.c)("input",Object(o.a)({ref:It},lt,{css:Object(C.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function y(dt){var mt=A();return function(){var ze=Object(r.a)(dt),ue;if(mt){var bt=Object(r.a)(this).constructor;ue=Reflect.construct(ze,arguments,bt)}else ue=ze.apply(this,arguments);return Object(n.a)(this,ue)}}function A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dt){return!1}}var K=function(dt){Object(a.a)(gt,dt);var mt=y(gt);function gt(){return Object(O.a)(this,gt),mt.apply(this,arguments)}return Object(b.a)(gt,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(u.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),gt}(u.Component),N=["boxSizing","height","overflow","paddingRight","position"],Y={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function F(dt){dt.preventDefault()}function G(dt){dt.stopPropagation()}function X(){var dt=this.scrollTop,mt=this.scrollHeight,gt=dt+this.offsetHeight;dt===0?this.scrollTop=1:gt===mt&&(this.scrollTop=dt-1)}function q(){return"ontouchstart"in window||navigator.maxTouchPoints}function se(dt){var mt=ie();return function(){var ze=Object(r.a)(dt),ue;if(mt){var bt=Object(r.a)(this).constructor;ue=Reflect.construct(ze,arguments,bt)}else ue=ze.apply(this,arguments);return Object(n.a)(this,ue)}}function ie(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dt){return!1}}var Ee=!!(window.document&&window.document.createElement),Ie=0,ge=function(dt){Object(a.a)(gt,dt);var mt=se(gt);function gt(){var ze;Object(O.a)(this,gt);for(var ue=arguments.length,bt=new Array(ue),wt=0;wt<ue;wt++)bt[wt]=arguments[wt];return ze=mt.call.apply(mt,[this].concat(bt)),ze.originalStyles={},ze.listenerOptions={capture:!1,passive:!1},ze}return Object(b.a)(gt,[{key:"componentDidMount",value:function(){var ue=this;if(!!Ee){var bt=this.props,wt=bt.accountForScrollbars,It=bt.touchScrollTarget,We=document.body,lt=We&&We.style;if(wt&&N.forEach(function(ot){var vt=lt&&lt[ot];ue.originalStyles[ot]=vt}),wt&&Ie<1){var Ae=parseInt(this.originalStyles.paddingRight,10)||0,Ve=document.body?document.body.clientWidth:0,at=window.innerWidth-Ve+Ae||0;Object.keys(Y).forEach(function(ot){var vt=Y[ot];lt&&(lt[ot]=vt)}),lt&&(lt.paddingRight="".concat(at,"px"))}We&&q()&&(We.addEventListener("touchmove",F,this.listenerOptions),It&&(It.addEventListener("touchstart",X,this.listenerOptions),It.addEventListener("touchmove",G,this.listenerOptions))),Ie+=1}}},{key:"componentWillUnmount",value:function(){var ue=this;if(!!Ee){var bt=this.props,wt=bt.accountForScrollbars,It=bt.touchScrollTarget,We=document.body,lt=We&&We.style;Ie=Math.max(Ie-1,0),wt&&Ie<1&&N.forEach(function(Ae){var Ve=ue.originalStyles[Ae];lt&&(lt[Ae]=Ve)}),We&&q()&&(We.removeEventListener("touchmove",F,this.listenerOptions),It&&(It.removeEventListener("touchstart",X,this.listenerOptions),It.removeEventListener("touchmove",G,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),gt}(u.Component);ge.defaultProps={accountForScrollbars:!0};function oe(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function ee(dt){var mt=te();return function(){var ze=Object(r.a)(dt),ue;if(mt){var bt=Object(r.a)(this).constructor;ue=Reflect.construct(ze,arguments,bt)}else ue=ze.apply(this,arguments);return Object(n.a)(this,ue)}}function te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dt){return!1}}var le={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},Q=function(dt){Object(a.a)(gt,dt);var mt=ee(gt);function gt(){var ze;Object(O.a)(this,gt);for(var ue=arguments.length,bt=new Array(ue),wt=0;wt<ue;wt++)bt[wt]=arguments[wt];return ze=mt.call.apply(mt,[this].concat(bt)),ze.state={touchScrollTarget:null},ze.getScrollTarget=function(It){It!==ze.state.touchScrollTarget&&ze.setState({touchScrollTarget:It})},ze.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},ze}return Object(b.a)(gt,[{key:"render",value:function(){var ue=this.props,bt=ue.children,wt=ue.isEnabled,It=this.state.touchScrollTarget;return wt?Object(E.c)("div",null,Object(E.c)("div",{onClick:this.blurSelectInput,css:le}),Object(E.c)(K,{innerRef:this.getScrollTarget},bt),It?Object(E.c)(ge,{touchScrollTarget:It}):null):bt}}]),gt}(u.PureComponent);function z(dt){var mt=V();return function(){var ze=Object(r.a)(dt),ue;if(mt){var bt=Object(r.a)(this).constructor;ue=Reflect.construct(ze,arguments,bt)}else ue=ze.apply(this,arguments);return Object(n.a)(this,ue)}}function V(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dt){return!1}}var ne=function(dt){Object(a.a)(gt,dt);var mt=z(gt);function gt(){var ze;Object(O.a)(this,gt);for(var ue=arguments.length,bt=new Array(ue),wt=0;wt<ue;wt++)bt[wt]=arguments[wt];return ze=mt.call.apply(mt,[this].concat(bt)),ze.isBottom=!1,ze.isTop=!1,ze.scrollTarget=void 0,ze.touchStart=void 0,ze.cancelScroll=function(It){It.preventDefault(),It.stopPropagation()},ze.handleEventDelta=function(It,We){var lt=ze.props,Ae=lt.onBottomArrive,Ve=lt.onBottomLeave,at=lt.onTopArrive,ot=lt.onTopLeave,vt=ze.scrollTarget,Ct=vt.scrollTop,Mt=vt.scrollHeight,Lt=vt.clientHeight,_t=ze.scrollTarget,Qt=We>0,un=Mt-Lt-Ct,Jt=!1;un>We&&ze.isBottom&&(Ve&&Ve(It),ze.isBottom=!1),Qt&&ze.isTop&&(ot&&ot(It),ze.isTop=!1),Qt&&We>un?(Ae&&!ze.isBottom&&Ae(It),_t.scrollTop=Mt,Jt=!0,ze.isBottom=!0):!Qt&&-We>Ct&&(at&&!ze.isTop&&at(It),_t.scrollTop=0,Jt=!0,ze.isTop=!0),Jt&&ze.cancelScroll(It)},ze.onWheel=function(It){ze.handleEventDelta(It,It.deltaY)},ze.onTouchStart=function(It){ze.touchStart=It.changedTouches[0].clientY},ze.onTouchMove=function(It){var We=ze.touchStart-It.changedTouches[0].clientY;ze.handleEventDelta(It,We)},ze.getScrollTarget=function(It){ze.scrollTarget=It},ze}return Object(b.a)(gt,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(ue){!ue||(typeof ue.addEventListener=="function"&&ue.addEventListener("wheel",this.onWheel,!1),typeof ue.addEventListener=="function"&&ue.addEventListener("touchstart",this.onTouchStart,!1),typeof ue.addEventListener=="function"&&ue.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(ue){!ue||(typeof ue.removeEventListener=="function"&&ue.removeEventListener("wheel",this.onWheel,!1),typeof ue.removeEventListener=="function"&&ue.removeEventListener("touchstart",this.onTouchStart,!1),typeof ue.removeEventListener=="function"&&ue.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return u.default.createElement(K,{innerRef:this.getScrollTarget},this.props.children)}}]),gt}(u.Component);function re(dt){var mt=dt.isEnabled,gt=mt===void 0?!0:mt,ze=Object(e.a)(dt,["isEnabled"]);return gt?u.default.createElement(ne,ze):ze.children}var de=function(mt){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=gt.isSearchable,ue=gt.isMulti,bt=gt.label,wt=gt.isDisabled,It=gt.tabSelectsValue;switch(mt){case"menu":return"Use Up and Down to choose options".concat(wt?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(It?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(bt||"Select"," is focused ").concat(ze?",type to refine list":"",", press Down to open the menu, ").concat(ue?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},fe=function(mt,gt){var ze=gt.value,ue=gt.isDisabled;if(!!ze)switch(mt){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(ze,", deselected.");case"select-option":return ue?"option ".concat(ze," is disabled. Select another option."):"option ".concat(ze,", selected.")}},we=function(mt){var gt=mt.focusedValue,ze=mt.getOptionLabel,ue=mt.selectValue;return"value ".concat(ze(gt)," focused, ").concat(ue.indexOf(gt)+1," of ").concat(ue.length,".")},Ge=function(mt){var gt=mt.focusedOption,ze=mt.getOptionLabel,ue=mt.options;return"option ".concat(ze(gt)," focused").concat(gt.isDisabled?" disabled":"",", ").concat(ue.indexOf(gt)+1," of ").concat(ue.length,".")},$e=function(mt){var gt=mt.inputValue,ze=mt.screenReaderMessage;return"".concat(ze).concat(gt?" for search term "+gt:"",".")},it=function(mt){return mt.label},st=function(mt){return mt.label},Rt=function(mt){return mt.value},Ht=function(mt){return!!mt.isDisabled};function je(dt,mt){var gt=Object.keys(dt);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(dt);mt&&(ze=ze.filter(function(ue){return Object.getOwnPropertyDescriptor(dt,ue).enumerable})),gt.push.apply(gt,ze)}return gt}function Oe(dt){for(var mt=1;mt<arguments.length;mt++){var gt=arguments[mt]!=null?arguments[mt]:{};mt%2?je(Object(gt),!0).forEach(function(ze){Object(f.a)(dt,ze,gt[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(gt)):je(Object(gt)).forEach(function(ze){Object.defineProperty(dt,ze,Object.getOwnPropertyDescriptor(gt,ze))})}return dt}var be={clearIndicator:w.k,container:w.i,control:w.j,dropdownIndicator:w.l,group:w.o,groupHeading:w.m,indicatorsContainer:w.q,indicatorSeparator:w.n,input:w.p,loadingIndicator:w.t,loadingMessage:w.r,menu:w.u,menuList:w.s,menuPortal:w.v,multiValue:w.w,multiValueLabel:w.x,multiValueRemove:w.y,noOptionsMessage:w.z,option:w.A,placeholder:w.B,singleValue:w.C,valueContainer:w.D};function he(dt){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gt=Oe({},dt);return Object.keys(mt).forEach(function(ze){dt[ze]?gt[ze]=function(ue,bt){return mt[ze](dt[ze](ue,bt),bt)}:gt[ze]=mt[ze]}),gt}var Ce={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},De=4,Se=4,Le=38,tt=Se*2,Xe={baseUnit:Se,controlHeight:Le,menuGutter:tt},Et={borderRadius:De,colors:Ce,spacing:Xe};function Qe(dt,mt){var gt=Object.keys(dt);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(dt);mt&&(ze=ze.filter(function(ue){return Object.getOwnPropertyDescriptor(dt,ue).enumerable})),gt.push.apply(gt,ze)}return gt}function rt(dt){for(var mt=1;mt<arguments.length;mt++){var gt=arguments[mt]!=null?arguments[mt]:{};mt%2?Qe(Object(gt),!0).forEach(function(ze){Object(f.a)(dt,ze,gt[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(gt)):Qe(Object(gt)).forEach(function(ze){Object.defineProperty(dt,ze,Object.getOwnPropertyDescriptor(gt,ze))})}return dt}function ke(dt){var mt=jt();return function(){var ze=Object(r.a)(dt),ue;if(mt){var bt=Object(r.a)(this).constructor;ue=Reflect.construct(ze,arguments,bt)}else ue=ze.apply(this,arguments);return Object(n.a)(this,ue)}}function jt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dt){return!1}}var Nt={backspaceRemovesValue:!0,blurInputOnSelect:Object(w.E)(),captureMenuScroll:!Object(w.E)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:L(),formatGroupLabel:it,getOptionLabel:st,getOptionValue:Rt,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ht,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Object(w.F)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(mt){var gt=mt.count;return"".concat(gt," result").concat(gt!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},rn=1,sn=function(dt){Object(a.a)(gt,dt);var mt=ke(gt);function gt(ze){var ue;Object(O.a)(this,gt),ue=mt.call(this,ze),ue.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},ue.blockOptionHover=!1,ue.isComposing=!1,ue.clearFocusValueOnUpdate=!1,ue.commonProps=void 0,ue.components=void 0,ue.hasGroups=!1,ue.initialTouchX=0,ue.initialTouchY=0,ue.inputIsHiddenAfterUpdate=void 0,ue.instancePrefix="",ue.openAfterFocus=!1,ue.scrollToFocusedOptionOnUpdate=!1,ue.userIsDragging=void 0,ue.controlRef=null,ue.getControlRef=function(We){ue.controlRef=We},ue.focusedOptionRef=null,ue.getFocusedOptionRef=function(We){ue.focusedOptionRef=We},ue.menuListRef=null,ue.getMenuListRef=function(We){ue.menuListRef=We},ue.inputRef=null,ue.getInputRef=function(We){ue.inputRef=We},ue.cacheComponents=function(We){ue.components=Object(w.G)({components:We})},ue.focus=ue.focusInput,ue.blur=ue.blurInput,ue.onChange=function(We,lt){var Ae=ue.props,Ve=Ae.onChange,at=Ae.name;Ve(We,rt(rt({},lt),{},{name:at}))},ue.setValue=function(We){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",Ae=arguments.length>2?arguments[2]:void 0,Ve=ue.props,at=Ve.closeMenuOnSelect,ot=Ve.isMulti;ue.onInputChange("",{action:"set-value"}),at&&(ue.inputIsHiddenAfterUpdate=!ot,ue.onMenuClose()),ue.clearFocusValueOnUpdate=!0,ue.onChange(We,{action:lt,option:Ae})},ue.selectOption=function(We){var lt=ue.props,Ae=lt.blurInputOnSelect,Ve=lt.isMulti,at=ue.state.selectValue;if(Ve)if(ue.isOptionSelected(We,at)){var ot=ue.getOptionValue(We);ue.setValue(at.filter(function(vt){return ue.getOptionValue(vt)!==ot}),"deselect-option",We),ue.announceAriaLiveSelection({event:"deselect-option",context:{value:ue.getOptionLabel(We)}})}else ue.isOptionDisabled(We,at)?ue.announceAriaLiveSelection({event:"select-option",context:{value:ue.getOptionLabel(We),isDisabled:!0}}):(ue.setValue([].concat(Object(p.a)(at),[We]),"select-option",We),ue.announceAriaLiveSelection({event:"select-option",context:{value:ue.getOptionLabel(We)}}));else ue.isOptionDisabled(We,at)?ue.announceAriaLiveSelection({event:"select-option",context:{value:ue.getOptionLabel(We),isDisabled:!0}}):(ue.setValue(We,"select-option"),ue.announceAriaLiveSelection({event:"select-option",context:{value:ue.getOptionLabel(We)}}));Ae&&ue.blurInput()},ue.removeValue=function(We){var lt=ue.state.selectValue,Ae=ue.getOptionValue(We),Ve=lt.filter(function(at){return ue.getOptionValue(at)!==Ae});ue.onChange(Ve.length?Ve:null,{action:"remove-value",removedValue:We}),ue.announceAriaLiveSelection({event:"remove-value",context:{value:We?ue.getOptionLabel(We):""}}),ue.focusInput()},ue.clearValue=function(){ue.onChange(null,{action:"clear"})},ue.popValue=function(){var We=ue.state.selectValue,lt=We[We.length-1],Ae=We.slice(0,We.length-1);ue.announceAriaLiveSelection({event:"pop-value",context:{value:lt?ue.getOptionLabel(lt):""}}),ue.onChange(Ae.length?Ae:null,{action:"pop-value",removedValue:lt})},ue.getValue=function(){return ue.state.selectValue},ue.cx=function(){for(var We=arguments.length,lt=new Array(We),Ae=0;Ae<We;Ae++)lt[Ae]=arguments[Ae];return w.H.apply(void 0,[ue.props.classNamePrefix].concat(lt))},ue.getOptionLabel=function(We){return ue.props.getOptionLabel(We)},ue.getOptionValue=function(We){return ue.props.getOptionValue(We)},ue.getStyles=function(We,lt){var Ae=be[We](lt);Ae.boxSizing="border-box";var Ve=ue.props.styles[We];return Ve?Ve(Ae,lt):Ae},ue.getElementId=function(We){return"".concat(ue.instancePrefix,"-").concat(We)},ue.getActiveDescendentId=function(){var We=ue.props.menuIsOpen,lt=ue.state,Ae=lt.menuOptions,Ve=lt.focusedOption;if(!(!Ve||!We)){var at=Ae.focusable.indexOf(Ve),ot=Ae.render[at];return ot&&ot.key}},ue.announceAriaLiveSelection=function(We){var lt=We.event,Ae=We.context;ue.setState({ariaLiveSelection:fe(lt,Ae)})},ue.announceAriaLiveContext=function(We){var lt=We.event,Ae=We.context;ue.setState({ariaLiveContext:de(lt,rt(rt({},Ae),{},{label:ue.props["aria-label"]}))})},ue.onMenuMouseDown=function(We){We.button===0&&(We.stopPropagation(),We.preventDefault(),ue.focusInput())},ue.onMenuMouseMove=function(We){ue.blockOptionHover=!1},ue.onControlMouseDown=function(We){var lt=ue.props.openMenuOnClick;ue.state.isFocused?ue.props.menuIsOpen?We.target.tagName!=="INPUT"&&We.target.tagName!=="TEXTAREA"&&ue.onMenuClose():lt&&ue.openMenu("first"):(lt&&(ue.openAfterFocus=!0),ue.focusInput()),We.target.tagName!=="INPUT"&&We.target.tagName!=="TEXTAREA"&&We.preventDefault()},ue.onDropdownIndicatorMouseDown=function(We){if(!(We&&We.type==="mousedown"&&We.button!==0)&&!ue.props.isDisabled){var lt=ue.props,Ae=lt.isMulti,Ve=lt.menuIsOpen;ue.focusInput(),Ve?(ue.inputIsHiddenAfterUpdate=!Ae,ue.onMenuClose()):ue.openMenu("first"),We.preventDefault(),We.stopPropagation()}},ue.onClearIndicatorMouseDown=function(We){We&&We.type==="mousedown"&&We.button!==0||(ue.clearValue(),We.stopPropagation(),ue.openAfterFocus=!1,We.type==="touchend"?ue.focusInput():setTimeout(function(){return ue.focusInput()}))},ue.onScroll=function(We){typeof ue.props.closeMenuOnScroll=="boolean"?We.target instanceof HTMLElement&&Object(w.a)(We.target)&&ue.props.onMenuClose():typeof ue.props.closeMenuOnScroll=="function"&&ue.props.closeMenuOnScroll(We)&&ue.props.onMenuClose()},ue.onCompositionStart=function(){ue.isComposing=!0},ue.onCompositionEnd=function(){ue.isComposing=!1},ue.onTouchStart=function(We){var lt=We.touches,Ae=lt&&lt.item(0);!Ae||(ue.initialTouchX=Ae.clientX,ue.initialTouchY=Ae.clientY,ue.userIsDragging=!1)},ue.onTouchMove=function(We){var lt=We.touches,Ae=lt&&lt.item(0);if(!!Ae){var Ve=Math.abs(Ae.clientX-ue.initialTouchX),at=Math.abs(Ae.clientY-ue.initialTouchY),ot=5;ue.userIsDragging=Ve>ot||at>ot}},ue.onTouchEnd=function(We){ue.userIsDragging||(ue.controlRef&&!ue.controlRef.contains(We.target)&&ue.menuListRef&&!ue.menuListRef.contains(We.target)&&ue.blurInput(),ue.initialTouchX=0,ue.initialTouchY=0)},ue.onControlTouchEnd=function(We){ue.userIsDragging||ue.onControlMouseDown(We)},ue.onClearIndicatorTouchEnd=function(We){ue.userIsDragging||ue.onClearIndicatorMouseDown(We)},ue.onDropdownIndicatorTouchEnd=function(We){ue.userIsDragging||ue.onDropdownIndicatorMouseDown(We)},ue.handleInputChange=function(We){var lt=We.currentTarget.value;ue.inputIsHiddenAfterUpdate=!1,ue.onInputChange(lt,{action:"input-change"}),ue.props.menuIsOpen||ue.onMenuOpen()},ue.onInputFocus=function(We){var lt=ue.props,Ae=lt.isSearchable,Ve=lt.isMulti;ue.props.onFocus&&ue.props.onFocus(We),ue.inputIsHiddenAfterUpdate=!1,ue.announceAriaLiveContext({event:"input",context:{isSearchable:Ae,isMulti:Ve}}),ue.setState({isFocused:!0}),(ue.openAfterFocus||ue.props.openMenuOnFocus)&&ue.openMenu("first"),ue.openAfterFocus=!1},ue.onInputBlur=function(We){if(ue.menuListRef&&ue.menuListRef.contains(document.activeElement)){ue.inputRef.focus();return}ue.props.onBlur&&ue.props.onBlur(We),ue.onInputChange("",{action:"input-blur"}),ue.onMenuClose(),ue.setState({focusedValue:null,isFocused:!1})},ue.onOptionHover=function(We){ue.blockOptionHover||ue.state.focusedOption===We||ue.setState({focusedOption:We})},ue.shouldHideSelectedOptions=function(){var We=ue.props,lt=We.hideSelectedOptions,Ae=We.isMulti;return lt===void 0?Ae:lt},ue.onKeyDown=function(We){var lt=ue.props,Ae=lt.isMulti,Ve=lt.backspaceRemovesValue,at=lt.escapeClearsValue,ot=lt.inputValue,vt=lt.isClearable,Ct=lt.isDisabled,Mt=lt.menuIsOpen,Lt=lt.onKeyDown,_t=lt.tabSelectsValue,Qt=lt.openMenuOnFocus,un=ue.state,Jt=un.focusedOption,Xt=un.focusedValue,yn=un.selectValue;if(!Ct&&!(typeof Lt=="function"&&(Lt(We),We.defaultPrevented))){switch(ue.blockOptionHover=!0,We.key){case"ArrowLeft":if(!Ae||ot)return;ue.focusValue("previous");break;case"ArrowRight":if(!Ae||ot)return;ue.focusValue("next");break;case"Delete":case"Backspace":if(ot)return;if(Xt)ue.removeValue(Xt);else{if(!Ve)return;Ae?ue.popValue():vt&&ue.clearValue()}break;case"Tab":if(ue.isComposing||We.shiftKey||!Mt||!_t||!Jt||Qt&&ue.isOptionSelected(Jt,yn))return;ue.selectOption(Jt);break;case"Enter":if(We.keyCode===229)break;if(Mt){if(!Jt||ue.isComposing)return;ue.selectOption(Jt);break}return;case"Escape":Mt?(ue.inputIsHiddenAfterUpdate=!1,ue.onInputChange("",{action:"menu-close"}),ue.onMenuClose()):vt&&at&&ue.clearValue();break;case" ":if(ot)return;if(!Mt){ue.openMenu("first");break}if(!Jt)return;ue.selectOption(Jt);break;case"ArrowUp":Mt?ue.focusOption("up"):ue.openMenu("last");break;case"ArrowDown":Mt?ue.focusOption("down"):ue.openMenu("first");break;case"PageUp":if(!Mt)return;ue.focusOption("pageup");break;case"PageDown":if(!Mt)return;ue.focusOption("pagedown");break;case"Home":if(!Mt)return;ue.focusOption("first");break;case"End":if(!Mt)return;ue.focusOption("last");break;default:return}We.preventDefault()}},ue.buildMenuOptions=function(We,lt){var Ae=We.inputValue,Ve=Ae===void 0?"":Ae,at=We.options,ot=function(Ct,Mt){var Lt=ue.isOptionDisabled(Ct,lt),_t=ue.isOptionSelected(Ct,lt),Qt=ue.getOptionLabel(Ct),un=ue.getOptionValue(Ct);if(!(ue.shouldHideSelectedOptions()&&_t||!ue.filterOption({label:Qt,value:un,data:Ct},Ve))){var Jt=Lt?void 0:function(){return ue.onOptionHover(Ct)},Xt=Lt?void 0:function(){return ue.selectOption(Ct)},yn="".concat(ue.getElementId("option"),"-").concat(Mt);return{innerProps:{id:yn,onClick:Xt,onMouseMove:Jt,onMouseOver:Jt,tabIndex:-1},data:Ct,isDisabled:Lt,isSelected:_t,key:yn,label:Qt,type:"option",value:un}}};return at.reduce(function(vt,Ct,Mt){if(Ct.options){ue.hasGroups||(ue.hasGroups=!0);var Lt=Ct.options,_t=Lt.map(function(Jt,Xt){var yn=ot(Jt,"".concat(Mt,"-").concat(Xt));return yn&&vt.focusable.push(Jt),yn}).filter(Boolean);if(_t.length){var Qt="".concat(ue.getElementId("group"),"-").concat(Mt);vt.render.push({type:"group",key:Qt,data:Ct,options:_t})}}else{var un=ot(Ct,"".concat(Mt));un&&(vt.render.push(un),vt.focusable.push(Ct))}return vt},{render:[],focusable:[]})};var bt=ze.value;ue.cacheComponents=Object(v.a)(ue.cacheComponents,w.b).bind(Object(m.a)(ue)),ue.cacheComponents(ze.components),ue.instancePrefix="react-select-"+(ue.props.instanceId||++rn);var wt=Object(w.c)(bt);ue.buildMenuOptions=Object(v.a)(ue.buildMenuOptions,function(We,lt){var Ae=We,Ve=d(Ae,2),at=Ve[0],ot=Ve[1],vt=lt,Ct=d(vt,2),Mt=Ct[0],Lt=Ct[1];return ot===Lt&&at.inputValue===Mt.inputValue&&at.options===Mt.options}).bind(Object(m.a)(ue));var It=ze.menuIsOpen?ue.buildMenuOptions(ze,wt):{render:[],focusable:[]};return ue.state.menuOptions=It,ue.state.selectValue=wt,ue}return Object(b.a)(gt,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(ue){var bt=this.props,wt=bt.options,It=bt.value,We=bt.menuIsOpen,lt=bt.inputValue;if(this.cacheComponents(ue.components),ue.value!==It||ue.options!==wt||ue.menuIsOpen!==We||ue.inputValue!==lt){var Ae=Object(w.c)(ue.value),Ve=ue.menuIsOpen?this.buildMenuOptions(ue,Ae):{render:[],focusable:[]},at=this.getNextFocusedValue(Ae),ot=this.getNextFocusedOption(Ve.focusable);this.setState({menuOptions:Ve,selectValue:Ae,focusedOption:ot,focusedValue:at})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(ue){var bt=this.props,wt=bt.isDisabled,It=bt.menuIsOpen,We=this.state.isFocused;(We&&!wt&&ue.isDisabled||We&&It&&!ue.menuIsOpen)&&this.focusInput(),We&&wt&&!ue.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Object(w.d)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var ue=this.props,bt=ue.isSearchable,wt=ue.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:bt,isMulti:wt}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(ue,bt){this.props.onInputChange(ue,bt)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(ue){var bt=this,wt=this.state,It=wt.selectValue,We=wt.isFocused,lt=this.buildMenuOptions(this.props,It),Ae=this.props,Ve=Ae.isMulti,at=Ae.tabSelectsValue,ot=ue==="first"?0:lt.focusable.length-1;if(!Ve){var vt=lt.focusable.indexOf(It[0]);vt>-1&&(ot=vt)}this.scrollToFocusedOptionOnUpdate=!(We&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:lt,focusedValue:null,focusedOption:lt.focusable[ot]},function(){bt.onMenuOpen(),bt.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:at}})})}},{key:"focusValue",value:function(ue){var bt=this.props,wt=bt.isMulti,It=bt.isSearchable,We=this.state,lt=We.selectValue,Ae=We.focusedValue;if(!!wt){this.setState({focusedOption:null});var Ve=lt.indexOf(Ae);Ae||(Ve=-1,this.announceAriaLiveContext({event:"value"}));var at=lt.length-1,ot=-1;if(!!lt.length){switch(ue){case"previous":Ve===0?ot=0:Ve===-1?ot=at:ot=Ve-1;break;case"next":Ve>-1&&Ve<at&&(ot=Ve+1);break}ot===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:It,isMulti:wt}}),this.setState({inputIsHidden:ot!==-1,focusedValue:lt[ot]})}}}},{key:"focusOption",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",bt=this.props,wt=bt.pageSize,It=bt.tabSelectsValue,We=this.state,lt=We.focusedOption,Ae=We.menuOptions,Ve=Ae.focusable;if(!!Ve.length){var at=0,ot=Ve.indexOf(lt);lt||(ot=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:It}})),ue==="up"?at=ot>0?ot-1:Ve.length-1:ue==="down"?at=(ot+1)%Ve.length:ue==="pageup"?(at=ot-wt,at<0&&(at=0)):ue==="pagedown"?(at=ot+wt,at>Ve.length-1&&(at=Ve.length-1)):ue==="last"&&(at=Ve.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Ve[at],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Ht(Ve[at]),tabSelectsValue:It}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Et):rt(rt({},Et),this.props.theme):Et}},{key:"getCommonProps",value:function(){var ue=this.clearValue,bt=this.cx,wt=this.getStyles,It=this.getValue,We=this.setValue,lt=this.selectOption,Ae=this.props,Ve=Ae.isMulti,at=Ae.isRtl,ot=Ae.options,vt=this.hasValue();return{cx:bt,clearValue:ue,getStyles:wt,getValue:It,hasValue:vt,isMulti:Ve,isRtl:at,options:ot,selectOption:lt,setValue:We,selectProps:Ae,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(ue){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var bt=this.state,wt=bt.focusedValue,It=bt.selectValue,We=It.indexOf(wt);if(We>-1){var lt=ue.indexOf(wt);if(lt>-1)return wt;if(We<ue.length)return ue[We]}return null}},{key:"getNextFocusedOption",value:function(ue){var bt=this.state.focusedOption;return bt&&ue.indexOf(bt)>-1?bt:ue[0]}},{key:"hasValue",value:function(){var ue=this.state.selectValue;return ue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var ue=this.props,bt=ue.isClearable,wt=ue.isMulti;return bt===void 0?wt:bt}},{key:"isOptionDisabled",value:function(ue,bt){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(ue,bt):!1}},{key:"isOptionSelected",value:function(ue,bt){var wt=this;if(bt.indexOf(ue)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(ue,bt);var It=this.getOptionValue(ue);return bt.some(function(We){return wt.getOptionValue(We)===It})}},{key:"filterOption",value:function(ue,bt){return this.props.filterOption?this.props.filterOption(ue,bt):!0}},{key:"formatOptionLabel",value:function(ue,bt){if(typeof this.props.formatOptionLabel=="function"){var wt=this.props.inputValue,It=this.state.selectValue;return this.props.formatOptionLabel(ue,{context:bt,inputValue:wt,selectValue:It})}else return this.getOptionLabel(ue)}},{key:"formatGroupLabel",value:function(ue){return this.props.formatGroupLabel(ue)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var ue=this.state,bt=ue.ariaLiveContext,wt=ue.selectValue,It=ue.focusedValue,We=ue.focusedOption,lt=this.props,Ae=lt.options,Ve=lt.menuIsOpen,at=lt.inputValue,ot=lt.screenReaderStatus,vt=It?we({focusedValue:It,getOptionLabel:this.getOptionLabel,selectValue:wt}):"",Ct=We&&Ve?Ge({focusedOption:We,getOptionLabel:this.getOptionLabel,options:Ae}):"",Mt=$e({inputValue:at,screenReaderMessage:ot({count:this.countOptions()})});return"".concat(vt," ").concat(Ct," ").concat(Mt," ").concat(bt)}},{key:"renderInput",value:function(){var ue=this.props,bt=ue.isDisabled,wt=ue.isSearchable,It=ue.inputId,We=ue.inputValue,lt=ue.tabIndex,Ae=ue.form,Ve=this.components.Input,at=this.state.inputIsHidden,ot=It||this.getElementId("input"),vt={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!wt)return u.default.createElement(P,Object(o.a)({id:ot,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:w.e,onFocus:this.onInputFocus,readOnly:!0,disabled:bt,tabIndex:lt,form:Ae,value:""},vt));var Ct=this.commonProps,Mt=Ct.cx,Lt=Ct.theme,_t=Ct.selectProps;return u.default.createElement(Ve,Object(o.a)({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:Mt,getStyles:this.getStyles,id:ot,innerRef:this.getInputRef,isDisabled:bt,isHidden:at,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:_t,spellCheck:"false",tabIndex:lt,form:Ae,theme:Lt,type:"text",value:We},vt))}},{key:"renderPlaceholderOrValue",value:function(){var ue=this,bt=this.components,wt=bt.MultiValue,It=bt.MultiValueContainer,We=bt.MultiValueLabel,lt=bt.MultiValueRemove,Ae=bt.SingleValue,Ve=bt.Placeholder,at=this.commonProps,ot=this.props,vt=ot.controlShouldRenderValue,Ct=ot.isDisabled,Mt=ot.isMulti,Lt=ot.inputValue,_t=ot.placeholder,Qt=this.state,un=Qt.selectValue,Jt=Qt.focusedValue,Xt=Qt.isFocused;if(!this.hasValue()||!vt)return Lt?null:u.default.createElement(Ve,Object(o.a)({},at,{key:"placeholder",isDisabled:Ct,isFocused:Xt}),_t);if(Mt){var yn=un.map(function(Ze,Pe){var Ye=Ze===Jt;return u.default.createElement(wt,Object(o.a)({},at,{components:{Container:It,Label:We,Remove:lt},isFocused:Ye,isDisabled:Ct,key:"".concat(ue.getOptionValue(Ze)).concat(Pe),index:Pe,removeProps:{onClick:function(){return ue.removeValue(Ze)},onTouchEnd:function(){return ue.removeValue(Ze)},onMouseDown:function(yt){yt.preventDefault(),yt.stopPropagation()}},data:Ze}),ue.formatOptionLabel(Ze,"value"))});return yn}if(Lt)return null;var wn=un[0];return u.default.createElement(Ae,Object(o.a)({},at,{data:wn,isDisabled:Ct}),this.formatOptionLabel(wn,"value"))}},{key:"renderClearIndicator",value:function(){var ue=this.components.ClearIndicator,bt=this.commonProps,wt=this.props,It=wt.isDisabled,We=wt.isLoading,lt=this.state.isFocused;if(!this.isClearable()||!ue||It||!this.hasValue()||We)return null;var Ae={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return u.default.createElement(ue,Object(o.a)({},bt,{innerProps:Ae,isFocused:lt}))}},{key:"renderLoadingIndicator",value:function(){var ue=this.components.LoadingIndicator,bt=this.commonProps,wt=this.props,It=wt.isDisabled,We=wt.isLoading,lt=this.state.isFocused;if(!ue||!We)return null;var Ae={"aria-hidden":"true"};return u.default.createElement(ue,Object(o.a)({},bt,{innerProps:Ae,isDisabled:It,isFocused:lt}))}},{key:"renderIndicatorSeparator",value:function(){var ue=this.components,bt=ue.DropdownIndicator,wt=ue.IndicatorSeparator;if(!bt||!wt)return null;var It=this.commonProps,We=this.props.isDisabled,lt=this.state.isFocused;return u.default.createElement(wt,Object(o.a)({},It,{isDisabled:We,isFocused:lt}))}},{key:"renderDropdownIndicator",value:function(){var ue=this.components.DropdownIndicator;if(!ue)return null;var bt=this.commonProps,wt=this.props.isDisabled,It=this.state.isFocused,We={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return u.default.createElement(ue,Object(o.a)({},bt,{innerProps:We,isDisabled:wt,isFocused:It}))}},{key:"renderMenu",value:function(){var ue=this,bt=this.components,wt=bt.Group,It=bt.GroupHeading,We=bt.Menu,lt=bt.MenuList,Ae=bt.MenuPortal,Ve=bt.LoadingMessage,at=bt.NoOptionsMessage,ot=bt.Option,vt=this.commonProps,Ct=this.state,Mt=Ct.focusedOption,Lt=Ct.menuOptions,_t=this.props,Qt=_t.captureMenuScroll,un=_t.inputValue,Jt=_t.isLoading,Xt=_t.loadingMessage,yn=_t.minMenuHeight,wn=_t.maxMenuHeight,Ze=_t.menuIsOpen,Pe=_t.menuPlacement,Ye=_t.menuPosition,Je=_t.menuPortalTarget,yt=_t.menuShouldBlockScroll,Dt=_t.menuShouldScrollIntoView,Ut=_t.noOptionsMessage,zt=_t.onMenuScrollToTop,cn=_t.onMenuScrollToBottom;if(!Ze)return null;var vn=function(ht){var Ke=Mt===ht.data;return ht.innerRef=Ke?ue.getFocusedOptionRef:void 0,u.default.createElement(ot,Object(o.a)({},vt,ht,{isFocused:Ke}),ue.formatOptionLabel(ht.data,"menu"))},Cn;if(this.hasOptions())Cn=Lt.render.map(function(Nn){if(Nn.type==="group"){var ht=Nn.type,Ke=Object(e.a)(Nn,["type"]),Fe="".concat(Nn.key,"-heading");return u.default.createElement(wt,Object(o.a)({},vt,Ke,{Heading:It,headingProps:{id:Fe,data:Nn.data},label:ue.formatGroupLabel(Nn.data)}),Nn.options.map(function(Tt){return vn(Tt)}))}else if(Nn.type==="option")return vn(Nn)});else if(Jt){var Rn=Xt({inputValue:un});if(Rn===null)return null;Cn=u.default.createElement(Ve,vt,Rn)}else{var ir=Ut({inputValue:un});if(ir===null)return null;Cn=u.default.createElement(at,vt,ir)}var Hn={minMenuHeight:yn,maxMenuHeight:wn,menuPlacement:Pe,menuPosition:Ye,menuShouldScrollIntoView:Dt},nr=u.default.createElement(w.h,Object(o.a)({},vt,Hn),function(Nn){var ht=Nn.ref,Ke=Nn.placerProps,Fe=Ke.placement,Tt=Ke.maxHeight;return u.default.createElement(We,Object(o.a)({},vt,Hn,{innerRef:ht,innerProps:{onMouseDown:ue.onMenuMouseDown,onMouseMove:ue.onMenuMouseMove},isLoading:Jt,placement:Fe}),u.default.createElement(re,{isEnabled:Qt,onTopArrive:zt,onBottomArrive:cn},u.default.createElement(Q,{isEnabled:yt},u.default.createElement(lt,Object(o.a)({},vt,{innerRef:ue.getMenuListRef,isLoading:Jt,maxHeight:Tt}),Cn))))});return Je||Ye==="fixed"?u.default.createElement(Ae,Object(o.a)({},vt,{appendTo:Je,controlElement:this.controlRef,menuPlacement:Pe,menuPosition:Ye}),nr):nr}},{key:"renderFormField",value:function(){var ue=this,bt=this.props,wt=bt.delimiter,It=bt.isDisabled,We=bt.isMulti,lt=bt.name,Ae=this.state.selectValue;if(!(!lt||It))if(We)if(wt){var Ve=Ae.map(function(vt){return ue.getOptionValue(vt)}).join(wt);return u.default.createElement("input",{name:lt,type:"hidden",value:Ve})}else{var at=Ae.length>0?Ae.map(function(vt,Ct){return u.default.createElement("input",{key:"i-".concat(Ct),name:lt,type:"hidden",value:ue.getOptionValue(vt)})}):u.default.createElement("input",{name:lt,type:"hidden"});return u.default.createElement("div",null,at)}else{var ot=Ae[0]?this.getOptionValue(Ae[0]):"";return u.default.createElement("input",{name:lt,type:"hidden",value:ot})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?u.default.createElement(x,{"aria-live":"polite"},u.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),u.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var ue=this.components,bt=ue.Control,wt=ue.IndicatorsContainer,It=ue.SelectContainer,We=ue.ValueContainer,lt=this.props,Ae=lt.className,Ve=lt.id,at=lt.isDisabled,ot=lt.menuIsOpen,vt=this.state.isFocused,Ct=this.commonProps=this.getCommonProps();return u.default.createElement(It,Object(o.a)({},Ct,{className:Ae,innerProps:{id:Ve,onKeyDown:this.onKeyDown},isDisabled:at,isFocused:vt}),this.renderLiveRegion(),u.default.createElement(bt,Object(o.a)({},Ct,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:at,isFocused:vt,menuIsOpen:ot}),u.default.createElement(We,Object(o.a)({},Ct,{isDisabled:at}),this.renderPlaceholderOrValue(),this.renderInput()),u.default.createElement(wt,Object(o.a)({},Ct,{isDisabled:at}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),gt}(u.Component);sn.defaultProps=Nt},function(S,i,t){var e=t(483),o=t(121),l=Object.prototype,s=l.hasOwnProperty,h=l.propertyIsEnumerable,c=e(function(){return arguments}())?e:function(d){return o(d)&&s.call(d,"callee")&&!h.call(d,"callee")};S.exports=c},function(S,i){var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function o(l,s){var h=typeof l;return s=s??t,!!s&&(h=="number"||h!="symbol"&&e.test(l))&&l>-1&&l%1==0&&l<s}S.exports=o},,function(S,i,t){"use strict";t.d(i,"a",function(){return V.a}),t.d(i,"b",function(){return be});var e=t(0),o=t(34),l=t(14),s=t.n(l),h=t(290),c=t.n(h),d=t(10),p=t.n(d),f=t(6),O=t.n(f),b=t(7),m=t(3),a=t(8),n=t(53),r=t(5),u=t(52),v=t(105),E=t(12);class w extends e.Component{isSubscribed(){const{user:Se}=this.props;return Se&&Se.is_subscribed}isFreeSubscribed(){const{freeSignup:Se,user:Le}=this.props;return Se||Le&&Le.is_free_subscribed&&!Le.is_contributor}onFreeSubscribe(Se){if(this.props.publication.plans){let Le=Object(m.getSubscribeUrl)(this.props.publication,{just_signed_up:!0});Se.body.prompt_to_login&&(Le=`/account/login?redirect=${encodeURIComponent(Le)}&email=${encodeURIComponent(Se.body.email)}`),document.location.href=Le}else window.location.reload()}render({publication:Se,user:Le,freeSignupEmail:tt,features:Xe}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!Se.plans))return Object(e.h)("div",{className:"subscribe-footer"},Object(e.h)("div",{className:"container"},Object(e.h)("h1",null,"Ready for more?"),this.isFreeSubscribed()?Object(e.h)("div",null,Object(e.h)("a",{className:"cta",href:Object(m.getSubscribeUrl)(Se,{utm_source:"ready-for-more"}),native:!0},Object(e.h)(E.b,{className:"primary"},Object(e.h)("b",null,Object(b.getSubscribeText)(Se))))):Object(e.h)(v.a,{user:Le,pub:Se,freeSignupEmail:tt,source:"subscribe_footer",onSuccess:this.onFreeSubscribe.bind(this),hideLogin:!0,hideTerms:!0,submitButtonText:Object(b.getSubscribeText)(Se)})))}}var C=t(84),_=t(73),T=t(242),W=t(90),k=t(311),$=t(2),H=t(505),g=t(154),M=t(179),R=t(240),D=t(187),U=t(26),L=t(46),j=t(23),B={toast:"frontend-components-prompts-WriterShareModal-module__toast--wc1bo",cta:"frontend-components-prompts-WriterShareModal-module__cta--3LjvC",modal:"frontend-components-prompts-WriterShareModal-module__modal--3G8F3"},x=t(544),P=Object.defineProperty,y=Object.defineProperties,A=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,F=(De,Se,Le)=>Se in De?P(De,Se,{enumerable:!0,configurable:!0,writable:!0,value:Le}):De[Se]=Le,G=(De,Se)=>{for(var Le in Se||(Se={}))N.call(Se,Le)&&F(De,Le,Se[Le]);if(K)for(var Le of K(Se))Y.call(Se,Le)&&F(De,Le,Se[Le]);return De},X=(De,Se)=>y(De,A(Se));const q="https://twitter.com",se=()=>{const De=Object(L.e)();return(Se,Le=null)=>De.popToast(tt=>Object(e.h)(L.c,X(G({},tt),{className:B.toast,text:Se,cta:Le})))},ie=({post:De,publication:Se,autoSharedOnTwitter:Le,showAfter:tt,publicationTwitterScreenName:Xe})=>{const Et=Object($.j)(null),[Qe,rt]=Object($.k)(!0),ke=se();Object($.d)(()=>{Le&&ke("Post shared to Twitter",Xe?Object(e.h)("a",{className:B.cta,href:`${q}/${Xe}`,target:"_blank",rel:"noreferrer"},"View"):null)},[]);const jt=()=>{rt(!1)};return!Qe&&tt?tt:Object(e.h)(U.b,{testID:"share-modal",openByDefault:!0,className:O()("force-light-theme",B.modal),ref:Et,variant:"structured",modalTitle:"Share your post",modalFooter:Object(e.h)(j.a,{variant:"secondary",look:"button",onClick:Nt=>{Nt.preventDefault(),Et.current.close()}},"View post"),onBeforeClose:jt},Object(e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},Object(e.h)("div",{className:"author-post-share__check-container"},Object(e.h)(D.a,{size:20,strokeWidth:2})),Object(e.h)("h5",null,"Your post has been published! It\u2019s time to get the word out"),Object(e.h)("div",{className:"tw-mb-8"},Object(e.h)(ge,{modalRef:Et})),Object(e.h)(Ee,{post:De,publication:Se,hideEmailOption:!0,trackingParams:{sd:"pf"},autoSharedOnTwitter:Le})))},Ee=({post:De,publication:Se,hideEmailOption:Le=!1,trackingParams:tt,autoSharedOnTwitter:Xe})=>{const Et=De.canonical_url,Qe=ke=>{Object(r.i)(r.a.SHARE_LINK_CLICKED,{name:ke,post_id:De.id,source:"fullscreen-author-share-dialog"})},rt=se();return Object(e.h)(e.Fragment,null,Object(e.h)(Ie,{onClick:()=>{Qe("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${Object(m.serializeQuery)({u:Object(m.updateQuery)(Et,G({utm_source:"facebook"},tt))})}`)},className:"share facebook"},Object(e.h)("button",{className:"button tw-w-full"},Object(e.h)(H.default,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!Xe&&Object(e.h)(Ie,{onClick:()=>{Qe("twitter"),window.open(`${q}/share?${Object(m.serializeQuery)({url:Object(m.updateQuery)(Et,G({utm_source:"twitter"},tt))})}`)},className:"share twitter"},Object(e.h)("button",{className:"button tw-w-full"},Object(e.h)(g.default,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),Object(e.h)(Ie,{onClick:()=>{Object(a.copyToClipboard)(Object(m.updateQuery)(Et,tt)),Qe("copy"),rt("Link copied to clipboard")},className:"share copy"},Object(e.h)("button",{className:"button short-button tw-w-full"},Object(e.h)(M.default,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!Le&&Object(e.h)(Ie,{onClick:()=>{Qe("email"),window.open(`mailto:?${Object(m.serializeQuery)({subject:De.title,body:Object(m.updateQuery)(Et,G({utm_source:"email"},tt))})}`)},className:"share email"},Object(e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},Object(e.h)(R.default,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),Object(e.h)(Ie,{onClick:()=>{Qe("media-assets"),window.open(`${Object(m.getPostUrl)(Se,De)}/media-assets`)},className:"share press-kit"},Object(e.h)("button",{className:"button tw-w-full"},Object(e.h)(x.default,{stroke:"#404040",fill:"white"}),"View media assets")))},Ie=De=>Object(e.h)("a",X(G({},De),{native:!0})),ge=({modalRef:De})=>{var Se,Le,tt;let Xe="";typeof window!="undefined"&&(Xe=window.location.host);const Et=(Se=document.head.querySelector('meta[property="og:image"]'))==null?void 0:Se.content,Qe=(Le=document.head.querySelector('meta[property="og:title"]'))==null?void 0:Le.content,rt=(tt=document.head.querySelector('meta[property="og:description"]'))==null?void 0:tt.content;return Object(e.h)("div",{onClick:()=>{De.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},Et&&Object(e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},Object(e.h)("img",{src:Et,className:"social-media-share-preview__image"})),Object(e.h)("div",{className:"tw-p-3"},Object(e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},Xe),Object(e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},Qe),Object(e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},rt)))};var oe=ie,ee=t(262),te=t(548),le=t(549),Q=t(337),z=t(44),V=t(278),ne=t(87),re=t(291),de=Object.defineProperty,fe=Object.defineProperties,we=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,st=(De,Se,Le)=>Se in De?de(De,Se,{enumerable:!0,configurable:!0,writable:!0,value:Le}):De[Se]=Le,Rt=(De,Se)=>{for(var Le in Se||(Se={}))$e.call(Se,Le)&&st(De,Le,Se[Le]);if(Ge)for(var Le of Ge(Se))it.call(Se,Le)&&st(De,Le,Se[Le]);return De},Ht=(De,Se)=>fe(De,we(Se)),je=(De,Se,Le)=>(st(De,typeof Se!="symbol"?Se+"":Se,Le),Le),Oe=(De,Se,Le)=>new Promise((tt,Xe)=>{var Et=ke=>{try{rt(Le.next(ke))}catch(jt){Xe(jt)}},Qe=ke=>{try{rt(Le.throw(ke))}catch(jt){Xe(jt)}},rt=ke=>ke.done?tt(ke.value):Promise.resolve(ke.value).then(Et,Qe);rt((Le=Le.apply(De,Se)).next())});class be extends e.Component{constructor(Se,Le){super(Se,Le);je(this,"updateSubscribeTakeover",()=>{const Xe=this.props.publication.id,Et=`pub-${Xe}-subscribe-prompt-next-shown-at`,Qe=`pub-${Xe}-takeover-next-shown-at`,rt=Object(z.getStoredValue)(Qe),ke=!rt||Date.now()>=rt;Object(a.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(ke&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),Object(z.setStoredValue)(Et,s()().add(1,"hour").valueOf()),Object(z.setStoredValue)(Qe,s()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),je(this,"onChangeComment",Xe=>{this.setState({comments:Object(W.j)(this.state.comments,Xe)})}),je(this,"onVisible",Xe=>{const Et=`${Xe} Seen`;!this.state.post||this.state[Et]||(this.setState({[Et]:!0}),Object(r.i)(Et,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type}))}),je(this,"_inlineComments",()=>{const{inlineComments:Xe,publication:Et}=this.props;return Xe||Object(b.shouldUseInlineComments)(Et,this.state.post||this.props.post)}),je(this,"fillEmbeddedEmailInputs",()=>{var Xe;const Et=document.querySelectorAll('article.post input[type="email"]'),Qe=((Xe=this.state.user)==null?void 0:Xe.email)||this.props.freeSignupEmail;if(Qe)for(const rt of Et)rt.value=Qe;this.setState({embeddedEmailInputsFilled:!0})});let{user:tt}=Se;Se.postPreview&&(tt=Ht(Rt({},tt),{is_draft:!1,is_subscribed:Se.postPreview!=="free",is_founding:Se.postPreview==="founding"})),Se.post&&[Se.post.slug,Se.post.uuid].filter(Xe=>Xe).includes(Se.slug)&&!this.shouldRedirectToComments(Se.post)?this.state={post:Se.post,comments:Se.renderedComments,user:tt}:this.state={post:null,comments:null,user:tt}}componentDidMount(){return Oe(this,null,function*(){Object(a.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Object(ee.a)();const Se=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(Le=>Le).includes(this.props.slug)&&this.props.post;this.shouldRedirectToComments(Se)?this.redirectToComments(Se):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&(Object(a.removeQueryParam)("justPublished"),Object(a.preloadImage)(Object(V.c)(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&Object(a.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&Object(a.removeQueryParam)("autoSharedOnTwitter"),this.props.showRecommendPostModal&&Object(a.removeQueryParam)("showRecommendPostModal"),this.props.showWelcome||Object(a.onWindowVisibilityChange)(this.updateSubscribeTakeover)})}componentWillUnmount(){var Se;(Se=this.cleanUpTikTokEnhanceListener)==null||Se.call(this),Object(a.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(Se){return Oe(this,null,function*(){Se.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(Se){if(Se&&Se.type==="thread")return!0}redirectToComments(Se){Object(o.route)(Object(m.getPostUrl)(this.props.publication,Se,{comments:!0,noBase:!0}),!0)}loadPost(){return Oe(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(Se=>Se).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>Object(a.scrollToHash)());else{this.setState({post:null,comments:null});try{const Se=yield p.a.get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(Se.body)?this.redirectToComments(Se.body):(yield Object(a.setState)(this,{post:Se.body,comments:Se.body.comments}),Object(a.scrollToHash)())}catch(Se){console.error("Failed to load post:",Se),Se.status===404?this.setState({notFound:!0}):alert(Object(a.getNetworkErrorMessage)(Se))}}})}triggerShareOnLoad(){if(Object(m.getQueryItem)("action")==="share")window.history.replaceState({},document.title,Object(m.updateQuery)({action:null}));else return;!this.post||this.post.triggerShare({fromEmail:!0})}render({slug:Se,freeSignup:Le,freeSignupEmail:tt,publication:Xe,reaction_token:Et,hide_intro_popup:Qe,freewallVariant:rt,unlock:ke,sort:jt,search:Nt,children:rn,showWelcome:sn,justPublished:dt,autoSharedOnTwitter:mt,readerIsSearchCrawler:gt,postPreview:ze,truncatedPost:ue,selectionFromQuery:bt,embeddedPublications:wt,siteConfigs:It={},freeTrialCoupon:We,showRecommendPostModal:lt,publicationSettings:Ae},{comments:Ve,notFound:at,post:ot,user:vt,showSubscribeTakeover:Ct,subscribeTakeoverHidden:Mt}){const Lt=this._inlineComments(),_t=(ot==null?void 0:ot.audience)?Object(n.userHasFullAccessToPost)(vt,ot):!0,Qt=(vt==null?void 0:vt.is_subscribed)&&_t,un=ot&&ot.slug&&ot.slug!=="coming-soon"&&ot.type!=="page",Jt=Object(b.commentsEnabledForPost)({publication:Xe,post:ot}),Xt=Object(b.showCommentsOnPost)({publication:Xe,post:ot}),yn=Qt||(vt==null?void 0:vt.is_free_subscriber)||Le,wn=(ke||(ot==null?void 0:ot.free_unlock_required))&&!yn,Ze=wn&&["treatment_short","treatment_long"].includes(rt),Pe=vt&&vt.is_contributor&&(ot==null?void 0:ot.slug)=="coming-soon"&&!(Ae==null?void 0:Ae.seen_coming_soon_explainer),Ye=vt&&!vt.is_admin&&!vt.is_author&&!!(ot==null?void 0:ot.audience_before_archived)&&!Qt&&Object(u.maybeGetVariantFor)("paywall_the_archives")==="control";Ze&&(ue?ot.body_html=ue.body_html:ot.truncatedBody&&(ot.body_html=ot.truncatedBody)),wn&&Object(u.getVariantFor)("longer_freewall");const Je=(ot==null?void 0:ot.type)==="podcast",yt=un?null:Object(m.getTwitterSubscribeCardUrl)(Xe);let Dt=!(ot==null?void 0:ot.hidden)&&(Object(b.isUUID)(Se)||Qt||gt||ot&&!Object(n.isPaidAudience)(ot.audience)&&!Ze||ot&&!ot.slug&&!Ze);Dt=Ye||Dt;const Ut=!Dt||(vt==null?void 0:vt.is_contributor)&&ot&&Object(n.isPaidAudience)(ot.audience),zt=dt&&(vt==null?void 0:vt.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(ot.type);return Object(e.h)("div",null,Object(e.h)(Ce,{pub:Xe,post:ot}),(sn||Ct)&&Object(e.h)(T.c,{freeSignup:Le,freeSignupEmail:tt,user:vt,post:ot,publication:Xe,hidden:Qe||Ze}),ot&&Xe&&Object(e.h)(te.a,{user:vt,subdomain:Xe.subdomain,post:ot}),Pe&&Object(e.h)(Q.b,null),Object(e.h)("div",{className:O()("single-post-container")},Object(e.h)("div",{className:O()({container:!Je})},Object(e.h)("div",{className:"single-post"},Object(e.h)(V.a,{post:ot,publication:Xe,selection:bt,siteConfigs:It,twitterCardUrl:yt}),ot?Object(e.h)(C.c,{ref:cn=>this.post=cn,commentsEnabled:Jt,postPreview:ze,showComments:Xt,user:vt,post:ot,pub:Xe,freeSignup:Le,freeSignupEmail:tt,reaction_token:Et,disableSubscribePrompt:sn&&!(Qe||Ze),paywall:Dt?!1:Ze?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${Xe.name} to unlock this ${ot.type==="podcast"?"episode":"post"}`}:!0,noTitleLink:!0,onChange:cn=>this.setState(cn),fromPostPage:!0,freeTrialCoupon:We,showRecommendPostModal:Boolean(lt)}):at?Object(e.h)("p",{className:"main-loader"},"Post not found"):Object(e.h)(C.g,{pub:Xe}),rn)),un&&Dt&&[Xt&&!Je&&Object(e.h)(he,{commentsEnabled:Jt,comments:Ve,post:ot,slug:Se,user:vt,freeSignup:Le,freeSignupEmail:tt,publication:Xe,reaction_token:Et,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Lt,selectionFromQuery:bt,onChange:cn=>this.setState(cn)}),Xe.has_posts&&Object(e.h)("div",{className:"single-post-section"},Object(e.h)("div",{className:"full-container-border"}),Object(e.h)("div",{className:"container"},Object(e.h)(_.a,{onVisible:()=>this.onVisible("Top Posts Footer")}),Object(e.h)(k.a,{user:vt,freeSignup:Le,freeSignupEmail:tt,pub:Xe,maxPosts:!Ut&&!Qt&&!(yn&&!Xe.plans)?3:10,filterPosts:cn=>cn.id!==ot.id,sort:jt,search:Nt,stateInUrl:!0,sortTabs:cn=>{const vn=cn.findIndex(Cn=>Cn.id==="top");if(vn!==-1)return[cn[vn]].concat(cn.filter((Cn,Rn)=>Rn!==vn))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!Ut&&[Object(e.h)(_.a,{onVisible:()=>this.onVisible("Subscribe Footer")}),Object(e.h)(w,{publication:Xe,user:vt,freeSignupEmail:tt,freeSignup:Le})]],zt?Object(e.h)(oe,{post:ot,autoSharedOnTwitter:mt==="true",publicationTwitterScreenName:Xe.twitter_screen_name,publication:Xe,showAfter:(wt==null?void 0:wt.length)?Object(e.h)(le.a,{pub:Xe,pubsToRecommend:wt}):null}):null))}}class he extends e.Component{constructor(Se,Le){super(Se,Le);je(this,"modalRef",Object(e.createRef)(null)),this.inputRef=Object(e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:Se.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(C.b,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(C.b,this.handleFocusInput)}render({commentsEnabled:Se,inlineComments:Le,post:tt,user:Xe,freeSignup:Et,freeSignupEmail:Qe,publication:rt,reaction_token:ke,onVisible:jt,onChangeComment:Nt,selectionFromQuery:rn,slug:sn,onChange:dt},{comments:mt,reactionSigninComment:gt}){if(Le)return Object(e.h)("div",null,Object(e.h)("div",{className:"full-container-border"}),Object(e.h)(W.d,{slug:sn,user:Xe,freeSignupEmail:Qe,freeSignup:Et,post:tt,publication:rt,post_reaction_token:ke,selectionFromQuery:rn,initialComments:mt,inline:!0,onChange:dt}));const ze=(ue,bt)=>Oe(this,null,function*(){return Object(W.i)({user:Xe,reactionToken:ke,comments:mt,id:ue,reacted:bt,setComments:wt=>this.setState({comments:wt}),onNeedsSignin:wt=>new Promise(It=>this.setState({reactionSigninComment:wt},()=>this.modalRef.current.open(It)))})});return Object(e.h)("div",{className:"single-post-section comments-section"},Object(e.h)("div",{className:"full-container-border"}),Object(e.h)("div",{className:"container"},(Se||tt.comment_count>0)&&Object(e.h)("div",{className:"comments-section-title"},tt.comment_count>0?Object(b.pluralize)(tt.comment_count,"Comment"):"Comments"),Object(e.h)(_.a,{onVisible:()=>jt("Post Comments Footer")}),Se&&Object(e.h)(W.a,{user:Xe,freeSignup:Et,freeSignupEmail:Qe,pub:rt,post:tt,token:ke,ref:this.inputRef}),mt.length>0&&!Se&&Object(e.h)(W.e,{post:tt}),mt&&mt.length>0&&rt.community_enabled&&Object(e.h)(W.b,{className:"post-page-root-comment-list",key:`post:${tt.id}`,user:Xe,freeSignup:Et,freeSignupEmail:Qe,pub:rt,post:tt,comments:mt,reaction_token:ke,onChange:Nt,updateCommentReacted:ze}),Se&&tt.comment_count>(mt||[]).length&&Object(e.h)("a",{className:"more-comments",href:Object(W.h)(tt,rt)},tt.comment_count-(mt||[]).length," more comments\u2026"),gt&&Object(e.h)(ne.b,{comment:gt,pub:rt,user:Xe,react:()=>ze(gt.id,!0),modalRef:this.modalRef})))}}const Ce=({pub:De,post:Se})=>{if(!!Se)return Object(e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:c()(Object(re.a)(De,Se),{json:!0,isScriptContext:!0})}})}},function(S,i,t){"use strict";t.d(i,"b",function(){return s}),t.d(i,"a",function(){return h});var e=t(0),o=t(2);const l=Object(e.createContext)({hasThemedBackground:!1});l.displayName="ThemeContext";function s(){var c;return Boolean((c=Object(o.b)(l))==null?void 0:c.hasThemedBackground)}function h({value:c,children:d}){const p=Object(o.h)(()=>c,Object.values(c));return Object(e.h)(l.Provider,{value:p},d)}},function(S,i,t){"use strict";var e=String.prototype.replace,o=/%20/g,l={RFC1738:"RFC1738",RFC3986:"RFC3986"};S.exports={default:l.RFC3986,formatters:{RFC1738:function(s){return e.call(s,o,"+")},RFC3986:function(s){return String(s)}},RFC1738:l.RFC1738,RFC3986:l.RFC3986}},function(S,i,t){var e=t(106),o=t(71),l=e(o,"Map");S.exports=l},function(S,i,t){var e=t(464),o=t(471),l=t(473),s=t(474),h=t(475);function c(d){var p=-1,f=d==null?0:d.length;for(this.clear();++p<f;){var O=d[p];this.set(O[0],O[1])}}c.prototype.clear=e,c.prototype.delete=o,c.prototype.get=l,c.prototype.has=s,c.prototype.set=h,S.exports=c},function(S,i){var t=9007199254740991;function e(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=t}S.exports=e},function(S,i,t){var e=t(61),o=t(125),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function h(c,d){if(e(c))return!1;var p=typeof c;return p=="number"||p=="symbol"||p=="boolean"||c==null||o(c)?!0:s.test(c)||!l.test(c)||d!=null&&c in Object(d)}S.exports=h},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),Object(e.h)("circle",{cx:"4.17266",cy:"5.83001",r:"3.48929","stroke-width":"1"}),Object(e.h)("path",{d:"M8.98932 9.48406C8.98932 11.4111 7.42711 12.9733 5.50003 12.9733C3.57295 12.9733 2.01075 11.4111 2.01075 9.48406C2.01075 7.55698 3.57295 5.99478 5.50003 5.99478C7.42711 5.99478 8.98932 7.55698 8.98932 9.48406Z","stroke-width":"1"}),Object(e.h)("path",{d:"M12.3286 9.48406C12.3286 11.4111 10.7664 12.9733 8.83935 12.9733C6.91227 12.9733 5.35006 11.4111 5.35006 9.48406C5.35006 7.55698 6.91227 5.99478 8.83935 5.99478C10.7664 5.99478 12.3286 7.55698 12.3286 9.48406Z","stroke-width":"1"}),Object(e.h)("circle",{cx:"7.15874",cy:"3.83929",r:"3.48929","stroke-width":"1"}),Object(e.h)("circle",{cx:"10.1449",cy:"5.83001",r:"3.48929","stroke-width":"1"}));i.default=m},function(S,i,t){var e;let o="";i.REVIEW_ENV_SUBDOMAIN=o},function(S,i,t){var e=t(383),o=e(function(l,s,h){l[h?0:1].push(s)},function(){return[[],[]]});S.exports=o},function(S,i,t){"use strict";t.d(i,"c",function(){return _}),t.d(i,"b",function(){return T}),t.d(i,"d",function(){return P}),t.d(i,"a",function(){return y});var e=t(0),o=t(2),l=t(581),s=t(612),h=t(527),c=t(6),d=t.n(c),p=t(11),f=t(13),O=t(35),b=t(126),m=t(62),a=t(22),n={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--fuau6",bubble:"frontend-community-CommunityPostView-module__bubble--1JsFx",readMore:"frontend-community-CommunityPostView-module__readMore--1L4Pl",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--3bNpN",pixels:"frontend-community-CommunityPostView-module__pixels--2xjDM",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--2-Gyl","size-1":"frontend-community-CommunityPostView-module__size-1--3KLSz",image:"frontend-community-CommunityPostView-module__image--2x04a","size-2":"frontend-community-CommunityPostView-module__size-2--gGC48","size-4":"frontend-community-CommunityPostView-module__size-4--17hGA",img:"frontend-community-CommunityPostView-module__img--2Y1Kr",topLeft:"frontend-community-CommunityPostView-module__topLeft--2VXwd",topRight:"frontend-community-CommunityPostView-module__topRight--3HYtG",imageCount:"frontend-community-CommunityPostView-module__imageCount--1M_uq",linkImg:"frontend-community-CommunityPostView-module__linkImg--2Anej",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--3zuZO"},r=Object.defineProperty,u=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,w=(K,N,Y)=>N in K?r(K,N,{enumerable:!0,configurable:!0,writable:!0,value:Y}):K[N]=Y,C=(K,N)=>{for(var Y in N||(N={}))v.call(N,Y)&&w(K,Y,N[Y]);if(u)for(var Y of u(N))E.call(N,Y)&&w(K,Y,N[Y]);return K};function _({communityPost:K,author:N,extras:Y,withAttribution:F,flex:G}){return Object(e.h)(H,{user:N,flex:G},F&&Object(e.h)(y,{text:`From ${N.name}\u2019s subscriber chat`}),Object(e.h)(g,null,K.type==="link"&&K.link_url?Object(e.h)(x,{linkUrl:K.link_url}):K.type==="media"&&K.media_assets?Object(e.h)(j,{assets:K.media_assets}):null,K.body&&Object(e.h)(M,null,Object(e.h)("span",null,Object(e.h)(f.a,{weight:"bold"},N.name)," ",Object(e.h)(W,{text:K.body}))),Object(e.h)(U,null)),Y)}function T({author:K}){return Object(e.h)(H,{user:K},Object(e.h)(g,null,Object(e.h)(L,null),Object(e.h)(U,{isLocked:!0})))}function W({text:K,limit:N=600}){const[Y,F]=Object(o.k)(!1);return K.length>N&&!Y?Object(e.h)("span",null,K.slice(0,N)," ",Object(e.h)(O.c,{resetCss:!0,className:n.readMore,onClick:()=>F(!0)},"Read more")):Object(e.h)("span",null,K)}function k({communityComment:K,author:N}){return Object(e.h)(H,{user:N},Object(e.h)(g,null,Object(e.h)(D,null,Object(e.h)(R,null,N.name)," ",K.body)))}function $({communityComments:K,author:N}){return Object(e.h)(H,{user:N},Object(e.h)(g,null,K.map((Y,F)=>Object(e.h)(D,{key:Y.id},F===0&&Object(e.h)(R,null,N.name)," ",Y.body))))}function H({user:K,children:N,flex:Y="grow"}){return Object(e.h)(p.a,{alignItems:"start",gap:12,flex:Y},Object(e.h)(b.a,{user:K,size:40}),Object(e.h)(p.b,{flex:"grow",gap:4},N))}function g(K){return Object(e.h)(p.b,C({className:n.bubbleStack,gap:4,alignItems:"start"},K))}function M(K){return Object(e.h)(p.a,C({className:n.bubble,padding:12,bg:"secondary"},K))}function R({children:K}){return Object(e.h)(f.a,{weight:"bold"},K)}function D({children:K}){return Object(e.h)(M,null,Object(e.h)("span",null,K))}function U({isLocked:K}){const N=K?l.a:s.a;return Object(e.h)(M,{alignSelf:"stretch"},Object(e.h)(p.a,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},Object(e.h)(f.a,{color:"secondary"},"Reply..."),Object(e.h)(N,{size:20,stroke:"var(--color-secondary)"})))}function L(){const K=1e3,N=160,Y=8;return Object(e.h)(p.a,{className:n.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},Object(e.h)("svg",{className:n.pixels},[...A(0,K,Y)].map(F=>[...A(0,N,Y)].map(G=>Object(e.h)("rect",{width:Y,height:Y,x:F,y:G,fill:`rgba(0, 0, 0, ${(Math.random()*.1).toFixed(2)})`})))),Object(e.h)(p.a,{alignItems:"center",gap:4},Object(e.h)(l.a,{size:12,stroke:"var(--color-secondary)"}),Object(e.h)(f.b.Meta,null,"SUBSCRIBERS ONLY")))}function j({assets:K}){let N=K;return K.length>6&&(N=N.slice(0,5)),Object(e.h)(p.a,{className:d()(n.imageGroup,n[`size-${K.length}`]),alignSelf:"stretch",gap:4},N.map((Y,F)=>Object(e.h)(B,{key:Y.url,asset:Y,index:F,total:K.length})),K.length>6&&Object(e.h)(B,{asset:K[6],index:5,total:6,count:K.length-N.length}))}function B({asset:K,index:N,total:Y,count:F}){return Object(e.h)(p.a,{className:d()(n.image,N===0&&n.topLeft,(N===0&&Y===1||N===1&&Y===2||N===2)&&n.topRight),flex:"grow",radius:8},Object(e.h)(m.a,{src:K.url,maxWidth:600}),F!=null&&Object(e.h)(p.a,{className:n.imageCount,justifyContent:"center",alignItems:"center"},Object(e.h)(f.b.H2,{color:"bg-light"},"+",F)))}function x({linkUrl:K}){let N;try{const X=new URL(K);N=`${X.host}${X.pathname}${X.search}${X.hash}`}catch(X){N=K}const{result:Y,isLoading:F,error:G}=Object(a.g)({pathname:"/api/v1/link-metadata",query:{url:K},auto:!0,deps:[K]});return Object(e.h)(M,null,Object(e.h)(p.a,{justifyContent:"space-between",gap:12},Object(e.h)(p.b,null,(Y==null?void 0:Y.title)&&Object(e.h)(f.b,{font:"serif",lineHeight:24},Y.title),Object(e.h)(f.a,{size:13,color:"secondary"},N)),(Y==null?void 0:Y.image)&&Object(e.h)(m.a,{className:n.linkImg,src:Y.image,maxWidth:72})))}function P(K){return Object(e.h)(O.a,C({className:n.ctaButton,priority:"primary-theme"},K))}function y({text:K,isStatic:N}){return Object(e.h)(f.b,{color:"secondary",size:12,lineHeight:20,weight:"semibold",font:"text"},Object(e.h)(h.default,{height:12,stroke:"#808080",fill:"transparent",isStatic:N})," ",K)}function*A(K,N,Y=1){for(let F=K;F<N;F+=Y)yield F}},function(S,i,t){var e=t(61),o=t(199),l=t(492),s=t(282);function h(c,d){return e(c)?c:o(c,d)?[c]:l(s(c))}S.exports=h},function(S,i,t){"use strict";t.d(i,"g",function(){return C}),t.d(i,"d",function(){return T}),t.d(i,"a",function(){return W}),t.d(i,"b",function(){return k}),t.d(i,"c",function(){return $}),t.d(i,"f",function(){return g}),t.d(i,"e",function(){return M});var e=t(0),o=t(2),l=t(144),s=t(6),h=t.n(s),c=t(566),d=t(187),p=t(57),f=t(66),O=Object.defineProperty,b=Object.defineProperties,m=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,u=(R,D,U)=>D in R?O(R,D,{enumerable:!0,configurable:!0,writable:!0,value:U}):R[D]=U,v=(R,D)=>{for(var U in D||(D={}))n.call(D,U)&&u(R,U,D[U]);if(a)for(var U of a(D))r.call(D,U)&&u(R,U,D[U]);return R},E=(R,D)=>b(R,m(D)),w=(R,D)=>{var U={};for(var L in R)n.call(R,L)&&D.indexOf(L)<0&&(U[L]=R[L]);if(R!=null&&a)for(var L of a(R))D.indexOf(L)<0&&r.call(R,L)&&(U[L]=R[L]);return U};function C({hideOnScroll:R}={}){const[D,U]=Object(o.k)(!1),L=Object(o.j)();return Object(o.d)(()=>{if(D){const j=()=>{U(!1)},B=x=>{x.key==="Escape"&&U(!1)};return window.addEventListener("click",j),window.addEventListener("keydown",B),R&&window.addEventListener("scroll",j,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",j),window.removeEventListener("keydown",B),window.removeEventListener("scroll",j,{capture:!0})}}},[D]),{ref:L,isOn:D,setIsOn:U,toggle:()=>{U(!D)}}}const _={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function T({tetherRef:R,fixTo:D=_,offset:U={x:0,y:0},children:L,className:j}){const B=Object(o.j)();return Object(o.g)(()=>{const x=R.current,P=B.current;if(!x||!P)return;const y=x.getBoundingClientRect(),A=P.getBoundingClientRect(),K=v(v({},_),D);let N=K.anchorY==="center"?y.top+y.height/2:y[K.anchorY];K.tetherY==="bottom"&&(N=window.innerHeight-N),K.tetherY==="center"&&(N-=A.height/2);const Y=K.tetherY==="bottom"?"bottom":"top";let F=K.anchorX==="center"?y.left+y.width/2:y[K.anchorX];K.tetherX==="right"&&(F=window.innerWidth-F),K.tetherX==="center"&&(F-=A.width/2);const G=K.tetherX==="right"?"right":"left";Y==="top"&&N+A.height>window.innerHeight?(N=y.top-A.height,U.y&&(N-=U.y)):U.y&&(N+=U.y),U.x&&(F+=U.x),N+=window.scrollY,F+=window.scrollX,Object.assign(P.style,{minWidth:y.width+"px",[Y]:N+"px",[G]:F+"px"})},[]),Object(e.h)(l.a,null,Object(e.h)("div",{className:h()("dropdown3",j),ref:B,style:{position:"absolute"}},L))}const W=Object(f.a)("reader2-menu reader2-font-base");function k(R){var D=R,{priority:U}=D,L=w(D,["priority"]);const j=h()("reader2-menu-item","reader2-text-button",U,L.className);return L.href?Object(e.h)("a",E(v({},L),{className:j})):Object(e.h)("div",E(v({},L),{className:j}))}function $({options:R,value:D,onChange:U,fixedHeight:L=!1}){var j;const B=C({hideOnScroll:!0});return Object(e.h)(p.a,{variant:"tertiary",onClick:B.toggle,forwardedRef:B.ref,fixedHeight:L},(j=R.find(x=>x.value===D))==null?void 0:j.label,Object(e.h)(c.a,{size:16}),B.isOn&&Object(e.h)(T,{tetherRef:B.ref,fixTo:{anchorX:"right",tetherX:"right"}},Object(e.h)(W,null,R.map(x=>Object(e.h)(k,{key:x.value,onClick:()=>U(x.value),className:h()("reader2-split-menu-item selectable",D===x.value&&"isSelected")},x.label,D===x.value&&Object(e.h)(d.a,{className:"feather-icon"}))))))}function H(R){var D=R,{defaultValue:U,onChange:L}=D,j=w(D,["defaultValue","onChange"]);const[B,x]=Object(o.k)(U);return Object(e.h)($,E(v({},j),{value:B,onChange:P=>{x(P),L(P)}}))}function g({onHover:R}={}){const[D,U]=Object(o.k)(!1),L=Object(o.j)(),j=Object(o.j)(),B=Object(o.j)(),x=y=>{y.pointerType==="mouse"&&(clearTimeout(B.current),U(!0),R&&R())},P=y=>{y.pointerType==="mouse"&&(B.current=setTimeout(()=>{U(!1)},200))};return Object(o.d)(()=>{const y=L.current;if(y)return y.addEventListener("pointerenter",x),y.addEventListener("pointerleave",P),()=>{y.removeEventListener("pointerenter",x),y.removeEventListener("pointerleave",P)}},[]),Object(o.d)(()=>{const y=j.current,A=L.current;if(D&&A){const K=()=>{U(!1)};return window.addEventListener("scroll",K,{capture:!0,passive:!0}),y&&(y.addEventListener("pointerenter",x),y.addEventListener("pointerleave",P)),()=>{window.removeEventListener("scroll",K,{capture:!0}),y&&(y.removeEventListener("pointerenter",x),y.removeEventListener("pointerleave",P))}}},[D]),{ref:L,tooltipRef:j,isHovering:D}}function M({tetherRef:R,children:D}){return Object(e.h)(T,{tetherRef:R,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},Object(e.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},D,Object(e.h)("div",{className:"reader2-tooltip-arrow"},Object(e.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},Object(e.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},function(S,i,t){"use strict";t.d(i,"c",function(){return n}),t.d(i,"a",function(){return r}),t.d(i,"b",function(){return u});var e=t(0),o=t(6),l=t.n(o),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(v,E,w)=>E in v?s(v,E,{enumerable:!0,configurable:!0,writable:!0,value:w}):v[E]=w,b=(v,E)=>{for(var w in E||(E={}))p.call(E,w)&&O(v,w,E[w]);if(d)for(var w of d(E))f.call(E,w)&&O(v,w,E[w]);return v},m=(v,E)=>h(v,c(E)),a=(v,E)=>{var w={};for(var C in v)p.call(v,C)&&E.indexOf(C)<0&&(w[C]=v[C]);if(v!=null&&d)for(var C of d(v))E.indexOf(C)<0&&f.call(v,C)&&(w[C]=v[C]);return w};const n=({children:v=null,icon:E="",title:w="",content:C="",className:_="",showFirst:T=!1})=>Object(e.h)("div",{className:`popover-container ${_}`},Object(e.h)("div",{className:l()("popover typography",{showfirst:T})},Object(e.h)("div",{className:"content"},E,w&&Object(e.h)("strong",null,w),C&&Object(e.h)("section",null,C)),Object(e.h)("div",{className:"popover-tail"})),v),r=v=>{var E=v,{children:w,title:C,content:_}=E,T=a(E,["children","title","content"]);return C||_?Object(e.h)(n,b({title:C,content:_},T),w):w},u=v=>{var E=v,{children:w,title:C,content:_,shouldShow:T}=E,W=a(E,["children","title","content","shouldShow"]);return T?Object(e.h)(n,m(b({title:C,content:_},W),{showFirst:T}),w):w}},function(S,i,t){const e=t(14);function o(s){var h;return`${[s.is_primary,((h=s.publication)==null?void 0:h.author_id)===s.user_id,s.role==="admin",s.role==="contributor"].map(d=>d?"0":"1").join("")}-${e(s.created_at).valueOf()}`}function l(s){return s.slice(0).sort((h,c)=>o(h)>o(c)?1:-1)}S.exports={sortPublicationUsers:l}},function(S,i,t){"use strict";t.d(i,"a",function(){return H});var e=t(0),o=t(5),l=t(8),s=t.n(l),h=t(44),c=t.n(h),d=t(12),p=t(232),f=t(6),O=t.n(f),b=t(3),m=t.n(b),a=t(7),n=t.n(a),r=Object.defineProperty,u=(g,M,R)=>M in g?r(g,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):g[M]=R,v=(g,M,R)=>(u(g,typeof M!="symbol"?M+"":M,R),R);const E=5,w="video:playback_location:",C=4*60,_=60,T=60,W=3,k=60,$={hls:"application/x-mpegURL",mp4:"video/mp4"};class H extends e.Component{constructor(M,R){super(M,R);v(this,"onLoadedMetadata",()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))}),v(this,"onLoadedData",()=>{this.state.playbackRestoreLocation&&(clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))}),v(this,"onCanPlay",()=>{this.onTimeUpdate()}),v(this,"onPlay",()=>{var U;(U=l.globalPlaybackNotifier)==null||U.emit("play",this),this.setState({playing:!0})}),v(this,"onPause",()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()}),v(this,"onTimeUpdate",()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))}),v(this,"onWaiting",()=>{this.setState({waiting:Date.now()})}),v(this,"onPlaying",()=>{clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})}),v(this,"onVideoReachEnd",({resetTime:U=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),U&&this.player&&!Object(l.isIOs)()&&(this.player.currentTime=0),Object(l.exitFullscreen)(),Object(l.exitPictureInPicture)()}),v(this,"onPreviewClick",()=>{var U,L;this.state.previewHidden||this.href()||!this.playbackEnabled()||(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(U=this.player)==null||U.pause(),clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(L=this.player)==null||L.play(),this.previewHiddingTimeout=setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))}),v(this,"onContextMenu",U=>{U.preventDefault()}),v(this,"onAllSourcesFailed",()=>{var U,L;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(L=(U=this.props).onPlaybackFailed)==null||L.call(U)}),v(this,"onBeforeUnload",()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()}),v(this,"onGlobalPlay",U=>{this!==U&&this.player&&(this.track(o.a.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())}),v(this,"onGlobalKeyDown",U=>{var L;this.props.noKeyboardShortcuts||U.metaKey||U.altKey||U.ctrlKey||document.activeElement!==document.body||!this.player||((L=l.globalPlaybackNotifier)==null?void 0:L.listenerCount("play"))>1&&this.player.paused||(U.key==="f"?Object(l.isFullscreen)()?Object(l.exitFullscreen)()&&U.preventDefault():(Object(l.goFullscreen)(this.player)&&U.preventDefault(),this.player.paused&&this.player.play()):U.key===" "&&!Object(l.isFullscreen)()?(U.preventDefault(),this.player.paused?this.player.play():this.player.pause()):U.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):U.key==="ArrowLeft"&&(this.player.currentTime-=5))}),v(this,"cta",()=>""),v(this,"href",()=>this.props.href),v(this,"playbackEnabled",()=>!0);const D=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:D,currentTime:0,waiting:!0,duration:M.mediaUpload.duration||void 0,autoPlay:M.autoPlay,attemptingToPlay:M.autoPlay,previewHidden:D>0}}componentDidMount(){var M;(M=l.globalPlaybackNotifier)==null||M.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate()}componentWillUnmount(){var M;this.setPlaybackRestoreLocation(),(M=l.globalPlaybackNotifier)==null||M.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1})}componentDidUpdate(M,R){var D;!this.state.playing&&typeof this.state.waiting=="number"&&typeof R.waiting!="number"&&this.track(o.a.VIDEO_BUFFERING_STARTED),this.state.playing&&!R.playing&&!this.state.waiting&&typeof R.waiting=="number"&&this.track(o.a.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-R.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(R.currentTime)&&Math.floor(this.state.currentTime)%E==0&&this.track(o.a.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&R.playing&&((D=this.player)==null?void 0:D.ended)&&this.track(o.a.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${w}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration>C){const M=Object(h.getStoredValue)(this.getPlaybackLocationKey());if((M==null?void 0:M.currentTime)>_&&this.props.duration-M.currentTime>T){const R=Date.now()-M.watchedAt>k?W:0,D=Math.max(0,M.currentTime-R);if(D)return D}}}setPlaybackRestoreLocation(){var M;this.playbackEnabled()&&((M=this.player)==null?void 0:M.currentTime)&&Object(h.setStoredValue)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(M,R={}){const D=this.props.post;!D||Object(o.i)(M,Object.assign({post_id:D.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},R))}render({mediaUpload:M,isStatic:R},{previewHidden:D}){const{height:U,width:L}=Object(a.videoPlayerDimensions)(M,{isStatic:R}),j={paddingBottom:`${Math.min(100,100*U/L).toFixed(4)}%`};return Object(e.h)("div",{className:O()("video-player-wrapper",{"with-preview":!D,"is-static":R,"full-width":L>=960}),onClick:this.onPreviewClick},this.href()?Object(e.h)("a",{className:"video-player",href:this.href(),style:j},this.renderPlayer(this.props,this.state)):Object(e.h)("div",{className:"video-player",style:j},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:M,pub:R,reaction_token:D,isStatic:U,noControls:L,noPreview:j},{autoPlay:B,attemptingToPlay:x,previewHidden:P}){const y=!j&&!P,A=Object(b.updateQuery)(`/api/v1/video/upload/${M.id}/src`,{token:D,override_publication_id:R.id}),K=Object(l.isAndroid)()?["mp4"]:["hls","mp4"];return[this.playbackEnabled()&&!U&&typeof window!="undefined"&&Object(e.h)("video",{ref:N=>this.player=N,controls:!L&&!y,controlsList:"nodownload",autoPlay:B&&this.playbackEnabled(),poster:Object(b.getMediaUploadThumbnailUrlForPlayer)(M)},K.map((N,Y)=>Object(e.h)("source",{src:Object(b.updateQuery)(A,{type:N}),type:$[N],onError:Y===K.length-1?this.onAllSourcesFailed:null})),"Video playback is not supported on your browser. Please upgrade."),y&&[U&&Object(e.h)("img",{className:"video-player-preview",width:550,src:Object(b.getMediaUploadThumbnailUrlForPlayer)(M,{pub:R,isStatic:U})}),!U&&Object(e.h)("div",{className:O()("video-player-button",{"no-text":!this.cta()})},Object(e.h)("a",{className:"primary",href:this.href(),native:!0},Object(e.h)(d.b,{className:O()({loading:x&&this.playbackEnabled()})},Object(e.h)(p.default,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),Object(e.h)("span",null,this.cta()))))]]}}},function(S,i,t){const{TASTEMAKER_CATEGORY_NAME:e,COMMUNITY_PICKS_CATEGORY_NAME:o}=t(7);i.getCategoryIdFromSlug=(l,s)=>{if(!l)return"featured";if(l==="featured"||l==="twitter"||l==="podcast"||l===o||l===e)return l;const h=s.find(c=>c.slug===l);return h?h.id:"featured"}},function(S,i,t){"use strict";t.d(i,"b",function(){return C}),t.d(i,"c",function(){return R}),t.d(i,"a",function(){return D});var e=t(0),o=t(10),l=t.n(o),s=t(301),h=t(7),c=t.n(h),d=t(14),p=t.n(d),f=t(8),O=t.n(f),b=t(5),m=Object.defineProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,u=(U,L,j)=>L in U?m(U,L,{enumerable:!0,configurable:!0,writable:!0,value:j}):U[L]=j,v=(U,L)=>{for(var j in L||(L={}))n.call(L,j)&&u(U,j,L[j]);if(a)for(var j of a(L))r.call(L,j)&&u(U,j,L[j]);return U},E=(U,L,j)=>(u(U,typeof L!="symbol"?L+"":L,j),j),w=(U,L,j)=>new Promise((B,x)=>{var P=K=>{try{A(j.next(K))}catch(N){x(N)}},y=K=>{try{A(j.throw(K))}catch(N){x(N)}},A=K=>K.done?B(K.value):Promise.resolve(K.value).then(P,y);A((j=j.apply(U,L)).next())});const C="audio/mpeg,audio/mp3,audio/mp4,audio/m4a,audio/x-m4a,audio/aac,audio/aiff,audio/x-aiff,audio/amr,audio/flac,audio/ogg,audio/wav,audio/x-wav",_=5*1e3,T=30*1e3,W=30*60*1e3,k=.7,$=.03,H=60,g=5,M=1e3;class R extends e.Component{constructor(L,j){super(L,j);E(this,"updateTranscodingTime",()=>{var B;this.updateTranscodingTimeout||(this.setState(this.getEstimatedTranscodingTime()),((B=this.state.mediaUpload)==null?void 0:B.state)==="uploaded"&&(this.updateTranscodingTimeout=setTimeout(()=>{this.updateTranscodingTimeout=null,this.updateTranscodingTime()},M)))}),E(this,"onMediaUpload",B=>{clearTimeout(this.syncMediaUploadTimeout),this.setState({mediaUploadId:B.id,mediaUpload:B},()=>{var x,P;this.syncMediaUpload(),(P=(x=this.props).onChange)==null||P.call(x,{mediaUpload:B})})}),E(this,"onMediaUploadUpdated",B=>{var x,P;this.setState({mediaUpload:v(v({},this.state.mediaUpload),B)}),(P=(x=this.props).onChange)==null||P.call(x,{mediaUpload:this.state.mediaUpload})}),E(this,"removeUpload",({skipConfirm:B=!1}={})=>{var x;const{mediaUploadId:P,mediaUpload:y}=this.state;!P||!B&&!["cancelled","error"].includes(y==null?void 0:y.state)&&!confirm(`This will permanently remove your ${y==null?void 0:y.media_type}. Are you sure?`)||((x=this.optionsDropdown)==null||x.close(),clearTimeout(this.syncMediaUploadTimeout),this.setState({mediaUploadId:null,mediaUpload:null},()=>{var A,K;(K=(A=this.props).onChange)==null||K.call(A,{mediaUpload:null})}))}),E(this,"syncMediaUpload",()=>w(this,null,function*(){var B;if(!this.state.mediaUploadId){this.state.mediaUpload&&this.setState({mediaUpload:null});return}if(!this.syncingMediaUpload){this.syncingMediaUpload=!0;try{const x=yield l.a.get(`/api/v1/${this.props.mediaType}/upload/${this.state.mediaUploadId}`);this.setState({mediaUpload:x.body},()=>{this.updateTranscodingTime(),x.body.state!=="uploaded"&&this.stopUpdatingTranscodingTime()})}catch(x){alert(Object(f.getNetworkErrorMessage)(x))}(!this.state.mediaUpload||this.state.mediaUpload.state==="uploaded")&&(this.syncMediaUploadTimeout=setTimeout(this.syncMediaUpload,p()((B=this.state.mediaUpload)==null?void 0:B.created_at).add(W,"milliseconds").isBeforeNow()?T:_)),this.syncingMediaUpload=!1}})),this.state={mediaUploadId:L.mediaUploadId,mediaUpload:L.mediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1}}getMediaUploadId(){return this.state.mediaUploadId}stopUpdatingTranscodingTime(){clearTimeout(this.updateTranscodingTimeout),this.updateTranscodingTimeout=null}getEstimatedTranscodingTime(){let L=1,j=0,B=new Date;const{mediaUpload:x}=this.state;if((x==null?void 0:x.state)==="uploaded"&&x.uploaded_at&&x.duration>0){const P=this.props.mediaType==="video"?k:$,y=this.props.mediaType==="video"?H:g,A=Math.max(y,x.duration*P)*1e3,K=Math.max(0,Date.now()-new Date(x.uploaded_at)),N=Math.max(0,A-K);L=Math.max(0,1-N/A),this.state.timeLeft&&this.state.timeLeft<N&&this.state.estimatedTimeLeftAt-Date.now()<5*1e3?(j=this.state.timeLeft,B=this.state.estimatedTimeLeftAt):j=N}return{estimatedTimeLeftAt:B,percentComplete:L,timeLeft:j}}componentDidMount(){this.syncMediaUpload()}componentWillUnmount(){clearTimeout(this.syncMediaUploadTimeout),this.stopUpdatingTranscodingTime()}componentDidUpdate(L,j){var B,x,P,y,A;((B=this.state.mediaUpload)==null?void 0:B.state)==="transcoded"&&((x=j.mediaUpload)==null?void 0:x.state)!==((P=this.state.mediaUpload)==null?void 0:P.state)&&((A=(y=this.props).onChange)==null||A.call(y,{mediaUpload:this.state.mediaUpload}))}render({pub:L,postId:j,post:B},{mediaUploadId:x,mediaUpload:P,timeLeft:y,settingThumbnail:A,settingPreview:K}){return console.error("render must be implemented by child class"),null}}class D extends s.a{constructor(L,j){super(L,j);if(E(this,"onUploadClicked",()=>w(this,null,function*(){(Object(f.isIE)()||Object(f.isFirefox)())&&this.input.click(),this.trackUploadClicked()})),E(this,"uploadToS3",B=>{var x=P=>super[P];return w(this,null,function*(){var P,y;if(((P=this.state)==null?void 0:P.preuploading)||((y=this.state)==null?void 0:y.uploading))return;if(this.setState({preuploading:!0}),B.size>h.MAX_MEDIA_UPLOAD_SIZE){alert(`${this.props.mediaType.toUpperCase()} file too large. Your file is ${Object(h.formatBytes)(B.size)}; the maximum is ${Object(h.formatBytes)(h.MAX_MEDIA_UPLOAD_SIZE)}.  Try encoding at a lower bitrate.`),this.setState({preuploading:!1});return}yield this.props.setPostId(),this.setState({durationPromise:Object(f.getVideoBlobDuration)(B)});let A;try{const F=this.props.mediaType==="video"?"/api/v1/video/upload":"/api/v1/audio/upload";A=yield l.a.post(F).query({post_id:this.props.postId,filetype:B.type,fileSize:B.size}),Object(b.i)(b.a.MEDIA_UPLOAD_CREATED,{media_type:this.props.mediaType,file_size:B.size,file_type:B.type,post_id:this.props.postId})}catch(F){this.onError({upload_state:"preupload"});return}const{mediaUpload:K,multipartUploadId:N,multipartUploadUrls:Y}=A.body;this.setState({preuploading:!1,mediaUpload:K,multipartUploadId:N}),Object(b.i)(b.a.MEDIA_UPLOAD_STARTED,{media_upload_id:K.id,media_type:this.props.mediaType,post_id:this.props.postId}),x("uploadFile").call(this,B,null,{urls:Y,method:"PUT",withCredentials:!1,useFormData:!1})})}),E(this,"onFileSelected",B=>w(this,null,function*(){B=B||this.input.files[0],this.input&&(this.input.value=""),!!B&&this.uploadToS3(B)})),E(this,"onComplete",()=>w(this,null,function*(){var B,x,P,y;const A=(B=this.state.uploading)==null?void 0:B.status;if(!A||A<200||A>=400){this.onError();return}Object(b.i)(b.a.MEDIA_UPLOAD_COMPLETED,{media_upload_id:this.state.mediaUpload.id,post_id:this.props.postId});let K;try{K=yield this.state.durationPromise}catch(N){console.error("Failed to fetch video duration:",N)}try{const N=yield l.a.post(`/api/v1/${this.props.mediaType}/upload/${this.state.mediaUpload.id}/transcode`).send({duration:K,multipart_upload_id:this.state.multipartUploadId,multipart_upload_etags:(x=this.state.uploadingXhrs)==null?void 0:x.map(Y=>Y.getResponseHeader("Etag"))});this.setState({mediaUpload:null,multipartUploadId:null}),this.resetUpload(),(y=(P=this.props).onUpload)==null||y.call(P,N.body)}catch(N){throw this.onError({upload_state:"transcoding"}),N}})),!["video","audio"].includes(L.mediaType))throw new Error(`unsupported media type: ${L.mediaType}`);this.accepts=L.mediaType==="video"?"video/*":C,this.fudgeFactor=.9,this.chunkSize=h.MAX_MEDIA_UPLOAD_CHUNK_SIZE}onError({upload_state:L="uploading"}={}){var j;Object(b.i)(b.a.MEDIA_UPLOAD_FAILED,{upload_state:L,media_upload_id:(j=this.state.mediaUpload)==null?void 0:j.id,post_id:this.props.postId}),super.onError()}render(){return console.error("render must be implemented by child class"),null}}},function(S,i){function t(e,o){for(var l=-1,s=e==null?0:e.length,h=Array(s);++l<s;)h[l]=o(e[l],l,e);return h}S.exports=t},function(S,i,t){var e=t(178),o=e.slice,l=e.pluck,s=e.each,h=e.bind,c=e.create,d=e.isList,p=e.isFunction,f=e.isObject;S.exports={createStore:m};var O={version:"2.0.12",enabled:!1,get:function(a,n){var r=this.storage.read(this._namespacePrefix+a);return this._deserialize(r,n)},set:function(a,n){return n===void 0?this.remove(a):(this.storage.write(this._namespacePrefix+a,this._serialize(n)),n)},remove:function(a){this.storage.remove(this._namespacePrefix+a)},each:function(a){var n=this;this.storage.each(function(r,u){a.call(n,n._deserialize(r),(u||"").replace(n._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(a){return this._namespacePrefix=="__storejs_"+a+"_"},createStore:function(){return m.apply(this,arguments)},addPlugin:function(a){this._addPlugin(a)},namespace:function(a){return m(this.storage,this.plugins,a)}};function b(){var a=typeof console=="undefined"?null:console;if(!!a){var n=a.warn?a.warn:a.log;n.apply(a,arguments)}}function m(a,n,r){r||(r=""),a&&!d(a)&&(a=[a]),n&&!d(n)&&(n=[n]);var u=r?"__storejs_"+r+"_":"",v=r?new RegExp("^"+u):null,E=/^[a-zA-Z0-9_\-]*$/;if(!E.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var w={_namespacePrefix:u,_namespaceRegexp:v,_testStorage:function(_){try{var T="__storejs__test__";_.write(T,T);var W=_.read(T)===T;return _.remove(T),W}catch(k){return!1}},_assignPluginFnProp:function(_,T){var W=this[T];this[T]=function(){var $=o(arguments,0),H=this;function g(){if(!!W)return s(arguments,function(R,D){$[D]=R}),W.apply(H,$)}var M=[g].concat($);return _.apply(H,M)}},_serialize:function(_){return JSON.stringify(_)},_deserialize:function(_,T){if(!_)return T;var W="";try{W=JSON.parse(_)}catch(k){W=_}return W!==void 0?W:T},_addStorage:function(_){this.enabled||this._testStorage(_)&&(this.storage=_,this.enabled=!0)},_addPlugin:function(_){var T=this;if(d(_)){s(_,function($){T._addPlugin($)});return}var W=l(this.plugins,function($){return _===$});if(!W){if(this.plugins.push(_),!p(_))throw new Error("Plugins must be function values that return objects");var k=_.call(this);if(!f(k))throw new Error("Plugins must return an object of function properties");s(k,function($,H){if(!p($))throw new Error("Bad plugin property: "+H+" from plugin "+_.name+". Plugins should only return functions.");T._assignPluginFnProp($,H)})}},addStorage:function(_){b("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(_)}},C=c(w,O,{plugins:[]});return C.raw={},s(C,function(_,T){p(_)&&(C.raw[T]=h(C,_))}),s(a,function(_){C._addStorage(_)}),s(n,function(_){C._addPlugin(_)}),C}},function(S,i,t){var e=t(178),o=e.Global;S.exports={name:"localStorage",read:s,write:h,each:c,remove:d,clearAll:p};function l(){return o.localStorage}function s(f){return l().getItem(f)}function h(f,O){return l().setItem(f,O)}function c(f){for(var O=l().length-1;O>=0;O--){var b=l().key(O);f(s(b),b)}}function d(f){return l().removeItem(f)}function p(){return l().clear()}},function(S,i){S.exports={name:"memoryStorage",read:e,write:o,each:l,remove:s,clearAll:h};var t={};function e(c){return t[c]}function o(c,d){t[c]=d}function l(c){for(var d in t)t.hasOwnProperty(d)&&c(t[d],d)}function s(c){delete t[c]}function h(c){t={}}},function(S,i,t){var e=t(352),o=t(383),l=o(function(s,h,c){e(s,c,h)});S.exports=l},function(S,i,t){"use strict";t.d(i,"a",function(){return M}),t.d(i,"e",function(){return D}),t.d(i,"b",function(){return U}),t.d(i,"d",function(){return L}),t.d(i,"c",function(){return x}),t.d(i,"f",function(){return P}),t.d(i,"g",function(){return y}),t.d(i,"h",function(){return A}),t.d(i,"i",function(){return K});var e=t(0),o=t(6),l=t.n(o),s=t(57),h=t(16),c=t(75),d=t(3),p=t(187),f=t(576),O=t(25),b=t(59),m=t(104),a=t(5),n=t(13),r=t(11),u={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--3R1sb"},v=t(247),E=Object.defineProperty,w=Object.defineProperties,C=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,k=(N,Y,F)=>Y in N?E(N,Y,{enumerable:!0,configurable:!0,writable:!0,value:F}):N[Y]=F,$=(N,Y)=>{for(var F in Y||(Y={}))T.call(Y,F)&&k(N,F,Y[F]);if(_)for(var F of _(Y))W.call(Y,F)&&k(N,F,Y[F]);return N},H=(N,Y)=>w(N,C(Y)),g=(N,Y)=>{var F={};for(var G in N)T.call(N,G)&&Y.indexOf(G)<0&&(F[G]=N[G]);if(N!=null&&_)for(var G of _(N))Y.indexOf(G)<0&&W.call(N,G)&&(F[G]=N[G]);return F};function M(N){var Y=N,{pub:F,subscribeButtonStyle:G,className:X,onClick:q}=Y,se=g(Y,["pub","subscribeButtonStyle","className","onClick"]);return Object(e.h)(h.l,{linkClassName:l()("reader2-pub-link",X),href:Object(d.getPubUrl)(F,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:!!Object(b.c)()}),newTab:G!=null,onClick:q},Object(e.h)(R,H($({},se),{pub:F,subscribeButtonStyle:G})))}function R({pub:N,author:Y,subscribeButtonStyle:F,surface:G}){var X;const q=(Y==null?void 0:Y.name)||N.author_name||((X=N.author)==null?void 0:X.name)||N.name;return Object(e.h)(D,null,Object(e.h)(L,{className:"head",pub:N,subtitle:`By ${q}`,subscribeButtonStyle:F,surface:G}),(N.editorial_bio||N.hero_text)&&Object(e.h)(h.z,{variant:"secondary",className:"description",isConstrained:!0},N.editorial_bio||N.hero_text),N.rankingDetail&&Object(e.h)(n.b.Meta,null,N.rankingDetail))}const D=Object(O.a)("reader2-pub-link");function U({children:N}){return Object(e.h)(h.z,{variant:"secondary",className:"description",isConstrained:!0},N)}function L({pub:N,subtitle:Y,subscribeButtonStyle:F=null,isSubscribed:G,className:X,badgeType:q,surface:se}){const ie=Object(b.c)();return Object(e.h)(P,{className:X},Object(e.h)(c.a,{className:"logo",pub:N,size:40,badgeType:q}),Object(e.h)(y,null,Object(e.h)("div",{className:"reader2-publication-name"},N.name),Object(e.h)(h.I,{className:"reader2-publication-subtitle"},Y)),G?Object(e.h)(r.a,{className:u.checkmarkWrapper,alignItems:"center",justifyContent:"center"},Object(e.h)(p.a,{size:16,stroke:"var(--color-tertiary)"})):F&&Object(e.h)(j,{pub:N,user:ie,buttonStyle:F,surface:se}))}function j({pub:N,user:Y,buttonStyle:F,surface:G}){const X=Object(v.c)(),q=K(G)(N);return Object(e.h)(s.a,{variant:"primary",look:F==="big"?"round":"circle",size:"small",hasLeftIcon:F==="big",newTab:!0,href:Object(d.getSubscribeUrl)(N,{addBase:!0,user:Y,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:se=>{if(se.stopPropagation(),Y){const ie="visibilitychange",Ee=()=>{document.visibilityState==="visible"&&(X.refetch(),document.removeEventListener(ie,Ee))};document.addEventListener(ie,Ee)}q(se)}},F==="big"?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"reader2-button-icon-circle"},Object(e.h)(f.a,{size:12,strokeWidth:3})),"Subscribe"):Object(e.h)(e.Fragment,null,Object(e.h)(f.a,{size:20})))}function B(N){var Y;return N.author_name||((Y=N.author)==null?void 0:Y.name)}function x({pub:N,author:Y}){const F=(Y==null?void 0:Y.name)||B(N);return Object(e.h)(h.I,null,"By ",F)}const P=Object(O.a)("reader2-publication-card"),y=Object(O.a)("meta");function A({className:N}){return Object(e.h)(h.l,{linkClassName:l()("reader2-pub-link",N)},Object(e.h)("div",{className:"reader2-publication-card"},Object(e.h)(h.A,{size:48}),Object(e.h)("div",{className:"meta",style:{gap:8}},Object(e.h)(h.A,{type:"bar",width:120}),Object(e.h)(h.A,{type:"bar",width:80}))),Object(e.h)("div",{className:"body"},Object(e.h)(h.A,{type:"bar",width:"90%"}),Object(e.h)(h.A,{type:"bar",width:"100%"}),Object(e.h)(h.A,{type:"bar",width:"80%"})))}function K(N){const Y=Object(b.c)(),{onboardingModalRef:F}=Object(m.b)();return(G,X)=>q=>{var se,ie;if(!Y){q.preventDefault(),X?(se=F.current)==null||se.openForPub(G,X):(ie=F.current)==null||ie.openToPubSignup(G);return}Object(a.l)(G,N)}}},function(S,i,t){"use strict";t.d(i,"b",function(){return d}),t.d(i,"a",function(){return f});var e=t(0),o=t(1),l=t(77),s=t(6),h=t.n(s),c=t(66);const d=Object(c.a)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-pt-2 tw-pb-4 tw-font-body"),p=({children:O})=>Object(e.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},O),f=({isOpen:O,onClose:b,children:m,includeBackdrop:a=!0,position:n="default",opacity:r="medium",testId:u="modal",className:v})=>{const E=h()({"tw-w-full tw-absolute tw-bottom-0 sm:tw-w-[500px] sm:tw-relative tw-mx-auto tw-rounded-lg tw-border tw-border-solid tw-border-substack-detail tw-bg-substack-bg tw-shadow-lg":n==="default","tw-absolute tw-flex tw-top-0 tw-left-0 tw-right-0 tw-bottom-0 tw-items-center tw-justify-center":n==="full"},v);return Object(e.h)(l.c,{show:O,as:o.Fragment},Object(e.h)(l.a,{"data-testid":u,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",open:O,onClose:b},Object(e.h)(p,null,a&&Object(e.h)(l.c.Child,{enter:"tw-transition tw-ease-in-out tw-duration-200",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-in-out tw-duration-200",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)(l.a.Overlay,{className:r==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50"})),Object(e.h)(l.c.Child,{as:o.Fragment,enter:"tw-transition ease-in-out tw-duration-200",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-in-out tw-duration-200",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)("div",{className:E},m)))))}},function(S,i,t){"use strict";t.d(i,"a",function(){return p}),t.d(i,"b",function(){return f});var e=t(80),o=t(38),l=t(77),s=t(0),h=t(6),c=t.n(h),d=t(66);const p=({isModal:O=!0,onClose:b,includeClose:m=!1,bottomBorder:a,title:n,description:r,as:u="h2",className:v,pagination:E})=>Object(s.h)("div",{className:c()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",{className:v,"tw-px-4":!E,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":a})},!n&&!E&&Object(s.h)(e.default,{alt:"Substack icon",height:24}),E&&Object(s.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},E[0]," OF ",E[1]),m&&Object(s.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:b,"aria-label":"close"},Object(s.h)(o.default,null)),n&&O&&Object(s.h)(l.a.Title,{as:u,className:"tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2"},n),r&&O&&Object(s.h)(l.a.Description,{as:"span",className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},r),n&&!O&&Object(s.h)(f,{className:"tw-col-start-1 tw-row-start-1"},n)&&Object(s.createElement)(u,{className:"tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title"},n),r&&!O&&Object(s.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},r)&&Object(s.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},r)),f=Object(d.a)("tw-my-0 tw-font-title","h2")},function(S,i,t){"use strict";t.d(i,"a",function(){return d});var e=t(0),o=t(62),l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,c=(p,f)=>{var O={};for(var b in p)s.call(p,b)&&f.indexOf(b)<0&&(O[b]=p[b]);if(p!=null&&l)for(var b of l(p))f.indexOf(b)<0&&h.call(p,b)&&(O[b]=p[b]);return O};function d(p){var f=p,{className:O,src:b,noStyle:m=!1,loading:a,onError:n}=f,r=c(f,["className","src","noStyle","loading","onError"]);let u,v;return"size"in r?(u=r.size,v=r.size):(u=r.width,v=r.height),Object(e.h)(o.a,{src:b,maxWidth:u*2,className:O,imageProps:{height:v*2,crop:"fill"},style:m?void 0:{width:u,height:v},loading:a,onError:n})}},function(S,i,t){"use strict";t.d(i,"a",function(){return a});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(133),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?c(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n};const m=({renderDropdown:n,children:r,onSelect:u,noBorder:v,className:E,root:w,disabled:C=!1})=>{const[_,T]=Object(o.k)(!1),W=Object(o.j)(),k=Object(o.a)(()=>{var g;T(!1),(w||((g=W==null?void 0:W.current)==null?void 0:g.closest('[role="dialog"]'))||window).removeEventListener("click",k)},[w]),$=Object(o.a)(()=>{!_&&!C&&(T(!0),setTimeout(()=>{var g;(w||((g=W==null?void 0:W.current)==null?void 0:g.closest('[role="dialog"]'))||window).addEventListener("click",k)},0))},[_,w,C]),H=(...g)=>{u&&u(...g),k()};return Object(e.h)("div",{className:s()("dropdown-base",E,{"no-border":v}),onClick:$,ref:W},r,Object(e.h)("div",{className:s()("dropdown-content",{open:_})},n({onSelect:H})))},a=({options:n,onSelect:r,value:u,targetStyle:v,contentStyle:E,noBorder:w,getTitle:C,targetPrefix:_})=>{const T=typeof u=="string"?u:C(u),W=u&&typeof _=="function"?_(u):typeof _=="string"?_:"";return Object(e.h)(m,{onSelect:r,noBorder:w,renderDropdown:k=>Object(e.h)("div",{onClick:$=>$.stopPropagation(),className:"dl-text-picker",style:b({},E)},n.map($=>Object(e.h)("div",{className:"text-row",onClick:()=>k.onSelect($)},typeof $=="string"?$:C($))))},Object(e.h)("div",{className:"dropdown-target",style:b({},v)},Object(e.h)("span",{className:s()("target-value",{empty:!u})},u?W+T:"-- select --"),Object(e.h)("span",{style:{flex:1}}),Object(e.h)(h.default,null)))};i.b=m},function(S,i,t){"use strict";t.d(i,"a",function(){return b});var e=t(0),o=t(8),l=t.n(o);const s="balance-text",h=100,c=10,d=4;function p(m){O(m)&&(m.style.maxWidth="",f(m,m.clientHeight,0,m.clientWidth)),m.classList.add("visible")}function f(m,a,n,r){if(r-n<d){m.clientHeight>a?m.style.maxWidth=`${r}px`:m.style.maxWidth=`${m.scrollWidth+1}px`;return}if(n>=r){m.style.maxWidth=`${r}px`;return}const u=(n+r)/2;m.style.maxWidth=`${u}px`,m.clientHeight>a?f(m,a,u,r):f(m,a,n,u)}function O(m){var a;const n=m.innerHTML,r=m.textContent.split(" "),u=document.createElement("span");u.id="element-first-word",u.textContent=r.shift(),m.innerHTML="",m.appendChild(u),m.appendChild(document.createTextNode(` ${r.join(" ")}`));const v=((a=document.getElementById("element-first-word"))==null?void 0:a.offsetHeight)||u.offsetHeight,E=m.offsetHeight;return m.innerHTML=n,E-c>v}class b extends e.Component{constructor(a,n){super(a,n);this.debouncedRebalance=Object(o.debounce)(()=>this.rebalance(),h)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(a){return a.children!==this.props.children}rebalance(){typeof window!="undefined"&&(!this.base||p(this.base))}render({text:a}){return Object(e.h)("span",{className:s,style:{display:"inline-block"}},a)}}},,,function(S,i,t){var e=t(476),o=t(121);function l(s,h,c,d,p){return s===h?!0:s==null||h==null||!o(s)&&!o(h)?s!==s&&h!==h:e(s,h,c,d,l,p)}S.exports=l},function(S,i){S.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(2);function o(){const l=Object(e.j)(null);return[l,()=>{var h;return(h=l.current)==null?void 0:h.toggle()}]}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="black",height:v=19,width:E=19}=r,w=m(r,["stroke","height","width"]);return Object(e.h)(o.a,b(O({},w),{name:"VideoIcon",svgParams:{height:v,width:E,viewBox:"2 2 15 15"}}),Object(e.h)("g",{fill:"transparent"},Object(e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:u,"stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:u,"stroke-linejoin":"round"}),Object(e.h)("path",{d:"M4 7H15",stroke:u}),Object(e.h)("path",{d:"M4.5 4L7.5 7",stroke:u}),Object(e.h)("path",{d:"M8 4L11 7",stroke:u}),Object(e.h)("path",{d:"M11.5 4L14.5 7",stroke:u})))};i.default=a},function(S,i,t){var e=t(157),o=t(598);function l(s,h){return s&&s.length?o(s,e(h,2)):[]}S.exports=l},,function(S,i,t){(function(e){var o=t(71),l=t(484),s=i&&!i.nodeType&&i,h=s&&typeof e=="object"&&e&&!e.nodeType&&e,c=h&&h.exports===s,d=c?o.Buffer:void 0,p=d?d.isBuffer:void 0,f=p||l;e.exports=f}).call(this,t(225)(S))},function(S,i,t){"use strict";var e=t(304);function o(a){function n(oe,ee,te,le,Q){for(var z=0,V=0,ne=0,re=0,de,fe,we=0,Ge=0,$e,it=$e=de=0,st=0,Rt=0,Ht=0,je=0,Oe=te.length,be=Oe-1,he,Ce="",De="",Se="",Le="",tt;st<Oe;){if(fe=te.charCodeAt(st),st===be&&V+re+ne+z!==0&&(V!==0&&(fe=V===47?10:47),re=ne=z=0,Oe++,be++),V+re+ne+z===0){if(st===be&&(0<Rt&&(Ce=Ce.replace($,"")),0<Ce.trim().length)){switch(fe){case 32:case 9:case 59:case 13:case 10:break;default:Ce+=te.charAt(st)}fe=59}switch(fe){case 123:for(Ce=Ce.trim(),de=Ce.charCodeAt(0),$e=1,je=++st;st<Oe;){switch(fe=te.charCodeAt(st)){case 123:$e++;break;case 125:$e--;break;case 47:switch(fe=te.charCodeAt(st+1)){case 42:case 47:e:{for(it=st+1;it<be;++it)switch(te.charCodeAt(it)){case 47:if(fe===42&&te.charCodeAt(it-1)===42&&st+2!==it){st=it+1;break e}break;case 10:if(fe===47){st=it+1;break e}}st=it}}break;case 91:fe++;case 40:fe++;case 34:case 39:for(;st++<be&&te.charCodeAt(st)!==fe;);}if($e===0)break;st++}switch($e=te.substring(je,st),de===0&&(de=(Ce=Ce.replace(k,"").trim()).charCodeAt(0)),de){case 64:switch(0<Rt&&(Ce=Ce.replace($,"")),fe=Ce.charCodeAt(1),fe){case 100:case 109:case 115:case 45:Rt=ee;break;default:Rt=q}if($e=n(ee,Rt,$e,fe,Q+1),je=$e.length,0<ie&&(Rt=r(q,Ce,Ht),tt=C(3,$e,Rt,ee,F,Y,je,fe,Q,le),Ce=Rt.join(""),tt!==void 0&&(je=($e=tt.trim()).length)===0&&(fe=0,$e="")),0<je)switch(fe){case 115:Ce=Ce.replace(x,w);case 100:case 109:case 45:$e=Ce+"{"+$e+"}";break;case 107:Ce=Ce.replace(U,"$1 $2"),$e=Ce+"{"+$e+"}",$e=X===1||X===2&&E("@"+$e,3)?"@-webkit-"+$e+"@"+$e:"@"+$e;break;default:$e=Ce+$e,le===112&&($e=(De+=$e,""))}else $e="";break;default:$e=n(ee,r(ee,Ce,Ht),$e,le,Q+1)}Se+=$e,$e=Ht=Rt=it=de=0,Ce="",fe=te.charCodeAt(++st);break;case 125:case 59:if(Ce=(0<Rt?Ce.replace($,""):Ce).trim(),1<(je=Ce.length))switch(it===0&&(de=Ce.charCodeAt(0),de===45||96<de&&123>de)&&(je=(Ce=Ce.replace(" ",":")).length),0<ie&&(tt=C(1,Ce,ee,oe,F,Y,De.length,le,Q,le))!==void 0&&(je=(Ce=tt.trim()).length)===0&&(Ce="\0\0"),de=Ce.charCodeAt(0),fe=Ce.charCodeAt(1),de){case 0:break;case 64:if(fe===105||fe===99){Le+=Ce+te.charAt(st);break}default:Ce.charCodeAt(je-1)!==58&&(De+=v(Ce,de,fe,Ce.charCodeAt(2)))}Ht=Rt=it=de=0,Ce="",fe=te.charCodeAt(++st)}}switch(fe){case 13:case 10:V===47?V=0:1+de===0&&le!==107&&0<Ce.length&&(Rt=1,Ce+="\0"),0<ie*Ie&&C(0,Ce,ee,oe,F,Y,De.length,le,Q,le),Y=1,F++;break;case 59:case 125:if(V+re+ne+z===0){Y++;break}default:switch(Y++,he=te.charAt(st),fe){case 9:case 32:if(re+z+V===0)switch(we){case 44:case 58:case 9:case 32:he="";break;default:fe!==32&&(he=" ")}break;case 0:he="\\0";break;case 12:he="\\f";break;case 11:he="\\v";break;case 38:re+V+z===0&&(Rt=Ht=1,he="\f"+he);break;case 108:if(re+V+z+G===0&&0<it)switch(st-it){case 2:we===112&&te.charCodeAt(st-3)===58&&(G=we);case 8:Ge===111&&(G=Ge)}break;case 58:re+V+z===0&&(it=st);break;case 44:V+ne+re+z===0&&(Rt=1,he+="\r");break;case 34:case 39:V===0&&(re=re===fe?0:re===0?fe:re);break;case 91:re+V+ne===0&&z++;break;case 93:re+V+ne===0&&z--;break;case 41:re+V+z===0&&ne--;break;case 40:if(re+V+z===0){if(de===0)switch(2*we+3*Ge){case 533:break;default:de=1}ne++}break;case 64:V+ne+re+z+it+$e===0&&($e=1);break;case 42:case 47:if(!(0<re+z+ne))switch(V){case 0:switch(2*fe+3*te.charCodeAt(st+1)){case 235:V=47;break;case 220:je=st,V=42}break;case 42:fe===47&&we===42&&je+2!==st&&(te.charCodeAt(je+2)===33&&(De+=te.substring(je,st+1)),he="",V=0)}}V===0&&(Ce+=he)}Ge=we,we=fe,st++}if(je=De.length,0<je){if(Rt=ee,0<ie&&(tt=C(2,De,Rt,oe,F,Y,je,le,Q,le),tt!==void 0&&(De=tt).length===0))return Le+De+Se;if(De=Rt.join(",")+"{"+De+"}",X*G!=0){switch(X!==2||E(De,2)||(G=0),G){case 111:De=De.replace(j,":-moz-$1")+De;break;case 112:De=De.replace(L,"::-webkit-input-$1")+De.replace(L,"::-moz-$1")+De.replace(L,":-ms-input-$1")+De}G=0}}return Le+De+Se}function r(oe,ee,te){var le=ee.trim().split(R);ee=le;var Q=le.length,z=oe.length;switch(z){case 0:case 1:var V=0;for(oe=z===0?"":oe[0]+" ";V<Q;++V)ee[V]=u(oe,ee[V],te).trim();break;default:var ne=V=0;for(ee=[];V<Q;++V)for(var re=0;re<z;++re)ee[ne++]=u(oe[re]+" ",le[V],te).trim()}return ee}function u(oe,ee,te){var le=ee.charCodeAt(0);switch(33>le&&(le=(ee=ee.trim()).charCodeAt(0)),le){case 38:return ee.replace(D,"$1"+oe.trim());case 58:return oe.trim()+ee.replace(D,"$1"+oe.trim());default:if(0<1*te&&0<ee.indexOf("\f"))return ee.replace(D,(oe.charCodeAt(0)===58?"":"$1")+oe.trim())}return oe+ee}function v(oe,ee,te,le){var Q=oe+";",z=2*ee+3*te+4*le;if(z===944){oe=Q.indexOf(":",9)+1;var V=Q.substring(oe,Q.length-1).trim();return V=Q.substring(0,oe).trim()+V+";",X===1||X===2&&E(V,1)?"-webkit-"+V+V:V}if(X===0||X===2&&!E(Q,1))return Q;switch(z){case 1015:return Q.charCodeAt(10)===97?"-webkit-"+Q+Q:Q;case 951:return Q.charCodeAt(3)===116?"-webkit-"+Q+Q:Q;case 963:return Q.charCodeAt(5)===110?"-webkit-"+Q+Q:Q;case 1009:if(Q.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Q+Q;case 978:return"-webkit-"+Q+"-moz-"+Q+Q;case 1019:case 983:return"-webkit-"+Q+"-moz-"+Q+"-ms-"+Q+Q;case 883:if(Q.charCodeAt(8)===45)return"-webkit-"+Q+Q;if(0<Q.indexOf("image-set(",11))return Q.replace(N,"$1-webkit-$2")+Q;break;case 932:if(Q.charCodeAt(4)===45)switch(Q.charCodeAt(5)){case 103:return"-webkit-box-"+Q.replace("-grow","")+"-webkit-"+Q+"-ms-"+Q.replace("grow","positive")+Q;case 115:return"-webkit-"+Q+"-ms-"+Q.replace("shrink","negative")+Q;case 98:return"-webkit-"+Q+"-ms-"+Q.replace("basis","preferred-size")+Q}return"-webkit-"+Q+"-ms-"+Q+Q;case 964:return"-webkit-"+Q+"-ms-flex-"+Q+Q;case 1023:if(Q.charCodeAt(8)!==99)break;return V=Q.substring(Q.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+V+"-webkit-"+Q+"-ms-flex-pack"+V+Q;case 1005:return g.test(Q)?Q.replace(H,":-webkit-")+Q.replace(H,":-moz-")+Q:Q;case 1e3:switch(V=Q.substring(13).trim(),ee=V.indexOf("-")+1,V.charCodeAt(0)+V.charCodeAt(ee)){case 226:V=Q.replace(B,"tb");break;case 232:V=Q.replace(B,"tb-rl");break;case 220:V=Q.replace(B,"lr");break;default:return Q}return"-webkit-"+Q+"-ms-"+V+Q;case 1017:if(Q.indexOf("sticky",9)===-1)break;case 975:switch(ee=(Q=oe).length-10,V=(Q.charCodeAt(ee)===33?Q.substring(0,ee):Q).substring(oe.indexOf(":",7)+1).trim(),z=V.charCodeAt(0)+(V.charCodeAt(7)|0)){case 203:if(111>V.charCodeAt(8))break;case 115:Q=Q.replace(V,"-webkit-"+V)+";"+Q;break;case 207:case 102:Q=Q.replace(V,"-webkit-"+(102<z?"inline-":"")+"box")+";"+Q.replace(V,"-webkit-"+V)+";"+Q.replace(V,"-ms-"+V+"box")+";"+Q}return Q+";";case 938:if(Q.charCodeAt(5)===45)switch(Q.charCodeAt(6)){case 105:return V=Q.replace("-items",""),"-webkit-"+Q+"-webkit-box-"+V+"-ms-flex-"+V+Q;case 115:return"-webkit-"+Q+"-ms-flex-item-"+Q.replace(y,"")+Q;default:return"-webkit-"+Q+"-ms-flex-line-pack"+Q.replace("align-content","").replace(y,"")+Q}break;case 973:case 989:if(Q.charCodeAt(3)!==45||Q.charCodeAt(4)===122)break;case 931:case 953:if(K.test(oe)===!0)return(V=oe.substring(oe.indexOf(":")+1)).charCodeAt(0)===115?v(oe.replace("stretch","fill-available"),ee,te,le).replace(":fill-available",":stretch"):Q.replace(V,"-webkit-"+V)+Q.replace(V,"-moz-"+V.replace("fill-",""))+Q;break;case 962:if(Q="-webkit-"+Q+(Q.charCodeAt(5)===102?"-ms-"+Q:"")+Q,te+le===211&&Q.charCodeAt(13)===105&&0<Q.indexOf("transform",10))return Q.substring(0,Q.indexOf(";",27)+1).replace(M,"$1-webkit-$2")+Q}return Q}function E(oe,ee){var te=oe.indexOf(ee===1?":":"{"),le=oe.substring(0,ee!==3?te:10);return te=oe.substring(te+1,oe.length-1),Ee(ee!==2?le:le.replace(A,"$1"),te,ee)}function w(oe,ee){var te=v(ee,ee.charCodeAt(0),ee.charCodeAt(1),ee.charCodeAt(2));return te!==ee+";"?te.replace(P," or ($1)").substring(4):"("+ee+")"}function C(oe,ee,te,le,Q,z,V,ne,re,de){for(var fe=0,we=ee,Ge;fe<ie;++fe)switch(Ge=se[fe].call(W,oe,we,te,le,Q,z,V,ne,re,de)){case void 0:case!1:case!0:case null:break;default:we=Ge}if(we!==ee)return we}function _(oe){switch(oe){case void 0:case null:ie=se.length=0;break;default:if(typeof oe=="function")se[ie++]=oe;else if(typeof oe=="object")for(var ee=0,te=oe.length;ee<te;++ee)_(oe[ee]);else Ie=!!oe|0}return _}function T(oe){return oe=oe.prefix,oe!==void 0&&(Ee=null,oe?typeof oe!="function"?X=1:(X=2,Ee=oe):X=0),T}function W(oe,ee){var te=oe;if(33>te.charCodeAt(0)&&(te=te.trim()),ge=te,te=[ge],0<ie){var le=C(-1,ee,te,te,F,Y,0,0,0,0);le!==void 0&&typeof le=="string"&&(ee=le)}var Q=n(q,te,ee,0,0);return 0<ie&&(le=C(-2,Q,te,te,F,Y,Q.length,0,0,0),le!==void 0&&(Q=le)),ge="",G=0,Y=F=1,Q}var k=/^\0+/g,$=/[\0\r\f]/g,H=/: */g,g=/zoo|gra/,M=/([,: ])(transform)/g,R=/,\r+?/g,D=/([\t\r\n ])*\f?&/g,U=/@(k\w+)\s*(\S*)\s*/,L=/::(place)/g,j=/:(read-only)/g,B=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,P=/([\s\S]*?);/g,y=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,K=/stretch|:\s*\w+\-(?:conte|avail)/,N=/([^-])(image-set\()/,Y=1,F=1,G=0,X=1,q=[],se=[],ie=0,Ee=null,Ie=0,ge="";return W.use=_,W.set=T,a!==void 0&&T(a),W}var l=o,s=function(n){var r=new WeakMap;return function(u){if(r.has(u))return r.get(u);var v=n(u);return r.set(u,v),v}},h=s,c="/*|*/",d=c+"}";function p(a){a&&f.current.insert(a+"}")}var f={current:null},O=function(n,r,u,v,E,w,C,_,T,W){switch(n){case 1:{switch(r.charCodeAt(0)){case 64:return f.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(_===0)return r+c;break}case 3:switch(_){case 102:case 112:return f.current.insert(u[0]+r),"";default:return r+(W===0?c:"")}case-2:r.split(d).forEach(p)}},b=function(n){n===void 0&&(n={});var r=n.key||"css",u;n.prefix!==void 0&&(u={prefix:n.prefix});var v=new l(u),E={},w;{w=n.container||document.head;var C=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(C,function($){var H=$.getAttribute("data-emotion-"+r);H.split(" ").forEach(function(g){E[g]=!0}),$.parentNode!==w&&w.appendChild($)})}var _;if(v.use(n.stylisPlugins)(O),_=function(H,g,M,R){var D=g.name;if(f.current=M,!1)var U;v(H,g.styles),R&&(k.inserted[D]=!0)},!1)var T,W;var k={key:r,sheet:new e.a({key:r,container:w,nonce:n.nonce,speedy:n.speedy}),nonce:n.nonce,inserted:E,registered:{},insert:_};return k},m=i.a=b},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PlayIcon",svgParams:{height:43,width:35}}),Object(e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));i.default=m},function(S,i,t){var e=t(94),o=t(97),l="Expected a function";function s(h,c,d){var p=!0,f=!0;if(typeof h!="function")throw new TypeError(l);return o(d)&&(p="leading"in d?!!d.leading:p,f="trailing"in d?!!d.trailing:f),e(h,c,{leading:p,maxWait:c,trailing:f})}S.exports=s},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),Object(e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),Object(e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));i.default=m},function(S,i,t){"use strict";function e(l,s){if(l.length!==s.length)return!1;for(var h=0;h<l.length;h++)if(l[h]!==s[h])return!1;return!0}function o(l,s){s===void 0&&(s=e);var h,c=[],d,p=!1;function f(){for(var O=[],b=0;b<arguments.length;b++)O[b]=arguments[b];return p&&h===this&&s(O,c)||(d=l.apply(this,O),p=!0,h=this,c=O),d}return f}i.a=o},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(615),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},,function(S,i,t){var e=t(485),o=t(281),l=t(364),s=l&&l.isTypedArray,h=s?o(s):e;S.exports=h},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}));i.default=m},function(S,i,t){"use strict";t.d(i,"b",function(){return c}),t.d(i,"a",function(){return f});var e=t(0),o=t(66),l=t(2),s=t(205),h={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--15-uK"};function c(O,b=Object(e.h)(d,null)){const[m,a]=Object(l.k)(O);return[m&&b,()=>{a(!1)}]}function d(){return Object(e.h)(p,null)}function p(){const{isHovering:O,ref:b}=Object(s.f)();return Object(e.h)(e.Fragment,null,Object(e.h)(f,{ref:b}),O&&Object(e.h)(s.e,{tetherRef:b},"New since your last visit"))}const f=Object(o.a)(h.unreadDot)},function(S,i,t){"use strict";t.d(i,"c",function(){return A}),t.d(i,"b",function(){return K}),t.d(i,"a",function(){return N});var e=t(3),o=t(67),l=t(5),s=t(328),h=t(53),c=t(8),d=t(193),p=t(88),f=t(295),O=t(221),b=t(0),m=t(2);function a({text:X,maxLines:q,ellipsesText:se="..."}){const ie=Object(m.j)(null),[Ee,Ie]=Object(m.k)(X);return Object(m.d)(()=>{(()=>{if(!ie.current)return;ie.current.innerText="-";const ee=(ie.current.clientHeight+1)*q+1;let te=0,le=0,Q=X.length;for(;te<=Q;){if(le=Math.floor((te+Q)/2),ie.current.innerText=X.slice(0,le),le===X.length&&ie.current.clientHeight<=ee){ie.current.innerText="",Ie(X);return}ie.current.clientHeight<=ee?te=le+1:Q=le-1}const z=X.slice(0,le-se.length-2);ie.current.innerText="",Ie(z+se)})()},[ie,X,q,se]),Object(b.h)("div",{style:{position:"relative"}},Object(b.h)("div",null,Ee),Object(b.h)("div",{ref:ie,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var n=t(12),r=t(105),u=t(38),v=t(147),E=t(26),w=t(62),C=t(6),_=t.n(C),T=t(137),W=t(13),k=t(11),$=t(7),H=Object.defineProperty,g=Object.defineProperties,M=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,L=(X,q,se)=>q in X?H(X,q,{enumerable:!0,configurable:!0,writable:!0,value:se}):X[q]=se,j=(X,q)=>{for(var se in q||(q={}))D.call(q,se)&&L(X,se,q[se]);if(R)for(var se of R(q))U.call(q,se)&&L(X,se,q[se]);return X},B=(X,q)=>g(X,M(q)),x=(X,q,se)=>(L(X,typeof q!="symbol"?q+"":q,se),se),P=(X,q,se)=>new Promise((ie,Ee)=>{var Ie=ee=>{try{oe(se.next(ee))}catch(te){Ee(te)}},ge=ee=>{try{oe(se.throw(ee))}catch(te){Ee(te)}},oe=ee=>ee.done?ie(ee.value):Promise.resolve(ee.value).then(Ie,ge);oe((se=se.apply(X,q)).next())});const y="intro_popup_last_hidden_at";class A extends b.Component{constructor(q,se){super(q,se)}componentDidMount(){this.shouldShow()?(typeof window!="undefined"&&(Object(c.addClass)(document.documentElement,"has-intro-popup"),Object(s.c)(this.props.publication,this.props.user,this.props.coupon||this.props.referralCoupon,{required:!0},q=>this.setState({coupon:q}))),this.show()):(this.props.onHide&&this.props.onHide(),Object(o.b)({hide_intro_popup:!0}))}componentWillUnmount(){typeof window!="undefined"&&Object(c.removeClass)(document.documentElement,"has-intro-popup"),this.hide(!0)}shouldShow(){const{freeSignup:q,user:se,post:ie,hidden:Ee,alwaysShow:Ie,showOnMount:ge}=this.props;return Ie?!0:Ee?!1:ge||this.state.signedUp?!0:!(this.isMarkedAsHidden()||!(ie===null||ie&&!Object(h.isPaidAudience)(ie.audience))||q||se&&(se.is_free_subscribed||se.is_subscribed))}isShowing(){return typeof window!="undefined"&&Object(c.hasClass)(document.documentElement,"show-intro-popup")}show(){!this.shouldShow()||typeof window!="undefined"&&(Object(c.addClass)(document.documentElement,"show-intro-popup"),Object(l.i)(l.a.COVER_PAGE_SHOWN,{has_cover_photo:!!this.props.publication.cover_photo_url}),this.props.alwaysShow||Object(l.g)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`}))}hide(q){q||(this.markAsHidden(),setTimeout(()=>{Object(o.b)({hide_intro_popup:!0})},500)),this.props.onHide&&this.props.onHide(),!this.props.alwaysShow&&this.isShowing()&&Object(c.removeClass)(document.documentElement,"show-intro-popup")}isMarkedAsHidden(){const q=T.get(y);if(q){const se=new Date(q),ie=new Date(Date.now()-24*60*60*1e3);if(se>ie)return!0}return!1}markAsHidden(){T.set(y,new Date().toJSON(),{expires:365*10})}onFreeSignup(q){return P(this,null,function*(){Object(l.i)(l.a.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!q.body.prompt_to_login,has_plans:!!this.props.publication.plans}),this.markAsHidden(),yield new Promise(ie=>this.setState({signedUp:!0},ie)),Object(o.b)({freeSignup:!0,freeSignupEmail:q.body.email});const se=this.props.alwaysShow?"/":document.location.href;q.body.prompt_to_login?setTimeout(()=>{document.location.href=Object(e.pathWithQuery)("/account/login",{redirect:se,email:q.body.email})},30):document.location.href=Object(e.pathWithQuery)("/subscribe",B(j({next:se,later:!0,just_signed_up:!0},q.body.subscription_id&&{subscription_id:q.body.subscription_id}),{coupon:this.props.coupon,requires_confirmation:q.body.requires_confirmation?"true":"",utm_source:"cover_page",email:q.body.email,skip_redirect_check:!0}))})}onMaybeLater(){Object(l.i)(l.a.COVER_PAGE_MAYBE_LATER_CLICKED),this.hide()}onBecomePaying(){Object(l.i)(l.a.COVER_PAGE_BECOME_PAYING_CLICKED),setTimeout(()=>{document.location.href="/subscribe"},30)}onLearnMore(){Object(l.i)(l.a.COVER_PAGE_LEARN_MORE_CLICKED),setTimeout(()=>{document.location.href=Object(e.getAboutUrl)(this.props.publication)},30)}render({email:q,user:se,freeSignup:ie,freeSignupEmail:Ee,publication:Ie,referralCode:ge,blurbs:oe,noBalance:ee,isAudio:te},{coupon:le}){if(!this.shouldShow())return;const Q=Object(b.h)(N,{source:"cover_page",email:q,pub:Ie,user:se,freeSignup:ie,freeSignupEmail:Ee,referralCode:ge,forceSignup:Object(e.getQueryItem)("force"),coupon:le,onMaybeLater:()=>this.onMaybeLater(),onFreeSignup:z=>this.onFreeSignup(z),markAsHidden:this.markAsHidden,blurbs:oe,noBalance:ee,isAudio:te});return Object(b.h)("div",{className:"intro-popup default-intro-popup"},Object(b.h)(d.a,{publication:Ie,twitterCardUrl:Object(e.getTwitterSubscribeCardUrl)(Ie)}),Object(b.h)("div",{className:"intro-popup-page intro-popup-page-0"},Q))}}const K=X=>Object(b.h)("div",{className:"intro-inline"},Object(b.h)(N,j({},X)));class N extends b.Component{onAuthorClicked(){Object(l.i)(l.a.COVER_PAGE_AUTHOR_CLICKED),setTimeout(()=>{document.location.href=Object(e.getAboutUrl)(this.props.pub)},30)}render({email:q,pub:se,user:ie,freeSignup:Ee,freeSignupEmail:Ie,referralCode:ge,source:oe,coupon:ee,forceSignup:te,submitButtonText:le,onMaybeLater:Q,onFreeSignup:z,noBalance:V,markAsHidden:ne,blurbs:re,isAudio:de}){const fe=se.type==="podcast"||de?I`Let me hear it first`:I`Let me read it first`,we=Object(e.getQueryItem)("referralCode"),Ge=Object(e.getQueryItem)("refSource"),$e=re?re.filter(it=>it.description!=""):[];return Object(b.h)("div",{className:"full-email-form"},Object(b.h)("div",{className:_()("vertically-centred")},Q&&!se.invite_only&&Object(b.h)("button",{className:"button close-welcome-modal",onClick:Q,"aria-label":"Close"},Object(b.h)(u.default,null)),Object(b.h)(F,{pub:se,noBalance:V,verbose:!0}),ee&&ee.required&&Object(b.h)("p",{className:`coupon ${ee.loading?"loading":""} ${ee.error?"error":""}`},ee.loading?"Loading coupon":ee.error?"Invalid coupon!":"Valid coupon!",` ${(ee.name||ee.id).toUpperCase()}`),se.invite_only&&!(ie&&(ie.subscription_id||ie.is_free_subscribed))?Object(b.h)(Y,{pub:se,user:ie,freeSignupEmail:Ie}):[Object(b.h)(r.a,{source:oe,email:q,user:ie,pub:se,freeSignup:Ee,freeSignupEmail:Ie,referralCode:ge,onConfirmationRequired:se.payments_state==="enabled"?()=>null:void 0,onSuccess:z||(()=>document.location.href="/"),onMaybeLater:Q,showArchives:!1,submitButtonText:le,hideTerms:!0,hideLogin:!0,contentLinks:!1,markWelcomePageAsHidden:ne}),!te&&(Q?Object(b.h)("a",{onClick:it=>it.preventDefault(),className:"no-styles"},Object(b.h)(n.b,{className:"maybe-later",onClick:Q},fe,Object(b.h)(v.default,null))):Object(b.h)(n.b,{className:"maybe-later",href:Object(e.getAboutUrl)(se,{params:j(j({utm_source:"subscribe_email",utm_content:"learn_more"},we&&{referralCode:we}),Ge&&{refSource:Ge})})},I`Learn more`,Object(b.h)(v.default,null)))],Object(b.h)(W.b,{size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",Object(b.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",Object(b.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",Object(b.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),!!($e==null?void 0:$e.length)&&Object(b.h)("div",{class:"blurb-buffer"}),!!($e==null?void 0:$e.length)&&Object(b.h)(k.c,{className:"blurbs",gap:20},$e.map(it=>Object(b.h)(k.b,{gap:8,className:"blurb"},Object(b.h)(W.b.B4,{class:"blurb-text"},Object(b.h)(a,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${it.description}\u201D`})),Object(b.h)(W.b.B4,{weight:"semibold",class:"blurb-text"},it.author_name||it.recommendingPublication.email_from_name||it.recommendingPublication.copyright,", ",Object(b.h)("a",{href:Object(e.getBaseUrl)(it.recommendingPublication)},it.recommendingPublication.name)))))))}}class Y extends b.Component{constructor(){super(...arguments);x(this,"canTurnOnCustomerSupportMode",()=>{const q=this.props.user;return(q==null?void 0:q.is_global_admin)&&!(q==null?void 0:q.is_admin)}),x(this,"showCustomerSupportModeModal",()=>{var q;!this.canTurnOnCustomerSupportMode()||(q=this.customerSupportModeModal)==null||q.open()})}renderCustomerSupportModeModal(){if(!!this.canTurnOnCustomerSupportMode())return Object(b.h)(E.a,{className:"account-info-customer-support-mode-modal",ref:q=>this.customerSupportModeModal=q},Object(b.h)(f.a,{redirect:Object(e.getQueryItem)("redirect")||"/publish",onCancel:q=>this.customerSupportModeModal.close(q)}))}render({pub:q,user:se,freeSignupEmail:ie}){return Object(b.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),Object(b.h)("h4",null,"Invite Only"),this.canTurnOnCustomerSupportMode()&&Object(b.h)("p",null,Object(b.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},Object(b.h)("b",null,"Customer support mode"))),Object(b.h)("a",{href:Object(e.getSigninUrl)({for_pub:q.subdomain,redirect:"/",change_user:Boolean(se||ie)}),native:!0},"Already a member? ",Object(b.h)("b",null,se||ie?"Switch accounts":"Sign in")))}}const F=({pub:X,noBalance:q,verbose:se})=>X.cover_photo_url?[Object(b.h)(w.a,{className:"publication-cover-photo",src:X.cover_photo_url,imageProps:{quality:"auto:best"},maxWidth:1360,alt:X.name,loading:"eager"}),!X.hide_intro_title&&Object(b.h)("h1",{className:`publication-name with-cover${X.logo_url?"":" no-logo"}`},Object(b.h)(G,{pub:X,noBalance:q})),!X.hide_intro_subtitle&&(X.hero_text||!se)&&Object(b.h)("p",{className:_()("publication-tagline with-cover",{verbose:se})},!!X.hero_text&&(q?X.hero_text:Object(b.h)(O.a,{text:X.hero_text}))),se&&Object(b.h)("div",{className:"publication-meta"},Object(p.f)(X,{includePrice:!1}))].filter(ie=>ie):[X.logo_url&&Object(b.h)(w.a,{className:"publication-logo",src:X.logo_url,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${X.name} Logo`,loading:"eager"}),Object(b.h)("h1",{className:`publication-name${X.logo_url?"":" no-logo"}`},Object(b.h)(G,{pub:X,noBalance:q})),(X.hero_text||!se)&&Object(b.h)("p",{className:_()("publication-tagline",{verbose:se})},!!X.hero_text&&(q?X.hero_text:Object(b.h)(O.a,{text:X.hero_text}))),se&&Object(b.h)("div",{className:"publication-meta"},Object(p.f)(X,{includePrice:!1}))].filter(ie=>ie),G=({pub:X,noBalance:q})=>X.logo_url_wide&&(X.parent_publication||X).subdomain!=="thedispatch"?Object(b.h)("img",{className:"publication-logo-wordmark",src:Object($.cloudinary)(X.logo_url_wide,28*2*5.25,{height:28*2,crop:"limit"}),alt:X.name,style:{height:28}}):q?X.name:Object(b.h)(O.a,{text:X.name})},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"SearchIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:u||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:u||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},,function(S,i,t){var e=t(158),o=t(453),l=t(454),s=t(455),h=t(456),c=t(457);function d(p){var f=this.__data__=new e(p);this.size=f.size}d.prototype.clear=o,d.prototype.delete=l,d.prototype.get=s,d.prototype.has=h,d.prototype.set=c,S.exports=d},function(S,i){function t(e){var o=-1,l=Array(e.size);return e.forEach(function(s){l[++o]=s}),l}S.exports=t},function(S,i,t){"use strict";t.d(i,"b",function(){return s}),t.d(i,"a",function(){return h}),t.d(i,"c",function(){return c});var e=t(0),o=t(2),l=t(22);function s(d){return Object(l.g)({pathname:"/api/v1/subscriptions",auto:d,deps:[]})}const h=Object(e.createContext)(l.a);function c(){return Object(o.b)(h)}},function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}},function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o,l){(l==null||l>o.length)&&(l=o.length);for(var s=0,h=new Array(l);s<l;s++)h[s]=o[s];return h}},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(53);const o=(l,s,h,c,d)=>!(!d&&!(l==null?void 0:l.has_publication)||c.invite_only||Object(e.isPaidAudience)(h.audience)||!s.enable_restacking)},function(S,i,t){"use strict";t.d(i,"c",function(){return oe}),t.d(i,"b",function(){return ee}),t.d(i,"a",function(){return te});var e=t(0),o=t(6),l=t.n(o),s=t(14),h=t.n(s),c=t(7),d=t.n(c),p=t(53),f=t(3),O=t.n(f),b=t(539),m=t(288),a=t(540),n=t(289),r=t(87),u=t(30),v=t(115),E=t(177),w=t.n(E),C=t(184),_=t(182),T=t(309),W=t(60),k=t(155),$=t(287),H=t(237),g=t(576),M=t(56),R=t(81),D=t.n(R),U=t(292),L=t(5),j=t(58),B=t(250),x=t(176),P=t(28),y=t(22),A=t(33),K=t(13),N=Object.defineProperty,Y=Object.defineProperties,F=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,se=(ne,re,de)=>re in ne?N(ne,re,{enumerable:!0,configurable:!0,writable:!0,value:de}):ne[re]=de,ie=(ne,re)=>{for(var de in re||(re={}))X.call(re,de)&&se(ne,de,re[de]);if(G)for(var de of G(re))q.call(re,de)&&se(ne,de,re[de]);return ne},Ee=(ne,re)=>Y(ne,F(re)),Ie=(ne,re,de)=>(se(ne,typeof re!="symbol"?re+"":re,de),de);const ge=46438;class oe extends e.Component{constructor(re,de){super(re,de);if(Ie(this,"withAuthorLine",(fe,we)=>{const{pub:Ge,post:$e,showAuthor:it,showPhoto:st}=fe,Rt=$e.type==="adhoc_email",Ht=Object(c.getBylineUsers)($e).length,je=Ht===1,Oe=je&&Object(c.getBylineUsers)($e)[0],be=je&&Oe.is_guest&&!Object(u.default)("dont_show_guest_byline")&&!Rt,he=fe.showDate||fe.showDatetime,Ce=!$e.is_published&&!fe.inThreadHead&&he&&!Rt,De=fe.isFreePreview&&fe.showAudience&&he&&!Rt,Se=Object(p.isPaidAudience)($e.audience)&&fe.showAudience&&!De&&he&&!Rt,Le=Object(M.k)({pub:Ge,post:$e,showAuthor:it,showPhoto:st});return Object(e.h)(A.e,{width:"100%",className:l()("post-meta")},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(A.d,null,Object(e.h)(A.c,{gap:4},Object(e.h)(K.b.Meta,{color:"primary"},Ht>0?Object(c.oxfordComma)(Object(c.getBylineUsers)($e).map(tt=>Object(e.h)(K.b.Meta,{as:"a",href:Object(f.getProfileUrl)(tt,Ge,{base:fe.isStatic}),color:"primary",style:"text-decoration: none"},tt.name))):Object(c.getPrintedByline)(Ge,$e))),Object(e.h)(A.c,{gap:4},Object(e.h)(K.b.Meta,null,(fe.showDate||fe.showDatetime)&&$e.post_date&&Object(e.h)("time",{dateTime:h()($e.post_date).toISOString()},h()($e.post_date).standardDate())),Se&&Object(e.h)(A.c,{gap:4},Object(e.h)(K.b.Meta,null,"\u2219"),Object(e.h)(K.b.Meta,{color:"accent-purple"},"Paid")),De&&Object(e.h)(A.c,{gap:4},Object(e.h)(K.b.Meta,null,"\u2219"),Object(e.h)(K.b.Meta,{color:"accent-purple"},"Preview")),be&&Object(e.h)(A.c,{gap:4},Object(e.h)(K.b.Meta,null,"\u2219"),Object(e.h)(K.b.Meta,null,"Guest post")),Ce&&Object(e.h)(A.c,{gap:4},Object(e.h)(K.b.Meta,null,"\u2219"),Object(e.h)(K.b.Meta,null,"Draft"))))),Le&&Object(e.h)("td",{align:"right"},Object(e.h)(A.c,{gap:4},Ht>0&&Object(c.getBylineUsers)($e).map((tt,Xe)=>Xe<4&&Object(e.h)("a",{href:Object(f.getProfileUrl)(tt,Ge,{base:fe.isStatic})},Object(e.h)(A.a,{src:tt.photo_url,size:Ht>1?32:40})))))))}),typeof window!="undefined"&&(window==null?void 0:window.matchMedia)){const fe=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:fe.matches};const we=Ge=>{this.unmounted||this.setState({isMobileWidth:Ge.matches})};fe.addEventListener?fe.addEventListener("change",we):fe.addListener&&fe.addListener(we)}}componentWillUnmount(){this.unmounted=!0}render({pub:re,post:de,showAuthor:fe,showPhoto:we,fromPostPage:Ge}){return Object(M.k)({pub:re,post:de,showAuthor:fe,showPhoto:we})||Object(M.j)({pub:re,post:de,showAuthor:fe})||Object(M.h)({pub:re,post:de,showAuthor:fe})?this.withAuthorLine(this.props,this.state):Object(e.h)(Q,Ee(ie({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:Ge?"post-header-compact":"post-preview"}))}}const ee=({additionalCommentCount:ne,user:re,pub:de,post:fe,showReactions:we,showComments:Ge,showRestack:$e,reaction_token:it,onChange:st,shareTooltipText:Rt,fromPostPage:Ht,onClickCommentButton:je,reactors:Oe,isStatic:be,base_url:he,className:Ce,showShare:De})=>{var Se;we=we&&de.community_enabled&&fe.slug&&!fe.is_draft;const Le=Object(R.useMediaQuery)({maxWidth:540}),{getSettingFor:tt}=Object(x.a)(),Xe=!be&&(fe==null?void 0:fe.id)&&de.community_enabled&&!fe.is_draft&&fe.slug,Et=w()(Object.values((fe==null?void 0:fe.reactions)||{})),Qe=Xe&&!!Et&&we,{toggle:rt}=Object(M.m)({post:fe,user:re,onChange:st}),ke=!be;return Object(e.h)(e.Fragment,null,!Le&&Qe&&Object(e.h)(z,{postId:fe.id,totalLikes:Et,reactors:le(Oe,re,!!fe.reaction,de),loading:!Oe,hoverProfiles:!0,enableModal:!0,labelOnly:!de.post_reaction_faces_enabled}),!Le&&Xe&&!Qe&&Object(e.h)("button",{class:"no-likes-cta",onClick:rt},!((Se=fe==null?void 0:fe.reactions)==null?void 0:Se.length)&&Object(e.h)(e.Fragment,null,Object(e.h)("div",{class:"add-icon"},Object(e.h)(g.a,{height:20,className:"plus-icon"})),Object(e.h)("div",{class:"add-label"},"Like this post"))),ke?Object(e.h)(M.c,{style:Le?"inline":"button",post:fe,pub:de,user:re,postReactionToken:it,hideReactions:!we,hideComments:!Ge,hideSavePost:Le,hideShare:!De,useShareLabel:Le,justified:Le,labelStyle:Le?"labels":"counts-or-none",onChange:st,additionalCommentCount:ne,showShare:De,onCommentsClick:je,position:"post-footer",showRestackButton:Object(u.default)("enable_restacking")&&Object(B.a)(re,{enable_restacking:!!tt("enable_restacking")},fe,de,be)}):Object(e.h)(Q,{additionalCommentCount:ne,user:re,pub:de,post:fe,showReactions:we,showComments:Ge,reaction_token:it,onChange:st,shareTooltipText:Rt,fromPostPage:Ht,onClickCommentButton:je,reactors:Oe,isStatic:be,base_url:he,actionBarStyle:"post-footer",className:l()("alternative-meta",Ce),sharedShareDialog:!be,showShare:De,showUpdatedIcons:!be,showRestack:$e}),Xe&&Le&&!!Et&&Object(e.h)(e.Fragment,null,Object(e.h)("hr",{class:"footer-facepile-separator"}),Object(e.h)("div",{class:"mobile-footer-facepile-container"},Object(e.h)(z,{postId:fe.id,className:"mobile-footer-facepile",totalLikes:Et,reactors:le(Oe,re,!!fe.reaction,de),loading:!Oe,hoverProfiles:!0,enableModal:!0}))))};function te({pub:ne,post:re,user:de}){var fe;const{result:we,isLoading:Ge}=Object(y.g)({pathname:`/api/v1/post/${re.id}/reactors`,auto:!0,deps:[re.id]});return Object(e.h)(z,{postId:re.id,totalLikes:(fe=re.reactions["\u2764"])!=null?fe:0,reactors:le(we,de,!!re.reaction,ne),loading:!we,hoverProfiles:!0,enableModal:!0,labelOnly:!ne.post_reaction_faces_enabled})}function le(ne,re,de,fe){if(!ne)return[];if(re){const we=ne.length&&ne[0].id===re.id;de&&(re.subscription_visibility!=="private"||fe.id===ge)&&re.activity_likes_enabled&&!we?ne.splice(0,0,{id:re.id,name:re.name,photo_url:re.photo_url}):!de&&we&&ne.splice(0,1)}return ne}function Q({additionalCommentCount:ne=0,className:re,user:de,pub:fe,post:we,showAudience:Ge=!1,showDate:$e=!1,showEmailSent:it=!1,showDatetime:st=!1,showReactions:Rt=!0,showComments:Ht=!0,showShare:je=!1,showRestack:Oe=!1,showPublicationName:be=!1,hidePinning:he=!1,reaction_token:Ce,onClick:De,onChange:Se,isStatic:Le=!1,isFreePreview:tt=!1,allowSendEmail:Xe=!1,allowEdit:Et=!1,shareTooltipText:Qe,showPins:rt,sharedShareDialog:ke,showUpdatedIcons:jt,editOnRightSide:Nt=!1,onClickCommentButton:rn,reactors:sn,showAuthor:dt,showPhoto:mt,fromPostPage:gt,isMobileWidth:ze,actionBarStyle:ue="post-header-compact"}){var bt;const wt=Object(j.c)(),It=[fe].concat(fe.child_publications).find(Xt=>Xt.id===we.publication_id),We=le(sn,de,!!we.reaction,fe),lt=ue==="post-footer",Ae=lt?20:ue==="post-preview"?14:18,Ve=ue==="post-header-large"?20:ue==="post-preview"?16:ue==="thread-head"||lt?14:18;let at;we.comment_url_override?at=we.comment_url_override:Le?at=`${P.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:at=Object(f.getPostUrl)(fe,we,{comments:!0});const ot=ne+((bt=we.comment_count)!=null?bt:0),vt=Ht&&!tt&&Object(c.showCommentsOnPost)({publication:fe,post:we})&&we.type!=="restack",Ct=Rt&&!tt&&!["adhoc_email","restack"].includes(we.type),Mt=($e||st)&&we.post_date&&!we.is_draft,Lt=it?Boolean(we.email_sent_at):null,_t=Object(U.a)({user:de,noBase:!1}),Qt=Xt=>{var yn;((yn=Xt.post)==null?void 0:yn.reaction)&&de&&_t({user:de}),Se(Xt)},un=Object(e.h)(r.a,{user:de,pub:fe,post:we,token:Ce,onChange:Qt,height:Ve,isStatic:Le,isFreePreview:tt,alt:"Like",buttonStyle:lt,class:"post-meta-icon like-reaction-button",hideReactionCount:lt&&!Le}),Jt=[it&&Lt&&{className:"email-sent",title:"This post was sent as an email",content:Object(e.h)(b.default,{class:"post-meta-icon",height:Ae,isStatic:Le})},rt&&we.is_section_pinned&&{className:"icon pinned",content:Object(e.h)(m.default,{class:"post-meta-icon",isStatic:Le})},we.type==="adhoc_email"?{className:"audience-adhoc",content:Object(e.h)(n.default,{class:"post-meta-icon",isStatic:Le})}:Ge&&Object(p.isPaidAudience)(we.audience)&&{className:"audience-lock",content:Object(e.h)(a.default,{color:"#666666",height:Ae,isStatic:Le})},Object(M.i)({pub:fe,post:we,showAuthor:dt,showPhoto:mt,isMobileWidth:ze})&&{className:"author",content:Object(c.getBylineUsers)(we).length>0?Object(c.oxfordComma)(Object(c.getBylineUsers)(we).map(Xt=>Object(e.h)(W.a,{wrap:!Le,subject:Xt},Object(e.h)("a",{href:Object(f.getProfileUrl)(Xt,fe,{base:Le}),onClick:yn=>yn.stopPropagation()},Xt.name)))):Object(c.getPrintedByline)(fe,we)},be&&{className:"post-publication-name",content:fe.name},jt&&!Nt&&Et&&!Le&&de&&de.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:Xt=>Xt.stopPropagation(),content:Object(e.h)(_.a,{pub:fe,post:we,iconHeight:Ae,hidePinning:he,user:de,emailSent:Lt,allowSendEmail:Xe,showUpdatedIcons:jt})},Mt&&{className:"post-date",title:h()(we.post_date).toISOString(),content:Object(e.h)(K.b.Meta,null,Object(e.h)("time",{dateTime:h()(we.post_date).toISOString()},Object(M.f)({post:we,showDatetime:st,isStatic:Le,fromPostPage:gt,showReactions:Ct})))},(It==null?void 0:It.community_enabled)&&we.slug&&Ct&&!we.is_draft&&{className:"icon",onClick:Xt=>Xt.stopPropagation(),content:!lt&&!Le&&We.length?Object(e.h)(C.a,{portalClass:"facepile-tooltip",content:Object(e.h)(z,{postId:we.id,totalLikes:w()(Object.values(we.reactions)),reactors:We,loading:!sn})},un):un},de&&{className:"icon",onClick:Xt=>Xt.stopPropagation(),content:Object(e.h)(V,{post:we,isPostFooter:lt,isStatic:Le,lucideIconHeight:Ve,onChange:Se})},(It==null?void 0:It.community_enabled)&&we.slug&&vt&&!we.is_draft&&{className:"icon",onClick:Xt=>Xt.stopPropagation(),content:Object(e.h)("a",{className:lt?"post-meta-button button":"",href:at,native:It&&Object(f.isPublishPath)(document.location.pathname,It),onClick:rn},Object(e.h)(k.default,{class:"comment-icon post-meta-icon",isStatic:Le,height:Ve,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:Le?1:1.5,ampProps:{layout:"fixed"}}),!ot&&lt&&Object(e.h)("span",{class:"meta-button-label"},"Comment"),ot>0&&Object(e.h)("span",{className:"comment-count"},Object(c.numberToString)(ot)))},Oe&&!lt&&{className:"icon",onClick:Xt=>Xt.stopPropagation(),content:Object(e.h)("a",{href:P.Substitutions.RESTACK_URL,className:lt?"button post-meta-button":void 0},Object(e.h)(H.default,{class:"recommend-icon post-meta-icon",isStatic:Le,height:Ve,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:Le?1:1.5,ampProps:{layout:"fixed"}}),lt&&Object(e.h)("span",{class:"meta-button-label"},"Recommend"))},je&&we.audience!=="only_free"&&!we.is_draft&&!tt&&{className:"icon",onClick:Xt=>Xt.stopPropagation(),content:Object(e.h)(T.a,{user:de,pub:It,post:we,reaction_token:Ce,height:Ve,onChange:Se,isStatic:Le,sharedShareDialog:ke,position:ue==="post-footer"?"post-footer":"post-header",linkClassName:lt?"button post-meta-button":void 0},lt&&Object(e.h)("span",{class:"meta-button-label"},"Share"),Qe&&Object(e.h)("div",{className:"share-tooltip-wrap"},Object(e.h)("div",{className:"share-tooltip"},Qe)))},(!jt||Nt)&&Et&&!Le&&de&&de.is_contributor&&{className:"icon edit-icon",onClick:Xt=>Xt.stopPropagation(),content:Object(e.h)(_.a,{pub:fe,post:we,iconHeight:Ae,hidePinning:he,user:de,emailSent:Lt,allowSendEmail:Xe,showUpdatedIcons:jt})}].filter(Xt=>!!Xt);return Le?Object(e.h)("table",{className:l()("post-meta custom",{big:lt},re),cellpadding:"0",cellspacing:"0",onClick:De},Object(e.h)("tr",null,Jt.map(({className:Xt,title:yn,onClick:wn,content:Ze})=>Object(e.h)("td",{className:l()("post-meta-item",Xt),title:yn,onClick:wn},Ze)))):Object(e.h)("div",{className:l()("post-meta post-meta-actions-web custom",{big:lt},re),onClick:De},Jt.map(({className:Xt,title:yn,onClick:wn,content:Ze})=>Object(e.h)("div",{className:l()("post-meta-item",Xt),title:yn,onClick:wn},Ze)))}function z({className:ne,postId:re,reactors:de,totalLikes:fe,loading:we,hoverProfiles:Ge,enableModal:$e,labelOnly:it}){const st=fe>0?Object(c.pluralize)(fe,"like"):"";return Object(e.h)(v.c,{className:ne,loading:we,faces:de,pileLabel:st,modalLabel:st,totalCount:fe,hoverProfiles:Ge,enableModal:$e,hideDefaultPhotos:!0,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{Object(L.i)(L.a.POST_REACTIONS_MODAL_VIEWED,{post_id:re})},labelOnly:it})}function V({post:ne,isPostFooter:re,isStatic:de,isSaved:fe,lucideIconHeight:we,onChange:Ge}){const{onSave:$e,isSaved:it}=Object(M.n)({post:ne,isSaved:ne.is_saved}),st=()=>{const Rt=$e();Ge({post:Ee(ie({},ne),{is_saved:Rt})})};return Object(e.h)("a",{className:l()("post-meta-save-button",re?"post-meta-button button":"",{isSaved:it}),href:de&&P.Substitutions.SAVE_POST_URL,onClick:st},Object(e.h)($.default,{isStatic:de,height:we,stroke:"#757575",strokeWidth:de?1:1.5}),re&&Object(e.h)("span",{class:"meta-button-label"},"Save"))}},function(S,i){i.isCouponValid=(t,{is_group:e,is_gift:o,paywallFreeTrialEnabled:l})=>!(!t||!t.valid||t.max_redemptions&&t.max_redemptions<=t.times_redeemed||t.group_only&&!e||t.redeem_by&&new Date(t.redeem_by)<new Date||(t.type==="FREE_TRIAL"||t.type==="DEFAULT_FREE_TRIAL")&&(!l||o||e)),i.isCouponValidForPlan=(t,e)=>!(!t||!e||e.metadata.no_coupons||e.interval==="forever"||t.yearly_only&&e.interval!=="year"||t.monthly_only&&e.interval!=="month"||t.duration==="repeating"&&(e.interval==="month"&&t.duration_in_months%e.interval_count!=0||e.interval==="year"&&t.duration_in_months%(e.interval_count*12)!=0)||t.amount_off&&t.currency&&t.currency!==e.currency),i.isEmailValidEdu=(t,e)=>{const o=e.filter(h=>h.is_suffix);return e.filter(h=>!h.is_suffix).find(h=>t.split("@").pop().startsWith(h.pattern))||o.find(h=>t.endsWith(h.pattern))},i.isCouponValidForEmail=(t,e,o)=>!(t.edu_only&&!i.isEmailValidEdu(e,o)||t.allowed_suffixes&&!t.allowed_suffixes.split(/, */).find(s=>e.toLowerCase().endsWith(s.toLowerCase()))),i.getDiscountedAmount=(t,e)=>{let o=t.amount;return e&&i.isCouponValidForPlan(e,t)&&(e.percent_off?o=Math.round(o*(1-(e.percent_off_precise||e.percent_off)/100)):e.amount_off&&(o=Math.max(0,o-e.amount_off))),o}},function(S,i,t){"use strict";(function(e){var o=e.Symbol,l=t(411);S.exports=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:l()}}).call(this,t(114))},function(S,i,t){var e=t(129),o=t(97),l="[object AsyncFunction]",s="[object Function]",h="[object GeneratorFunction]",c="[object Proxy]";function d(p){if(!o(p))return!1;var f=e(p);return f==s||f==h||f==l||f==c}S.exports=d},function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o,l){const s=[];for(const h of o){const c=l(h);c!=null&&s.push(c)}return s}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"MenuIcon",svgParams:{height:10,width:18}}),Object(e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{color:u="#1C110B",strokeWidth:v=1}=r,E=m(r,["color","strokeWidth"]);return Object(e.h)(o.a,b(O({},E),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),Object(e.h)("path",{d:"M1 13L7 7L1 1",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":v}))};i.default=a},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(2);function o(l,s,{shouldCheck:h}){const c=Object(e.j)(),d=()=>{const p=c.current;if(p){const{bottom:f}=p.getBoundingClientRect();f<window.innerHeight+200&&l()}};return Object(e.d)(()=>{if(h)return window.addEventListener("scroll",d,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",d,{capture:!0})}},s),{bodyRef:c,check:d}}},function(S,i,t){"use strict";t.d(i,"a",function(){return l}),t.d(i,"b",function(){return s});var e=t(3),o=t.n(e);function l(h,c){if(h){if(!h.has_publication&&!h.subdomain)return{type:"no-dashboard",url:Object(e.getStartPublishingUrl)(c)};if(h.subdomain)return{type:"dashboard",url:Object(e.getDashboardUrlForSubdomain)(h.subdomain,{params:c})}}return null}function s(h,c){return(h==null?void 0:h.profile_set_up_at)?Object(e.getReaderProfileUrl)(h,c):Object(e.getProfileSetupUrl)(c)}},function(S,i){i.MAX_SUBSCRIPTIONS_PER_BULK_SIGNUP_REQUEST=20,i.ONBOARDING_SUGGESTIONS_PER_BATCH=7},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="black"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"ThreadIcon",svgParams:{height:19,width:19}}),Object(e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:u,"stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.d(i,"a",function(){return o}),t.d(i,"b",function(){return l});var e=t(2);function o(){const s=h=>{var c,d;(h.data==="3pc.supported"||h.data==="3pc.unsupported")&&(h.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(f=>{const O=f.querySelector(".tiktok-iframe");O.classList.add("visible"),f.querySelector(".tiktok-wrap.static").classList.add("hidden");const b=f.querySelector(".fallback-failure");try{(O.contentDocument||O.contentWindow.document).readyState=="complete"&&b.classList.add("visible")}catch(m){}O.onload=()=>{b.classList.add("visible")},O.onerror=()=>{b.classList.add("visible")},O.onabort=()=>{b.classList.add("visible")}}),(d=(c=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:c.forEach)==null||d.call(c,p=>p.remove()))};return window.addEventListener("message",s),()=>{window.removeEventListener("message",s)}}function l(){Object(e.d)(o,[])}},function(S,i,t){"use strict";t.d(i,"b",function(){return y}),t.d(i,"a",function(){return N});var e=t(0),o=t(34),l=t(2),s=t(27),h=t(12),c=t(80),d=t(183),p=t(26),f=t(5),O=t(397),b=t(326),m=t(398),a=t(399),n=t(400),r=t(3),u=t(29),v=t(37),E=t(88),w=t(67),_=({pub:F,user:G,setStep:X,entry:q})=>{const se=ie=>{Object(f.i)(f.a.READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED,{entry:q}),G||Object(w.b)({user:ie.body.user}),X(u.onboardingSteps.CATEGORIES)};return Object(e.h)("div",{className:"pub-landing-step"},Object(e.h)(s.g,{method:"post",action:"/api/v1/reader/signup/pub",loading:!1,autoLock:!0,onSuccess:se},Object(e.h)("div",{className:"headings"},Object(e.h)(v.a,{pub:F,size:84,logo_url:F.logo_url||F.author_photo_url,linkify:!1}),Object(e.h)("h3",{className:"publication-title"},F.name),Object(e.h)("p",{className:"publication-description"},F.editorial_bio||F.hero_text),Object(e.h)("p",{className:"publication-details"},Object(E.f)(F))),Object(e.h)("input",{type:"hidden",name:"email",value:G==null?void 0:G.email}),Object(e.h)("input",{type:"hidden",name:"source",value:`${q}-reader-onboarding`}),Object(e.h)("input",{type:"hidden",name:"publication_id",value:F.id}),Object(e.h)("input",{type:"hidden",name:"visibility",value:"public"}),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)("a",{className:"button let-me-read",href:Object(r.pathWithQuery)(Object(r.getBaseUrl)(F),{no_cover:!0,utm_source:`${q}-reader-onboarding`}),onClick:()=>{Object(f.i)(f.a.READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED,{entry:q}),Object(f.l)(F,q)}},"Let me read it first"),Object(e.h)(h.b,{className:"primary",onClick:ie=>{Object(f.i)(f.a.READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED,{entry:q}),G||(ie.preventDefault(),X(u.onboardingSteps.PUB_SIGNUP))},type:"submit"},"Subscribe"))))},W=({pub:F,profile:G,setStep:X,entry:q})=>{const[se,ie]=Object(l.k)(""),[Ee,Ie]=Object(l.k)(!1),ge=oe=>{oe.body.requires_confirmation?(Object(f.i)(f.a.READER_ONBOARDING_PUB_SIGNUP_FAILED,{reason:"user_exists",entry:q}),Ie(!0)):(Object(f.i)(f.a.READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED,{entry:q}),Object(w.b)({user:oe.body.user}),X(u.onboardingSteps.CATEGORIES))};return Object(e.h)("div",{className:"pub-signup-step"},Object(e.h)("div",{className:"headings"},Object(e.h)(v.a,{pub:F,size:84,logo_url:(G==null?void 0:G.photo_url)||F.logo_url||F.author_photo_url,linkify:!1,className:{"author-photo":Boolean((G==null?void 0:G.photo_url)||!F.logo_url&&F.author_photo_url)}}),Object(e.h)("h3",{className:"publication-title"},G?"Create an account to start reading":`Subscribe to ${F.name}`),Object(e.h)("p",{className:"publication-description"},G?`Create a Substack account to subscribe to ${G.name}`:F.editorial_bio||F.hero_text),Object(e.h)("p",{className:"publication-details"},G?`Author of ${F.name}`:Object(E.f)(F))),Object(e.h)(s.g,{method:"post",action:"/api/v1/reader/signup/pub",loading:!1,autoLock:!0,onSuccess:ge},Object(e.h)("p",null,Object(e.h)("label",{for:"email"},"Email"),Object(e.h)("input",{type:"email",name:"email","aria-label":"Email",value:se,tabIndex:0,onInput:oe=>{ie(oe.target.value)},onChange:oe=>{ie(oe.target.value)}}),Object(e.h)("input",{type:"hidden",name:"source",value:`${q}-reader-onboarding`}),Object(e.h)("input",{type:"hidden",name:"publication_id",value:F.id}),Object(e.h)("input",{type:"hidden",name:"visibility",value:"public"}),Ee&&Object(e.h)("div",{className:"error"},"Additional confirmation is required to complete your signup. Please"," ",Object(e.h)("a",{href:Object(r.getSigninUrl)({for_pub:F.subdomain,email:se})},"login"),"or click the confirmation link in your email.")),Object(e.h)("div",{id:"error-container"}),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)("p",null,"Already have a Substack account?"," ",Object(e.h)("a",{href:Object(r.getSigninUrl)({for_pub:F.subdomain})},"Sign in")),Object(e.h)("p",null,"By continuing, you agree to the"," ",Object(e.h)("a",{href:Object(r.getTermsUrl)(),target:"_blank"},"Terms of Service")," ","and"," ",Object(e.h)("a",{href:Object(r.getPrivacyUrl)(),target:"_blank"},"Privacy Policy")),Object(e.h)("button",{className:"button primary",type:"submit"},"Subscribe and continue"))))},k=Object.defineProperty,$=Object.defineProperties,H=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,D=(F,G,X)=>G in F?k(F,G,{enumerable:!0,configurable:!0,writable:!0,value:X}):F[G]=X,U=(F,G)=>{for(var X in G||(G={}))M.call(G,X)&&D(F,X,G[X]);if(g)for(var X of g(G))R.call(G,X)&&D(F,X,G[X]);return F},L=(F,G)=>$(F,H(G)),j=(F,G)=>{var X={};for(var q in F)M.call(F,q)&&G.indexOf(q)<0&&(X[q]=F[q]);if(F!=null&&g)for(var q of g(F))G.indexOf(q)<0&&R.call(F,q)&&(X[q]=F[q]);return X};const B=({user:F})=>Object(e.h)("div",{className:"container"},Object(e.h)(o.default,null,Object(e.h)(x,{path:"/",default:!0,user:F}),Object(e.h)(y,{path:"/discover-twitter",user:F}))),x=({user:F})=>Object(e.h)("div",{class:"inbox-access-form"},Object(e.h)(c.default,{class:"onboarding-main-icon",width:38,height:43}),Object(e.h)("h2",null,"Join Substack"),Object(e.h)(P,{user:F})),P=({user:F})=>{var G;const[X,q]=Object(l.k)(!1),[se,ie]=Object(l.k)((F==null?void 0:F.email)||""),[Ee,Ie]=Object(l.k)((F==null?void 0:F.name)||""),ge=(document==null?void 0:document.location)?Object(r.parseQuery)((G=document.location)==null?void 0:G.href):null,oe=Object(r.getBaseUrl)({subdomain:"reader"}),ee=(se==null?void 0:se.length)>3&&X,te=le=>{var Q;((Q=le.body)==null?void 0:Q.userExists)?window.location.href=`${Object(r.getSubstackUrl)()}/sign-in?with_password=false&email=${se}&redirect=${oe}`:(F==null?void 0:F.has_linked_twitter)?window.location.href="/inbox":Object(o.route)("/discover-twitter")};return Object(e.h)(e.Fragment,null,Object(e.h)(s.g,{method:"post",action:"/api/v1/reader/signup",loading:!1,autoLock:!0,onSuccess:te},Object(e.h)(e.Fragment,null,Object(e.h)("div",{class:"form-element"},Object(e.h)("label",{for:"email"},"Your name"),Object(e.h)("input",{disabled:!!F,type:"text",name:"name",value:Ee,tabIndex:0,onInput:le=>{Ie(le.target.value)},onChange:le=>{Ie(le.target.value)}})),Object(e.h)("div",{class:"form-element"},Object(e.h)("label",{for:"email"},"Your email address"),Object(e.h)("input",{disabled:!!F,type:"email",name:"email",value:se,tabIndex:0,onInput:le=>{ie(le.target.value)},onChange:le=>{ie(le.target.value)}})),Object(e.h)("input",{type:"hidden",name:"t",value:ge==null?void 0:ge.t}),Object(e.h)("label",{class:"accept-tos"},Object(e.h)("input",{type:"checkbox",checked:X,tabIndex:0,onInput:le=>{q(!X)}}),Object(e.h)("span",null,"I accept the"," ",Object(e.h)("a",{href:`${Object(r.getSubstackUrl)()}/tos`,target:"_blank"},"Terms of Service")," ","and"," ",Object(e.h)("a",{href:Object(r.getPrivacyUrl)(),target:"_blank"},"Privacy Policy"))),Object(e.h)(h.b,{type:"submit",className:"primary submit xl",disabled:!ee},"Get started"))),F?Object(e.h)("div",{className:"login"},"Not you?"," ",Object(e.h)("a",{href:Object(r.getSignoutUrl)(),native:!0},"Log out")):Object(e.h)("div",{className:"login"},"Already have an account?"," ",Object(e.h)("a",{href:`${Object(r.getSubstackUrl)()}/sign-in?redirect=${oe}`,native:!0},"Login")))},y=({user:F,useProfilePrefix:G})=>(F==null?void 0:F.has_linked_twitter)?Object(e.h)(K,{user:F,useProfilePrefix:G}):Object(e.h)(A,null),A=()=>{const[F,G]=Object(l.k)(!0);return Object(e.h)("div",{class:"inbox-access-form link-twitter"},Object(e.h)(c.default,{class:"onboarding-main-icon",width:38,height:43}),Object(e.h)("h2",null,"Find writers you follow"),Object(e.h)("section",{class:"twitter-description"},"Find writers you know on Substack, and let your Twitter followers find you. We\u2019ll never post without your permission."),Object(e.h)("p",null,Object(e.h)("label",{class:"let-others-find-me"},Object(e.h)("input",{type:"checkbox",checked:F,onChange:()=>G(!F)}),"Let others find me via Twitter")),Object(e.h)(d.b,{linkType:"reader",discoverable:F,icon:!1,text:"Connect Twitter"}),Object(e.h)("a",{class:"skip",href:`${Object(r.getSubstackUrl)()}/profile/fill`,native:!0},"Skip for now"))},K=({user:F,useProfilePrefix:G})=>Object(e.h)(d.a,{user:F,onSignup:()=>{window.location=F.profile_set_up_at?Object(r.getBaseReaderUrl)():`${Object(r.getSubstackUrl)()}/profile/fill`},buttonText:"Continue",requireSignup:!1,needsEmailConfirm:!1,useProfilePrefix:G});class N extends p.a{constructor(G){super(G);this.setStep=this.setStep.bind(this),this.state.step=G.step||this.getDefaultStep(),this.state.pub=G.pub||null,this.handleError=this.handleError.bind(this),this.state.previousStepData={},this.setPreviousStepData=this.setPreviousStepData.bind(this)}getDefaultStep(){return u.onboardingSteps.CATEGORIES}openForPub(G,X){this.setState({pub:G,profile:X,step:X?this.props.user?u.onboardingSteps.CATEGORIES:u.onboardingSteps.PUB_SIGNUP:u.onboardingSteps.PUB_LANDING}),this.open()}openToPubSignup(G){this.setState({pub:G,step:u.onboardingSteps.PUB_SIGNUP,profile:null}),this.open()}setStep(G){Object(f.i)(f.a.READER_ONBOARDING_STEP_CHANGED,{from_step:this.state.step,to_step:G}),setTimeout(()=>this.setState({step:G}),0)}setPreviousStepData(G,X){this.setState({previousStepData:L(U({},this.state.previousStepData),{[G]:X})})}getClassName(){return"reader-onboarding-modal wide"}onClose(){Object(f.i)(f.a.READER_ONBOARDING_MODAL_CLOSED,{entry:this.props.entry,step:this.state.step}),this.setStep(this.getDefaultStep())}onOpen(){var G;Object(f.i)(f.a.READER_ONBOARDING_MODAL_OPENED,{entry:this.props.entry,step:this.state.step,for_pub_id:(G=this.state.pub)==null?void 0:G.id})}handleError(G,{ignore:X=!1}={}){const{step:q}=this.state;console.error(`Error in reader onboarding ${q} step: ${G}`),Object(f.i)(f.a.READER_ONBOARDING_ERROR,{step:q,entry:this.props.entry,ignore:X}),X||this.setStep(u.onboardingSteps.ERROR)}renderStep(){const G=this.props,{ref:X}=G,q=j(G,["ref"]),{step:se,open:ie,pub:Ee,profile:Ie,previousStepData:ge}=this.state,oe={setStep:this.setStep,handleError:this.handleError,close:this.close,setPreviousStepData:this.setPreviousStepData};switch(se){case u.onboardingSteps.SIGNUP:return Object(e.h)(O.a,L(U(U({},q),oe),{previousStepData:ge}));case u.onboardingSteps.PUB_LANDING:return Object(e.h)(_,L(U(U({},q),oe),{pub:Ee}));case u.onboardingSteps.PUB_SIGNUP:return Object(e.h)(W,L(U(U({},q),oe),{pub:Ee,profile:Ie}));case u.onboardingSteps.CATEGORIES:return Object(e.h)(b.a,L(U(U({},q),oe),{open:ie,pub:Ee,profile:Ie}));case u.onboardingSteps.PROFILE:return Object(e.h)(m.a,U(U({},q),oe));case u.onboardingSteps.ERROR:return Object(e.h)(n.a,U(U({},q),oe));case u.onboardingSteps.WELCOME:default:return Object(e.h)(a.a,L(U(U({},q),oe),{pub:Ee,profile:Ie}))}}renderChildren(){return Object(e.h)("div",{className:"reader-onboarding-modal-container"},this.renderStep())}}var Y=i.c=B},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CopyIcon",svgParams:{height:15,width:15}}),Object(e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),Object(e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));i.default=m},function(S,i,t){"use strict";var e,o=SyntaxError,l=Function,s=TypeError,h=function(H){try{return Function('"use strict"; return ('+H+").constructor;")()}catch(g){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(H){c=null}var d=function(){throw new s},p=c?function(){try{return arguments.callee,d}catch(H){try{return c(arguments,"callee").get}catch(g){return d}}}():d,f=t(253)(),O=Object.getPrototypeOf||function(H){return H.__proto__},b=h("async function* () {}"),m=b?b.prototype:e,a=m?m.prototype:e,n=typeof Uint8Array=="undefined"?e:O(Uint8Array),r={"%AggregateError%":typeof AggregateError=="undefined"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?e:ArrayBuffer,"%ArrayIteratorPrototype%":f?O([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":h("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":a?O(a):e,"%Atomics%":typeof Atomics=="undefined"?e:Atomics,"%BigInt%":typeof BigInt=="undefined"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?e:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":h("function* () {}"),"%Int8Array%":typeof Int8Array=="undefined"?e:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?e:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?O(O([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map=="undefined"?e:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!f?e:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?e:Promise,"%Proxy%":typeof Proxy=="undefined"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?e:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!f?e:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?O(""[Symbol.iterator]()):e,"%Symbol%":f?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":p,"%TypedArray%":n,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array=="undefined"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?e:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?e:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?e:WeakSet},u={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=t(122),E=t(414),w=v.call(Function.call,Array.prototype.concat),C=v.call(Function.apply,Array.prototype.splice),_=v.call(Function.call,String.prototype.replace),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,k=function(g){var M=[];return _(g,T,function(R,D,U,L){M[M.length]=U?_(L,W,"$1"):D||R}),M},$=function(g,M){var R=g,D;if(E(u,R)&&(D=u[R],R="%"+D[0]+"%"),E(r,R)){var U=r[R];if(typeof U=="undefined"&&!M)throw new s("intrinsic "+g+" exists, but is not available. Please file an issue!");return{alias:D,name:R,value:U}}throw new o("intrinsic "+g+" does not exist!")};S.exports=function(g,M){if(typeof g!="string"||g.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof M!="boolean")throw new s('"allowMissing" argument must be a boolean');var R=k(g),D=R.length>0?R[0]:"",U=$("%"+D+"%",M),L=U.name,j=U.value,B=!1,x=U.alias;x&&(D=x[0],C(R,w([0,1],x)));for(var P=1,y=!0;P<R.length;P+=1){var A=R[P];if((A==="constructor"||!y)&&(B=!0),D+="."+A,L="%"+D+"%",E(r,L))j=r[L];else if(j!=null){if(c&&P+1>=R.length){var K=c(j,A);if(y=!!K,!M&&!(A in j))throw new s("base intrinsic for "+g+" exists, but the property is not available.");y&&"get"in K&&!("originalValue"in K.get)?j=K.get:j=j[A]}else y=E(j,A),j=j[A];y&&!B&&(r[L]=j)}}return j}},function(S,i,t){"use strict";var e=t(195),o=Object.prototype.hasOwnProperty,l=Array.isArray,s=function(){for(var u=[],v=0;v<256;++v)u.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return u}(),h=function(v){for(;v.length>1;){var E=v.pop(),w=E.obj[E.prop];if(l(w)){for(var C=[],_=0;_<w.length;++_)typeof w[_]!="undefined"&&C.push(w[_]);E.obj[E.prop]=C}}},c=function(v,E){for(var w=E&&E.plainObjects?Object.create(null):{},C=0;C<v.length;++C)typeof v[C]!="undefined"&&(w[C]=v[C]);return w},d=function u(v,E,w){if(!E)return v;if(typeof E!="object"){if(l(v))v.push(E);else if(v&&typeof v=="object")(w&&(w.plainObjects||w.allowPrototypes)||!o.call(Object.prototype,E))&&(v[E]=!0);else return[v,E];return v}if(!v||typeof v!="object")return[v].concat(E);var C=v;return l(v)&&!l(E)&&(C=c(v,w)),l(v)&&l(E)?(E.forEach(function(_,T){if(o.call(v,T)){var W=v[T];W&&typeof W=="object"&&_&&typeof _=="object"?v[T]=u(W,_,w):v.push(_)}else v[T]=_}),v):Object.keys(E).reduce(function(_,T){var W=E[T];return o.call(_,T)?_[T]=u(_[T],W,w):_[T]=W,_},C)},p=function(v,E){return Object.keys(E).reduce(function(w,C){return w[C]=E[C],w},v)},f=function(u,v,E){var w=u.replace(/\+/g," ");if(E==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch(C){return w}},O=function(v,E,w,C,_){if(v.length===0)return v;var T=v;if(typeof v=="symbol"?T=Symbol.prototype.toString.call(v):typeof v!="string"&&(T=String(v)),w==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(H){return"%26%23"+parseInt(H.slice(2),16)+"%3B"});for(var W="",k=0;k<T.length;++k){var $=T.charCodeAt(k);if($===45||$===46||$===95||$===126||$>=48&&$<=57||$>=65&&$<=90||$>=97&&$<=122||_===e.RFC1738&&($===40||$===41)){W+=T.charAt(k);continue}if($<128){W=W+s[$];continue}if($<2048){W=W+(s[192|$>>6]+s[128|$&63]);continue}if($<55296||$>=57344){W=W+(s[224|$>>12]+s[128|$>>6&63]+s[128|$&63]);continue}k+=1,$=65536+(($&1023)<<10|T.charCodeAt(k)&1023),W+=s[240|$>>18]+s[128|$>>12&63]+s[128|$>>6&63]+s[128|$&63]}return W},b=function(v){for(var E=[{obj:{o:v},prop:"o"}],w=[],C=0;C<E.length;++C)for(var _=E[C],T=_.obj[_.prop],W=Object.keys(T),k=0;k<W.length;++k){var $=W[k],H=T[$];typeof H=="object"&&H!==null&&w.indexOf(H)===-1&&(E.push({obj:T,prop:$}),w.push(H))}return h(E),v},m=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},a=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},n=function(v,E){return[].concat(v,E)},r=function(v,E){if(l(v)){for(var w=[],C=0;C<v.length;C+=1)w.push(E(v[C]));return w}return E(v)};S.exports={arrayToObject:c,assign:p,combine:n,compact:b,decode:f,encode:O,isBuffer:a,isRegExp:m,maybeMap:r,merge:d}},function(S,i,t){"use strict";function e(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(l)}function o(l){return l!==null&&e(l)==="object"}S.exports=o},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o){o.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},function(S,i,t){(function(e){var o=typeof e=="object"&&e&&e.Object===Object&&e;S.exports=o}).call(this,t(114))},function(S,i){var t=Function.prototype,e=t.toString;function o(l){if(l!=null){try{return e.call(l)}catch(s){}try{return l+""}catch(s){}}return""}S.exports=o},function(S,i,t){var e=t(319),o=t(479),l=t(320),s=1,h=2;function c(d,p,f,O,b,m){var a=f&s,n=d.length,r=p.length;if(n!=r&&!(a&&r>n))return!1;var u=m.get(d),v=m.get(p);if(u&&v)return u==p&&v==d;var E=-1,w=!0,C=f&h?new e:void 0;for(m.set(d,p),m.set(p,d);++E<n;){var _=d[E],T=p[E];if(O)var W=a?O(T,_,E,p,d,m):O(_,T,E,d,p,m);if(W!==void 0){if(W)continue;w=!1;break}if(C){if(!o(p,function(k,$){if(!l(C,$)&&(_===k||b(_,k,f,O,m)))return C.push($)})){w=!1;break}}else if(!(_===T||b(_,T,f,O,m))){w=!1;break}}return m.delete(d),m.delete(p),w}S.exports=c},function(S,i,t){var e=t(97);function o(l){return l===l&&!e(l)}S.exports=o},function(S,i){function t(e,o){return function(l){return l==null?!1:l[e]===o&&(o!==void 0||e in Object(l))}}S.exports=t},function(S,i,t){var e=t(368);function o(l){var s=e(l),h=s%1;return s===s?h?s-h:s:0}S.exports=o},function(S,i,t){"use strict";t.d(i,"a",function(){return O});var e=t(0),o=t(6),l=t.n(o),s=Object.defineProperty,h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(a,n,r)=>n in a?s(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,f=(a,n)=>{for(var r in n||(n={}))c.call(n,r)&&p(a,r,n[r]);if(h)for(var r of h(n))d.call(n,r)&&p(a,r,n[r]);return a};const O=a=>a.alignment==="center"?Object(e.h)(m,f({},a)):Object(e.h)(b,f({},a)),b=({primaryButton:a,secondaryButton:n,destructiveButton:r,includeDivider:u,className:v})=>Object(e.h)("div",{className:l()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":u},v)},r&&Object(e.cloneElement)(r,{className:l()("tw-mr-auto",r.props.className)}),n,a),m=({includeDivider:a,primaryButton:n,secondaryButton:r,className:u})=>Object(e.h)("div",{className:l()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":a},u)},n,r)},function(S,i,t){var e=t(318),o=t(157),l=t(274),s=Math.max,h=Math.min;function c(d,p,f){var O=d==null?0:d.length;if(!O)return-1;var b=O-1;return f!==void 0&&(b=l(f),b=f<0?s(O+b,0):h(b,O-1)),e(d,o(p,3),b,!0)}S.exports=c},function(S,i){i.generateVisitIdHelper=(t,{utm_source:e}={})=>{const o={id:t(),timestamp:new Date};return e&&(o.utm_source=e),o}},function(S,i,t){"use strict";t.d(i,"a",function(){return m}),t.d(i,"b",function(){return a}),t.d(i,"c",function(){return n});var e=t(3),o=t.n(e),l=t(8),s=t.n(l),h=t(7),c=t.n(h),d=t(30),p=t(316),f=t.n(p),O=t(118),b=t.n(O);function m({publication:u,post:v,siteConfigs:E={},twitterCardUrl:w=null,isCommentPage:C=!1,selection:_=null}){const T=(v==null?void 0:v.social_title)||(v==null?void 0:v.title)||u.name,{title:W,description:k}=a(v,u,{isCommentPage:C});let $,H;w?($=w,H=!0):_?($=Object(e.getPostSelectionPreviewUrl)(u,v,_),H=!0):[$,H]=n(u,v);const g=C&&v&&v.type!=="thread"&&v.comment_count===0;return Object(l.setMetaData)({title:W,socialTitle:T,description:k,image:$,isLargeImage:H,imageHeight:_&&564,imageWidth:_&&1128,seoProps:{noindex:g,noarchive:Boolean(v&&v.post_paywall_content_for_google)},isPodcast:(v==null?void 0:v.type)==="podcast",isVideo:(v==null?void 0:v.type)==="video",slug:v==null?void 0:v.slug,pub:u,post:v,siteConfigs:E})}function a(u,v,{isCommentPage:E=!1}={}){var w,C;const _=(u==null?void 0:u.social_title)||(u==null?void 0:u.title)||v.name;let T,W;u?W=Object(h.getPrintedByline)(v,u):W=Object(d.default)("publication_author_display_override")||((w=Object(p.contributorsIntoAuthorStrings)(v.contributors))==null?void 0:w.owner);const k=W&&!((C=v.name)==null?void 0:C.toLowerCase().includes(W==null?void 0:W.toLowerCase()));(u==null?void 0:u.title)?(T=(u==null?void 0:u.search_engine_title)||_,E&&u.type!=="thread"&&(T=`Comments - ${T}`),`${T} - by ${W}`.length<60&&(W&&k&&(T+=` - by ${W}`),`${T} - ${v.name}`.length<60&&(T+=` - ${v.name}`))):k?T=`${v.name} | ${W} | Substack`:T=`${v.name} | Substack`;let $;return u?$=u.search_engine_description||Object(h.postSocialDescription)(u,v):$=r(v),$=b()($),{title:T,description:$}}function n(u,v){let E,w;return(v==null?void 0:v.cover_image)?(E=Object(h.cloudinary)(v.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),w=!0):u.subdomain==="numlock"?(E=Object(h.cloudinary)("/img/numlock_square.png?v=2",840),w=!1):(E=Object(h.cloudinary)(u.logo_url,256),w=!1),[E,w]}function r(u){var v,E,w;const C=(v=u.name)==null?void 0:v.trim();let _=C;Object(h.endsWithPunctuation)(C)&&(_=`"${C}"`);const T=Object(p.contributorsIntoAuthorStrings)(u.contributors);let W,k;return u.invite_only?(W=null,k=null):(W=((E=u.rankingDetailFreeIncluded)==null?void 0:E.toLowerCase().includes("readers"))?u.rankingDetailFreeIncluded.toLowerCase():null,k=u.rankingDetailFreeIncluded||u.rankingDetail),Object(p.metaDescription)((w=u.hero_text)==null?void 0:w.trim(),T,W,_,k)}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"none",stroke:"none"}}),Object(e.h)("path",{d:"M16 4H0V6H16V4Z",fill:"#ff6719"}),Object(e.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z",fill:"#ff6719"}),Object(e.h)("path",{d:"M16 0H0V2H16V0Z",fill:"#ff6719"}));i.default=m},function(S,i){function t(e,o){for(var l=-1,s=o.length,h=e.length;++l<s;)e[h+l]=o[l];return e}S.exports=t},function(S,i){function t(e){return function(o){return e(o)}}S.exports=t},function(S,i,t){var e=t(366);function o(l){return l==null?"":e(l)}S.exports=o},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{fill:u}=r,v=m(r,["fill"]);return Object(e.h)(o.a,b(O({},v),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:u||"white"}}),Object(e.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:u||"white"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),Object(e.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),Object(e.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}));i.default=m},function(S,i,t){var e=t(385);function o(l){var s=l==null?0:l.length;return s?e(l,1):[]}S.exports=o},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(34);function o(l,s,{native:h=!1,newTab:c=!1}={}){l.defaultPrevented||(l.preventDefault(),h?c||l.metaKey||l.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:s}).click():window.location.assign(s):Object(e.route)(s))}},function(S,i,t){"use strict";t.r(i),t.d(i,"LucideBookmark",function(){return a});var e=t(0),o=t(9),l=t(357),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));function a(n){return Object(e.h)(o.a,m(b({},n),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}))}i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PinIconSmall",svgParams:{height:16,width:14}}),Object(e.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),Object(e.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),Object(e.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";(function(e){const o={},l=o.hasOwnProperty,s=(_,T)=>{for(const W in _)l.call(_,W)&&T(W,_[W])},h=(_,T)=>(T&&s(T,(W,k)=>{_[W]=k}),_),c=(_,T)=>{const W=_.length;let k=-1;for(;++k<W;)T(_[k])},d=o.toString,p=Array.isArray,f=e.isBuffer,O=_=>d.call(_)=="[object Object]",b=_=>typeof _=="string"||d.call(_)=="[object String]",m=_=>typeof _=="number"||d.call(_)=="[object Number]",a=_=>typeof _=="function",n=_=>d.call(_)=="[object Map]",r=_=>d.call(_)=="[object Set]",u={'"':'\\"',"'":"\\'","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},v=/["'\\\b\f\n\r\t]/,E=/[0-9]/,w=/[ !#-&\(-\[\]-_a-~]/,C=(_,T)=>{const W=()=>{D=R,++T.indentLevel,R=T.indent.repeat(T.indentLevel)},k={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},$=T&&T.json;$&&(k.quotes="double",k.wrap=!0),T=h(k,T),T.quotes!="single"&&T.quotes!="double"&&T.quotes!="backtick"&&(T.quotes="single");const H=T.quotes=="double"?'"':T.quotes=="backtick"?"`":"'",g=T.compact,M=T.lowercaseHex;let R=T.indent.repeat(T.indentLevel),D="";const U=T.__inline1__,L=T.__inline2__,j=g?"":`
`;let B,x=!0;const P=T.numbers=="binary",y=T.numbers=="octal",A=T.numbers=="decimal",K=T.numbers=="hexadecimal";if($&&_&&a(_.toJSON)&&(_=_.toJSON()),!b(_)){if(n(_))return _.size==0?"new Map()":(g||(T.__inline1__=!0,T.__inline2__=!1),"new Map("+C(Array.from(_),T)+")");if(r(_))return _.size==0?"new Set()":"new Set("+C(Array.from(_),T)+")";if(f(_))return _.length==0?"Buffer.from([])":"Buffer.from("+C(Array.from(_),T)+")";if(p(_))return B=[],T.wrap=!0,U&&(T.__inline1__=!1,T.__inline2__=!0),L||W(),c(_,G=>{x=!1,L&&(T.__inline2__=!1),B.push((g||L?"":R)+C(G,T))}),x?"[]":L?"["+B.join(", ")+"]":"["+j+B.join(","+j)+j+(g?"":D)+"]";if(m(_)){if($)return JSON.stringify(_);if(A)return String(_);if(K){let G=_.toString(16);return M||(G=G.toUpperCase()),"0x"+G}if(P)return"0b"+_.toString(2);if(y)return"0o"+_.toString(8)}else return O(_)?(B=[],T.wrap=!0,W(),s(_,(G,X)=>{x=!1,B.push((g?"":R)+C(G,T)+":"+(g?"":" ")+C(X,T))}),x?"{}":"{"+j+B.join(","+j)+j+(g?"":D)+"}"):$?JSON.stringify(_)||"null":String(_)}const N=_;let Y=-1;const F=N.length;for(B="";++Y<F;){const G=N.charAt(Y);if(T.es6){const Ee=N.charCodeAt(Y);if(Ee>=55296&&Ee<=56319&&F>Y+1){const Ie=N.charCodeAt(Y+1);if(Ie>=56320&&Ie<=57343){let oe=((Ee-55296)*1024+Ie-56320+65536).toString(16);M||(oe=oe.toUpperCase()),B+="\\u{"+oe+"}",++Y;continue}}}if(!T.escapeEverything){if(w.test(G)){B+=G;continue}if(G=='"'){B+=H==G?'\\"':G;continue}if(G=="`"){B+=H==G?"\\`":G;continue}if(G=="'"){B+=H==G?"\\'":G;continue}}if(G=="\0"&&!$&&!E.test(N.charAt(Y+1))){B+="\\0";continue}if(v.test(G)){B+=u[G];continue}const X=G.charCodeAt(0);if(T.minimal&&X!=8232&&X!=8233){B+=G;continue}let q=X.toString(16);M||(q=q.toUpperCase());const se=q.length>2||$;B+="\\"+(se?"u":"x")+("0000"+q).slice(se?-4:-2)}return T.wrap&&(B=H+B+H),H=="`"&&(B=B.replace(/\$\{/g,"\\${")),T.isScriptContext?B.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,$?"\\u003C!--":"\\x3C!--"):B};C.version="2.5.2",S.exports=C}).call(this,t(369).Buffer)},function(S,i,t){"use strict";t.d(i,"c",function(){return v}),t.d(i,"a",function(){return E}),t.d(i,"b",function(){return w});var e=t(3),o=t.n(e),l=t(7),s=t.n(l),h=t(14),c=t.n(h),d=t(53),p=Object.defineProperty,f=Object.defineProperties,O=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(C,_,T)=>_ in C?p(C,_,{enumerable:!0,configurable:!0,writable:!0,value:T}):C[_]=T,r=(C,_)=>{for(var T in _||(_={}))m.call(_,T)&&n(C,T,_[T]);if(b)for(var T of b(_))a.call(_,T)&&n(C,T,_[T]);return C},u=(C,_)=>f(C,O(_));function v(C,{name:_,url:T,description:W,potentialAction:k}={}){return k===void 0&&(k={"@type":"SearchAction",name:`Search ${C.name}`,target:`${C.base_url}${Object(e.getBaseArchiveUrl)(C)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:_||C.name,publisher:r(r({"@type":"Organization",name:C.name,url:C.base_url},C.logo_url?{logo:{"@type":"ImageObject",url:C.logo_url}}:{}),C.twitter_screen_name?{sameAs:[`https://twitter.com/${C.twitter_screen_name}`]}:{}),url:T||C.base_url,mainEntityOfPage:{"@type":"WebPage",url:T||C.base_url},description:W||C.hero_text,potentialAction:k}}function E(C,_){const T=Object(l.getBylineUsers)(_),W=r(r({"@type":"Organization",name:(C.parent_publication||C).name,url:Object(e.getBaseUrl)(C.parent_publication||C),description:(C.parent_publication||C).hero_text,identifier:`pub:${(C.parent_publication||C).id}`},(C.parent_publication||C).logo_url&&{logo:{"@type":"ImageObject",url:(C.parent_publication||C).logo_url,contentUrl:Object(l.cloudinary)((C.parent_publication||C).logo_url),thumbnailUrl:Object(l.cloudinary)((C.parent_publication||C).logo_url,128,{height:128})},image:{"@type":"ImageObject",url:(C.parent_publication||C).logo_url,contentUrl:Object(l.cloudinary)((C.parent_publication||C).logo_url),thumbnailUrl:Object(l.cloudinary)((C.parent_publication||C).logo_url,128,{height:128})}}),(C.parent_publication||C).twitter_screen_name&&{sameAs:[`https://twitter.com/${(C.parent_publication||C).twitter_screen_name}`]});return u(r({"@context":"https://schema.org","@type":"NewsArticle",url:Object(e.getPostUrl)(C,_),mainEntityOfPage:Object(e.getPostUrl)(C,_),headline:_.search_engine_title||_.social_title||_.title,description:_.search_engine_description||_.description,image:_.cover_image?[{"@type":"ImageObject",url:_.cover_image}]:[],datePublished:c()(_.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:c()(_.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!Object(d.isPaidAudience)(_.audience)},_.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:T.length>0?T.map(k=>r(r({"@type":"Person",name:k.name,url:Object(e.getReaderProfileUrl)(k),description:k.bio,identifier:`user:${k.id}`},k.twitter_screen_name&&{sameAs:[`https://twitter.com/${k.twitter_screen_name}`]}),k.photo_url&&{image:{"@type":"ImageObject",contentUrl:Object(l.cloudinary)(k.photo_url),thumbnailUrl:Object(l.cloudinary)(k.photo_url,128,{height:128})}})):W,publisher:W})}function w(C){return r({"@context":"https://schema.org","@type":"Person",image:(C==null?void 0:C.photo_url)&&Object(l.cloudinary)(C.photo_url),name:`${C==null?void 0:C.name}`,url:C&&Object(e.getReaderProfileUrl)(C),jobTitle:C==null?void 0:C.bio,description:C==null?void 0:C.bio},(C==null?void 0:C.twitter_screen_name)?{sameAs:[`https://twitter.com/${C.twitter_screen_name}`]}:{})}},function(S,i,t){"use strict";t.d(i,"a",function(){return C});var e=t(0),o=t(577),l=t(44),s=t(46),h=t(107),c=t(3),d=t(5),p=t(14),f=t.n(p);const O=1653592864;var b=Object.defineProperty,m=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,v=(_,T,W)=>T in _?b(_,T,{enumerable:!0,configurable:!0,writable:!0,value:W}):_[T]=W,E=(_,T)=>{for(var W in T||(T={}))r.call(T,W)&&v(_,W,T[W]);if(n)for(var W of n(T))u.call(T,W)&&v(_,W,T[W]);return _},w=(_,T)=>m(_,a(T));function C({user:_,noBase:T}){const W=Object(s.e)(),k=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const $="has_seen_like_nux",H=Object(l.getStoredValue)($),g=O;if(H&&_&&!_.has_seen_like_nux){k();return}!_||!_.profile_set_up_at||_.subscription_visibility==="private"||!_.activity_likes_enabled||H||_.has_seen_like_nux||f()((_==null?void 0:_.profile_set_up_at)||0).unix()>g||(Object(d.i)(d.a.LIKE_NUX_SHOWN),Object(l.setStoredValue)($,!0),k(),W.popToast(M=>Object(e.h)(s.a,w(E({},M),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:Object(e.h)(e.Fragment,null,Object(e.h)(s.b,{href:Object(c.getReaderProfileUrl)(_,{utm_source:"like_toast",noBase:T})},Object(e.h)(h.b,null,"OK")),Object(e.h)(s.b,{href:Object(c.getEditProfileUrl)({params:{utm_source:"like_toast"}})},Object(e.h)(h.b,{color:"secondary"},"Settings"))),Icon:o.a}))))}}},,function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";var e="millisecond",o="second",l="minute",s="hour",h="day",c="week",d="month",p="quarter",f="year",O="date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},n=function(k,$,H){var g=String(k);return!g||g.length>=$?k:""+Array($+1-g.length).join(H)+k},r={s:n,z:function(k){var $=-k.utcOffset(),H=Math.abs($),g=Math.floor(H/60),M=H%60;return($<=0?"+":"-")+n(g,2,"0")+":"+n(M,2,"0")},m:function k($,H){if($.date()<H.date())return-k(H,$);var g=12*(H.year()-$.year())+(H.month()-$.month()),M=$.clone().add(g,d),R=H-M<0,D=$.clone().add(g+(R?-1:1),d);return+(-(g+(H-M)/(R?M-D:D-M))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:d,y:f,w:c,d:h,D:O,h:s,m:l,s:o,ms:e,Q:p}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},u="en",v={};v[u]=a;var E=function(k){return k instanceof T},w=function(k,$,H){var g;if(!k)return u;if(typeof k=="string")v[k]&&(g=k),$&&(v[k]=$,g=k);else{var M=k.name;v[M]=k,g=M}return!H&&g&&(u=g),g||!H&&u},C=function(k,$){if(E(k))return k.clone();var H=typeof $=="object"?$:{};return H.date=k,H.args=arguments,new T(H)},_=r;_.l=w,_.i=E,_.w=function(k,$){return C(k,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var T=function(){function k(H){this.$L=w(H.locale,null,!0),this.parse(H)}var $=k.prototype;return $.parse=function(H){this.$d=function(g){var M=g.date,R=g.utc;if(M===null)return new Date(NaN);if(_.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var D=M.match(b);if(D){var U=D[2]-1||0,L=(D[7]||"0").substring(0,3);return R?new Date(Date.UTC(D[1],U,D[3]||1,D[4]||0,D[5]||0,D[6]||0,L)):new Date(D[1],U,D[3]||1,D[4]||0,D[5]||0,D[6]||0,L)}}return new Date(M)}(H),this.$x=H.x||{},this.init()},$.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},$.$utils=function(){return _},$.isValid=function(){return this.$d.toString()!=="Invalid Date"},$.isSame=function(H,g){var M=C(H);return this.startOf(g)<=M&&M<=this.endOf(g)},$.isAfter=function(H,g){return C(H)<this.startOf(g)},$.isBefore=function(H,g){return this.endOf(g)<C(H)},$.$g=function(H,g,M){return _.u(H)?this[g]:this.set(M,H)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(H,g){var M=this,R=!!_.u(g)||g,D=_.p(H),U=function(K,N){var Y=_.w(M.$u?Date.UTC(M.$y,N,K):new Date(M.$y,N,K),M);return R?Y:Y.endOf(h)},L=function(K,N){return _.w(M.toDate()[K].apply(M.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(N)),M)},j=this.$W,B=this.$M,x=this.$D,P="set"+(this.$u?"UTC":"");switch(D){case f:return R?U(1,0):U(31,11);case d:return R?U(1,B):U(0,B+1);case c:var y=this.$locale().weekStart||0,A=(j<y?j+7:j)-y;return U(R?x-A:x+(6-A),B);case h:case O:return L(P+"Hours",0);case s:return L(P+"Minutes",1);case l:return L(P+"Seconds",2);case o:return L(P+"Milliseconds",3);default:return this.clone()}},$.endOf=function(H){return this.startOf(H,!1)},$.$set=function(H,g){var M,R=_.p(H),D="set"+(this.$u?"UTC":""),U=(M={},M[h]=D+"Date",M[O]=D+"Date",M[d]=D+"Month",M[f]=D+"FullYear",M[s]=D+"Hours",M[l]=D+"Minutes",M[o]=D+"Seconds",M[e]=D+"Milliseconds",M)[R],L=R===h?this.$D+(g-this.$W):g;if(R===d||R===f){var j=this.clone().set(O,1);j.$d[U](L),j.init(),this.$d=j.set(O,Math.min(this.$D,j.daysInMonth())).$d}else U&&this.$d[U](L);return this.init(),this},$.set=function(H,g){return this.clone().$set(H,g)},$.get=function(H){return this[_.p(H)]()},$.add=function(H,g){var M,R=this;H=Number(H);var D=_.p(g),U=function(B){var x=C(R);return _.w(x.date(x.date()+Math.round(B*H)),R)};if(D===d)return this.set(d,this.$M+H);if(D===f)return this.set(f,this.$y+H);if(D===h)return U(1);if(D===c)return U(7);var L=(M={},M[l]=6e4,M[s]=36e5,M[o]=1e3,M)[D]||1,j=this.$d.getTime()+H*L;return _.w(j,this)},$.subtract=function(H,g){return this.add(-1*H,g)},$.format=function(H){var g=this;if(!this.isValid())return"Invalid Date";var M=H||"YYYY-MM-DDTHH:mm:ssZ",R=_.z(this),D=this.$locale(),U=this.$H,L=this.$m,j=this.$M,B=D.weekdays,x=D.months,P=function(N,Y,F,G){return N&&(N[Y]||N(g,M))||F[Y].substr(0,G)},y=function(N){return _.s(U%12||12,N,"0")},A=D.meridiem||function(N,Y,F){var G=N<12?"AM":"PM";return F?G.toLowerCase():G},K={YY:String(this.$y).slice(-2),YYYY:this.$y,M:j+1,MM:_.s(j+1,2,"0"),MMM:P(D.monthsShort,j,x,3),MMMM:P(x,j),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:P(D.weekdaysMin,this.$W,B,2),ddd:P(D.weekdaysShort,this.$W,B,3),dddd:B[this.$W],H:String(U),HH:_.s(U,2,"0"),h:y(1),hh:y(2),a:A(U,L,!0),A:A(U,L,!1),m:String(L),mm:_.s(L,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:R};return M.replace(m,function(N,Y){return Y||K[N]||R.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(H,g,M){var R,D=_.p(g),U=C(H),L=6e4*(U.utcOffset()-this.utcOffset()),j=this-U,B=_.m(this,U);return B=(R={},R[f]=B/12,R[d]=B,R[p]=B/3,R[c]=(j-L)/6048e5,R[h]=(j-L)/864e5,R[s]=j/36e5,R[l]=j/6e4,R[o]=j/1e3,R)[D]||j,M?B:_.a(B)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return v[this.$L]},$.locale=function(H,g){if(!H)return this.$L;var M=this.clone(),R=w(H,g,!0);return R&&(M.$L=R),M},$.clone=function(){return _.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},k}(),W=T.prototype;return C.prototype=W,[["$ms",e],["$s",o],["$m",l],["$H",s],["$W",h],["$M",d],["$y",f],["$D",O]].forEach(function(k){W[k[1]]=function($){return this.$g($,k[0],k[1])}}),C.extend=function(k,$){return k.$i||(k($,T,C),k.$i=!0),C},C.locale=w,C.isDayjs=E,C.unix=function(k){return C(1e3*k)},C.en=v[u],C.Ls=v,C.p={},C})},function(S,i,t){"use strict";var e=t(0),o=t(2),l=t(27),s=t(12);const h=({allowAllDay:c,redirect:d,onCancel:p})=>{const[f,O]=Object(o.k)(!1);return Object(e.h)(l.g,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=d||"/",autoLock:!0},Object(e.h)("h2",null,"DANGER: Customer Support Mode"),Object(e.h)("p",null,Object(e.h)("b",null,"Be absolutely respectful")," to the writers whose behalf you are working on."),c&&Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:b=>O(b.target.checked)})," ","Allow access for the day because I'm doing Customer Support"),f&&Object(e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),Object(e.h)("input",{type:"hidden",name:"minutes",value:f?10*60:30}),Object(e.h)("div",{id:"error-container"}),Object(e.h)(s.b,{className:"danger",type:"submit"},"Turn on customer support mode"),p&&Object(e.h)(s.b,{className:"secondary",onClick:p},"Cancel"))};i.a=h},function(S,i,t){S.exports=t(682).default},function(S,i,t){"use strict";t.d(i,"a",function(){return c});var e=t(0),o=t(6),l=t.n(o),s=t(11),h={badge:"frontend-components-NavBadge-module__badge--1pq8F",responsive:"frontend-components-NavBadge-module__responsive--3TOrk"};function c({className:d,responsive:p}){return Object(e.h)(s.a,{className:l()(h.badge,p&&h.responsive,d)})}},function(S,i,t){"use strict";i.__esModule=!0,i.inherits=e;function e(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=Object.create(o.prototype);for(var c in s)h[c]=s[c];return h.constructor=l,l.prototype=h,l}},function(S,i,t){"use strict";var e=t(665),o=t.n(e),l=t(336),s=t.n(l),h=t(640),c=t.n(h),d=t(666),p=t.n(d),f=t(151),O=t.n(f),b=t(101),m=t(102),a=t(85),n=t.n(a),r=t(103),u=t(108),v=t(65),E=t(1),w=t(236),C=t(21),_=t(338),T=t.n(_),W=t(189),k=t(140),$=t(642),H=t.n($),g=t(339),M=t.n(g),R=t(507),D=t(231);function U(x){var P=L();return function(){var A=Object(v.a)(x),K;if(P){var N=Object(v.a)(this).constructor;K=Reflect.construct(A,arguments,N)}else K=A.apply(this,arguments);return Object(u.a)(this,K)}}function L(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(x){return!1}}var j=function(x){Object(r.a)(y,x);var P=U(y);function y(A){var K;return Object(b.a)(this,y),K=P.call(this,A),K.createEmotionCache=function(N){return Object(D.a)({nonce:N})},K.createEmotionCache=Object(w.a)(K.createEmotionCache),K}return Object(m.a)(y,[{key:"render",value:function(){var K=this.createEmotionCache(this.props.nonce);return E.default.createElement(C.a,{value:K},this.props.children)}}]),y}(E.Component),B=Object(R.a)(W.a);i.a=B},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#666666"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({stroke:u},v),{name:"UploadIcon",svgParams:{width:20,height:20,viewBox:"0 0 20 20"}}),Object(e.h)("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M14.1667 6.66667L10 2.5L5.83337 6.66667",strokeWidth:"1.5",strokeLinecap:"round",fill:"none",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M10 2.5V12.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}))};i.default=a},function(S,i,t){"use strict";t.d(i,"a",function(){return d});var e=t(0),o=t(8),l=t.n(o),s=(p,f,O)=>new Promise((b,m)=>{var a=u=>{try{r(O.next(u))}catch(v){m(v)}},n=u=>{try{r(O.throw(u))}catch(v){m(v)}},r=u=>u.done?b(u.value):Promise.resolve(u.value).then(a,n);r((O=O.apply(p,f)).next())});const h=.8,c=100;class d extends e.Component{constructor(f,O){super(f,O);this.fudgeFactor=h}componentWillUnmount(){this.state.uploading&&this.cancelUpload()}acceptsFile(f){return(this.props.accepts||this.accepts||"*").split(",").map(O=>new RegExp(O.trim().replace(/\./g,"\\.").replace(/\*/g,".*"))).reduce((O,b)=>O||b.test(f.type),!1)}uploadFile(f,O,{urls:b=null,method:m="POST",rehost:a=!1,fileUrl:n=null,path:r=null,withCredentials:u=!0,useFormData:v=!0}={}){if(this.state.uploading)return;if(!window.FormData||!window.XMLHttpRequest){alert("Your browser does not support uploading files!");return}if(f&&!this.acceptsFile(f)){alert("Please select a valid file");return}b=b||this.props.urls||this.urls;const E=[];if(!v&&this.chunkSize>0)for(let C=0;C<b.length;C++)E.push(f.slice(this.chunkSize*C,this.chunkSize*(C+1)));else b=[b[0]],E.push(f);const w=[];for(let C=0;C<b.length;C++)w.push(()=>{var _;const T=new XMLHttpRequest;if(T.upload&&T.upload.addEventListener("progress",W=>this.onProgress(W),!1),T.addEventListener("load",W=>this.uploadNextFile(W),!1),T.addEventListener("error",W=>this.onError(W),!1),T.addEventListener("abort",W=>this.onAbort(W),!1),T.withCredentials=u,T.open(m,b[C],!0),v){const W=new FormData;if(E[C]&&W.append(this.fileName||"file",E[C]),O)for(const k in O)W.append(k,O[k]);T.send(W)}else E[C]&&(((_=E[C])==null?void 0:_.type)&&T.setRequestHeader("Content-Type",E[C].type),T.send(E[C]));return T});this.resetUpload(w,a,n,r)}uploadNextFile(f){const{uploadingXhrs:O,uploadingXhrGenerators:b}=this.state;if(O&&b&&O.length<b.length){const m=b[O.length]();this.setState({uploading:m,uploadingXhrs:O.concat([m])});return}this.onComplete(f)}resetUpload(f=null,O=!1,b=null,m=null){let a=null;(f==null?void 0:f.length)>0?a=f[0]():f=null,clearInterval(this.state.percentCompleteInterval),this.setState({uploading:a,uploadingXhrs:a?[a]:null,uploadingXhrGenerators:f,startedAt:new Date,percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:O,fileUrl:b,path:m})}startPercentCompleteInterval(){this.setState({uploadedAt:new Date,percentCompleteInterval:setInterval(()=>this.onPercentCompleteInterval(),c)})}cancelUpload(){if(this.state.uploading)try{this.state.uploading.abort()}catch(f){console.error("Failed to cancel upload",f)}}setEstimatedTimeLeft(f){let O=0,b=new Date;if(this.state.startedAt&&Date.now()-this.state.startedAt>=5*1e3&&f&&f<1){const m=Date.now()-this.state.startedAt,n=m/f-m;n>=60*1e3&&(this.state.estimatedTimeLeft&&this.state.estimatedTimeLeft<n&&this.state.estimatedTimeLeftAt-Date.now()<5*1e3?(O=this.state.estimatedTimeLeft,b=this.state.estimatedTimeLeftAt):O=n)}return this.state.estimatedTimeLeft!==O&&this.setState({estimatedTimeLeft:O,estimatedTimeLeftAt:b}),O}getEstimatedTimeLeftMs(){return this.state.estimatedTimeLeft}onPercentCompleteInterval(){if(!this.state.uploading)return;const f=this.state.uploadedAt-this.state.startedAt,O=f*(1/this.fudgeFactor-1),b=f+O,m=Date.now()-this.state.startedAt;m<b?(this.setState({percentComplete:m/b}),this.setEstimatedTimeLeft(m/b)):this.state.percentComplete<1&&(this.setState({percentComplete:1}),this.setEstimatedTimeLeft(1))}onProgress(f){const{uploadingXhrs:O,uploadingXhrGenerators:b,percentCompleteInterval:m}=this.state;if(!m&&f.lengthComputable){const a=(b==null?void 0:b.length)||1,r=(((O==null?void 0:O.length)||1)-1)/a+f.loaded/f.total/a;this.setState({percentComplete:r*this.fudgeFactor}),this.setEstimatedTimeLeft(r*this.fudgeFactor),r>=1&&this.startPercentCompleteInterval()}}onComplete(){return s(this,null,function*(){const f=this.state.uploading&&this.state.uploading.status;if(!f||f<200||f>=400){this.onError();return}const O=this.state.uploading.responseText;let b;try{b=JSON.parse(O)}catch(m){console.error("Failed to parse response:",m)}this.resetUpload(),this.props.onUpload&&this.props.onUpload(b,O)})}onError(){const f=Object(o.getNetworkErrorMessageFromXhr)(this.state.uploading);alert(f),this.resetUpload(),this.props.onError&&this.props.onError(new Error(f))}onAbort(){this.resetUpload(),this.props.onAbort&&this.props.onAbort()}}},function(S,i,t){"use strict";t.d(i,"a",function(){return h});var e=t(0),o=t(6),l=t.n(o);const s=({label:c,icon:d,isActive:p,onClick:f,padding:O="tw-py-6 tw-px-4",useSubstackTheme:b=!1,isDisabled:m=!1})=>Object(e.h)("div",{className:l()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",O,{"tw-cursor-pointer":!m||p,"tw-cursor-not-allowed tw-opacity-50":m&&!p,"tw-border-b-pub-primary-text tw-text-pub-primary-text":p&&!b,"tw-text-pub-secondary-text":!p&&!b,"tw-border-b-substack-primary tw-text-substack-primary":p&&b,"tw-text-substack-secondary":!p&&b,"hover:tw-bg-pub-wash":!b&&!p&&!m,"hover:tw-bg-substack-wash":b&&!p&&!m}),disabled:m,onClick:m?()=>{}:f,role:"button"},d,Object(e.h)("span",null,c)),h=({items:c,onSelect:d,activeTab:p,tabPadding:f,useSubstackTheme:O=!1,className:b})=>Object(e.h)("div",{className:l()("tw-flex",b)},c.map(({key:m,icon:a,label:n,isDisabled:r})=>Object(e.h)(s,{isActive:m==p,icon:a,onClick:()=>{d(m)},padding:f,label:n,useSubstackTheme:O,isDisabled:r})))},function(S,i,t){"use strict";t.d(i,"a",function(){return e});function e(o,l){return e=Object.setPrototypeOf||function(h,c){return h.__proto__=c,h},e(o,l)}},function(S,i,t){"use strict";t.d(i,"a",function(){return l});function e(s){if(s.sheet)return s.sheet;for(var h=0;h<document.styleSheets.length;h++)if(document.styleSheets[h].ownerNode===s)return document.styleSheets[h]}function o(s){var h=document.createElement("style");return h.setAttribute("data-emotion",s.key),s.nonce!==void 0&&h.setAttribute("nonce",s.nonce),h.appendChild(document.createTextNode("")),h}var l=function(){function s(c){this.isSpeedy=c.speedy===void 0?!0:c.speedy,this.tags=[],this.ctr=0,this.nonce=c.nonce,this.key=c.key,this.container=c.container,this.before=null}var h=s.prototype;return h.insert=function(d){if(this.ctr%(this.isSpeedy?65e3:1)==0){var p=o(this),f;this.tags.length===0?f=this.before:f=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(p,f),this.tags.push(p)}var O=this.tags[this.tags.length-1];if(this.isSpeedy){var b=e(O);try{var m=d.charCodeAt(1)===105&&d.charCodeAt(0)===64;b.insertRule(d,m?0:b.cssRules.length)}catch(a){}}else O.appendChild(document.createTextNode(d));this.ctr++},h.flush=function(){this.tags.forEach(function(d){return d.parentNode.removeChild(d)}),this.tags=[],this.ctr=0},s}()},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(249);function o(l,s){if(!!l){if(typeof l=="string")return Object(e.a)(l,s);var h=Object.prototype.toString.call(l).slice(8,-1);if(h==="Object"&&l.constructor&&(h=l.constructor.name),h==="Map"||h==="Set")return Array.from(l);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Object(e.a)(l,s)}}},function(S,i,t){"use strict";t.d(i,"a",function(){return s});var e=t(0),o=t(7),l=t.n(o);function s({array:h,limit:c,formatter:d=b=>b,restWord:p="other",showRestCount:f=!0,pluralizeRest:O=!0}){const b=h.map(d).filter(Boolean).slice(0,c);if(b.length===0)return Object(o.pluralize)(h.length,"people");const m=h.length-b.length;return m>0&&b.push(`${f?m:""} ${p}${m>1&&O?"s":""}`),b.length===1?b[0]:b.length===2?Object(e.h)(e.Fragment,null,b[0]," and ",b[1]):Object(e.h)(e.Fragment,null,b.slice(0,-1).map(a=>Object(e.h)(e.Fragment,null,a,", "))," ","and ",b[b.length-1])}},function(S,i,t){"use strict";var e=t(0),o=t(581),l=t(200),s=t(529);const h=({audience:c,className:d,size:p=16,isStatic:f,thin:O})=>c==="only_paid"?O?Object(e.h)(s.default,{className:d,height:p,isStatic:f}):Object(e.h)(o.a,{className:d,size:p}):c==="founding"?Object(e.h)(l.default,{className:d,height:p,isStatic:f}):null;i.a=h},function(S,i,t){"use strict";var e=t(0),o=t(6),l=t.n(o),s=t(55),h=t.n(s),c=t(256),d=t(43),p=t(36),f=t(30),O=Object.defineProperty,b=(n,r,u)=>r in n?O(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,m=(n,r,u)=>(b(n,typeof r!="symbol"?r+"":r,u),u);class a extends e.Component{constructor(){super(...arguments);m(this,"onSortCommentsClicked",r=>{this.sortMenuRef.toggle(),this.props.onSortSelected(r)})}render({sort:r,loading:u,pub:v}){const E=Object(f.default)("like_comments_enabled");return Object(e.h)("div",{className:l()("comments-page-sort-controls",{loading:u})},Object(e.h)("div",{className:"comments-page-sort-menu"},Object(e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},Object(e.h)("span",{className:"comments-page-sort-menu-button-label"},Object(s.commentSortText)(r)),Object(e.h)(c.default,{height:"6"})),Object(e.h)(d.b,{className:"comments-page-sort-menu-dropdown",ref:w=>this.sortMenuRef=w},Object(s.commentSortOptions)({likesEnabled:E}).map(({key:w,text:C})=>Object(e.h)(p.a,{className:r===w?"selected":"",onClick:()=>this.onSortCommentsClicked(w)},C)))))}}i.a=a},function(S,i,t){"use strict";t.d(i,"a",function(){return c});var e=t(0),o=t(5),l=t(186),s=t(109),h=t(28);class c extends e.Component{onShare(p){this.props.position&&Object(o.i)(o.a.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(p&&p.stopPropagation(),this.props.sharedShareDialog?p.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:p,linkClassName:f,user:O,pub:b,post:m,reaction_token:a,height:n,onChange:r,isStatic:u,children:v,sharedShareDialog:E,noIcon:w}){let C;return m.share_url_override?C=m.share_url_override:u?m?C=h.Substitutions.SHARE_URL:C=h.Substitutions.SHARE_PUB_URL:C="javascript:void(0)",Object(e.h)("span",{className:p},Object(e.h)("a",{href:C,onClick:_=>this.onShare(_),className:f},!w&&Object(e.h)(l.default,{class:"recommend-icon post-meta-icon",isStatic:u,height:n,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:u?1:1.5}),v),!u&&!E&&Object(e.h)(s.a,{ref:_=>this.modal=_,user:O,pub:b,post:m,reaction_token:a,onChange:r}))}}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="black",height:v=19,width:E=19}=r,w=m(r,["stroke","height","width"]);return Object(e.h)(o.a,b(O({},w),{name:"NewsletterIcon",svgParams:{height:v,width:E,viewBox:"0 0 19 19"}}),Object(e.h)("path",{d:"M3.5 3.5H15.5",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3.5 7.5H15.5",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3.5 11.5H15.5",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3.5 15.5H12",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.d(i,"a",function(){return H});var e=t(0),o=t(10),l=t.n(o),s=t(6),h=t.n(s),c=t(7),d=t.n(c),p=t(3),f=t.n(p),O=t(8),b=t.n(O),m=t(5),a=t(84),n=t(147),r=t(243),u=t(38),v=t(73),E=Object.defineProperty,w=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,T=(g,M,R)=>M in g?E(g,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):g[M]=R,W=(g,M)=>{for(var R in M||(M={}))C.call(M,R)&&T(g,R,M[R]);if(w)for(var R of w(M))_.call(M,R)&&T(g,R,M[R]);return g},k=(g,M,R)=>(T(g,typeof M!="symbol"?M+"":M,R),R),$=(g,M,R)=>new Promise((D,U)=>{var L=x=>{try{B(R.next(x))}catch(P){U(P)}},j=x=>{try{B(R.throw(x))}catch(P){U(P)}},B=x=>x.done?D(x.value):Promise.resolve(x.value).then(L,j);B((R=R.apply(g,M)).next())});class H extends e.Component{constructor(M,R){super(M,R);if(k(this,"onTabClick",D=>U=>{U.preventDefault(),this.loadTab(D)}),k(this,"onSearchInput",D=>{this.state.tab.id==="search"&&this.loadTab("search",D.target.value||"")}),k(this,"onSearchKeyDown",D=>{this.state.tab.id==="search"&&D.key==="Escape"&&(D.target.blur(),this.loadTab(this.state.tabs[0].id))}),k(this,"onPostClicked",(D,U,L,j)=>{Object(m.i)(m.a.ARCHIVE_PAGE_POST_CLICKED,{post_id:U,tab:this.state.tab.id,rank_in_feed:L,source:j})}),k(this,"onSearchBlur",D=>{this.state.tab.id==="search"&&!D.target.value&&this.loadTab(this.state.tabs[0].id,"")}),k(this,"loadTab",(D,U)=>$(this,null,function*(){const L=this.state.tabs.find(y=>y.id===D);let j=!1;if(L.id==="search"&&typeof U=="string"&&L.query!==U&&(j=!0,L.query=U,L.posts=null,L.fullyLoaded=!1,L.loading=!1,L.loadingError=null),L.id!==this.state.tab.id?(this.setState({tab:L},()=>{L.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(p.updateQuery)({sort:L.id,search:L.query||null}))):j&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(p.updateQuery)({search:L.query||null})),L.loading||L.fullyLoaded)return;if(L.id==="search"&&!L.query){L.posts=[],L.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const B=Object(c.randomString)();if(L.loading=B,L.loadingError=null,this.setState({tabs:this.state.tabs}),L.id==="search"&&L.query&&(yield new Promise(y=>setTimeout(y,300)),L.loading!==B))return;!this.state.tabs.find(y=>y.posts||y.fullyLoaded||y.loading||y.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(y=>setTimeout(y,this.props.delayFirstLoad)));const P=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const y=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),A=(yield l.a.get(P).query(W(W({sort:L.id==="search"?"new":L.id,search:L.id==="search"?L.query:"",offset:(L.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPubPodcast?"podcast":void 0},this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(L.loading!==B)return;L.posts=L.posts?L.posts.concat(A):A,L.fullyLoaded=A.length<y||this.props.maxPosts&&L.posts.length>=this.props.maxPosts}catch(y){console.error("Failed to load tab:",y),L.loadingError=y}L.loading=!1,this.setState({tabs:this.state.tabs})})),k(this,"onChange",({post:D})=>{!D||(Object(O.stateTransaction)(this,U=>{let L=!1;const j=U.tabs.map(B=>B.posts).filter(B=>Array.isArray(B));for(const B of j){const x=B.findIndex(P=>P.id===D.id);x!==-1&&(B[x]=D,L=!0)}L&&this.setState({tabs:U.tabs})}),this.props.onChange&&this.props.onChange(D))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(M){(M.hideTop!==this.props.hideTop||M.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var M,R;let D=[];D.push({id:"new",title:this.props.newTitle||"New",posts:this.props.newPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||D.push({id:"top",title:this.props.topTitle||"Top",posts:this.props.topPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.topPosts)}),((M=this.props.pub)==null?void 0:M.community_enabled)&&((R=this.props.pub)==null?void 0:R.has_community_content)&&D.push({id:"community",title:this.props.communityTitle||"Community",posts:this.props.communityPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.communityPosts)})),D=this.props.sortTabs&&this.props.sortTabs(D)||D,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&D.push({id:"search",title:"Search",posts:this.props.searchPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const U=D.find(L=>L.id===this.props.sort)||this.props.search&&D.find(L=>L.id==="search")||D[0];return{tabs:D,tab:U}}getFetchLimit(){return this.props.maxPosts||12}render({className:M,user:R,pub:D,profile:U,filterPosts:L,hideCoverImage:j,hideSearchTab:B,hideAuthor:x,showPublicationName:P,maxPosts:y,disableInteractive:A,showPins:K,pinnedPosts:N,maxTitleLength:Y,hideShare:F,authorInMeta:G,source:X,emptyMessage:q="No posts",isBelowTheFold:se},{tabs:ie,tab:Ee}){const Ie=ie.find(z=>z.id==="search"),ge=ie.find(z=>z.id==="community");let oe=Array.isArray(Ee.posts)?Ee.posts.filter(z=>!(D&&Ee.id==="top"&&z.top_exclusions.includes(D.id))).filter(z=>(D==null?void 0:D.section)&&(N==null?void 0:N.length)?!N.find(V=>V.id===z.id):!0).filter(L||(()=>!0)):[];(D==null?void 0:D.section)&&(N==null?void 0:N.length)&&["new","top"].includes(Ee.id)&&(oe=[...N,...oe]);const ee=oe.length===0,te=!oe&&!Ee.loadingError,le=!j&&oe.some&&oe.some(z=>z.cover_image);let Q;return U&&(Q=new Map(U.publicationUsers.map(z=>[z.publication.id,z.publication]))),Object(e.h)("div",{className:h()("portable-archive",M,{"empty-list":ee})},Object(e.h)("div",{className:"portable-archive-tabs"},Ee===Ie?Object(e.h)("div",{className:"portable-archive-search-bar"},Object(e.h)(r.default,{className:"portable-archive-search-bar-icon"}),Object(e.h)("input",{ref:z=>this.searchInput=z,className:"portable-archive-search-bar-input",type:"text",placeholder:"Search\u2026",value:Ee.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),Object(e.h)(u.default,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(ie[0].id)})):[ie.filter(z=>!z.hidden).map(({id:z,title:V})=>Object(e.h)("a",{className:`portable-archive-tab ${z}-tab ${Ee.id===z?"active":""}`,onClick:this.onTabClick(z)},Object(e.h)("span",{className:"portable-archive-tab-content"},V))),Ie&&!B&&Object(e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},Object(e.h)(r.default,null))]),Object(e.h)("div",{className:"portable-archive-list"},Ee.loadingError?Object(e.h)("p",{className:"portable-archive-empty"},"Failed to load posts"):oe.length===0&&!Ee.loading?Object(e.h)("p",{className:"portable-archive-empty"},Ee.id!=="search"?q:Ee.query?"No results":`Search ${D?D.name:""}`):[(y?oe.slice(0,y):oe).map((z,V)=>Object(e.h)(a.e,{key:z.id,className:"portable-archive-post",post:z,pub:D||Q&&Q.get(z.publication_id),user:R,showDate:!0,showCoverImage:le,authorInMeta:Object(c.getBylineUsers)(z).length<=1&&G!==!1,linkToComments:Ee===ge,onChange:this.onChange,disableInteractive:A,showPins:K,showPublicationName:P,hideAuthor:x,onClick:ne=>this.onPostClicked(ne,z.id,V,X),maxTitleLength:Y,hideShare:F,isBelowTheFold:se})),!y&&!te&&!Ee.loading&&!Ee.fullyLoaded&&Object(e.h)(v.a,{threshold:640,onVisible:()=>this.loadTab(Ee.id,Ee.query)})],Ee.loading||te?Array.from(new Array(this.getFetchLimit())).map(()=>Object(e.h)(a.f,{pub:D})):y&&oe.length>=y&&Object(e.h)("a",{className:"portable-archive-all",href:Object(p.getArchiveUrl)(D,{params:{sort:Ee.id,search:Ee.query}})},"See all ",Object(e.h)(n.default,{height:12,width:12}))))}}},,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PlayIconRound",svgParams:{height:24,width:24}}),Object(e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Link=i.Match=void 0;var e=Object.assign||function(O){for(var b=1;b<arguments.length;b++){var m=arguments[b];for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&(O[a]=m[a])}return O},o=t(0),l=t(34);function s(O,b){var m={};for(var a in O)b.indexOf(a)>=0||!Object.prototype.hasOwnProperty.call(O,a)||(m[a]=O[a]);return m}function h(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function c(O,b){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:O}function d(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(O,b):O.__proto__=b)}var p=i.Match=function(O){d(b,O);function b(){var m,a,n;h(this,b);for(var r=arguments.length,u=Array(r),v=0;v<r;v++)u[v]=arguments[v];return n=(m=(a=c(this,O.call.apply(O,[this].concat(u))),a),a.update=function(E){a.nextUrl=E,a.setState({})},m),c(a,n)}return b.prototype.componentDidMount=function(){l.subscribers.push(this.update)},b.prototype.componentWillUnmount=function(){l.subscribers.splice(l.subscribers.indexOf(this.update)>>>0,1)},b.prototype.render=function(a){var n=this.nextUrl||(0,l.getCurrentUrl)(),r=n.replace(/\?.+$/,"");return this.nextUrl=null,a.children({url:n,path:r,matches:(0,l.exec)(r,a.path,{})!==!1})},b}(o.Component),f=function(b){var m=b.activeClassName,a=b.path,n=s(b,["activeClassName","path"]);return(0,o.h)(p,{path:a||n.href},function(r){var u=r.matches;return(0,o.h)(l.Link,e({},n,{class:[n.class||n.className,u&&m].filter(Boolean).join(" ")}))})};i.Link=f,i.default=p,p.Link=f},,function(S,i,t){const{endsWithPunctuation:e,oxfordComma:o}=t(7);i.trimAndPunctuate=function(l){const s=l.trim();return e(s)?s:`${s}.`},i.contributorsIntoAuthorStrings=function(l,s=3){if(!(l==null?void 0:l.length)||!l[0].owner)return null;const h=l[0].name;if(l.length===1)return{owner:h,others:null};let c=l.slice(1);if(c.length>s&&(c=c.filter(d=>d.role==="admin")),c.length&&c.length<=s){const d=c.map(p=>p.name);return{owner:h,others:o(d).toString()}}else return{owner:h,others:null}},i.metaDescription=function(l,s,h,c,d){const p=l?i.trimAndPunctuate(l):"";let f;s&&!s.others?c.toLowerCase().includes(s.owner.toLowerCase())?f="":f=` by ${s.owner},`:f="";let O;return h?O=` a Substack publication with ${h}.`:d?O=` a Substack publication. ${d}.`:O=" a Substack publication.",i.trimAndPunctuate(`${p} Click to read ${c},${f}${O}`)}},,function(S,i){function t(e,o,l,s){for(var h=e.length,c=l+(s?1:-1);s?c--:++c<h;)if(o(e[c],c,e))return c;return-1}S.exports=t},function(S,i,t){var e=t(197),o=t(477),l=t(478);function s(h){var c=-1,d=h==null?0:h.length;for(this.__data__=new e;++c<d;)this.add(h[c])}s.prototype.add=s.prototype.push=o,s.prototype.has=l,S.exports=s},function(S,i){function t(e,o){return e.has(o)}S.exports=t},function(S,i){function t(e,o){for(var l=-1,s=Array(e);++l<e;)s[l]=o(l);return s}S.exports=t},function(S,i){var t=Object.prototype;function e(o){var l=o&&o.constructor,s=typeof l=="function"&&l.prototype||t;return o===s}S.exports=e},function(S,i,t){var e=t(106),o=t(71),l=e(o,"Set");S.exports=l},function(S,i,t){var e=t(97),o=t(125),l=0/0,s=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt;function f(O){if(typeof O=="number")return O;if(o(O))return l;if(e(O)){var b=typeof O.valueOf=="function"?O.valueOf():O;O=e(b)?b+"":b}if(typeof O!="string")return O===0?O:+O;O=O.replace(s,"");var m=c.test(O);return m||d.test(O)?p(O.slice(2),m?2:8):h.test(O)?l:+O}S.exports=f},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=e;function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;for(var s in l)typeof o[s]=="undefined"&&(o[s]=l[s]);return o}S.exports=i.default,S.exports.default=i.default},function(S,i,t){"use strict";t.d(i,"b",function(){return C});var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(335),c=t.n(h),d=t(12),p=t(88),f=t(29),O=t.n(f),b=t(260),m=t.n(b),a=t(5),n=t(327),r=t(22),u=t(52),v=t(6),E=t.n(v),w=(T,W,k)=>new Promise(($,H)=>{var g=D=>{try{R(k.next(D))}catch(U){H(U)}},M=D=>{try{R(k.throw(D))}catch(U){H(U)}},R=D=>D.done?$(D.value):Promise.resolve(D.value).then(g,M);R((k=k.apply(T,W)).next())});const C=(T,W)=>{const k=Object.entries(T).filter(([D])=>D!=="promoted").map(([D,U])=>U),$=new Set,H=k.map(D=>D.length),g=Math.max(...H),M=[];for(let D=0;D<g;D+=1)for(const U of k)U[D]&&!$.has(U[D].id)&&!(W==null?void 0:W.includes(U[D].id))&&($.add(U[D].id),M.push(U[D]));const R=M.slice(0,b.ONBOARDING_SUGGESTIONS_PER_BATCH);return T.promoted&&!$.has(T.promoted[0].id)&&(R.length===b.ONBOARDING_SUGGESTIONS_PER_BATCH?R[b.ONBOARDING_SUGGESTIONS_PER_BATCH-1]=T.promoted[0]:R.push(T.promoted[0])),R},_=({onCategoriesFinalized:T=null,setStep:W,handleError:k,categories:$,pub:H=null,entry:g,user:M,setPreviousStepData:R,recommendationsSource:D=null,canBeSkipped:U=!1})=>{const[L,j]=Object(o.k)([]),[B,x]=Object(o.k)({}),[P,y]=Object(o.k)(!1),[A,K]=Object(o.k)([]),[N,Y]=Object(o.k)(!1);Object(o.d)(()=>{D&&(()=>w(void 0,null,function*(){const Ee=yield s.a.get(D);x({personalized:Ee.body});const Ie=C({personalized:Ee.body},[H==null?void 0:H.id]).map(({id:ge})=>ge);K(Ie),y(!0);for(const{id:ge}of Ee.body)Object(a.i)(a.a.READER_ONBOARDING_PUB_RECOMMENDED,{entry:g,publication_id:ge,recommendationFrom:"personalized"})}))()},[D,g,H==null?void 0:H.id]);const G=Object(r.i)({pathname:"/api/v1/categories",auto:!$,initialResult:$,deps:[]}).result||[],X=({categoryId:ie})=>{L.includes(ie)?j(L.filter(Ee=>Ee!==ie)):j([...L,ie])},q=()=>w(void 0,null,function*(){let ie;try{const Ee=L.length?L:c()(G).slice(0,3).map(({id:ge})=>ge),Ie=yield s.a.get("/api/v1/category/public/multiple").query({categoryIds:JSON.stringify(Ee)});x(Ie.body),ie=C(Ie.body,[H==null?void 0:H.id]).map(({id:ge})=>ge)}catch(Ee){k(Ee,{ignore:!0}),W(f.onboardingSteps.PROFILE);return}Object(a.i)(a.a.READER_ONBOARDING_CATEGORIES_FINALIZED,{entry:g,numberOfCategories:L.length});for(const Ee of L)Object(a.i)(a.a.READER_ONBOARDING_CATEGORY_REQUESTED,{entry:g,categoryId:Ee});K(ie),y(!0),T==null||T();for(const Ee of ie)Object(a.i)(a.a.READER_ONBOARDING_PUB_RECOMMENDED,{entry:g,publication_id:Ee,recommendationFrom:"leaderboard"})}),se=()=>w(void 0,null,function*(){const ie=M?f.onboardingSteps.PROFILE:f.onboardingSteps.SIGNUP;if(A.length>0)try{Y(!0),Object(a.i)(a.a.READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI,{entry:g,numberOfSubscriptions:A.length,recommendationsFrom:"categories"}),M?(yield s.a.post("/api/v1/bulk_signup").send({publications:A,visibility:"public",source:`${g}-reader-onboarding`}),Object(a.i)(a.a.READER_ONBOARDING_BULK_SUBSCRIBED,{entry:g,numberOfSubscriptions:A.length,recommendationsFrom:"categories"})):R(f.onboardingSteps.CATEGORIES,{publications:A}),W(ie)}catch(Ee){k(Ee,{ignore:!1})}else M?Object(a.i)(a.a.READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED,{entry:g,recommendationsFrom:"categories"}):R(f.onboardingSteps.CATEGORIES,{publications:[]}),W(ie)});return!P&&!D?Object(e.h)("div",{className:"categories-step"},Object(e.h)("div",null,Object(e.h)("div",{className:"categories-header"},Object(e.h)("h3",null,H?Object(e.h)(e.Fragment,null,"You're subscribed!",Object(e.h)("br",null),"Now dive"):"Dive"," ","into your interests"),Object(e.h)("p",null,"We'll recommend top publications based on the topics you select.")),Object(e.h)(p.a,{hasFeatured:!1,categories:G,categoryIds:L,onCategoryClicked:X,ranking:"all",defaultExpanded:!0,isReaderOnboarding:!0})),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)(d.b,{className:"primary",onClick:q},"Continue"))):Object(e.h)("div",{className:"categories-step"},Object(e.h)("div",{className:"categories-header"},Object(e.h)("h3",null,"Writers you may like"),Object(e.h)("p",null,D?"We found some writers based on your interests.":L.length>0?"Based on your interests, here are some writers you might enjoy.":"Here are some writers you might enjoy.")),Object(e.h)(n.a,{publications:C(B,[H==null?void 0:H.id]),selected:A,setSelected:K,user:M}),Object(e.h)("div",{className:"modal-ctas"},U&&Object(e.h)("p",{className:"skip"},Object(e.h)("a",{className:"small",onClick:()=>{Object(a.i)(a.a.READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED,{entry:g,recommendationsFrom:"categories"}),W(f.onboardingSteps.WELCOME)},disabled:N},"Skip for now")),Object(e.h)(d.b,{className:"primary",type:"submit",onClick:se,disabled:N},A.length>0&&`Subscribe to ${A.length} and continue`,A.length===0&&"Continue without subscribing")))};i.a=_},function(S,i,t){"use strict";var e=t(0),o=t(37),l=t(64),s=t(7),h=t.n(s),c=t(3),d=t.n(c),p=t(8),f=t.n(p);const O=({pub:m,authorFirst:a,selected:n,setSelected:r,user:u})=>{const v=`${Object(c.getBaseUrl)(m)}/?utm_source=homepage-reader-onboarding`;return Object(e.h)("div",{className:"bulk-subscribe-row",href:v,native:!0,target:"_blank"},Object(e.h)("div",{className:"icon-column"},Object(e.h)(o.a,{pub:m,href:v,logo_url:m.logo_url||m.author_photo_url,linkify:!1})),Object(e.h)("div",{className:"right-column"},Object(e.h)("div",{className:"top-right"},Object(e.h)("div",{className:"info"},a?Object(e.h)(e.Fragment,null,Object(e.h)("h4",null,Object(e.h)("a",{href:v,native:!0,target:"_blank"},m.author_name)),Object(e.h)("p",null,"Writes ",m.name)):Object(e.h)(e.Fragment,null,Object(e.h)("h4",null,Object(e.h)("a",{href:v,native:!0,target:"_blank"},m.name)),Object(e.h)("p",null,"By ",m.author_name))),Object(e.h)(l.a,{name:m.name,checked:n,onChange:()=>r(!n)})),Object(e.h)("div",{className:"bottom-right"},Object(e.h)("p",{className:"description"},Object(s.truncateText)(m.editorial_bio||m.hero_text,Object(p.isMobileBrowser)()?90:120)))))},b=({publications:m,authorFirst:a,selected:n,setSelected:r,renderRow:u,user:v})=>{const E=n.length<m.length?Object(e.h)("button",{className:"small",onClick:()=>r(m.map(({id:C})=>C))},"Select all"):Object(e.h)("button",{className:"small",onClick:()=>r([])},"Unselect all"),w=C=>_=>r(_?[...n.filter(T=>T!==C.id),C.id]:n.filter(T=>T!==C.id));return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"bulk-action-row"},E),Object(e.h)("div",{id:"bulk-subscribe",className:"bulk-subscribe"},m.map(C=>u?u({pub:C,selected:n.includes(C.id),setSelected:w(C)}):Object(e.h)(O,{key:C.id,pub:C,selected:n.includes(C.id),setSelected:w(C),authorFirst:a,user:v}))))};i.a=b},function(S,i,t){"use strict";t.d(i,"c",function(){return f}),t.d(i,"b",function(){return a}),t.d(i,"a",function(){return n});var e=t(7),o=t.n(e),l=t(10),s=t.n(l),h=t(252),c=t.n(h),d=(r,u,v)=>new Promise((E,w)=>{var C=W=>{try{T(v.next(W))}catch(k){w(k)}},_=W=>{try{T(v.throw(W))}catch(k){w(k)}},T=W=>W.done?E(W.value):Promise.resolve(W.value).then(C,_);T((v=v.apply(r,u)).next())});const p={};function f(r,u,v,E,w){return d(this,arguments,function*(C,_,T,{required:W=!1,group:k=!1,gift:$=!1},H){if(!T){H(null);return}T in p||(H({id:T,required:W,loading:!0}),p[T]=yield b(T));const g=p[T],M=g&&g.type==="FREE_TRIAL"&&_&&(yield m(T));M&&M.length&&W?H({id:g&&g.id||T,code:g&&g.code,name:g&&g.name,required:W,error:!0,message:"This coupon has already been redeemed by this user."}):Object(h.isCouponValid)(g,{is_group:k,is_gift:$,paywallFreeTrialEnabled:C.paywall_free_trial_enabled})&&(C.plans||[]).filter(R=>Object(h.isCouponValidForPlan)(g,R)).length>0?H(Object.assign({required:W},g)):H(W?{id:g&&g.id||T,code:g&&g.code,name:g&&g.name,required:W,error:!0,message:"The coupon is not valid or has expired."}:null)})}function O(r){return d(this,null,function*(){let u;try{if(u=(yield s.a.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,u&&u.length&&r){const E=yield m(u[0].id);if(E&&E.length)throw new e.AppError("User has already redeemed this free trial coupon")}}catch(v){return console.error("Failed to fetch coupons:",v),null}return u.length>0?u[0]:null})}function b(r){return d(this,null,function*(){try{return(yield s.a.get(`/api/v1/coupon/${r}`)).body}catch(u){return console.error("Failed to fetch coupon:",u),null}})}function m(r){return d(this,null,function*(){try{return(yield s.a.get(`/api/v1/coupon_redemption/${r}`).query()).body}catch(u){return console.error("Failed to fetch coupon redemptions:",u),null}})}function a(r){return d(this,null,function*(){try{const v=(yield s.a.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!v||v.length===0){const E={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield s.a.post("/api/v1/coupon").send(E)}else v[0].valid===!1?yield s.a.put(`/api/v1/coupon/${v[0].id}`).send(Object.assign({},v[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${v[0].id} already enabled but attempted to be enabled`);return 0}catch(u){return console.error("Failed to create free trial coupon:",u),1}})}function n(){return d(this,null,function*(){try{const u=(yield s.a.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!u||u.length===0?console.error("No free trial coupon exists to disable"):yield s.a.put(`/api/v1/coupon/${u[0].id}`).send(Object.assign({},u[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(r){return console.error("Failed to disable free trial coupon:",r),null}})}},function(S,i,t){"use strict";(function(e){t.d(i,"a",function(){return c});var o=t(3),l=t.n(o),s=t(8),h=t.n(s);const c=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:d=>{document.location.href=`itpc://${Object(o.stripProtocol)(d)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:d=>{document.location.href=`podcast://${Object(o.stripProtocol)(d)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:d=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${e.from(d).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:d=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(d)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:d=>{document.location.href=`pktc://subscribe/${Object(o.stripProtocol)(d)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:d=>{document.location.href=`downcast://${Object(o.stripProtocol)(d)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:d=>{document.location.href=`podcastaddict://${Object(o.stripProtocol)(d)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:d=>{Object(s.copyToClipboard)(d),document.location.href=`castros://subscribe/${Object(o.stripProtocol)(d)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:d=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(d)}`}}]}).call(this,t(369).Buffer)},function(S,i,t){"use strict";t.d(i,"a",function(){return l}),t.d(i,"b",function(){return h});var e=t(0),o=t(2);const l=Object(e.createContext)({locale:"en-US"});l.displayName="LocaleContext";function s(){var c;return(c=Object(o.b)(l))==null?void 0:c.locale}function h({value:c,children:d}){const p=Object(o.h)(()=>c,Object.values(c));return Object(e.h)(l.Provider,{value:p},d)}},function(S,i,t){"use strict";t.d(i,"a",function(){return g}),t.d(i,"b",function(){return M});var e=t(0),o=t(147),l=t(98),s=t(5),h=t(10),c=t.n(h),d=t(73),p=t(84),f=t(251),O=t(150),b=t(78),m=t(7),a=t.n(m),n=t(3),r=t.n(n),u=t(8),v=t.n(u),E=t(6),w=t.n(E),C=t(28),_=t(56),T=t(33),W=Object.defineProperty,k=(R,D,U)=>D in R?W(R,D,{enumerable:!0,configurable:!0,writable:!0,value:U}):R[D]=U,$=(R,D,U)=>(k(R,typeof D!="symbol"?D+"":D,U),U),H=(R,D,U)=>new Promise((L,j)=>{var B=y=>{try{P(U.next(y))}catch(A){j(A)}},x=y=>{try{P(U.throw(y))}catch(A){j(A)}},P=y=>y.done?L(y.value):Promise.resolve(y.value).then(B,x);P((U=U.apply(R,D)).next())});class g extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),Object(s.i)(s.a.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),Object(s.i)(s.a.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return H(this,null,function*(){try{yield c.a.post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(D){console.error("Failed to subscribe to email notifications:",D),alert(Object(u.getNetworkErrorMessage)(D))}})}render({className:D,pub:U,post:L,user:j,freeSignup:B,freeSignupEmail:x,isStatic:P,hidden:y,truncated:A,invisible:K,post_reaction_token:N,onChange:Y,showCta:F=A,showUnsubscribeNotice:G,embeddedPolls:X=[],showReactions:q=!0}){typeof y!="boolean"&&(y=L.hidden);let se,ie;y?(se="Subscribe to view",ie=Object(n.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:L.id})):(ie=Object(n.getPostUrl)(U,L,{noBase:!0}),L.type!=="thread"||A?se=Object(m.getPostCtaText)(L):L.comment_count?se=`View ${L.comment_count} comments`:se="Reply");const Ee=P&&!this.context.isAmp;return Object(e.h)(T.e,{className:`thread-head typography ${D||""}`},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(T.d,{width:"100%"},!K&&!y&&Object(e.h)(d.a,{onVisible:()=>this.onTopReached()}),Object(e.h)(T.d,{gap:16,width:"100%"},Object(e.h)(p.d,{pub:U,post:L,user:j,isStatic:P,freeSignup:B,freeSignupEmail:x,reaction_token:N,allowEdit:!0,allowTruncate:A,showReactions:!!F||q,showShare:!1,showComments:!!L.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Y,showLabel:!0}),Object(e.h)(O.a,{user:j,freeSignup:B,freeSignupEmail:x,pub:U,post:L,html:!y&&!A&&L.body_html,isStatic:P,embeddedPolls:X},y?Object(e.h)("p",null,Object(e.h)("i",null,"This thread is only visible to paid subscribers of ",U.name)):A?Object(e.h)("p",null,L.description):null),F?Object(e.h)("a",{className:"thread-head-cta",href:ie,native:!0},se," \u2192"):y&&Object(e.h)("p",{className:"thread-head-cta"},Object(e.h)("a",{href:Object(n.getSubscribeUrl)(U,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:L.id}),className:"button primary subscribe-btn",native:!P},Object(m.getSubscribeText)(U)),Object(e.h)("a",{href:Object(n.getSigninUrl)({for_pub:U.subdomain}),className:"button",native:!0},"Sign in"))),Ee&&Object(e.h)(T.d,{gap:16,style:{width:"100%"}},Object(e.h)(T.d,{style:{width:"100%",textAlign:"center"}},Object(e.h)("a",{role:"button",class:"button primary",style:{margin:"0 auto"},href:C.Substitutions.HALF_MAGIC_COMMENTS_URL},"See the discussion")),Object(e.h)(_.d,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:q},showRestack:!1,showLabels:!0}})),G&&L.unsubscribed&&Object(e.h)("div",{className:"notifications-alert"},"Email notifications are disabled for this thread."," ",Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},"Re-enable")),!K&&!y&&Object(e.h)(d.a,{onVisible:()=>this.onBottomReached()})))))}}$(g,"contextType",l.a);class M extends e.Component{render(){return Object(e.h)("div",{className:"thread-head-silhouette"},Object(e.h)("div",{className:"thread-head-silhouette-head"}),Object(e.h)("div",{className:"thread-head-silhouette-content"},Object(e.h)("div",{className:"thread-head-silhouette-title"}),Object(e.h)("div",{className:"thread-head-silhouette-meta"}),Object(e.h)("div",{className:"thread-head-silhouette-body"},Object(e.h)("div",{className:"thread-head-silhouette-body-line"}),Object(e.h)("div",{className:"thread-head-silhouette-body-line"}),Object(e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}},function(S,i,t){"use strict";t.d(i,"a",function(){return se});var e=t(0),o=t(5),l=t(111),s=t(12),h=t(38),c=t(300),d=t(524),p=t(7);class f{constructor({channels:ee=1,sampleRate:te=44100,bitRate:le=192}={}){const{Mp3Encoder:Q}=window.lamejs;this.mp3encoder=new Q(ee,te,le),this.chunks=[]}append(ee){const te=this.mp3encoder.encodeBuffer(O(ee));if(te.length>0)return this.chunks.push(te),te}flush(){if(this.chunks.length>0){const ee=new Blob(this.chunks,{type:"audio/mp3"});return this.chunks=[],ee}}}function O(oe){const ee=oe.length,te=new Int16Array(ee);for(let le=0;le<ee;le++)te[le]=Math.max(-32768,Math.min(32768,oe[le]*(oe[le]<0?32768:32767)));return te}var b=(oe,ee,te)=>new Promise((le,Q)=>{var z=re=>{try{ne(te.next(re))}catch(de){Q(de)}},V=re=>{try{ne(te.throw(re))}catch(de){Q(de)}},ne=re=>re.done?le(re.value):Promise.resolve(re.value).then(z,V);ne((te=te.apply(oe,ee)).next())});class m{static get STATE(){return{STOPPED:"stopped",STARTING:"starting",STARTED:"started",STOPPING:"stopping"}}static isSupported(){return!(typeof window=="undefined"||!window.navigator||!window.navigator.mediaDevices||!window.navigator.mediaDevices.getUserMedia||!window.AudioContext&&!window.webkitAudioContext||!window.Float32Array||!window.Blob||!window.URL||!window.Worker)}constructor(ee={}){this.bufferSize=4096,this.sampleRate=44100,this.state=m.STATE.STOPPED,Object.assign(this,ee)}get duration(){var ee;return((ee=this.startedAts)==null?void 0:ee.length)?this.startedAts.reduce((le,Q,z)=>{if(this.endedAts[z]){const V=this.endedAts[z]-Q;return le+V}else return le+(Date.now()-Q)},0)/1e3:null}get volume(){if(this.state!==m.STATE.STARTED||!this.analyser)return 0;const ee=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(ee),Math.max(...ee)/255}startMicrophone(){return b(this,null,function*(){if(!m.isSupported())return alert("Recording is not supported on this device."),!1;if(this.microphone)try{return yield this.microphone,!0}catch(ee){return!1}try{this.microphone=navigator.mediaDevices.getUserMedia({audio:!0}),this.microphone=yield this.microphone,this.microphone.getTracks().forEach(ee=>{ee.addEventListener("ended",()=>{this.state===m.STATE.STARTED&&this.stop()})})}catch(ee){console.error(ee),this.microphone=null}return this.microphone?!0:(alert("Unable to access the microphone! Please check your browser settings."),!1)})}stopMicrophone(){return b(this,null,function*(){if(!!this.microphone){if(!this.microphone.getTracks)try{yield this.microphone}catch(ee){return}if(this.state===m.STATE.STARTED){yield this.stop();return}this.microphone.getTracks().forEach(ee=>ee.stop()),this.microphone=null}})}start(){return b(this,arguments,function*({startAt:ee}={}){if(!m.isSupported())throw new Error("Recording is not supported on this device");if(this.state===m.STATE.STOPPING)throw new Error("Currently stopping last recording");if([m.STATE.STARTING,m.STATE.STARTED].includes(this.state))return;if(clearTimeout(this.startingTimeout),this.state=m.STATE.STARTING,this.onStarting&&this.onStarting(),!(yield this.startMicrophone())){this.state=m.STATE.STOPPED,this.onStopped&&this.onStopped();return}const te=window.AudioContext||window.webkitAudioContext;try{if(this.audioContext=new te({sampleRate:this.sampleRate}),this.mp3encoder=new f({sampleRate:this.audioContext.sampleRate}),this.analyser=this.audioContext.createAnalyser(),this.analyser.smoothingTimeConstant=.2,this.analyser.fftSize=1024,this.audioContext.createJavaScriptNode)this.audioNode=this.audioContext.createJavaScriptNode(this.bufferSize,1,1);else if(this.audioContext.createScriptProcessor)this.audioNode=this.audioContext.createScriptProcessor(this.bufferSize,1,1);else throw new Error("Unable to construct audio node");this.audioInput=this.audioContext.createMediaStreamSource(this.microphone),this.audioInput.connect(this.analyser),this.analyser.connect(this.audioNode),this.audioNode.connect(this.audioContext.destination),this.startingTimeout=setTimeout(()=>{this.audioNode.addEventListener("audioprocess",le=>this.onAudioProcess(le)),this.state=m.STATE.STARTED,this.startedAts=[Date.now()],this.endedAts=[],this.onStarted&&this.onStarted()},ee?Math.max(Math.max(Date.now(),+ee)-Date.now(),0):2e3)}catch(le){this.state=m.STATE.STOPPED,this.onStopped&&this.onStopped(),console.error("Unable to access the microphone!",le),alert("Unable to setup microphone!")}})}stop(){return b(this,arguments,function*({dropRecording:ee=!1,stopMicrophone:te=!0}={}){if(!m.isSupported())throw new Error("Recording is not supported on this device");if([m.STATE.STOPPING,m.STATE.STOPPED].includes(this.state))return;if(this.state===m.STATE.STARTING)throw new Error("Currently starting new recording");clearTimeout(this.startingTimeout),this.state=m.STATE.STOPPING,this.onStopping&&this.onStopping(),this.audioInput.disconnect(),this.analyser.disconnect(),this.audioNode.disconnect(),this.audioContext.close(),this.audioContext=null,this.analyser=null,this.audioNode=null,this.audioInput=null,te&&(yield this.stopMicrophone());const le=this.mp3encoder.flush();this.mp3encoder=null,this.state=m.STATE.STOPPED,this.endedAts.push(Date.now()),this.onStopped&&this.onStopped(ee?null:le)})}suspend(){return b(this,null,function*(){!this.audioContext||(this.endedAts.push(Date.now()),this.audioContext.suspend())})}resume(){return b(this,null,function*(){!this.audioContext||(this.startedAts.push(Date.now()),this.audioContext.resume())})}onAudioProcess(ee){if(this.state!==m.STATE.STARTED)return;const te=this.mp3encoder.append(ee.inputBuffer.getChannelData(0));te&&this.onChunk&&this.onChunk(te)}}var a=t(3),n=t(210),r=t(63),u=t(6),v=t.n(u),E=t(30),w=t(136),C=t(43),_=t(36),T=t(2),W=t(23),k={podcastPaywallMenuButton:"frontend-editor-audio_editor2-module__podcastPaywallMenuButton--12La0",paywallMenuDropdown:"frontend-editor-audio_editor2-module__paywallMenuDropdown--2Mtwt",paywallMenuDropdownItem:"frontend-editor-audio_editor2-module__paywallMenuDropdownItem--2tv9l",paywallMenuDropdownIcon:"frontend-editor-audio_editor2-module__paywallMenuDropdownIcon--1-8GG",paywallMenuDropdownItemTop:"frontend-editor-audio_editor2-module__paywallMenuDropdownItemTop--10HV1",paywallMenuDropdownDeleteItem:"frontend-editor-audio_editor2-module__paywallMenuDropdownDeleteItem--8asnD"},$=t(51),H=t(720),g=t(576),M=t(721),R=t(10),D=t.n(R),U=t(11),L=t(550),B=({postId:oe,bylines:ee,pendingInvites:te,onChange:le,userSelectorRef:Q})=>Object(e.h)(U.b,null,Object(e.h)("div",null,Object(e.h)(L.a,{ref:z=>Q(z),postId:oe,postType:"podcast",selected:ee,pendingInvites:te,isDisabled:!1,options:()=>D.a.get("/api/v1/publication/users").query({related_pubs:"true",include_user_email:"true"}).then(z=>z.body),emptyPlaceholder:"Invite guest via email...",onChange:le,isNewGuestPost:!1,setPostId:null,expandedView:!0}))),x=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,Y=(oe,ee,te)=>ee in oe?x(oe,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):oe[ee]=te,F=(oe,ee)=>{for(var te in ee||(ee={}))K.call(ee,te)&&Y(oe,te,ee[te]);if(A)for(var te of A(ee))N.call(ee,te)&&Y(oe,te,ee[te]);return oe},G=(oe,ee)=>P(oe,y(ee)),X=(oe,ee,te)=>(Y(oe,typeof ee!="symbol"?ee+"":ee,te),te),q=(oe,ee,te)=>new Promise((le,Q)=>{var z=re=>{try{ne(te.next(re))}catch(de){Q(de)}},V=re=>{try{ne(te.throw(re))}catch(de){Q(de)}},ne=re=>re.done?le(re.value):Promise.resolve(re.value).then(z,V);ne((te=te.apply(oe,ee)).next())});class se extends n.c{constructor(ee,te){super(ee,te);X(this,"removeAudio",()=>{this.state.playingLegacyAudio?this.removeLegacyUpload():this.removeUpload()}),this.state={podcastUrl:ee.podcastUrl,podcastDuration:ee.podcastDuration,playingLegacyAudio:ee.podcastUrl&&!ee.mediaUploadId&&!ee.mediaUpload,mediaUploadId:ee.mediaUploadId,mediaUpload:ee.mediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1,dismissedAudioErrorModal:!1}}getLegacyPodcastUrlToWrite(){return this.state.playingLegacyAudio?this.state.podcastUrl:null}getLegacyPodcastDurationToWrite(){return this.state.playingLegacyAudio?this.state.podcastDuration:null}render({isModal:ee,onRemovePodcast:te,onDeleteErroredUpload:le},{mediaUpload:Q,playingLegacyAudio:z}){const V=()=>z?this.removeLegacyUpload():this.removeUpload();if(z)return Object(e.h)("div",{className:"audio-editor"},Object(e.h)(ie,G(F(F({},this.props),this.state),{onRemove:V})),Object(e.h)(E.SiteConfigGate,{configKey:"podcast_bylines"},Object(e.h)("div",{className:"divider"}),Object(e.h)(B,{postId:this.props.postId,bylines:this.props.bylines,pendingInvites:this.props.pendingInvites,onChange:this.props.onGuestBylineChange,userSelectorRef:this.props.userSelectorRef})));const ne=Object($.mediaUploadHasProblem)(Q);return Object(e.h)("div",{className:v()("audio-editor",{"tw-m-0":ee})},(Q==null?void 0:Q.state)==="transcoded"&&Object(e.h)(ie,G(F(F({},this.props),this.state),{onRemove:V})),(Q==null?void 0:Q.state)==="uploaded"&&this.renderTranscodingProcess(this.props,this.state),ne&&Object(e.h)(r.AudioUploadErrorModal,{isOpen:!this.state.dismissedAudioErrorModal,onDeleteAudio:()=>{le?le({skipConfirm:!0}):this.removeAudio()},onDismiss:()=>{this.setState({dismissedAudioErrorModal:!0})}}),(!Q||ne)&&this.renderUploader(this.props,this.state),!ee&&Object(e.h)(E.SiteConfigGate,{configKey:"podcast_bylines"},Object(e.h)("div",{className:"divider"}),Object(e.h)(B,{postId:this.props.postId,bylines:this.props.bylines,pendingInvites:this.props.pendingInvites,onChange:this.props.onGuestBylineChange,userSelectorRef:this.props.userSelectorRef})))}renderTranscodingProcess({renderTranscodingProcess:ee},{timeLeft:te}){return ee?Object(e.h)("div",{className:"audio-uploader"},ee({timeLeft:te})):Object(e.h)("div",{className:"audio-uploader"},Object(e.h)("div",{className:"audio-uploader-progress"},Object(e.h)("div",{className:"audio-uploader-progress-label"},"Audio uploaded. Processing\u2026"," ",te?`${Object(p.secondsToLargestUnit)(Math.max(te/1e3,60),{long:!0,secondsCutoff:30})} remaining`:""),Object(e.h)("div",{className:"audio-uploader-progress-status"},Object(e.h)(s.b,{className:"audio-editor-player-close",onClick:this.removeUpload},Object(e.h)(h.default,null)),Object(e.h)("div",{className:"audio-uploader-progress-bar"},Object(e.h)("div",{className:"audio-uploader-progress-bar-filled transcoding",style:"width: 100%;"})))))}removeLegacyUpload(){return q(this,null,function*(){var ee,te;if(this.state.playingLegacyAudio){if(!confirm("This will permanently remove your audio. Are you sure?"))return;yield new Promise(le=>this.setState({playingLegacyAudio:!1,podcastUrl:null},le)),(te=(ee=this.props).onChange)==null||te.call(ee)}})}renderUploader({postId:ee,showClose:te,isPodcast:le,setPostId:Q,renderUploadProcess:z,renderRecordProcess:V,onError:ne,isModal:re,initialFile:de,onRecorderStarted:fe,onRecorderStopped:we,feature:Ge,audioRecorderRef:$e}){return Object(e.h)(Ee,{feature:Ge,isModal:re,initialFile:de,mediaType:"audio",postId:ee,onUpload:this.onMediaUpload,showClose:te,isPodcast:le,setPostId:Q,renderUploadProcess:z,renderRecordProcess:V,onRecorderStarted:fe,onRecorderStopped:we,onError:ne,audioRecorderRef:$e})}}const ie=({pub:oe,isPodcast:ee,feature:te,onVariantChange:le,canAddPodcastPreview:Q,hasPodcastPreview:z,onAddPreview:V,onRemovePreview:ne,onRemovePodcast:re,variant:de,onRemove:fe,editorScrollRef:we,mediaUpload:Ge,podcastUrl:$e,podcastDuration:it})=>{const st=Ge?Object(a.updateQuery)(`/api/v1/audio/upload/${Ge.id}/src`):$e;return Object(e.h)("div",{className:"audio-editor-player"},ee?Object(e.h)(l.a,{feature:te,pub:oe,src:st,duration:it,render:Rt=>Object(e.h)(r.PodcastEditorPlayer,G(F({},Rt),{hasPodcastPreview:z,variant:de,onVariantChange:le}))}):Object(e.h)(l.a,{feature:te,pub:oe,src:st,render:r.AuditionPlayer}),ee&&(Q?Object(e.h)(ge,{hasPodcastPreview:z,onAddPreview:V||(()=>{}),onRemovePreview:ne||(()=>{}),onRemovePodcast:re||(()=>{}),editorScrollRef:we}):Object(e.h)(s.b,{className:"audio-editor-player-close",onClick:fe},Object(e.h)(h.default,null))))};class Ee extends n.a{constructor(ee,te){super(ee,te);ee.isModal&&ee.initialFile&&this.onFileSelected(ee.initialFile)}trackUploadClicked(){Object(o.i)(o.a.UPLOAD_EPISODE_AUDIO_CLICKED)}renderUploadProcess(){return Object(e.h)("div",{className:"audio-uploader-progress"},Object(e.h)("div",{className:"audio-uploader-progress-label"},"Uploading audio\u2026"),Object(e.h)("div",{className:"audio-uploader-progress-status"},Object(e.h)(s.b,{className:"audio-editor-player-close",onClick:()=>this.cancelUpload()},Object(e.h)(h.default,null)),Object(e.h)("div",{className:"audio-uploader-progress-bar"},Object(e.h)("div",{className:"audio-uploader-progress-bar-filled",style:`width: ${this.state.percentComplete*100}%;`}))))}renderDecider({accepts:ee}){return Object(e.h)(e.Fragment,null,Object(e.h)(s.b,{className:"primary with-icon",onClick:this.onUploadClicked},Object(e.h)(c.default,{width:24,height:24,stroke:"#ffffff"}),"Upload audio",Object(e.h)("input",{ref:te=>this.input=te,className:"audio-uploader-input",type:"file",accept:ee||this.accepts,onChange:()=>this.onFileSelected()})),m.isSupported()&&Object(e.h)(s.b,{className:"primary with-icon",onClick:()=>{this.setState({recording:!0}),Object(o.i)(o.a.RECORD_EPISODE_AUDIO_CLICKED)}},Object(e.h)(d.default,{width:24,height:24,stroke:"#ffffff"}),"Record episode audio"))}render({className:ee,isModal:te,showClose:le,isPodcast:Q,renderUploadProcess:z,onRecorderStarted:V,onRecorderStopped:ne,feature:re,renderRecordProcess:de,audioRecorderRef:fe},{preuploading:we,uploading:Ge,recording:$e,percentComplete:it}){const st=Ge||we;return Object(e.h)("div",{className:`audio-uploader ${ee||""}`},st&&(z?z({percentComplete:it}):this.renderUploadProcess(this.props)),!st&&($e||te)&&Object(e.h)(Ie,{ref:fe,feature:re,onComplete:Rt=>{this.setState({recording:!1}),Rt&&this.uploadToS3(Rt),ne==null||ne()},onCancel:()=>this.setState({recording:!1}),showClose:le,isPodcast:Q,onRecorderStarted:V,renderRecordProcess:de}),!$e&&!st&&!te&&this.renderDecider(this.props))}}class Ie extends e.Component{constructor(ee,te){super(ee,te);this.recorder=new m({onStarting:()=>this.onRecorderChanged(),onStarted:()=>this.onRecorderStarted(),onChunk:()=>this.onRecorderChanged(),onStopping:()=>this.onRecorderChanged(),onStopped:le=>this.onRecorderChanged(le)}),this.state={recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}}componentDidMount(){return q(this,null,function*(){var ee,te;(yield this.recorder.startMicrophone())||(te=(ee=this.props).onCancel)==null||te.call(ee)})}componentWillUnmount(){this.onCloseClicked()}onRecorderStarted(){var ee,te;(te=(ee=this.props).onRecorderStarted)==null||te.call(ee),this.onRecorderChanged()}onRecorderChanged(ee){var te,le;this.setState({recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}),ee&&((le=(te=this.props).onComplete)==null||le.call(te,ee))}onButtonClick(){this.recorder.state===m.STATE.STOPPED?(Object(o.i)(o.a.AUDIO_PRESS_RECORD_CLICKED,{feature:this.props.feature}),this.setState({countDown:3}),setTimeout(()=>this.setState({countDown:2}),700),setTimeout(()=>this.setState({countDown:1}),1400),this.recorder.start({startAt:Date.now()+2100})):this.recorder.state===m.STATE.STARTED&&this.recorder.stop()}onCloseClicked(){if(this.recorder.state===m.STATE.STARTED)this.recorder.stop({dropRecording:!0});else if(this.recorder.state===m.STATE.STARTING){const ee=this.recorder;ee.onStarted=()=>ee.stop({dropRecording:!0})}else this.recorder.state===m.STATE.STOPPED&&this.recorder.stopMicrophone();this.props.onCancel&&this.props.onCancel()}render({showClose:ee,renderRecordProcess:te},{recorderState:le,recorderDuration:Q,recorderVolume:z,countDown:V}){return te?te({recorderState:le,AudioRecorderDevice:m,countDown:V,recorderDuration:Q,recorderVolume:z,onButtonClick:()=>this.onButtonClick()}):Object(e.h)("div",{className:"audio-recorder"},ee&&Object(e.h)(s.b,{className:"audio-editor-player-close",onClick:()=>this.onCloseClicked()},Object(e.h)(h.default,null)),Object(e.h)("div",{className:`audio-recorder-duration ${le}`},le===m.STATE.STOPPED?"Press to record":le===m.STATE.STARTING?`${V||3}`:Object(p.secondsToHHMMSS)(Q||0)),Object(e.h)("div",{className:`audio-recorder-button ${le}`,onClick:()=>this.onButtonClick()},Object(e.h)("div",{className:"audio-recorder-button-volume",style:`border-width:${20*z}px`}),Object(e.h)("div",{className:"audio-recorder-button-inner"})))}}const ge=({onRemovePodcast:oe,hasPodcastPreview:ee,onRemovePreview:te,onAddPreview:le})=>{const Q=Object(T.j)(),z=Object(T.j)();return Object(e.h)("div",{className:k.podcastPaywallMenuButton},Object(e.h)(W.a,{className:"podcastPaywallMenuButton",onClick:()=>{var V;Object(o.i)(o.a.PODCAST_PREVIEW_MENU_CLICKED),(V=z.current)==null||V.toggle()},look:"circle",size:"small",forwardedRef:Q},Object(e.h)(w.default,{height:20,strokeWidth:0,fill:"#757575"}),Object(e.h)(C.b,{className:k.paywallMenuDropdown,noTail:!0,ref:z,useDrawerOnMobile:!0,backdropDismiss:!0},ee?Object(e.h)(_.a,{className:`${k.paywallMenuDropdownItem} ${k.paywallMenuDropdownItemTop}`,onClick:()=>{var V;Object(o.i)(o.a.PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED),(V=z.current)==null||V.close(),te()}},Object(e.h)(H.a,{className:k.paywallMenuDropdownIcon,height:16,width:16}),"Remove free version"):Object(e.h)(_.a,{className:`${k.paywallMenuDropdownItem} ${k.paywallMenuDropdownItemTop}`,onClick:()=>{var V;Object(o.i)(o.a.PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED),(V=z.current)==null||V.close(),le()}},Object(e.h)(g.a,{className:k.paywallMenuDropdownIcon,height:16,width:16}),"Add free version"),Object(e.h)(_.a,{className:`${k.paywallMenuDropdownItem} ${k.paywallMenuDropdownDeleteItem}`,onClick:()=>{var V;Object(o.i)(o.a.PODCAST_PREVIEW_MENU_REMOVE_CLICKED),(V=z.current)==null||V.close(),oe()}},Object(e.h)(M.a,{className:`${k.paywallMenuDropdownIcon} ${k.paywallMenuDropdownDeleteItem}`,height:16,width:16}),"Delete"))))}},function(S,i,t){var e=t(487),o=t(196),l=t(488),s=t(323),h=t(489),c=t(129),d=t(270),p="[object Map]",f="[object Object]",O="[object Promise]",b="[object Set]",m="[object WeakMap]",a="[object DataView]",n=d(e),r=d(o),u=d(l),v=d(s),E=d(h),w=c;(e&&w(new e(new ArrayBuffer(1)))!=a||o&&w(new o)!=p||l&&w(l.resolve())!=O||s&&w(new s)!=b||h&&w(new h)!=m)&&(w=function(C){var _=c(C),T=_==f?C.constructor:void 0,W=T?d(T):"";if(W)switch(W){case n:return a;case r:return p;case u:return O;case v:return b;case E:return m}return _}),S.exports=w},function(S,i,t){if(!1)var e,o;else S.exports=t(643)()},function(S,i,t){var e=t(653),o=t(654),l=t(61);function s(h){var c=l(h)?e:o;return c(h)}S.exports=s},function(S,i){function t(){return S.exports=t=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},S.exports.default=S.exports,S.exports.__esModule=!0,t.apply(this,arguments)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";t.d(i,"c",function(){return w}),t.d(i,"d",function(){return C}),t.d(i,"b",function(){return _}),t.d(i,"a",function(){return T});var e=t(0),o=t(6),l=t.n(o),s=t(141),h=t(2),c=t(8),d=t.n(c),p=t(7),f=t.n(p),O=t(5),b=t(38),m=t(392),a=t(12),n=t(27),r=t(10),u=t.n(r);const v=({children:k,dismissKey:$,dismissDurationInSeconds:H,beforeDismiss:g,className:M,level:R="info"}={})=>{const[D,U]=Object(s.a)($,H,g);if(!D)return Object(e.h)("div",{className:l()("banner",R,M)},k,Object(e.h)(b.default,{width:12,height:12,className:"banner-close",onClick:L=>{L.preventDefault(),L.stopPropagation(),U()}}))};var E=v;const w=()=>(Object(h.d)(()=>{Object(O.i)(O.a.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),Object(e.h)(v,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*f.a,beforeDismiss:()=>{Object(O.i)(O.a.GO_PAID_CTA_DISMISSED,{type:"banner"})}},Object(e.h)(m.default,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),Object(e.h)("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{Object(O.i)(O.a.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",Object(e.h)("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),C=({action:k="connect"})=>{const[$,H]=Object(h.k)(!1);if(!$)return Object(e.h)(v,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{Object(O.i)(O.a.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},Object(e.h)("div",{class:"setup-twitter-banner-header"},"Help more readers discover your writing"),Object(e.h)("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),k==="connect"&&Object(e.h)(a.b,{class:"twitter-button centered-icon",onClick:()=>{Object(O.i)(O.a.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href="/api/v1/twitter/authorize?type=connect_pub"}},"Connect Twitter"),k==="set-discoverable"&&Object(e.h)(n.g,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>H(!0)},Object(e.h)("input",{type:"hidden",name:"d",value:"true"}),Object(e.h)(a.b,{class:"twitter-button centered-icon",type:"Submit",onClick:()=>Object(O.i)(O.a.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),Object(e.h)("div",{class:"twitter-permission-notice"},"We never tweet without your explicit permission"))},_=()=>Object(e.h)(v,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{u.a.put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},Object(e.h)("div",{class:"coming-soon-banner-header"},"Welcome to Substack!"),Object(e.h)("br",null),Object(e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),Object(e.h)("br",null),Object(e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),T=({children:k,className:$,level:H="info",onClose:g}={})=>{const[M,R]=Object(h.k)(!1);if(!(M&&H!=="error"))return Object(e.h)("div",{className:l()("banner",H,$)},k,H!=="error"&&Object(e.h)(b.default,{width:12,height:12,className:"banner-close",onClick:D=>{D.preventDefault(),D.stopPropagation(),g&&g(),R(!0)}}))},W=({featureName:k,featureLink:$,preText:H,linkedText:g,postText:M,children:R})=>{Object(h.d)(()=>{Object(O.i)(O.a.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:k})},[k]);const D=Object(c.isMobileBrowser)();return Object(e.h)(v,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*f.a},!D&&R,Object(e.h)("p",{className:"new-feature-banner-text"},H," ",Object(e.h)("a",{href:$,native:!0,onClick:()=>{Object(O.i)(O.a.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:k})}},g)," ",M))}},function(S,i){function t(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(S.exports=t=function(l){return typeof l},S.exports.default=S.exports,S.exports.__esModule=!0):(S.exports=t=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},S.exports.default=S.exports,S.exports.__esModule=!0),t(e)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=Object.assign||function(w){for(var C=1;C<arguments.length;C++){var _=arguments[C];for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(w[T]=_[T])}return w},o=function(){function w(C,_){for(var T=0;T<_.length;T++){var W=_[T];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(C,W.key,W)}}return function(C,_,T){return _&&w(C.prototype,_),T&&w(C,T),C}}(),l=t(1),s=d(l),h=t(334),c=d(h);function d(w){return w&&w.__esModule?w:{default:w}}function p(w,C){var _={};for(var T in w)C.indexOf(T)>=0||!Object.prototype.hasOwnProperty.call(w,T)||(_[T]=w[T]);return _}function f(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function O(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function b(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var m={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},a=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],n=function(C){return a.forEach(function(_){return delete C[_]}),C},r=function(C,_){_.style.fontSize=C.fontSize,_.style.fontFamily=C.fontFamily,_.style.fontWeight=C.fontWeight,_.style.fontStyle=C.fontStyle,_.style.letterSpacing=C.letterSpacing,_.style.textTransform=C.textTransform},u=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,v=function(){return u?"_"+Math.random().toString(36).substr(2,12):void 0},E=function(w){b(C,w),o(C,null,[{key:"getDerivedStateFromProps",value:function(T,W){var k=T.id;return k!==W.prevId?{inputId:k||v(),prevId:k}:null}}]);function C(_){f(this,C);var T=O(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,_));return T.inputRef=function(W){T.input=W,typeof T.props.inputRef=="function"&&T.props.inputRef(W)},T.placeHolderSizerRef=function(W){T.placeHolderSizer=W},T.sizerRef=function(W){T.sizer=W},T.state={inputWidth:_.minWidth,inputId:_.id||v(),prevId:_.id},T}return o(C,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(T,W){W.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var T=this.input&&window.getComputedStyle(this.input);!T||(r(T,this.sizer),this.placeHolderSizer&&r(T,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var T=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?T=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:T=this.sizer.scrollWidth+2;var W=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;T+=W,T<this.props.minWidth&&(T=this.props.minWidth),T!==this.state.inputWidth&&this.setState({inputWidth:T})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var T=this.props.injectStyles;return u&&T?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var T=[this.props.defaultValue,this.props.value,""].reduce(function(H,g){return H??g}),W=e({},this.props.style);W.display||(W.display="inline-block");var k=e({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),$=p(this.props,[]);return n($),$.className=this.props.inputClassName,$.id=this.state.inputId,$.style=k,s.default.createElement("div",{className:this.props.className,style:W},this.renderStyles(),s.default.createElement("input",e({},$,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:m},T),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:m},this.props.placeholder):null)}}]),C}(l.Component);E.propTypes={className:c.default.string,defaultValue:c.default.any,extraWidth:c.default.oneOfType([c.default.number,c.default.string]),id:c.default.string,injectStyles:c.default.bool,inputClassName:c.default.string,inputRef:c.default.func,inputStyle:c.default.object,minWidth:c.default.oneOfType([c.default.number,c.default.string]),onAutosize:c.default.func,onChange:c.default.func,placeholder:c.default.string,placeholderIsMinWidth:c.default.bool,style:c.default.object,value:c.default.any},E.defaultProps={minWidth:1,injectStyles:!0},i.default=E},function(S,i){function t(){}S.exports=t},function(S,i,t){"use strict";t.r(i),t.d(i,"ReaderBadgeIcon",function(){return s});var e=t(0),o=t(9);const l="#FF6719";function s({className:c,type:d,accentColor:p}){const f=22;return Object(e.h)(o.a,{name:"ReaderBadgeIcon",className:c,svgParams:{width:f,height:f,viewBox:"0 0 22 22"},fill:"none",stroke:"none"},Object(e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),Object(e.h)("circle",{cx:"11",cy:"11",r:"9",fill:p||l}),d==="subscribed"?Object(e.h)(e.Fragment,null,Object(e.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),Object(e.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),Object(e.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),Object(e.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):Object(e.h)(e.Fragment,null,Object(e.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),Object(e.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),Object(e.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),Object(e.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),Object(e.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}var h=i.default=s},function(S,i,t){"use strict";t.r(i),t.d(i,"Poll",function(){return Ht}),t.d(i,"StaticPoll",function(){return je});var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(6),c=t.n(h),d=t(379),p=t(724),f=t(513),O=t(725),b=t(581),m=t(46),a=t(206),n=t(5),r=t(3),u=t(26),v=t(27),E=Object.defineProperty,w=Object.defineProperties,C=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,k=(Oe,be,he)=>be in Oe?E(Oe,be,{enumerable:!0,configurable:!0,writable:!0,value:he}):Oe[be]=he,$=(Oe,be)=>{for(var he in be||(be={}))T.call(be,he)&&k(Oe,he,be[he]);if(_)for(var he of _(be))W.call(be,he)&&k(Oe,he,be[he]);return Oe},H=(Oe,be)=>w(Oe,C(be));class g extends u.a{constructor(be,he){super(be,he);var Ce,De;this.state.email=(De=(Ce=this.props.user)==null?void 0:Ce.email)!=null?De:null}onOpen(){Object(n.i)(n.a.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){Object(n.i)(n.a.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:be,post:he,user:Ce,audience:De,pollId:Se}=this.props,{email:Le}=this.state,tt=De==="only_paid"?"paid subscribers":"subscribers";return Object(e.h)("div",null,Object(e.h)("div",{className:"poll-signup-header"},Object(e.h)("div",{className:"poll-signup-title"},`Subscribe to ${be.name} to vote on this poll`),Object(e.h)("div",{className:"poll-signup-audience"},"Only ",tt," can vote on this poll.")),Object(e.h)(v.g,{method:"post",action:Object(r.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:Xe=>{Object(n.i)(n.a.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:Se,post_id:he.id}),be.plans||be.has_recommendations?document.location.href=Object(r.getSubscribeUrl)(this.props.pub,H($({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:he&&he.id,just_signed_up:!0,requires_confirmation:Xe.body.requires_confirmation?"true":""},Xe.body.subscription_id&&{subscription_id:Xe.body.subscription_id}),{next:Object(r.getPostUrl)(be,he)})):document.location.reload()}},Object(e.h)("div",{className:"poll-signup"},Object(e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:Le,disabled:!!Ce.email,tabIndex:0,onChange:Xe=>{this.setState({email:Xe.target.value})}}),Object(e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),Object(e.h)("div",{id:"error-container"}),Object(e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!Ce.email&&Object(e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",Object(e.h)("a",{className:"poll-signin-link",href:Object(r.getSigninUrl)({for_pub:be.subdomain,redirect:Object(r.getPostUrl)(be,he)})},"Sign in")))}}var M=t(23),R=t(42),D=t(14),U=t.n(D),L;const j=typeof window!="undefined"?(L=window._preloads)==null?void 0:L.pub:null,B=Object(e.createContext)(j);B.displayName="PubContext";function x(){return Object(o.b)(B)}var P=t(59),y;const A=typeof window!="undefined"?(y=window._preloads)==null?void 0:y.freeSignup:!1,K=Object(e.createContext)(A);K.displayName="FreeSignupContext";function N(){return Object(o.b)(K)}var Y=t(166),F=t(8),G=t(7),X=t(11),q=t(13),se=t(64),ie=t(33),Ee=Object.defineProperty,Ie=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,le=(Oe,be,he)=>be in Oe?Ee(Oe,be,{enumerable:!0,configurable:!0,writable:!0,value:he}):Oe[be]=he,Q=(Oe,be)=>{for(var he in be||(be={}))ee.call(be,he)&&le(Oe,he,be[he]);if(oe)for(var he of oe(be))te.call(be,he)&&le(Oe,he,be[he]);return Oe},z=(Oe,be)=>Ie(Oe,ge(be)),V=(Oe,be,he)=>new Promise((Ce,De)=>{var Se=Xe=>{try{tt(he.next(Xe))}catch(Et){De(Et)}},Le=Xe=>{try{tt(he.throw(Xe))}catch(Et){De(Et)}},tt=Xe=>Xe.done?Ce(Xe.value):Promise.resolve(Xe.value).then(Se,Le);tt((he=he.apply(Oe,be)).next())});const ne=2,re=5,de=35,fe=255,we=({isExpired:Oe,isPublished:be,remainingHours:he})=>Oe?"POLL CLOSED":be?he>=48?`${Math.floor(he/24)} DAYS REMAINING`:he>=24?"1 DAY REMAINING":he>=2?`${he} HOURS REMAINING`:he==1?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING":"NOT PUBLISHED",Ge=Oe=>Oe>1?`Choice ${Oe+1} (optional)`:`Choice ${Oe+1}`,$e=({question:Oe,expiry:be,audience:he,options:Ce})=>{const De=Ce.filter(Boolean);if(Oe.length<1||Oe.length>255)return"The question must be between 1 and 255 characters long.";if(De.length<2||De.length>5)return"Your poll must have 2 to 5 options.";if(De.some(Se=>Se.length<1||Se.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(he)){if(![1,24,72,168].includes(be))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},it=({index:Oe,text:be,onChange:he,onDelete:Ce,showDeleteButton:De,disabled:Se})=>Object(e.h)("div",{className:"poll-option-editor"},Object(e.h)("input",{type:"text",onChange:Le=>{he(Oe,Le.currentTarget.value)},value:be,disabled:Se,placeholder:Ge(Oe),maxLength:de}),Object(e.h)("button",{className:c()("poll-remove-option",{"is-hidden":!De}),onClick:()=>Ce(Oe),disabled:Se,tabIndex:De?void 0:-1},Object(e.h)(d.a,null))),st=({poll:Oe,isOpen:be,onClose:he,onSave:Ce,isPublished:De,totalVotes:Se,shouldShowAudiencePicker:Le})=>{let tt=Oe.options.map(Lt=>Lt.label);tt.length>1?tt.length<re&&tt.push(""):tt=["",""];const{payments_state:Xe}=x()||{},Et=Le&&Xe==="enabled"?"only_paid":"all_subscribers",[Qe,rt]=Object(o.k)(Oe.question||""),[ke,jt]=Object(o.k)(tt),[Nt,rn]=Object(o.k)(Oe.expiry||24),[sn,dt]=Object(o.k)(Oe.audience||Et),[mt,gt]=Object(o.k)(!1),[ze,ue]=Object(o.k)(Oe.votes_hidden||!1),[bt,wt]=Object(o.k)(null),It=$e({question:Qe,options:ke,expiry:Nt,audience:sn,votes_hidden:ze}),We=Object(o.a)(()=>{var Lt;rt(Oe.question||""),jt(((Lt=Oe.options)==null?void 0:Lt.map(_t=>_t.label))||["",""]),rn(Oe.expiry||24),dt(Oe.audience||Et),ue(Oe.votes_hidden||!1),wt(null),he()},[rt,jt,rn,dt,Oe,he]),lt=Object(o.a)(({value:Lt})=>{["only_paid","all_subscribers"].includes(Lt)&&dt(Lt)},[dt]),Ae=sn==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",Ve=Object(o.a)(({value:Lt})=>{const _t=Number(Lt);[1,24,72,168].includes(_t)&&rn(_t)},[rn]),at=Nt===1?"1 hour":Nt===24?"1 day":Nt===72?"3 days":"1 week",ot=Object(o.a)((Lt,_t)=>{const Qt=[...ke];Qt.splice(Lt,1,_t),Lt===Qt.length-1&&Qt.length<re&&Qt.push(""),jt(Qt)},[ke,jt]),vt=Object(o.a)(Lt=>{if(ke.length<=ne||Lt>=ke.length)return;const _t=[...ke];_t.splice(Lt,1),_t[_t.length-1].length&&_t.push(""),jt(_t)},[ke,jt]),Ct=Array(Math.max(2,ke.length||0)).fill("").map((Lt,_t)=>ke.length>_t?ke[_t]:Lt),Mt=bt||De&&`This poll is part of a post that has already been published. If you modify it, ${Se} existing ${Se===1?"vote":"votes"} will be removed.`;return Object(e.h)(R.a,{className:"poll-editor-modal",isOpen:be,onClose:he},Object(e.h)("div",{className:"poll-editor"},Object(e.h)("div",{className:"poll-editor-section question-section"},Object(e.h)("input",{className:"poll-question-editor",type:"text",value:Qe,onChange:Lt=>rt(Lt.currentTarget.value),placeholder:"Enter your question...",disabled:mt,maxLength:fe})),Object(e.h)("div",{className:"poll-editor-section options-section"},Object(e.h)("div",{className:"poll-options-editor"},Ct.map((Lt,_t)=>Object(e.h)(it,{index:_t,text:Lt,onChange:ot,onDelete:vt,disabled:mt,showDeleteButton:Ct.length>ne&&(_t<Ct.length-1||Lt.length>0)})))),Object(e.h)("div",{className:"poll-editor-section length-section"},Object(e.h)("div",{className:"poll-section-title"},"Length"),Object(e.h)(Y.a,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 day",value:"72"},{label:"1 week",value:"168"}],isDisabled:mt,value:{label:at,value:String(Nt)},onChange:Ve})),Le&&Xe==="enabled"&&Object(e.h)("div",{className:"poll-editor-section audience-section"},Object(e.h)("div",{className:"poll-section-title"},"Who can vote?"),Object(e.h)(Y.a,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:mt,value:{label:Ae,value:sn},onChange:lt})),Object(e.h)("div",{className:"poll-editor-section vote-visibility-section"},Object(e.h)(se.a,{checked:ze,onChange:()=>ue(!ze),label:"Hide the total vote count from readers?",name:"votes-hidden"})),Object(e.h)("div",{className:"poll-editor-section action-section"},Mt&&Object(e.h)("div",{className:"edit-warning"},Mt),Object(e.h)("div",{className:"action-buttons"},Object(e.h)(M.a,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:We,disabled:mt},"Cancel"),Object(e.h)(a.c,{content:It,className:c()("inverse",{disabled:It===null})},Object(e.h)(M.a,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>V(void 0,null,function*(){gt(!0);try{yield Ce({audience:sn,question:Qe,options:ke.filter(Boolean),expiry:Nt,votes_hidden:ze})}catch(Lt){wt("An error occurred while saving this poll.")}gt(!1)}),disabled:It!==null||mt},"Save"))))))},Rt=({id:Oe,text:be,onVote:he,showVotes:Ce,currentVotes:De,totalVotes:Se,myVote:Le,canVote:tt})=>{const Xe=Object(o.a)(()=>V(void 0,null,function*(){Oe&&(yield he(Oe))}),[Oe,he]),Et=Math.round(100*(Se===0?0:De/Se));return Object(e.h)("div",{className:c()("poll-option",{"show-votes":Ce,"hide-votes":!Ce,"can-vote":tt,"my-vote":Le}),onClick:Xe},Ce&&Object(e.h)("div",{className:"poll-vote-background",style:{width:`${Et}%`}}),Object(e.h)("div",{className:"poll-option-background"},Object(e.h)("div",{className:"poll-option-text"},be,Ce&&Le&&Object(e.h)(p.a,{className:"vote-icon"}))),Ce&&Object(e.h)("div",{className:"poll-percentage-text"},Et,"%"))},Ht=({id:Oe,isEditor:be,post:he,pub:Ce,isVersionView:De})=>{var Se,Le,tt;const[Xe,Et]=Object(o.k)(!1),[Qe,rt]=Object(o.k)(!0),[ke,jt]=Object(o.k)(null),[Nt,rn]=Object(o.k)(null),[sn,dt]=Object(o.k)(!0),[mt,gt]=Object(o.k)(De??!1),ze=Object(m.e)(),ue={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!be){const Ut=Object(r.parseQuery)(window.location.href);if(Ut&&Ut.token&&(ue.token=Ut.token),!ue.token&&((Se=window._preloads)==null?void 0:Se.original_url)){const zt=Object(r.parseQuery)(window._preloads.original_url);zt&&zt.token&&(ue.token=zt.token)}}if(typeof window!="undefined"&&!be&&he.is_draft){const Ut=Object(r.getPostSlug)(window.location.href);Ut&&Object(G.isUUID)(Ut)&&(ue.uuid=Ut)}const bt=Object(P.c)()||{},wt=Q({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},bt),{is_subscribed:It,is_admin:We,is_contributor:lt,is_author:Ae}=wt;let{is_free_subscribed:Ve}=wt;N()&&(Ve=!0);const at=lt||We||Ae,ot=U()(),vt=ke&&ke.published_at&&U()(ke.published_at).add(ke.expiry,"hour"),Ct=vt&&vt.diff(ot,"hour"),Lt=(ke==null?void 0:ke.audience)==="only_paid"?It:Ve,_t=ke&&ke.options.some(Ut=>Ut.my_vote),Qt=!!(ke==null?void 0:ke.is_published),un=Qt&&vt&&vt.isBefore(ot),Jt=be&&((ke==null?void 0:ke.post_type)!=="adhoc_email"||!Qt),Xt=Object(o.j)(null),yn=!_t&&Qt&&!un&&Lt,wn=(ke==null?void 0:ke.total_votes)==1?"1 VOTE":`${ke==null?void 0:ke.total_votes} VOTES`,Ze=we({isExpired:un,isPublished:Qt,remainingHours:Ct}),Pe=Object(o.a)((...Ut)=>V(void 0,[...Ut],function*({shouldNotSetLoading:zt}={shouldNotSetLoading:!1}){zt||rt(!0);try{const cn=yield s()(`/api/v1/poll/${Oe}`).query(ue);jt(cn.body),rn(null)}catch(cn){rn("We were unable to load this poll. Please refresh the page.")}rt(!1)}),[Oe,rt,jt]);Object(o.d)(()=>{Pe()},[Pe]);const Ye=Object(o.a)(Ut=>V(void 0,null,function*(){try{yield s.a.put(`/api/v1/poll/${Oe}`).send(Ut)}catch(zt){return zt}return Et(!1),rt(!0),yield Pe(),null}),[Oe,rt,Pe]),Je=Object(o.a)(Ut=>V(void 0,null,function*(){var zt;if(!Lt&&Qt&&!un&&!Jt){(zt=Xt.current)==null||zt.open();return}if(!(Jt||!yn||mt)){gt(!0);try{yield s.a.post(`/api/v1/poll/${Oe}/vote`).send({poll_option_id:Ut}).query(ue),rn(null)}catch(cn){rn("We were unable to record your vote. Please refresh the page and try again."),gt(!1);return}yield Pe({shouldNotSetLoading:!0}),gt(!1)}}),[Jt,yn,mt,gt,Oe,Pe,Lt,Qt,un]),yt=Jt?Array(Math.max(2,((Le=ke==null?void 0:ke.options)==null?void 0:Le.length)||0)).fill("").map((Ut,zt)=>{var cn;return ke&&((cn=ke.options)==null?void 0:cn.length)>zt?ke.options[zt].label:Ge(zt)}):(tt=ke==null?void 0:ke.options)==null?void 0:tt.map(Ut=>Ut.label);if(Nt!==null&&!ke)return Object(e.h)("div",{className:"poll-wrapper poll-web"},Object(e.h)("div",{className:"poll-error"},Nt));const Dt=be?null:`${Object(r.getPostUrl)(Ce,he)}#poll-${Oe}`;return Object(e.h)(X.b,{className:"poll-wrapper poll-web",gap:24},Dt&&Object(e.h)("div",{className:"poll-anchor-target",id:`poll-${Oe}`},Object(e.h)("div",{className:"poll-anchor-copy-button",onClick:Ut=>{!(location==null?void 0:location.href)||(Ut.preventDefault(),Object(F.copyToClipboard)(Dt),ze.popToast(zt=>Object(e.h)(m.c,z(Q({},zt),{text:"Link copied",Icon:f.a}))))}},Object(e.h)("a",{href:Dt},Object(e.h)(f.a,{size:20})))),Jt&&ke&&Object(e.h)(st,{poll:ke,isOpen:Xe,onClose:()=>{Et(!1)},isPublished:Qt,totalVotes:(ke==null?void 0:ke.total_votes)||0,onSave:Ye,shouldShowAudiencePicker:(ke==null?void 0:ke.post_type)!=="adhoc_email"}),!be&&ke&&Object(e.h)(g,{ref:Xt,noCloseButton:!0,className:"poll-dialog",pub:Ce,post:he,user:bt,pollId:ke.id,audience:ke.audience}),Qe?Object(e.h)(X.b,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},Object(e.h)(q.b.Meta,null,"Loading...")):Object(e.h)(e.Fragment,null,Jt&&Object(e.h)("button",{className:"poll-edit",onClick:()=>{Et(!0)},disabled:Qe},Object(e.h)(O.a,{height:20})),Object(e.h)(X.b,{gap:4},Object(e.h)(q.b.Meta,{className:"poll-title"},(ke==null?void 0:ke.audience)==="only_paid"?Object(e.h)(e.Fragment,null,Object(e.h)(b.a,null),Object(e.h)("div",{className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):"POLL"),Object(e.h)(q.b.H3,{className:"poll-question"},(ke==null?void 0:ke.question)||"New Poll")),Nt!==null&&Object(e.h)("div",{className:"poll-error"},Nt),Object(e.h)(X.b,{gap:12,className:c()("poll-options",{"no-margins":!Qt})},yt.map((Ut,zt)=>{var cn,vn,Cn;return Object(e.h)(Rt,{id:((cn=ke==null?void 0:ke.options[zt])==null?void 0:cn.id)||null,text:Ut,canVote:!_t&&Qt&&!un&&(!be||(ke==null?void 0:ke.post_type)==="adhoc_email"),onVote:Je,showVotes:_t||un||at&&sn,totalVotes:(ke==null?void 0:ke.total_votes)||0,currentVotes:((vn=ke==null?void 0:ke.options[zt])==null?void 0:vn.votes)||0,myVote:((Cn=ke==null?void 0:ke.options[zt])==null?void 0:Cn.my_vote)||!1})})),Qt&&Object(e.h)(q.b.Meta,{className:"poll-status"},(at||!ke.votes_hidden)&&`${wn} \xB7 `,Ze,at&&!_t&&!un&&Object(e.h)(e.Fragment,null," \xB7 ",Object(e.h)("span",{className:"poll-author-visibility-toggle",title:"Only the author, contributors, and admins may view results before voting.",onClick:()=>{dt(!sn)}},sn?"SHOW OPTIONS":"SHOW RESULTS")))))},je=({id:Oe,embeddedPolls:be})=>{const he=be.find(Ce=>Ce.id===Oe);return he?Object(e.h)(ie.e,{className:"poll-email-wrapper"},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(ie.e,{width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",{className:"poll-header"},(he==null?void 0:he.audience)==="only_paid"?"SUBSCRIBER-ONLY POLL":"POLL")),Object(e.h)("tr",{className:"poll-question",width:"100%"},Object(e.h)("td",null,he.question||"New Poll")),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(ie.e,{className:"poll-options",width:"100%"},he.options.map(({label:Ce,id:De},Se)=>Object(e.h)("tr",null,Object(e.h)("td",{className:"poll-option",width:"100%"},Object(e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${De}_url%%`,width:"100%"},Object(e.h)("div",{className:"poll-vote-contents"},Ce||Ge(Se))))))))))))):Object(e.h)("table",{className:"poll-wrapper"},"Something went wrong.")}},function(S,i,t){"use strict";t.r(i),t.d(i,"CommunityPostEmbed",function(){return j}),t.d(i,"EmailCommunityPostEmbed",function(){return B});var e=t(0),o=t(11),l=t(203),s=t(612),h=t(13),c=t(33),d=t(3),p={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--3Bnwj",bubble:"frontend-community-EmailCommunityPostView-module__bubble--YkIHc",img:"frontend-community-EmailCommunityPostView-module__img--3BK41",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--3eanJ",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--H9IlM frontend-community-EmailCommunityPostView-module__bubble--YkIHc"},f=t(7),O=Object.defineProperty,b=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(x,P,y)=>P in x?O(x,P,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[P]=y,r=(x,P)=>{for(var y in P||(P={}))m.call(P,y)&&n(x,y,P[y]);if(b)for(var y of b(P))a.call(P,y)&&n(x,y,P[y]);return x};function u({communityPost:x,is_freemail:P,author:y,cta:A,withAttribution:K,hideReply:N}){return Object(e.h)(c.c,{gap:12,verticalAlign:"top"},Object(e.h)(c.a,{src:y.photo_url,size:40}),Object(e.h)(c.d,{gap:4,style:{lineHeight:0}},K&&Object(e.h)(l.a,{isStatic:!0,text:`From ${Object(f.possessive)(y.name)} subscriber chat`}),P&&(x==null?void 0:x.audience)==="only_paid"?Object(e.h)(E,null):x&&Object(e.h)(e.Fragment,null,x.type==="media"&&x.media_assets?x.media_assets.slice(0,1).map(Y=>Object(e.h)(w,{key:Y.url,asset:Y})):x.type==="link"&&Object(e.h)(C,{communityPost:x}),x.body&&Object(e.h)(v,null,Object(e.h)("span",null,Object(e.h)(h.a,{weight:"bold"},y.name)," ",x.body))),!N&&Object(e.h)(v,null,Object(e.h)(c.e,null,Object(e.h)("tr",null,Object(e.h)("td",{align:"left"},Object(e.h)(h.a,{color:"secondary"},"Reply...")),Object(e.h)("td",{align:"right"},Object(e.h)(s.a,{size:20,stroke:"var(--color-secondary}"}))))),A&&Object(e.h)(c.g,{fullWidth:!0,href:A.url},A.text),A&&A.blurb&&Object(e.h)("div",null,Object(e.h)(h.b,{color:"secondary",align:"center",size:14,lineHeight:20},A.blurb))))}function v(x){return Object(e.h)("div",r({className:p.bubble},x))}function E(){return Object(e.h)("div",{className:p.paywallBubble,style:{backgroundImage:`url(${Object(d.cloudinary)("/img/community/paywall-pixels-light.png")})`}},Object(e.h)(h.b.Meta,null,"SUBSCRIBERS ONLY"))}function w({asset:x}){return Object(e.h)("img",{className:p.img,src:Object(d.cloudinary)(x.url)})}function C({communityPost:x}){var P,y;const{link_url_data:A,link_url:K}=x,N=(y=(P=A==null?void 0:A.url)!=null?P:K)!=null?y:"";let Y;try{const F=new URL(N);Y=`${F.host}${F.pathname}${F.search}${F.hash}`}catch(F){Y=N}return Object(e.h)(v,null,Object(e.h)(c.e,{style:{width:"400px"}},Object(e.h)("tr",null,Object(e.h)("td",{align:"left",style:{verticalAlign:"top"}},(A==null?void 0:A.title)&&Object(e.h)(h.b,{font:"serif",lineHeight:24},A.title),Object(e.h)(h.b,{size:13,color:"secondary"},Y)),Object(e.h)("td",{width:"16"}),Object(e.h)("td",{align:"right"},(A==null?void 0:A.image)&&Object(e.h)("img",{className:p.linkImg,src:Object(d.cloudinary)(A.image,72*2,{height:72*2,smartCrop:!0})})))))}var _=t(22),T=t(54),W={container:"frontend-community-CommunityPostEmbed-module__container--25DDW"},k=Object.defineProperty,$=Object.defineProperties,H=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,D=(x,P,y)=>P in x?k(x,P,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[P]=y,U=(x,P)=>{for(var y in P||(P={}))M.call(P,y)&&D(x,y,P[y]);if(g)for(var y of g(P))R.call(P,y)&&D(x,y,P[y]);return x},L=(x,P)=>$(x,H(P));function j({postId:x}){var P;const{isLoading:y,error:A,result:K}=Object(_.g)({pathname:`/api/v1/community/posts/${x}`,auto:!0,deps:[]}),N=A instanceof _.b&&A.response.status===402&&((P=A.body)==null?void 0:P.status)==="PAID_SUBSCRIPTION_REQUIRED"?A.body:null;return Object(e.h)(o.a,{as:"a",className:W.container,href:Object(T.getCommunityPostAppLinkUrl)({postId:x,utm_source:"thread_embed"})},N?Object(e.h)(l.b,{author:N.user}):A?"Error":K&&Object(e.h)(l.c,{author:K.user,communityPost:K.communityPost,withAttribution:!0}))}function B(x){return Object(e.h)("div",{className:W.container},Object(e.h)(u,L(U({},x),{withAttribution:!0})))}},function(S,i,t){"use strict";t.r(i),t.d(i,"CommunityChatEmbed",function(){return f}),t.d(i,"EmailCommunityChatEmbed",function(){return O});var e=t(0),o=t(11),l=t(509),s=t(35),h=t(13),c=t(33),d={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--1s8IH",container:"frontend-community-CommunityChatEmbed-module__container--1kOgY",text:"frontend-community-CommunityChatEmbed-module__text--2uW9W",title:"frontend-community-CommunityChatEmbed-module__title--3MnjB",button:"frontend-community-CommunityChatEmbed-module__button--14mRw"},p=t(54);function f({pub:m,subdomain:a}){return Object(e.h)(o.b,{className:d.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16},Object(e.h)(l.a,{size:"xl",imageUrl:m.author_photo_url,border:!0}),Object(e.h)(o.b,{gap:4,alignItems:"center"},Object(e.h)(h.b.H3,{as:"div",color:"pub-primary-text"},"Join ",m.author_name,"\u2019s subscriber chat"),Object(e.h)(h.b.B4,{color:"pub-secondary-text"},"Available now in the Substack app")),Object(e.h)(o.b,{alignSelf:"stretch"},Object(e.h)(s.a,{priority:"primary-theme",href:b(a)},"Join chat")))}function O({pub:m,subdomain:a}){return Object(e.h)("div",{className:d.container},Object(e.h)(c.a,{size:64,src:m.author_photo_url,framed:!0}),Object(e.h)("div",{className:d.text},Object(e.h)(h.b.H3,{className:d.title,as:"div",color:"pub-primary-text"},"Join ",m.author_name,"\u2019s subscriber chat"),Object(e.h)(h.b.B4,{color:"pub-secondary-text"},"Available now in the Substack app")),Object(e.h)(c.f,{tableClassName:d.button,href:b(a)},"Join chat"))}function b(m){return Object(p.getPublicationChatAppLinkUrl)({pubKey:m,utm_source:"chat_embed"})}},,,,,function(S,i,t){var e=t(381),o=t(363),l=Object.prototype,s=l.propertyIsEnumerable,h=Object.getOwnPropertySymbols,c=h?function(d){return d==null?[]:(d=Object(d),e(h(d),function(p){return s.call(d,p)}))}:o;S.exports=c},function(S,i,t){var e=t(321),o=t(190),l=t(61),s=t(230),h=t(191),c=t(239),d=Object.prototype,p=d.hasOwnProperty;function f(O,b){var m=l(O),a=!m&&o(O),n=!m&&!a&&s(O),r=!m&&!a&&!n&&c(O),u=m||a||n||r,v=u?e(O.length,String):[],E=v.length;for(var w in O)(b||p.call(O,w))&&!(u&&(w=="length"||n&&(w=="offset"||w=="parent")||r&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||h(w,E)))&&v.push(w);return v}S.exports=f},function(S,i){function t(e,o){return function(l){return e(o(l))}}S.exports=t},function(S,i,t){var e=t(386);function o(l,s,h){s=="__proto__"&&e?e(l,s,{configurable:!0,enumerable:!0,value:h,writable:!0}):l[s]=h}S.exports=o},function(S,i,t){var e=t(641);function o(l,s){l.prototype=Object.create(s.prototype),l.prototype.constructor=l,e(l,s)}S.exports=o,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),Object(e.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),Object(e.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),Object(e.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return n});var e=t(2),o=t(89);let l=0;function s(r="",u=[]){return Object(e.h)(()=>(l++,l=l>Number.MAX_SAFE_INTEGER?1:l,`${r}${l}`),u)}var h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(r,u,v)=>u in r?h(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,m=(r,u)=>{for(var v in u||(u={}))f.call(u,v)&&b(r,v,u[v]);if(p)for(var v of p(u))O.call(u,v)&&b(r,v,u[v]);return r},a=(r,u)=>c(r,d(u));const n=({layerOptions:r}={})=>{const[u,v]=Object(e.k)(!1),{triggerProps:E,layerProps:w,renderLayer:C}=Object(o.c)(m({isOpen:u,placement:"bottom-end",preferX:"right",triggerOffset:10,onOutsideClick:()=>v(!1)},r)),_=s("trigger"),T=s("dialog");return{triggerProps:a(m({},E),{id:_,"aria-expanded":u,"aria-haspopup":"dialog","aria-controls":T}),layerProps:a(m({},w),{id:T,role:"dialog",tabIndex:0,"aria-labeledby":_}),renderLayer:C,isOpen:u,setOpen:v}}},function(S,i,t){"use strict";t.d(i,"a",function(){return U});var e=t(0),o=t(6),l=t.n(o),s=t(12),h=t(7),c=t.n(h),d=t(3),p=t.n(d),f=t(259),O=t(43),b=t(92),m=t(5),a=t(297),n=t(559),r=t(560),u=t(357),v=t(561),E=t(562),w=t(563),C=t(564),_=t(565),T=t(80),W=t(52),k=t(49),$=t.n(k),H=t(72),g=t(144);const M="user-menu",R=`https://support.substack.com/hc/en-us/?utm_source=${M}`,D=40;function U({className:x,user:P,pub:y,enableCustomerServiceMode:A,disableCustomerServiceMode:K,freeSignup:N,fixedTooltip:Y}){const G=Object(H.b)(),[X,q]=Object(O.c)(),{activityUnreadCount:se}=Object(b.b)(),ie=Object(b.c)();let Ee="",Ie="";P&&(Ee=(P==null?void 0:P.profile_set_up_at)&&P.name?P.name:P.email,Ie=(P==null?void 0:P.profile_set_up_at)?P.name?P.email:null:"Set up your profile");const ge=({active:Q})=>{Object(m.i)(Q?m.a.USER_MENU_OPENED:m.a.USER_MENU_DISMISSED)},oe=P?Object(f.a)(P,{utm_source:M}):null,ee=y&&(N||P&&(P.is_subscribed||P.is_free_subscribed)),te=Object(f.b)(P,{utm_source:M}),le=Object(W.getVariantFor)("rounded_ctas")==="treatment";return Object(e.h)(e.Fragment,null,P&&Object(e.h)(s.b,{className:l()(x,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg"),onClick:q},Object(e.h)(n.a,{class:"user-indicator-icon",size:20,strokeWidth:2}),Object(e.h)("img",{class:"menu-trigger-image",src:Object(h.cloudinary)(Object(d.getUserPhotoUrl)(P),2*D,{height:2*D,crop:"fill"})}),Object(e.h)(g.a,null,Object(e.h)("div",{className:"user-indicator-dropdown-menu"},Object(e.h)(O.b,{className:l()({"fixed-tooltip":Y}),ref:X,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:ge},Object(e.h)("div",{class:"menu-scroll-container"},Object(e.h)("a",{href:te,class:"profile-header",onClick:()=>Object(m.i)(m.a.USER_MENU_PROFILE_CLICKED)},Object(e.h)("img",{class:"header-user-image",src:Object(h.cloudinary)(Object(d.getUserPhotoUrl)(P),2*D,{height:2*D,crop:"fill"})}),Object(e.h)("div",{class:"labels"},Object(e.h)("div",{class:"h1"},Ee),Ie&&Object(e.h)("div",{class:"h2"},Ie))),Object(e.h)("hr",null),P&&Object(e.h)(e.Fragment,null,Object(e.h)(L,{url:Object(d.getBaseReaderUrl)({utm_source:M}),analyticsEvent:m.a.USER_MENU_READER_CLICKED},Object(e.h)(B,{Icon:r.a})," Inbox"),Object(e.h)(L,{url:Object(d.getSavedPostsUrl)({query:{utm_source:M}}),analyticsEvent:m.a.USER_MENU_SAVED_CLICKED},Object(e.h)(B,{Icon:u.a})," Saved",ie.count>0?Object(e.h)(a.a,null):null),Object(e.h)(L,{url:Object(d.getDiscoverCategoryUrl)(),analyticsEvent:m.a.USER_MENU_DISCOVER_CLICKED},Object(e.h)(B,{Icon:v.a})," Discover"),G&&Object(e.h)(L,{url:Object(d.getNotificationsUrl)({utm_source:M}),analyticsEvent:m.a.USER_MENU_ACTIVITY_CLICKED},Object(e.h)(B,{Icon:E.a})," Activity",se>0?Object(e.h)(a.a,null):null),Object(e.h)(L,{url:Object(d.getLibraryUrl)({utm_source:M}),analyticsEvent:m.a.USER_MENU_READER_CLICKED},Object(e.h)(B,{Icon:w.a})," Library"),Object(e.h)(L,{url:oe.url},Object(e.h)(B,{Icon:oe.type==="no-dashboard"?C.a:_.a,className:"start-writing-icon"})," ",oe.type==="no-dashboard"?"Start writing":"Writer dashboard")),Object(e.h)("hr",null),ee&&Object(e.h)(L,{className:"secondary-item",url:Object(d.pathWithQuery)("/account",{utm_source:M}),analyticsEvent:m.a.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},"Manage subscription"),Object(e.h)(L,{className:"secondary-item",url:Object(d.getGlobalAccountSettingsUrl)({utm_source:M}),analyticsEvent:m.a.USER_MENU_ACCOUNT_SETTINGS_CLICKED},"Settings"),Object(e.h)(L,{className:"secondary-item",url:R},"Support"),Object(e.h)(L,{className:"secondary-item",url:Object(d.getSignoutUrl)({utm_source:M,for_pub:y==null?void 0:y.subdomain})},"Sign out"),A&&Object(e.h)(L,{className:"secondary-item",onClick:()=>{var Q;(Q=X.current)==null||Q.close(),A()}},"Customer support mode"),K&&Object(e.h)(L,{className:"secondary-item",onClick:K},"Exit support mode"),y&&(P==null?void 0:P.is_global_admin)&&Object(e.h)(L,{className:"secondary-item",url:`${Object(d.getBaseUrl)({subdomain:"admin"})}/publications/${y.id}`},"Open in underground"),!(P==null?void 0:P.reader_installed_at)&&Object(e.h)(e.Fragment,null,Object(e.h)("hr",null),Object(e.h)(L,{className:"special-item",url:Object(d.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},"Get the app ",Object(e.h)(T.default,{class:"item-badge branded",color:k.substack_color}))),Object(e.h)("hr",null),Object(e.h)("div",{class:"terms-footer"},Object(e.h)("a",{href:Object(d.getHomeUrl)({utm_source:M})},"About"),Object(e.h)("a",{href:Object(d.getPrivacyUrl)({pub:y,utm_source:M})},"Privacy"),Object(e.h)("a",{href:Object(d.getTermsUrl)({utm_source:M})},"Terms"),Object(e.h)("a",{href:Object(d.getInfoCollectionUrl)({utm_source:M})},"Collection notice"))))))),!P&&Object(e.h)(e.Fragment,null,Object(e.h)(s.b,{href:Object(d.getSigninUrl)({for_pub:y==null?void 0:y.subdomain}),native:"true",class:l()("sign-in-link outline-grayscale",le&&"rounded-btn")},I`Sign in`)))}function L({className:x,url:P,analyticsEvent:y,onClick:A,children:K}){return Object(e.h)("a",{className:`indicator-menu-item ${x}`,onClick:N=>{y&&Object(m.i)(y),A&&A(N)},href:P,native:!0},K)}const j=20;function B({Icon:x,className:P}){return Object(e.h)(x,{className:l()(P,"indicator-item-icon"),height:j,stroke:"var(--color-primary)",strokeWidth:2})}},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);i.a=o},,,function(S,i,t){"use strict";var e=t(265),o=t(415),l=o(e("String.prototype.indexOf"));S.exports=function(h,c){var d=e(h,!!c);return typeof d=="function"&&l(h,".prototype.")>-1?o(d):d}},function(S,i,t){var e=t(71),o=e.Uint8Array;S.exports=o},function(S,i,t){var e=t(280),o=t(61);function l(s,h,c){var d=h(s);return o(s)?d:e(d,c(s))}S.exports=l},function(S,i){function t(){return[]}S.exports=t},function(S,i,t){(function(e){var o=t(269),l=i&&!i.nodeType&&i,s=l&&typeof e=="object"&&e&&!e.nodeType&&e,h=s&&s.exports===l,c=h&&o.process,d=function(){try{var p=s&&s.require&&s.require("util").types;return p||c&&c.binding&&c.binding("util")}catch(f){}}();e.exports=d}).call(this,t(225)(S))},function(S,i,t){var e=t(322),o=t(486),l=Object.prototype,s=l.hasOwnProperty;function h(c){if(!e(c))return o(c);var d=[];for(var p in Object(c))s.call(c,p)&&p!="constructor"&&d.push(p);return d}S.exports=h},function(S,i,t){var e=t(134),o=t(211),l=t(61),s=t(125),h=1/0,c=e?e.prototype:void 0,d=c?c.toString:void 0;function p(f){if(typeof f=="string")return f;if(l(f))return o(f,p)+"";if(s(f))return d?d.call(f):"";var O=f+"";return O=="0"&&1/f==-h?"-0":O}S.exports=p},function(S,i,t){var e=t(495),o=t(496);function l(s,h){return s!=null&&o(s,h,e)}S.exports=l},function(S,i,t){var e=t(324),o=1/0,l=17976931348623157e292;function s(h){if(!h)return h===0?h:0;if(h=e(h),h===o||h===-o){var c=h<0?-1:1;return c*l}return h===h?h:0}S.exports=s},function(S,i,t){"use strict";(function(e){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var o=t(635),l=t(636),s=t(637);i.Buffer=p,i.SlowBuffer=E,i.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==void 0?e.TYPED_ARRAY_SUPPORT:h(),i.kMaxLength=c();function h(){try{var Q=new Uint8Array(1);return Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Q.foo()===42&&typeof Q.subarray=="function"&&Q.subarray(1,1).byteLength===0}catch(z){return!1}}function c(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(Q,z){if(c()<z)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(z),Q.__proto__=p.prototype):(Q===null&&(Q=new p(z)),Q.length=z),Q}function p(Q,z,V){if(!p.TYPED_ARRAY_SUPPORT&&!(this instanceof p))return new p(Q,z,V);if(typeof Q=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return m(this,Q)}return f(this,Q,z,V)}p.poolSize=8192,p._augment=function(Q){return Q.__proto__=p.prototype,Q};function f(Q,z,V,ne){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&z instanceof ArrayBuffer?r(Q,z,V,ne):typeof z=="string"?a(Q,z,V):u(Q,z)}p.from=function(Q,z,V){return f(null,Q,z,V)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0}));function O(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be a number');if(Q<0)throw new RangeError('"size" argument must not be negative')}function b(Q,z,V,ne){return O(z),z<=0?d(Q,z):V!==void 0?typeof ne=="string"?d(Q,z).fill(V,ne):d(Q,z).fill(V):d(Q,z)}p.alloc=function(Q,z,V){return b(null,Q,z,V)};function m(Q,z){if(O(z),Q=d(Q,z<0?0:v(z)|0),!p.TYPED_ARRAY_SUPPORT)for(var V=0;V<z;++V)Q[V]=0;return Q}p.allocUnsafe=function(Q){return m(null,Q)},p.allocUnsafeSlow=function(Q){return m(null,Q)};function a(Q,z,V){if((typeof V!="string"||V==="")&&(V="utf8"),!p.isEncoding(V))throw new TypeError('"encoding" must be a valid string encoding');var ne=w(z,V)|0;Q=d(Q,ne);var re=Q.write(z,V);return re!==ne&&(Q=Q.slice(0,re)),Q}function n(Q,z){var V=z.length<0?0:v(z.length)|0;Q=d(Q,V);for(var ne=0;ne<V;ne+=1)Q[ne]=z[ne]&255;return Q}function r(Q,z,V,ne){if(z.byteLength,V<0||z.byteLength<V)throw new RangeError("'offset' is out of bounds");if(z.byteLength<V+(ne||0))throw new RangeError("'length' is out of bounds");return V===void 0&&ne===void 0?z=new Uint8Array(z):ne===void 0?z=new Uint8Array(z,V):z=new Uint8Array(z,V,ne),p.TYPED_ARRAY_SUPPORT?(Q=z,Q.__proto__=p.prototype):Q=n(Q,z),Q}function u(Q,z){if(p.isBuffer(z)){var V=v(z.length)|0;return Q=d(Q,V),Q.length===0||z.copy(Q,0,0,V),Q}if(z){if(typeof ArrayBuffer!="undefined"&&z.buffer instanceof ArrayBuffer||"length"in z)return typeof z.length!="number"||le(z.length)?d(Q,0):n(Q,z);if(z.type==="Buffer"&&s(z.data))return n(Q,z.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(Q){if(Q>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return Q|0}function E(Q){return+Q!=Q&&(Q=0),p.alloc(+Q)}p.isBuffer=function(z){return!!(z!=null&&z._isBuffer)},p.compare=function(z,V){if(!p.isBuffer(z)||!p.isBuffer(V))throw new TypeError("Arguments must be Buffers");if(z===V)return 0;for(var ne=z.length,re=V.length,de=0,fe=Math.min(ne,re);de<fe;++de)if(z[de]!==V[de]){ne=z[de],re=V[de];break}return ne<re?-1:re<ne?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,V){if(!s(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);var ne;if(V===void 0)for(V=0,ne=0;ne<z.length;++ne)V+=z[ne].length;var re=p.allocUnsafe(V),de=0;for(ne=0;ne<z.length;++ne){var fe=z[ne];if(!p.isBuffer(fe))throw new TypeError('"list" argument must be an Array of Buffers');fe.copy(re,de),de+=fe.length}return re};function w(Q,z){if(p.isBuffer(Q))return Q.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;typeof Q!="string"&&(Q=""+Q);var V=Q.length;if(V===0)return 0;for(var ne=!1;;)switch(z){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":case void 0:return Ie(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return ee(Q).length;default:if(ne)return Ie(Q).length;z=(""+z).toLowerCase(),ne=!0}}p.byteLength=w;function C(Q,z,V){var ne=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,z>>>=0,V<=z))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return P(this,z,V);case"utf8":case"utf-8":return U(this,z,V);case"ascii":return B(this,z,V);case"latin1":case"binary":return x(this,z,V);case"base64":return D(this,z,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,z,V);default:if(ne)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ne=!0}}p.prototype._isBuffer=!0;function _(Q,z,V){var ne=Q[z];Q[z]=Q[V],Q[V]=ne}p.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<z;V+=2)_(this,V,V+1);return this},p.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<z;V+=4)_(this,V,V+3),_(this,V+1,V+2);return this},p.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<z;V+=8)_(this,V,V+7),_(this,V+1,V+6),_(this,V+2,V+5),_(this,V+3,V+4);return this},p.prototype.toString=function(){var z=this.length|0;return z===0?"":arguments.length===0?U(this,0,z):C.apply(this,arguments)},p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:p.compare(this,z)===0},p.prototype.inspect=function(){var z="",V=i.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,V).match(/.{2}/g).join(" "),this.length>V&&(z+=" ... ")),"<Buffer "+z+">"},p.prototype.compare=function(z,V,ne,re,de){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");if(V===void 0&&(V=0),ne===void 0&&(ne=z?z.length:0),re===void 0&&(re=0),de===void 0&&(de=this.length),V<0||ne>z.length||re<0||de>this.length)throw new RangeError("out of range index");if(re>=de&&V>=ne)return 0;if(re>=de)return-1;if(V>=ne)return 1;if(V>>>=0,ne>>>=0,re>>>=0,de>>>=0,this===z)return 0;for(var fe=de-re,we=ne-V,Ge=Math.min(fe,we),$e=this.slice(re,de),it=z.slice(V,ne),st=0;st<Ge;++st)if($e[st]!==it[st]){fe=$e[st],we=it[st];break}return fe<we?-1:we<fe?1:0};function T(Q,z,V,ne,re){if(Q.length===0)return-1;if(typeof V=="string"?(ne=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,isNaN(V)&&(V=re?0:Q.length-1),V<0&&(V=Q.length+V),V>=Q.length){if(re)return-1;V=Q.length-1}else if(V<0)if(re)V=0;else return-1;if(typeof z=="string"&&(z=p.from(z,ne)),p.isBuffer(z))return z.length===0?-1:W(Q,z,V,ne,re);if(typeof z=="number")return z=z&255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(Q,z,V):Uint8Array.prototype.lastIndexOf.call(Q,z,V):W(Q,[z],V,ne,re);throw new TypeError("val must be string, number or Buffer")}function W(Q,z,V,ne,re){var de=1,fe=Q.length,we=z.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(Q.length<2||z.length<2)return-1;de=2,fe/=2,we/=2,V/=2}function Ge(Ht,je){return de===1?Ht[je]:Ht.readUInt16BE(je*de)}var $e;if(re){var it=-1;for($e=V;$e<fe;$e++)if(Ge(Q,$e)===Ge(z,it===-1?0:$e-it)){if(it===-1&&(it=$e),$e-it+1===we)return it*de}else it!==-1&&($e-=$e-it),it=-1}else for(V+we>fe&&(V=fe-we),$e=V;$e>=0;$e--){for(var st=!0,Rt=0;Rt<we;Rt++)if(Ge(Q,$e+Rt)!==Ge(z,Rt)){st=!1;break}if(st)return $e}return-1}p.prototype.includes=function(z,V,ne){return this.indexOf(z,V,ne)!==-1},p.prototype.indexOf=function(z,V,ne){return T(this,z,V,ne,!0)},p.prototype.lastIndexOf=function(z,V,ne){return T(this,z,V,ne,!1)};function k(Q,z,V,ne){V=Number(V)||0;var re=Q.length-V;ne?(ne=Number(ne),ne>re&&(ne=re)):ne=re;var de=z.length;if(de%2!=0)throw new TypeError("Invalid hex string");ne>de/2&&(ne=de/2);for(var fe=0;fe<ne;++fe){var we=parseInt(z.substr(fe*2,2),16);if(isNaN(we))return fe;Q[V+fe]=we}return fe}function $(Q,z,V,ne){return te(Ie(z,Q.length-V),Q,V,ne)}function H(Q,z,V,ne){return te(ge(z),Q,V,ne)}function g(Q,z,V,ne){return H(Q,z,V,ne)}function M(Q,z,V,ne){return te(ee(z),Q,V,ne)}function R(Q,z,V,ne){return te(oe(z,Q.length-V),Q,V,ne)}p.prototype.write=function(z,V,ne,re){if(V===void 0)re="utf8",ne=this.length,V=0;else if(ne===void 0&&typeof V=="string")re=V,ne=this.length,V=0;else if(isFinite(V))V=V|0,isFinite(ne)?(ne=ne|0,re===void 0&&(re="utf8")):(re=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var de=this.length-V;if((ne===void 0||ne>de)&&(ne=de),z.length>0&&(ne<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var fe=!1;;)switch(re){case"hex":return k(this,z,V,ne);case"utf8":case"utf-8":return $(this,z,V,ne);case"ascii":return H(this,z,V,ne);case"latin1":case"binary":return g(this,z,V,ne);case"base64":return M(this,z,V,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,z,V,ne);default:if(fe)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),fe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(Q,z,V){return z===0&&V===Q.length?o.fromByteArray(Q):o.fromByteArray(Q.slice(z,V))}function U(Q,z,V){V=Math.min(Q.length,V);for(var ne=[],re=z;re<V;){var de=Q[re],fe=null,we=de>239?4:de>223?3:de>191?2:1;if(re+we<=V){var Ge,$e,it,st;switch(we){case 1:de<128&&(fe=de);break;case 2:Ge=Q[re+1],(Ge&192)==128&&(st=(de&31)<<6|Ge&63,st>127&&(fe=st));break;case 3:Ge=Q[re+1],$e=Q[re+2],(Ge&192)==128&&($e&192)==128&&(st=(de&15)<<12|(Ge&63)<<6|$e&63,st>2047&&(st<55296||st>57343)&&(fe=st));break;case 4:Ge=Q[re+1],$e=Q[re+2],it=Q[re+3],(Ge&192)==128&&($e&192)==128&&(it&192)==128&&(st=(de&15)<<18|(Ge&63)<<12|($e&63)<<6|it&63,st>65535&&st<1114112&&(fe=st))}}fe===null?(fe=65533,we=1):fe>65535&&(fe-=65536,ne.push(fe>>>10&1023|55296),fe=56320|fe&1023),ne.push(fe),re+=we}return j(ne)}var L=4096;function j(Q){var z=Q.length;if(z<=L)return String.fromCharCode.apply(String,Q);for(var V="",ne=0;ne<z;)V+=String.fromCharCode.apply(String,Q.slice(ne,ne+=L));return V}function B(Q,z,V){var ne="";V=Math.min(Q.length,V);for(var re=z;re<V;++re)ne+=String.fromCharCode(Q[re]&127);return ne}function x(Q,z,V){var ne="";V=Math.min(Q.length,V);for(var re=z;re<V;++re)ne+=String.fromCharCode(Q[re]);return ne}function P(Q,z,V){var ne=Q.length;(!z||z<0)&&(z=0),(!V||V<0||V>ne)&&(V=ne);for(var re="",de=z;de<V;++de)re+=Ee(Q[de]);return re}function y(Q,z,V){for(var ne=Q.slice(z,V),re="",de=0;de<ne.length;de+=2)re+=String.fromCharCode(ne[de]+ne[de+1]*256);return re}p.prototype.slice=function(z,V){var ne=this.length;z=~~z,V=V===void 0?ne:~~V,z<0?(z+=ne,z<0&&(z=0)):z>ne&&(z=ne),V<0?(V+=ne,V<0&&(V=0)):V>ne&&(V=ne),V<z&&(V=z);var re;if(p.TYPED_ARRAY_SUPPORT)re=this.subarray(z,V),re.__proto__=p.prototype;else{var de=V-z;re=new p(de,void 0);for(var fe=0;fe<de;++fe)re[fe]=this[fe+z]}return re};function A(Q,z,V){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+z>V)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(z,V,ne){z=z|0,V=V|0,ne||A(z,V,this.length);for(var re=this[z],de=1,fe=0;++fe<V&&(de*=256);)re+=this[z+fe]*de;return re},p.prototype.readUIntBE=function(z,V,ne){z=z|0,V=V|0,ne||A(z,V,this.length);for(var re=this[z+--V],de=1;V>0&&(de*=256);)re+=this[z+--V]*de;return re},p.prototype.readUInt8=function(z,V){return V||A(z,1,this.length),this[z]},p.prototype.readUInt16LE=function(z,V){return V||A(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUInt16BE=function(z,V){return V||A(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUInt32LE=function(z,V){return V||A(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},p.prototype.readUInt32BE=function(z,V){return V||A(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readIntLE=function(z,V,ne){z=z|0,V=V|0,ne||A(z,V,this.length);for(var re=this[z],de=1,fe=0;++fe<V&&(de*=256);)re+=this[z+fe]*de;return de*=128,re>=de&&(re-=Math.pow(2,8*V)),re},p.prototype.readIntBE=function(z,V,ne){z=z|0,V=V|0,ne||A(z,V,this.length);for(var re=V,de=1,fe=this[z+--re];re>0&&(de*=256);)fe+=this[z+--re]*de;return de*=128,fe>=de&&(fe-=Math.pow(2,8*V)),fe},p.prototype.readInt8=function(z,V){return V||A(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},p.prototype.readInt16LE=function(z,V){V||A(z,2,this.length);var ne=this[z]|this[z+1]<<8;return ne&32768?ne|4294901760:ne},p.prototype.readInt16BE=function(z,V){V||A(z,2,this.length);var ne=this[z+1]|this[z]<<8;return ne&32768?ne|4294901760:ne},p.prototype.readInt32LE=function(z,V){return V||A(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,V){return V||A(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readFloatLE=function(z,V){return V||A(z,4,this.length),l.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,V){return V||A(z,4,this.length),l.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,V){return V||A(z,8,this.length),l.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,V){return V||A(z,8,this.length),l.read(this,z,!1,52,8)};function K(Q,z,V,ne,re,de){if(!p.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>re||z<de)throw new RangeError('"value" argument is out of bounds');if(V+ne>Q.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(z,V,ne,re){if(z=+z,V=V|0,ne=ne|0,!re){var de=Math.pow(2,8*ne)-1;K(this,z,V,ne,de,0)}var fe=1,we=0;for(this[V]=z&255;++we<ne&&(fe*=256);)this[V+we]=z/fe&255;return V+ne},p.prototype.writeUIntBE=function(z,V,ne,re){if(z=+z,V=V|0,ne=ne|0,!re){var de=Math.pow(2,8*ne)-1;K(this,z,V,ne,de,0)}var fe=ne-1,we=1;for(this[V+fe]=z&255;--fe>=0&&(we*=256);)this[V+fe]=z/we&255;return V+ne},p.prototype.writeUInt8=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,1,255,0),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[V]=z&255,V+1};function N(Q,z,V,ne){z<0&&(z=65535+z+1);for(var re=0,de=Math.min(Q.length-V,2);re<de;++re)Q[V+re]=(z&255<<8*(ne?re:1-re))>>>(ne?re:1-re)*8}p.prototype.writeUInt16LE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8):N(this,z,V,!0),V+2},p.prototype.writeUInt16BE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[V]=z>>>8,this[V+1]=z&255):N(this,z,V,!1),V+2};function Y(Q,z,V,ne){z<0&&(z=4294967295+z+1);for(var re=0,de=Math.min(Q.length-V,4);re<de;++re)Q[V+re]=z>>>(ne?re:3-re)*8&255}p.prototype.writeUInt32LE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[V+3]=z>>>24,this[V+2]=z>>>16,this[V+1]=z>>>8,this[V]=z&255):Y(this,z,V,!0),V+4},p.prototype.writeUInt32BE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[V]=z>>>24,this[V+1]=z>>>16,this[V+2]=z>>>8,this[V+3]=z&255):Y(this,z,V,!1),V+4},p.prototype.writeIntLE=function(z,V,ne,re){if(z=+z,V=V|0,!re){var de=Math.pow(2,8*ne-1);K(this,z,V,ne,de-1,-de)}var fe=0,we=1,Ge=0;for(this[V]=z&255;++fe<ne&&(we*=256);)z<0&&Ge===0&&this[V+fe-1]!==0&&(Ge=1),this[V+fe]=(z/we>>0)-Ge&255;return V+ne},p.prototype.writeIntBE=function(z,V,ne,re){if(z=+z,V=V|0,!re){var de=Math.pow(2,8*ne-1);K(this,z,V,ne,de-1,-de)}var fe=ne-1,we=1,Ge=0;for(this[V+fe]=z&255;--fe>=0&&(we*=256);)z<0&&Ge===0&&this[V+fe+1]!==0&&(Ge=1),this[V+fe]=(z/we>>0)-Ge&255;return V+ne},p.prototype.writeInt8=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,1,127,-128),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[V]=z&255,V+1},p.prototype.writeInt16LE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8):N(this,z,V,!0),V+2},p.prototype.writeInt16BE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[V]=z>>>8,this[V+1]=z&255):N(this,z,V,!1),V+2},p.prototype.writeInt32LE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8,this[V+2]=z>>>16,this[V+3]=z>>>24):Y(this,z,V,!0),V+4},p.prototype.writeInt32BE=function(z,V,ne){return z=+z,V=V|0,ne||K(this,z,V,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),p.TYPED_ARRAY_SUPPORT?(this[V]=z>>>24,this[V+1]=z>>>16,this[V+2]=z>>>8,this[V+3]=z&255):Y(this,z,V,!1),V+4};function F(Q,z,V,ne,re,de){if(V+ne>Q.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function G(Q,z,V,ne,re){return re||F(Q,z,V,4,34028234663852886e22,-34028234663852886e22),l.write(Q,z,V,ne,23,4),V+4}p.prototype.writeFloatLE=function(z,V,ne){return G(this,z,V,!0,ne)},p.prototype.writeFloatBE=function(z,V,ne){return G(this,z,V,!1,ne)};function X(Q,z,V,ne,re){return re||F(Q,z,V,8,17976931348623157e292,-17976931348623157e292),l.write(Q,z,V,ne,52,8),V+8}p.prototype.writeDoubleLE=function(z,V,ne){return X(this,z,V,!0,ne)},p.prototype.writeDoubleBE=function(z,V,ne){return X(this,z,V,!1,ne)},p.prototype.copy=function(z,V,ne,re){if(ne||(ne=0),!re&&re!==0&&(re=this.length),V>=z.length&&(V=z.length),V||(V=0),re>0&&re<ne&&(re=ne),re===ne||z.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),z.length-V<re-ne&&(re=z.length-V+ne);var de=re-ne,fe;if(this===z&&ne<V&&V<re)for(fe=de-1;fe>=0;--fe)z[fe+V]=this[fe+ne];else if(de<1e3||!p.TYPED_ARRAY_SUPPORT)for(fe=0;fe<de;++fe)z[fe+V]=this[fe+ne];else Uint8Array.prototype.set.call(z,this.subarray(ne,ne+de),V);return de},p.prototype.fill=function(z,V,ne,re){if(typeof z=="string"){if(typeof V=="string"?(re=V,V=0,ne=this.length):typeof ne=="string"&&(re=ne,ne=this.length),z.length===1){var de=z.charCodeAt(0);de<256&&(z=de)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!p.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof z=="number"&&(z=z&255);if(V<0||this.length<V||this.length<ne)throw new RangeError("Out of range index");if(ne<=V)return this;V=V>>>0,ne=ne===void 0?this.length:ne>>>0,z||(z=0);var fe;if(typeof z=="number")for(fe=V;fe<ne;++fe)this[fe]=z;else{var we=p.isBuffer(z)?z:Ie(new p(z,re).toString()),Ge=we.length;for(fe=0;fe<ne-V;++fe)this[fe+V]=we[fe%Ge]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function se(Q){if(Q=ie(Q).replace(q,""),Q.length<2)return"";for(;Q.length%4!=0;)Q=Q+"=";return Q}function ie(Q){return Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"")}function Ee(Q){return Q<16?"0"+Q.toString(16):Q.toString(16)}function Ie(Q,z){z=z||1/0;for(var V,ne=Q.length,re=null,de=[],fe=0;fe<ne;++fe){if(V=Q.charCodeAt(fe),V>55295&&V<57344){if(!re){if(V>56319){(z-=3)>-1&&de.push(239,191,189);continue}else if(fe+1===ne){(z-=3)>-1&&de.push(239,191,189);continue}re=V;continue}if(V<56320){(z-=3)>-1&&de.push(239,191,189),re=V;continue}V=(re-55296<<10|V-56320)+65536}else re&&(z-=3)>-1&&de.push(239,191,189);if(re=null,V<128){if((z-=1)<0)break;de.push(V)}else if(V<2048){if((z-=2)<0)break;de.push(V>>6|192,V&63|128)}else if(V<65536){if((z-=3)<0)break;de.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((z-=4)<0)break;de.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return de}function ge(Q){for(var z=[],V=0;V<Q.length;++V)z.push(Q.charCodeAt(V)&255);return z}function oe(Q,z){for(var V,ne,re,de=[],fe=0;fe<Q.length&&!((z-=2)<0);++fe)V=Q.charCodeAt(fe),ne=V>>8,re=V%256,de.push(re),de.push(ne);return de}function ee(Q){return o.toByteArray(se(Q))}function te(Q,z,V,ne){for(var re=0;re<ne&&!(re+V>=z.length||re>=Q.length);++re)z[re+V]=Q[re];return re}function le(Q){return Q!==Q}}).call(this,t(114))},function(S,i,t){"use strict";i.__esModule=!0,i.AMPERSAND=i.CLOSEPAREN=i.CLOSEANGLEBRACKET=i.CLOSEBRACKET=i.CLOSEBRACE=i.OPENPAREN=i.OPENANGLEBRACKET=i.OPENBRACKET=i.OPENBRACE=i.WS=i.TLD=i.SYM=i.UNDERSCORE=i.SLASH=i.MAILTO=i.PROTOCOL=i.QUERY=i.POUND=i.PLUS=i.NUM=i.NL=i.LOCALHOST=i.PUNCTUATION=i.DOT=i.COLON=i.AT=i.DOMAIN=i.Base=void 0;var e=t(573),o=t(298),l=(0,e.createTokenClass)();l.prototype={toString:function(){return this.v+""}};function s(L){var j=L?{v:L}:{};return(0,o.inherits)(l,(0,e.createTokenClass)(),j)}var h=s(),c=s("@"),d=s(":"),p=s("."),f=s(),O=s(),b=s(`
`),m=s(),a=s("+"),n=s("#"),r=s(),u=s("mailto:"),v=s("?"),E=s("/"),w=s("_"),C=s(),_=s(),T=s(),W=s("{"),k=s("["),$=s("<"),H=s("("),g=s("}"),M=s("]"),R=s(">"),D=s(")"),U=s("&");i.Base=l,i.DOMAIN=h,i.AT=c,i.COLON=d,i.DOT=p,i.PUNCTUATION=f,i.LOCALHOST=O,i.NL=b,i.NUM=m,i.PLUS=a,i.POUND=n,i.QUERY=v,i.PROTOCOL=r,i.MAILTO=u,i.SLASH=E,i.UNDERSCORE=w,i.SYM=C,i.TLD=_,i.WS=T,i.OPENBRACE=W,i.OPENBRACKET=k,i.OPENANGLEBRACKET=$,i.OPENPAREN=H,i.CLOSEBRACE=g,i.CLOSEBRACKET=M,i.CLOSEANGLEBRACKET=R,i.CLOSEPAREN=D,i.AMPERSAND=U},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{fill:u="white"}=r,v=m(r,["fill"]);return Object(e.h)(o.a,b(O({},v),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:u}}),Object(e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),Object(e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),Object(e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),Object(e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return p});var e=t(0),o=t(6),l=t.n(o),s=t(37),h=t(83),c=t(49),d=t.n(c);const p=({publication:O,logo_size:b=60,isStatic:m=!1,children:a})=>m?Object(e.h)(f,{publication:O,logo_size:b,children:a}):Object(e.h)("div",{className:"publication card"},b&&Object(e.h)("figure",{className:"logo"},Object(e.h)(s.a,{pub:O,logo_url:O.logo_url,size:b})),Object(e.h)("div",{className:"title"},Object(e.h)("div",{className:"name"},O.name),Object(e.h)("div",{className:"description"},O.hero_text),a)),f=({publication:O,logo_size:b=60,className:m="",children:a})=>Object(e.h)("table",{role:"presentation",className:l()("publication","card",m,O.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},Object(e.h)("tr",{cellpadding:"0",height:"100%"},b&&Object(e.h)("td",{rowspan:"3",className:"logo"},Object(e.h)("figure",{className:"logo"},O.logo_url?Object(e.h)(s.a,{pub:O,logo_url:O.logo_url,size:b,isStatic:!0}):Object(e.h)(h.default,{isStatic:!0,fill:O.theme_var_background_pop||c.substack_color,width:b,height:b}))),Object(e.h)("td",null,Object(e.h)("table",{cellpadding:"0",cellspacing:"0"},Object(e.h)("tr",null,Object(e.h)("td",{className:"title"},O.name)),Object(e.h)("tr",{cellpadding:"0",height:"80%"},Object(e.h)("td",{className:"description"},O.hero_text)),a))));i.b=p},function(S,i,t){"use strict";t.d(i,"a",function(){return o});var e=t(0);const o=({children:l})=>Object(e.h)("div",{className:"tailwind-preflight"},l)},function(S,i,t){"use strict";t.d(i,"a",function(){return f});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(722),c={dragArea:"frontend-pencraft-FilePicker-module__dragArea--2APmT",dragActive:"frontend-pencraft-FilePicker-module__dragActive--PnBq-",text:"frontend-pencraft-FilePicker-module__text--3utCU",icon:"frontend-pencraft-FilePicker-module__icon--1szaw",browse:"frontend-pencraft-FilePicker-module__browse--2W1OB",file:"frontend-pencraft-FilePicker-module__file--1BQ3Z"},d=t(5),p=(O,b,m)=>new Promise((a,n)=>{var r=E=>{try{v(m.next(E))}catch(w){n(w)}},u=E=>{try{v(m.throw(E))}catch(w){n(w)}},v=E=>E.done?a(E.value):Promise.resolve(E.value).then(r,u);v((m=m.apply(O,b)).next())});const f=({onFileSelected:O,dragCTA:b="Drag file here",dropCTA:m=Object(e.h)("a",{className:c.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:a,dropEvent:n,pickEvent:r,loading:u,className:v})=>{const[E,w]=Object(o.k)(!1),C=Object(o.j)(),_=k=>{k.preventDefault(),w(!0)},T=k=>{k.preventDefault(),w(!1)},W=k=>p(void 0,null,function*(){var $,H,g,M;k.preventDefault(),n&&Object(d.i)(n),w(!1);let R;if(((H=($=k.dataTransfer)==null?void 0:$.items)==null?void 0:H.length)>0){const D=k.dataTransfer.items[0];if(D.kind!=="file"){alert("Please drag a file!");return}R=D.getAsFile()}else if(((M=(g=k.dataTransfer)==null?void 0:g.files)==null?void 0:M.length)>0)R=k.dataTransfer.files[0];else{alert("Something went wrong!");return}yield O(R)});return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:s()(c.dragArea,v,{[c.dragActive]:E,"test-drag-active":E}),onDragEnter:_,onDragOver:_,onDragLeave:T,onDrop:W,onClick:()=>C.current.click(),"aria-label":"File Picker"},Object(e.h)(h.a,{size:28,className:c.icon}),Object(e.h)("p",{className:c.text},u?"Loading...":E?"Release to upload":Object(e.h)(e.Fragment,null,b," or ",m))),Object(e.h)("input",{className:c.file,ref:C,type:"file",name:"file",accept:a,onInput:k=>p(void 0,null,function*(){r&&Object(d.i)(r);const $=k.target.files;$&&$[0]&&(yield O($[0]))})}))}},function(S,i,t){var e=t(352),o=t(383),l=Object.prototype,s=l.hasOwnProperty,h=o(function(c,d,p){s.call(c,p)?c[p].push(d):e(c,p,[d])});S.exports=h},,function(S,i){i.isUserFullySubscribed=(t,e)=>e.plans?t.is_subscribed:t.is_free_subscribed},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("X",[["line",{x1:"18",y1:"6",x2:"6",y2:"18",key:"1o5bob"}],["line",{x1:"6",y1:"6",x2:"18",y2:"18",key:"z4dcbv"}]]);i.a=o},function(S,i,t){var e=t(362),o=t(349),l=t(175);function s(h){return e(h,l,o)}S.exports=s},function(S,i){function t(e,o){for(var l=-1,s=e==null?0:e.length,h=0,c=[];++l<s;){var d=e[l];o(d,l,e)&&(c[h++]=d)}return c}S.exports=t},function(S,i){function t(e){return function(o){return o==null?void 0:o[e]}}S.exports=t},function(S,i,t){var e=t(645),o=t(646),l=t(157),s=t(61);function h(c,d){return function(p,f){var O=s(p)?e:o,b=d?d():{};return O(p,c,l(f,2),b)}}S.exports=h},function(S,i,t){var e=t(574),o=t(597),l=o(e);S.exports=l},function(S,i,t){var e=t(280),o=t(600);function l(s,h,c,d,p){var f=-1,O=s.length;for(c||(c=o),p||(p=[]);++f<O;){var b=s[f];h>0&&c(b)?h>1?l(b,h-1,c,d,p):e(p,b):d||(p[p.length]=b)}return p}S.exports=l},function(S,i,t){var e=t(106),o=function(){try{var l=e(Object,"defineProperty");return l({},"",{}),l}catch(s){}}();S.exports=o},function(S,i,t){"use strict";t.r(i),t.d(i,"HeartIcon",function(){return m}),t.d(i,"HeartIconCircle",function(){return a});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r));function m(n){return Object(e.h)("svg",O({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},n),Object(e.h)("path",{d:"M6.0022 10.25C6.1297 10.25 6.31436 10.1469 6.47704 10.0394C8.9172 8.42633 10.5 6.52649 10.5 4.60872C10.5 2.915 9.34807 1.75 7.92794 1.75C7.04421 1.75 6.38911 2.24736 6.0022 2.98221C5.61529 2.25185 4.95579 1.75 4.07206 1.75C2.65633 1.75 1.5 2.915 1.5 4.60872C1.5 6.52649 3.0828 8.42633 5.52296 10.0394C5.68564 10.1469 5.87469 10.25 6.0022 10.25Z",fill:"white"}))}function a(n){return Object(e.h)(o.a,b(O({},n),{name:"reader2__HeartIcon",svgParams:{height:22,width:22,stroke:"none"}}),Object(e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"#ff8383"}),Object(e.h)("g",{transform:"translate(5 5)"},Object(e.h)("path",{d:"M6.0022 10.25C6.1297 10.25 6.31436 10.1469 6.47704 10.0394C8.9172 8.42633 10.5 6.52649 10.5 4.60872C10.5 2.915 9.34807 1.75 7.92794 1.75C7.04421 1.75 6.38911 2.24736 6.0022 2.98221C5.61529 2.25185 4.95579 1.75 4.07206 1.75C2.65633 1.75 1.5 2.915 1.5 4.60872C1.5 6.52649 3.0828 8.42633 5.52296 10.0394C5.68564 10.1469 5.87469 10.25 6.0022 10.25Z",fill:"white"})))}i.default=a},function(S,i,t){"use strict";t.r(i),t.d(i,"ReplyIcon",function(){return m}),t.d(i,"ReplyIconCircle",function(){return a});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r));function m(n){return Object(e.h)("svg",O({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},n),Object(e.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function a(n){return Object(e.h)(o.a,b(O({},n),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),Object(e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"#66c8ff"}),Object(e.h)("g",{transform:"translate(5 5)"},Object(e.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}i.default=a},function(S,i,t){"use strict";t.r(i),t.d(i,"CommentIcon",function(){return m}),t.d(i,"CommentIconCircle",function(){return a});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r));function m(n){return Object(e.h)("svg",O({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},n),Object(e.h)("path",{d:"M3.03506 10.5C3.4987 10.5 4.51948 10.048 5.28312 9.50886C5.37273 9.44939 5.43896 9.42957 5.52078 9.43354C5.56364 9.43354 5.59481 9.43354 5.61818 9.43354C8.29091 9.42957 10.5 8.08955 10.5 5.71479C10.5 3.65718 8.4974 2 6 2C3.5026 2 1.5 3.65718 1.5 5.71479C1.5 6.93587 2.18182 8.07766 3.45584 8.78731C3.55714 8.84282 3.57662 8.90229 3.52987 8.99347C3.29221 9.40182 2.95325 9.79827 2.7974 10.0005C2.58312 10.2661 2.70779 10.5 3.03506 10.5Z"}))}function a(n){return Object(e.h)(o.a,b(O({},n),{name:"reader2__CommentIcon",svgParams:{height:22,width:22,stroke:"none"}}),Object(e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"#53d09c"}),Object(e.h)("g",{transform:"translate(5 5)"},Object(e.h)("path",{d:"M3.03506 10.5C3.4987 10.5 4.51948 10.048 5.28312 9.50886C5.37273 9.44939 5.43896 9.42957 5.52078 9.43354C5.56364 9.43354 5.59481 9.43354 5.61818 9.43354C8.29091 9.42957 10.5 8.08955 10.5 5.71479C10.5 3.65718 8.4974 2 6 2C3.5026 2 1.5 3.65718 1.5 5.71479C1.5 6.93587 2.18182 8.07766 3.45584 8.78731C3.55714 8.84282 3.57662 8.90229 3.52987 8.99347C3.29221 9.40182 2.95325 9.79827 2.7974 10.0005C2.58312 10.2661 2.70779 10.5 3.03506 10.5Z",fill:"white"})))}i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"TwitterOutlineIcon",svgParams:{height:16,width:20}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1524 0.286815C12.9848 -0.0318829 13.8948 -0.0864749 14.7592 0.130489C15.462 0.306912 16.107 0.655903 16.6376 1.14249C17.3169 0.89658 17.961 0.560161 18.5523 0.141743C18.7998 -0.0334198 19.1301 -0.0365939 19.381 0.133779C19.6318 0.304152 19.7507 0.612306 19.6791 0.907C19.4028 2.04538 18.8458 3.09393 18.0616 3.95753C18.0757 4.09811 18.083 4.23936 18.0835 4.3808L18.0835 4.38319C18.0835 9.29757 15.7264 12.8962 12.3452 14.7015C8.98147 16.4975 4.67843 16.4794 0.840591 14.3406C0.546545 14.1767 0.403384 13.8324 0.49452 13.5084C0.585656 13.1843 0.887269 12.9652 1.22363 12.9786C2.65157 13.0356 4.0647 12.7377 5.34034 12.12C4.06579 11.3575 3.15922 10.4438 2.53674 9.45782C1.73519 8.18825 1.43205 6.84263 1.37719 5.63204C1.32248 4.42456 1.51372 3.33632 1.71513 2.55507C1.81628 2.16276 1.92118 1.84328 2.00191 1.61926C2.04232 1.50714 2.0768 1.41859 2.10191 1.35643C2.11446 1.32534 2.12469 1.30081 2.13215 1.2832L2.14123 1.26201L2.14412 1.25538L2.14514 1.25307L2.14553 1.25217C2.1457 1.25179 2.14586 1.25144 2.81079 1.54604L2.14586 1.25144C2.25213 1.01158 2.47934 0.847546 2.74046 0.822176C3.00157 0.796805 3.25612 0.914031 3.40657 1.12894C4.15428 2.19698 5.15353 3.06271 6.31515 3.64923C7.26519 4.12892 8.2998 4.40971 9.35623 4.47759V4.41217C9.34536 3.52161 9.60685 2.64886 10.1058 1.91153C10.6058 1.17278 11.3201 0.605503 12.1524 0.286815ZM3.09343 3.03841C2.9284 3.71356 2.78659 4.6028 2.83025 5.5662C2.8764 6.58479 3.12882 7.67102 3.76666 8.68131C4.40153 9.68688 5.44569 10.6611 7.14733 11.4198C7.38821 11.5272 7.55207 11.7566 7.57557 12.0192C7.59906 12.2819 7.47851 12.5367 7.26052 12.6852C6.28428 13.3499 5.20629 13.8343 4.07717 14.1236C6.75502 14.8865 9.46059 14.5928 11.6602 13.4184C14.5413 11.8801 16.6285 8.79158 16.6289 4.38467C16.6283 4.20406 16.611 4.0239 16.5772 3.84652C16.5318 3.60859 16.6079 3.3637 16.7801 3.19336C17.0303 2.94581 17.2553 2.67591 17.4527 2.38779C17.1883 2.49441 16.9189 2.58923 16.6453 2.67187C16.3709 2.75477 16.0733 2.6687 15.8855 2.45208C15.4964 2.00326 14.9795 1.68547 14.4051 1.54127C13.8306 1.39708 13.2258 1.43333 12.6725 1.6452C12.1191 1.85707 11.6436 2.23446 11.3105 2.72674C10.9773 3.21904 10.8028 3.80236 10.8107 4.39779L10.8108 4.40751H10.8108V5.21813C10.8108 5.61242 10.4966 5.9349 10.1024 5.94515C8.56202 5.98522 7.03575 5.6425 5.65956 4.94765C4.69805 4.46217 3.83071 3.81535 3.09343 3.03841Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),Object(e.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),Object(e.h)("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),Object(e.h)("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),Object(e.h)("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return h});var e=t(5);const o=["sort"],l=["sort","selection"];function s(c,d){const p=new URL(`${location.protocol}//${location.host}${c}`);for(const f of p.searchParams.keys())(d?l:o).includes(f)||p.searchParams.delete(f);return p.toString()}function h({previous:c,url:d}){var p,f;if(typeof window=="undefined")return;const O=s(d,!1),b=s(d,!0);(p=document.head.querySelector("link[rel=canonical]"))==null||p.setAttribute("href",O),(f=document.head.querySelector('meta[property="og:url"]'))==null||f.setAttribute("content",b),Object(e.c)({previous:c,url:d})}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),Object(e.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),Object(e.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),Object(e.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return v});var e=t(2),o=t(34),l=t(93),s=t(209),h=t.n(s),c=t(5),d=t(7),p=t.n(d),f=t(22),O=Object.defineProperty,b=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(T,W,k)=>W in T?O(T,W,{enumerable:!0,configurable:!0,writable:!0,value:k}):T[W]=k,r=(T,W)=>{for(var k in W||(W={}))m.call(W,k)&&n(T,k,W[k]);if(b)for(var k of b(W))a.call(W,k)&&n(T,k,W[k]);return T},u=(T,W,k)=>new Promise(($,H)=>{var g=D=>{try{R(k.next(D))}catch(U){H(U)}},M=D=>{try{R(k.throw(D))}catch(U){H(U)}},R=D=>D.done?$(D.value):Promise.resolve(D.value).then(g,M);R((k=k.apply(T,W)).next())});function v(T){const W=Object(l.b)(),{categories:k,publications:$=[],categoryId:H,featuredPublications:g=[],communityPicksPublications:M=[],tastemakerPublications:R=[],user:D,categorySlug:U,rankingSlug:L,hasMore:j,updateUrl:B=!1,maxPublications:x,showTwitterBanner:P,readerOnboardingModal:y}=r(r({},W),T),[A,K]=Object(e.k)(k),[N,Y]=Object(e.k)(E($,x)),[F,G]=Object(e.k)(H),[X,q]=Object(e.k)(E(g,x)),[se,ie]=Object(e.k)(E(M,x)),[Ee,Ie]=Object(e.k)(E(R,x)),[ge,oe]=Object(e.k)(null),[ee,te]=Object(e.k)("paid"),[le,Q]=Object(e.k)(null),[z,V]=Object(e.k)(0),[ne,re]=Object(e.k)(j);Object(e.d)(()=>{const $e=L||"paid";te($e),A||w().then(({categories:it,publications:st,featuredPublications:Rt,communityPicksPublications:Ht,tastemakerPublications:je})=>{K(it);const Oe=Object(s.getCategoryIdFromSlug)(U,it);return G(Oe),q(E(Rt,x)),ie(E(Ht,x)),Ie(E(je,x)),Oe==="featured"?st:C(Oe,$e,0).then(({publications:be,more:he})=>(V(0),x||re(he),be))}).then(it=>{Y(E(it,x))})},[A,U,L,x]);const de=Object(e.a)(()=>{const $e=z+1;Object(c.i)(c.a.VIEWED_MORE_CATEGORY,{categoryId:F,ranking:ee,page:$e}),C(F,ee,$e).then(({publications:it,more:st})=>{const Rt=new Set(N.map(Ht=>Ht.id));V($e),Y(N.concat(it.filter(Ht=>!Rt.has(Ht.id)))),re(st)})},[F,ee,z,N,V,Y,re]),fe=({categoryId:$e,ranking:it,categories:st})=>{Object(c.i)(c.a.CLICKED_CATEGORY,{categoryId:$e,ranking:it}),B&&Object(o.route)(_({categoryId:$e,categories:st,ranking:it}),!0),Ge({categoryId:$e,ranking:it})},we=$e=>{te($e),B&&Object(o.route)(_({categoryId:F,categories:A,ranking:$e}),!0),Ge({categoryId:F,ranking:$e})},Ge=Object(e.a)($e=>u(this,[$e],function*({categoryId:it,ranking:st}){if(G(it),V(0),it==="featured"||it==="twitter"){oe(null),Q(null),re(!1),it==="featured"&&Y(E(X,x));return}oe(it),Q(st),Y([]),re(!1);const{publications:Rt,more:Ht}=yield C(it,st,0);G(it),oe(null),Q(null),te(st),V(0),x||re(Ht),Y(E(Rt,x))}),[oe,Q,G,V,re,Y,X,x]);return{categories:A,publications:F==="featured"?X:N,categoryId:F,ranking:ee,loadingCategoryId:ge,loadingRanking:le,featuredPublications:X,user:D,categorySlug:U,rankingSlug:L,hasMore:ne,viewMore:de,loadPublications:Ge,onCategoryClicked:fe,getCategoryIdFromSlug:s.getCategoryIdFromSlug,setCategoryId:G,setRanking:te,onRankingChange:we,maxPublications:x,showTwitterBanner:P,readerOnboardingModal:y}}const E=(T,W)=>W?T.slice(0,W):T,w=()=>Object(f.c)("/api/v1/homepage/initial-category-data"),C=(T,W="paid",k=0)=>Object(f.c)(`/api/v1/category/public/${T}/${W}?page=${k}`),_=({categoryId:T,ranking:W,categories:k})=>{let $="";["twitter",d.COMMUNITY_PICKS_CATEGORY_NAME,d.TASTEMAKER_CATEGORY_NAME].includes(T)&&($=T);const H=k.find(g=>g.id===T);return(H==null?void 0:H.slug)&&($=`${H.slug}/${W}`),$?`/discover/category/${$}`:"/discover"}},function(S,i,t){"use strict";var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(3),c=t.n(h),d=t(83),p=t(27),f=t(5),O=t(29),b=t.n(O),m=t(67),a=t(59),n=(u,v,E)=>new Promise((w,C)=>{var _=k=>{try{W(E.next(k))}catch($){C($)}},T=k=>{try{W(E.throw(k))}catch($){C($)}},W=k=>k.done?w(k.value):Promise.resolve(k.value).then(_,T);W((E=E.apply(u,v)).next())});const r=({user:u,setStep:v,entry:E,previousStepData:w})=>{const{setUser:C}=Object(a.d)(),[_,T]=Object(o.k)(""),[W,k]=Object(o.k)(!1);Object(o.d)(()=>{u&&v(O.onboardingSteps.CATEGORIES)},[u,v]);const $=H=>n(void 0,null,function*(){H.body.userExists&&k(!0),Object(f.i)(f.a.READER_ONBOARDING_SIGNUP_SUCCEEDED,{entry:E}),u||(Object(m.b)({user:H.body.user}),C(H.body.user)),w[O.onboardingSteps.CATEGORIES]?(H.body.userExists?v(O.onboardingSteps.WELCOME):v(O.onboardingSteps.PROFILE),w[O.onboardingSteps.CATEGORIES].publications.length?(yield s.a.post("/api/v1/bulk_signup").send({publications:w[O.onboardingSteps.CATEGORIES].publications,visibility:"public",source:`${E}-reader-onboarding`,email:_}),Object(f.i)(f.a.READER_ONBOARDING_BULK_SUBSCRIBED,{entry:E,numberOfSubscriptions:w[O.onboardingSteps.CATEGORIES].publications.length,recommendationsFrom:"categories"})):Object(f.i)(f.a.READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED,{entry:E,recommendationsFrom:"categories"})):v(O.onboardingSteps.CATEGORIES)});return Object(e.h)("div",{className:"signup-step"},Object(e.h)("div",{className:"headings"},Object(e.h)(d.default,{className:"substack",width:68,height:68}),Object(e.h)("h3",null,"Sign up to subscribe"),Object(e.h)("p",null,"Substack is home for great writing.")),Object(e.h)(p.g,{method:"post",action:"/api/v1/reader/signup/just_email",loading:!1,autoLock:!0,onSuccess:$},Object(e.h)("p",null,Object(e.h)("label",{for:"email"},"Your email address"),Object(e.h)("input",{type:"email",name:"email","aria-label":"Email",value:_,tabIndex:0,onInput:H=>{T(H.target.value)},onChange:H=>{T(H.target.value)}}),W&&Object(e.h)("div",{className:"error"},"This email is already registered with Substack. Please"," ",Object(e.h)("a",{native:!0,href:Object(h.getLoginUrl)()},"login to continue"),".")),Object(e.h)("div",{id:"error-container"}),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)("p",null,"Already have a Substack account?"," ",Object(e.h)("a",{native:!0,href:Object(h.getLoginUrl)()},"Sign in")),Object(e.h)("p",null,"By continuing, you agree to the"," ",Object(e.h)("a",{href:`${Object(h.getSubstackUrl)()}/tos`,target:"_blank"},"Terms of Service")," ","and"," ",Object(e.h)("a",{href:Object(h.getPrivacyUrl)(),target:"_blank"},"Privacy Policy")),Object(e.h)("button",{className:"button primary",type:"submit"},w[O.onboardingSteps.CATEGORIES]&&w[O.onboardingSteps.CATEGORIES].publications.length?"Subscribe and join Substack":"Get started"))))};i.a=r},function(S,i,t){"use strict";var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(10),c=t.n(h),d=t(29),p=t.n(d),f=t(110),O=t(5),b=Object.defineProperty,m=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,v=(T,W,k)=>W in T?b(T,W,{enumerable:!0,configurable:!0,writable:!0,value:k}):T[W]=k,E=(T,W)=>{for(var k in W||(W={}))r.call(W,k)&&v(T,k,W[k]);if(n)for(var k of n(W))u.call(W,k)&&v(T,k,W[k]);return T},w=(T,W)=>m(T,a(W)),C=(T,W,k)=>new Promise(($,H)=>{var g=D=>{try{R(k.next(D))}catch(U){H(U)}},M=D=>{try{R(k.throw(D))}catch(U){H(U)}},R=D=>D.done?$(D.value):Promise.resolve(D.value).then(g,M);R((k=k.apply(T,W)).next())});const _=({setStep:T,handleError:W,user:k,entry:$})=>{const[H,g]=Object(o.k)(null),[M,R]=Object(o.k)(!1),D=k?k.id:null;Object(o.d)(()=>{Object(O.i)(O.a.READER_ONBOARDING_PROFILE_SETUP_STARTED,{entry:$}),D&&(()=>C(void 0,null,function*(){try{const A=yield c.a.get(`/api/v1/user/${D}/profile/edit`);g(A.body)}catch(A){W(A,{ignore:!0}),T(d.onboardingSteps.WELCOME)}}))()},[W,T,D,$]);const U=H==null?void 0:H.profile_set_up_at,L=()=>T(d.onboardingSteps.WELCOME),j=()=>{Object(O.i)(O.a.READER_ONBOARDING_PROFILE_SETUP_SKIPPED,{entry:$}),L()},B=()=>{R(!0),Object(O.i)(O.a.READER_ONBOARDING_PROFILE_SETUP_SKIPPED,{entry:$})},x=()=>R(!1),P=y=>{g(w(E({},H),{subscriptions:[...H.subscriptions.map(A=>y[A.publication.id]?w(E({},A),{visibility:y[A.publication.id]}):A)]}))};return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:s()("profile-step",{hidden:!M})},Object(e.h)("h3",null,"Subscriptions displayed on profile"),Object(e.h)("p",null,"Subscriptions appear on your profile by default, but you can choose to hide some or all of them"),Object(e.h)(f.a,{user:k,profile:H,onFinalizeVisibility:x,onSetVisibility:P,source:"homepage-reader-onboarding"})),Object(e.h)("div",{className:s()("profile-step",{hidden:M})},Object(e.h)("h3",null,"Tell us about yourself"),Object(e.h)("p",null,"Add your name, a profile picture, and a bit more about who you are."),Object(e.h)(f.b,{pageTitle:"",user:k,freeSignup:!0,freeSignupEmail:null,needsPhoto:!1,optionalPhoto:!0,isPostInvite:!1,primaryEligiblePublications:[],onSuccess:L,onSkip:!U&&j,onEditReadVisibility:B,numVisibleSubscriptions:(H==null?void 0:H.subscriptions.filter(({visibility:y})=>y==="public").length)||0,numSubscriptions:(H==null?void 0:H.subscriptions.length)||0,complete:!0,text:"Continue",profileExists:U,prepareData:y=>(y.reads_visibility=(H==null?void 0:H.subscriptions.map(({id:A,visibility:K})=>({id:A,visibility:K})))||[],y)})))};i.a=_},function(S,i,t){"use strict";var e=t(0),o=t(83),l=t(12),s=t(3),h=t.n(s),c=t(5);const d=({pub:p=null,profile:f,entry:O})=>Object(e.h)("div",{className:"welcome-step"},Object(e.h)("div",{className:"headings"},Object(e.h)(o.default,{className:"substack",width:68,height:68}),Object(e.h)("h3",null,"You're all set up"),Object(e.h)("p",null,"You will now start receiving new posts from"," ",f?Object(e.h)(e.Fragment,null,Object(e.h)("b",null,f.name)," and the other writers"):p?Object(e.h)(e.Fragment,null,Object(e.h)("b",null,p.name)," and the other publications"):"the publications"," ","you subscribed to. Happy reading!")),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)(l.b,{className:"primary",onClick:()=>{Object(c.i)(c.a.READER_ONBOARDING_START_READING_CLICKED,{entry:O}),document.location.href=p?Object(s.getBaseUrl)(p):Object(s.getBaseReaderUrl)()}},"Start reading",f?` ${f.name}`:p?` ${p.name}`:"")));i.a=d},function(S,i,t){"use strict";var e=t(0),o=t(83),l=t(12);const s=({close:h})=>Object(e.h)("div",{className:"welcome-step"},Object(e.h)("div",{className:"headings"},Object(e.h)(o.default,{className:"substack",width:72,height:72}),Object(e.h)("h3",null,"Something went wrong"),Object(e.h)("p",null,"We're sorry for the inconvenience.")),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"spacer"}),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)(l.b,{className:"primary",onClick:h},"Close")));i.a=s},function(S,i,t){"use strict";t.d(i,"a",function(){return D});var e=t(0),o=t(2),l=t(11),s=t(35),h=t(562),c=t(673),d=t(672),p=t(6),f=t.n(p),O=t(5),b=t(92),m=t(22),a=t(13),n=t(241),r=t(132),u=t(16),v=t(255),E=t(54),w=t(355),C={root:"frontend-reader2-Notifications-module__root--n0pTs",trigger:"frontend-reader2-Notifications-module__trigger--sfZsc",badge:"frontend-reader2-Notifications-module__badge--3-jZf",dropdown:"frontend-reader2-Notifications-module__dropdown--2RtmE"},_=Object.defineProperty,T=Object.defineProperties,W=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,g=(B,x,P)=>x in B?_(B,x,{enumerable:!0,configurable:!0,writable:!0,value:P}):B[x]=P,M=(B,x)=>{for(var P in x||(x={}))$.call(x,P)&&g(B,P,x[P]);if(k)for(var P of k(x))H.call(x,P)&&g(B,P,x[P]);return B},R=(B,x)=>T(B,W(x));function D({fill:B="outline"}){const x=Object(b.b)(),P=Object(m.g)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1}),{triggerProps:y,layerProps:A,renderLayer:K,isOpen:N,setOpen:Y}=Object(w.a)({}),F=()=>{N||P.refetch(),Y(!N)},G=Object(o.j)(null);Object(o.d)(()=>{y.ref(G.current)},[G,y]);const X=Object(o.j)(24);Object(o.d)(()=>{var se;const ie=(se=G.current)==null?void 0:se.ownerDocument.querySelector("button.user-indicator");ie&&(X.current=window.innerWidth-ie.getBoundingClientRect().right)},[G]);const q=x.activityUnreadCount>0;return Object(o.d)(()=>{q&&Object(O.i)(O.a.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:x.activityUnreadCount})},[x.activityUnreadCount]),Object(e.h)(e.Fragment,null,Object(e.h)(s.b,R(M({},y),{ref:G,className:C.trigger,"aria-label":"View activity",size:40,fill:B,priority:"secondary",onClick:F}),Object(e.h)(h.a,{"aria-hidden":!0,size:20,strokeWidth:2}),q&&Object(e.h)(n.a,{className:C.badge})),N&&K(Object(e.h)(l.a,R(M({},A),{style:R(M({},A.style),{left:"auto",right:`${X.current}px`}),className:f()("elevated",C.dropdown)}),Object(e.h)(U,{resource:P}))))}function U({resource:B}){var x;const{result:P,isLoading:y,error:A}=B,K=16,N=`${Object(E.getBaseUrl)()}/activity`,Y=(x=P==null?void 0:P.activityItems[0])==null?void 0:x.id;return Object(o.d)(()=>{P&&Object(O.i)(O.a.NOTIFICATIONS_DROPDOWN_VIEWED,{count:P.activityItems.length})},[Y]),Object(e.h)(l.b,{className:f()("notifications-root",C.root),border:"detail",radius:12,style:{width:"400px",maxHeight:"80vh"},shadow:"xl"},Object(e.h)(l.b,{paddingX:K},Object(e.h)(l.a,{borderBottom:"detail",paddingY:K,gap:8,alignItems:"center"},Object(e.h)(l.a,{flex:"grow"},Object(e.h)(a.b.H2,{weight:"extrabold"},Object(e.h)(u.g,{href:N},"Activity"))),Object(e.h)(s.b,{"aria-label":"Settings",size:40,href:`${Object(E.getBaseUrl)()}/settings`,newTab:!0},Object(e.h)(c.a,{size:20,"aria-hidden":!0})))),Object(e.h)(l.b,{padding:K,overflowY:"auto"},A?"Error":P?P.activityItems.length>0?Object(e.h)(u.w,{gap:8},Object(e.h)(L,{result:P})):Object(e.h)(l.b,{style:{minHeight:"240px"},paddingBottom:32,justifyContent:"center"},Object(e.h)(u.N,{icon:Object(e.h)(d.a,{className:"zero-icon",size:24}),title:"You don\u2019t have any activity yet.",text:"Likes and replies will appear here."})):Object(e.h)(l.a,{style:{minHeight:"240px"},paddingBottom:32,justifyContent:"center",alignItems:"center"},Object(e.h)(u.b,null))," "),Object(e.h)(l.b,{paddingY:8,paddingX:8,flex:"auto",borderTop:"detail"},Object(e.h)(s.a,{href:N,fill:"empty",priority:"primary",localNavigation:!1},"See all")))}function L({result:B}){const x=Object(b.b)(),{publications:P,posts:y,users:A,comments:K}=Object(r.g)(B);return Object(o.d)(()=>{x.markAllAsRead()},[]),Object(e.h)(e.Fragment,null,B.activityItems.filter(N=>r.j.has(N.type)).map(N=>Object(e.h)(j,{key:N.id,item:R(M({},N),{pub:P.get(N.publication_id),post:y.get(N.target_post_id),recent_senders:Object(v.a)(N.recent_sender_ids,Y=>A.get(Y)),comment:N.comment_id&&K.get(N.comment_id)||null,target_comment:N.target_comment_id&&K.get(N.target_comment_id)||null})})))}function j({item:B}){const x=Object(r.i)(B);return Object(e.h)(r.d,{item:B,isPadded:!1,trackingProps:{ui:"dropdown"}},Object(e.h)(r.c,null,Object(e.h)(a.b.B4,null,Object(e.h)(r.e,{sender:x,item:B,context:"dropdown"})),Object(e.h)(a.b,{font:"text",size:14,lineHeight:20,clamp:3,color:"secondary"},Object(r.h)(B))))}},,function(S,i,t){"use strict";t.r(i),t.d(i,"addHookName",function(){return o});var e=t(0);function o(l,s){return e.options.__a&&e.options.__a(s),l}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.13",e.options,{Fragment:e.Fragment,Component:e.Component})},function(S,i){var t=1e3,e=t*60,o=e*60,l=o*24,s=l*7,h=l*365.25;S.exports=function(O,b){b=b||{};var m=typeof O;if(m==="string"&&O.length>0)return c(O);if(m==="number"&&isFinite(O))return b.long?p(O):d(O);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(O))};function c(O){if(O=String(O),!(O.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(O);if(!!b){var m=parseFloat(b[1]),a=(b[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return m*h;case"weeks":case"week":case"w":return m*s;case"days":case"day":case"d":return m*l;case"hours":case"hour":case"hrs":case"hr":case"h":return m*o;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function d(O){var b=Math.abs(O);return b>=l?Math.round(O/l)+"d":b>=o?Math.round(O/o)+"h":b>=e?Math.round(O/e)+"m":b>=t?Math.round(O/t)+"s":O+"ms"}function p(O){var b=Math.abs(O);return b>=l?f(O,b,l,"day"):b>=o?f(O,b,o,"hour"):b>=e?f(O,b,e,"minute"):b>=t?f(O,b,t,"second"):O+" ms"}function f(O,b,m,a){var n=b>=m*1.5;return Math.round(O/m)+" "+a+(n?"s":"")}},function(S,i,t){S.exports=e;function e(l){if(l)return o(l)}function o(l){for(var s in e.prototype)l[s]=e.prototype[s];return l}e.prototype.on=e.prototype.addEventListener=function(l,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(s),this},e.prototype.once=function(l,s){function h(){this.off(l,h),s.apply(this,arguments)}return h.fn=s,this.on(l,h),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(l,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var h=this._callbacks["$"+l];if(!h)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var c,d=0;d<h.length;d++)if(c=h[d],c===s||c.fn===s){h.splice(d,1);break}return h.length===0&&delete this._callbacks["$"+l],this},e.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),h=this._callbacks["$"+l],c=1;c<arguments.length;c++)s[c-1]=arguments[c];if(h){h=h.slice(0);for(var c=0,d=h.length;c<d;++c)h[c].apply(this,s)}return this},e.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]},e.prototype.hasListeners=function(l){return!!this.listeners(l).length}},function(S,i){S.exports=o,o.default=o,o.stable=h,o.stableStringify=h;var t=[],e=[];function o(p,f,O){l(p,"",[],void 0);var b;for(e.length===0?b=JSON.stringify(p,f,O):b=JSON.stringify(p,d(f),O);t.length!==0;){var m=t.pop();m.length===4?Object.defineProperty(m[0],m[1],m[3]):m[0][m[1]]=m[2]}return b}function l(p,f,O,b){var m;if(typeof p=="object"&&p!==null){for(m=0;m<O.length;m++)if(O[m]===p){var a=Object.getOwnPropertyDescriptor(b,f);a.get!==void 0?a.configurable?(Object.defineProperty(b,f,{value:"[Circular]"}),t.push([b,f,p,a])):e.push([p,f]):(b[f]="[Circular]",t.push([b,f,p]));return}if(O.push(p),Array.isArray(p))for(m=0;m<p.length;m++)l(p[m],m,O,p);else{var n=Object.keys(p);for(m=0;m<n.length;m++){var r=n[m];l(p[r],r,O,p)}}O.pop()}}function s(p,f){return p<f?-1:p>f?1:0}function h(p,f,O){var b=c(p,"",[],void 0)||p,m;for(e.length===0?m=JSON.stringify(b,f,O):m=JSON.stringify(b,d(f),O);t.length!==0;){var a=t.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return m}function c(p,f,O,b){var m;if(typeof p=="object"&&p!==null){for(m=0;m<O.length;m++)if(O[m]===p){var a=Object.getOwnPropertyDescriptor(b,f);a.get!==void 0?a.configurable?(Object.defineProperty(b,f,{value:"[Circular]"}),t.push([b,f,p,a])):e.push([p,f]):(b[f]="[Circular]",t.push([b,f,p]));return}if(typeof p.toJSON=="function")return;if(O.push(p),Array.isArray(p))for(m=0;m<p.length;m++)c(p[m],m,O,p);else{var n={},r=Object.keys(p).sort(s);for(m=0;m<r.length;m++){var u=r[m];c(p[u],u,O,p),n[u]=p[u]}if(b!==void 0)t.push([b,f,p]),b[f]=n;else return n}O.pop()}}function d(p){return p=p!==void 0?p:function(f,O){return O},function(f,O){if(e.length>0)for(var b=0;b<e.length;b++){var m=e[b];if(m[1]===f&&m[0]===O){O="[Circular]",e.splice(b,1);break}}return p.call(this,f,O)}}},function(S,i,t){"use strict";var e=t(408),o=t(418),l=t(195);S.exports={formats:l,parse:o,stringify:e}},function(S,i,t){"use strict";var e=t(409),o=t(266),l=t(195),s=Object.prototype.hasOwnProperty,h={brackets:function(u){return u+"[]"},comma:"comma",indices:function(u,v){return u+"["+v+"]"},repeat:function(u){return u}},c=Array.isArray,d=Array.prototype.push,p=function(r,u){d.apply(r,c(u)?u:[u])},f=Date.prototype.toISOString,O=l.default,b={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:O,formatter:l.formatters[O],indices:!1,serializeDate:function(u){return f.call(u)},skipNulls:!1,strictNullHandling:!1},m=function(u){return typeof u=="string"||typeof u=="number"||typeof u=="boolean"||typeof u=="symbol"||typeof u=="bigint"},a=function r(u,v,E,w,C,_,T,W,k,$,H,g,M,R,D){var U=u;if(D.has(u))throw new RangeError("Cyclic object value");if(typeof T=="function"?U=T(v,U):U instanceof Date?U=$(U):E==="comma"&&c(U)&&(U=o.maybeMap(U,function(Y){return Y instanceof Date?$(Y):Y})),U===null){if(w)return _&&!M?_(v,b.encoder,R,"key",H):v;U=""}if(m(U)||o.isBuffer(U)){if(_){var L=M?v:_(v,b.encoder,R,"key",H);return[g(L)+"="+g(_(U,b.encoder,R,"value",H))]}return[g(v)+"="+g(String(U))]}var j=[];if(typeof U=="undefined")return j;var B;if(E==="comma"&&c(U))B=[{value:U.length>0?U.join(",")||null:void 0}];else if(c(T))B=T;else{var x=Object.keys(U);B=W?x.sort(W):x}for(var P=0;P<B.length;++P){var y=B[P],A=typeof y=="object"&&y.value!==void 0?y.value:U[y];if(!(C&&A===null)){var K=c(U)?typeof E=="function"?E(v,y):v:v+(k?"."+y:"["+y+"]");D.set(u,!0);var N=e();p(j,r(A,K,E,w,C,_,T,W,k,$,H,g,M,R,N))}}return j},n=function(u){if(!u)return b;if(u.encoder!==null&&u.encoder!==void 0&&typeof u.encoder!="function")throw new TypeError("Encoder has to be a function.");var v=u.charset||b.charset;if(typeof u.charset!="undefined"&&u.charset!=="utf-8"&&u.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=l.default;if(typeof u.format!="undefined"){if(!s.call(l.formatters,u.format))throw new TypeError("Unknown format option provided.");E=u.format}var w=l.formatters[E],C=b.filter;return(typeof u.filter=="function"||c(u.filter))&&(C=u.filter),{addQueryPrefix:typeof u.addQueryPrefix=="boolean"?u.addQueryPrefix:b.addQueryPrefix,allowDots:typeof u.allowDots=="undefined"?b.allowDots:!!u.allowDots,charset:v,charsetSentinel:typeof u.charsetSentinel=="boolean"?u.charsetSentinel:b.charsetSentinel,delimiter:typeof u.delimiter=="undefined"?b.delimiter:u.delimiter,encode:typeof u.encode=="boolean"?u.encode:b.encode,encoder:typeof u.encoder=="function"?u.encoder:b.encoder,encodeValuesOnly:typeof u.encodeValuesOnly=="boolean"?u.encodeValuesOnly:b.encodeValuesOnly,filter:C,format:E,formatter:w,serializeDate:typeof u.serializeDate=="function"?u.serializeDate:b.serializeDate,skipNulls:typeof u.skipNulls=="boolean"?u.skipNulls:b.skipNulls,sort:typeof u.sort=="function"?u.sort:null,strictNullHandling:typeof u.strictNullHandling=="boolean"?u.strictNullHandling:b.strictNullHandling}};S.exports=function(r,u){var v=r,E=n(u),w,C;typeof E.filter=="function"?(C=E.filter,v=C("",v)):c(E.filter)&&(C=E.filter,w=C);var _=[];if(typeof v!="object"||v===null)return"";var T;u&&u.arrayFormat in h?T=u.arrayFormat:u&&"indices"in u?T=u.indices?"indices":"repeat":T="indices";var W=h[T];w||(w=Object.keys(v)),E.sort&&w.sort(E.sort);for(var k=e(),$=0;$<w.length;++$){var H=w[$];E.skipNulls&&v[H]===null||p(_,a(v[H],H,W,E.strictNullHandling,E.skipNulls,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,k))}var g=_.join(E.delimiter),M=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?M+="utf8=%26%2310003%3B&":M+="utf8=%E2%9C%93&"),g.length>0?M+g:""}},function(S,i,t){"use strict";var e=t(410),o=t(360),l=t(416),s=e("%TypeError%"),h=e("%WeakMap%",!0),c=e("%Map%",!0),d=o("WeakMap.prototype.get",!0),p=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),O=o("Map.prototype.get",!0),b=o("Map.prototype.set",!0),m=o("Map.prototype.has",!0),a=function(v,E){for(var w=v,C;(C=w.next)!==null;w=C)if(C.key===E)return w.next=C.next,C.next=v.next,v.next=C,C},n=function(v,E){var w=a(v,E);return w&&w.value},r=function(v,E,w){var C=a(v,E);C?C.value=w:v.next={key:E,next:v.next,value:w}},u=function(v,E){return!!a(v,E)};S.exports=function(){var E,w,C,_={assert:function(T){if(!_.has(T))throw new s("Side channel does not contain "+l(T))},get:function(T){if(h&&T&&(typeof T=="object"||typeof T=="function")){if(E)return d(E,T)}else if(c){if(w)return O(w,T)}else if(C)return n(C,T)},has:function(T){if(h&&T&&(typeof T=="object"||typeof T=="function")){if(E)return f(E,T)}else if(c){if(w)return m(w,T)}else if(C)return u(C,T);return!1},set:function(T,W){h&&T&&(typeof T=="object"||typeof T=="function")?(E||(E=new h),p(E,T,W)):c?(w||(w=new c),b(w,T,W)):(C||(C={key:{},next:null}),r(C,T,W))}};return _}},function(S,i,t){"use strict";var e,o=SyntaxError,l=Function,s=TypeError,h=function(H){try{return l('"use strict"; return ('+H+").constructor;")()}catch(g){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(H){c=null}var d=function(){throw new s},p=c?function(){try{return arguments.callee,d}catch(H){try{return c(arguments,"callee").get}catch(g){return d}}}():d,f=t(253)(),O=Object.getPrototypeOf||function(H){return H.__proto__},b={},m=typeof Uint8Array=="undefined"?e:O(Uint8Array),a={"%AggregateError%":typeof AggregateError=="undefined"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?e:ArrayBuffer,"%ArrayIteratorPrototype%":f?O([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics=="undefined"?e:Atomics,"%BigInt%":typeof BigInt=="undefined"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?e:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array=="undefined"?e:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?e:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?O(O([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map=="undefined"?e:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!f?e:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?e:Promise,"%Proxy%":typeof Proxy=="undefined"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?e:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!f?e:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?O(""[Symbol.iterator]()):e,"%Symbol%":f?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":p,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array=="undefined"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?e:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?e:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?e:WeakSet},n=function H(g){var M;if(g==="%AsyncFunction%")M=h("async function () {}");else if(g==="%GeneratorFunction%")M=h("function* () {}");else if(g==="%AsyncGeneratorFunction%")M=h("async function* () {}");else if(g==="%AsyncGenerator%"){var R=H("%AsyncGeneratorFunction%");R&&(M=R.prototype)}else if(g==="%AsyncIteratorPrototype%"){var D=H("%AsyncGenerator%");D&&(M=O(D.prototype))}return a[g]=M,M},r={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},u=t(122),v=t(413),E=u.call(Function.call,Array.prototype.concat),w=u.call(Function.apply,Array.prototype.splice),C=u.call(Function.call,String.prototype.replace),_=u.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,k=function(g){var M=_(g,0,1),R=_(g,-1);if(M==="%"&&R!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(R==="%"&&M!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var D=[];return C(g,T,function(U,L,j,B){D[D.length]=j?C(B,W,"$1"):L||U}),D},$=function(g,M){var R=g,D;if(v(r,R)&&(D=r[R],R="%"+D[0]+"%"),v(a,R)){var U=a[R];if(U===b&&(U=n(R)),typeof U=="undefined"&&!M)throw new s("intrinsic "+g+" exists, but is not available. Please file an issue!");return{alias:D,name:R,value:U}}throw new o("intrinsic "+g+" does not exist!")};S.exports=function(g,M){if(typeof g!="string"||g.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof M!="boolean")throw new s('"allowMissing" argument must be a boolean');var R=k(g),D=R.length>0?R[0]:"",U=$("%"+D+"%",M),L=U.name,j=U.value,B=!1,x=U.alias;x&&(D=x[0],w(R,E([0,1],x)));for(var P=1,y=!0;P<R.length;P+=1){var A=R[P],K=_(A,0,1),N=_(A,-1);if((K==='"'||K==="'"||K==="`"||N==='"'||N==="'"||N==="`")&&K!==N)throw new o("property names with quotes must have matching quotes");if((A==="constructor"||!y)&&(B=!0),D+="."+A,L="%"+D+"%",v(a,L))j=a[L];else if(j!=null){if(!(A in j)){if(!M)throw new s("base intrinsic for "+g+" exists, but the property is not available.");return}if(c&&P+1>=R.length){var Y=c(j,A);y=!!Y,y&&"get"in Y&&!("originalValue"in Y.get)?j=Y.get:j=j[A]}else y=v(j,A),j=j[A];y&&!B&&(a[L]=j)}}return j}},function(S,i,t){"use strict";S.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var o={},l=Symbol("test"),s=Object(l);if(typeof l=="string"||Object.prototype.toString.call(l)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var h=42;o[l]=h;for(l in o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var c=Object.getOwnPropertySymbols(o);if(c.length!==1||c[0]!==l||!Object.prototype.propertyIsEnumerable.call(o,l))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(o,l);if(d.value!==h||d.enumerable!==!0)return!1}return!0}},function(S,i,t){"use strict";var e="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,l=Object.prototype.toString,s="[object Function]";S.exports=function(c){var d=this;if(typeof d!="function"||l.call(d)!==s)throw new TypeError(e+d);for(var p=o.call(arguments,1),f,O=function(){if(this instanceof f){var r=d.apply(this,p.concat(o.call(arguments)));return Object(r)===r?r:this}else return d.apply(c,p.concat(o.call(arguments)))},b=Math.max(0,d.length-p.length),m=[],a=0;a<b;a++)m.push("$"+a);if(f=Function("binder","return function ("+m.join(",")+"){ return binder.apply(this,arguments); }")(O),d.prototype){var n=function(){};n.prototype=d.prototype,f.prototype=new n,n.prototype=null}return f}},function(S,i,t){"use strict";var e=t(122);S.exports=e.call(Function.call,Object.prototype.hasOwnProperty)},function(S,i,t){"use strict";var e=t(122);S.exports=e.call(Function.call,Object.prototype.hasOwnProperty)},function(S,i,t){"use strict";var e=t(122),o=t(265),l=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),h=o("%Reflect.apply%",!0)||e.call(s,l),c=o("%Object.defineProperty%",!0);if(c)try{c({},"a",{value:1})}catch(p){c=null}S.exports=function(){return h(e,s,arguments)};var d=function(){return h(e,l,arguments)};c?c(S.exports,"apply",{value:d}):S.exports.apply=d},function(S,i,t){var e=typeof Map=="function"&&Map.prototype,o=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,l=e&&o&&typeof o.get=="function"?o.get:null,s=e&&Map.prototype.forEach,h=typeof Set=="function"&&Set.prototype,c=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d=h&&c&&typeof c.get=="function"?c.get:null,p=h&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,O=f?WeakMap.prototype.has:null,b=typeof WeakSet=="function"&&WeakSet.prototype,m=b?WeakSet.prototype.has:null,a=Boolean.prototype.valueOf,n=Object.prototype.toString,r=Function.prototype.toString,u=String.prototype.match,v=typeof BigInt=="function"?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,w=typeof Symbol=="function"?Symbol.prototype.toString:null,C=Object.prototype.propertyIsEnumerable,_=t(417).custom,T=_&&R(_)?_:null;S.exports=function te(le,Q,z,V){var ne=Q||{};if(x(ne,"quoteStyle")&&ne.quoteStyle!=="single"&&ne.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(x(ne,"maxStringLength")&&(typeof ne.maxStringLength=="number"?ne.maxStringLength<0&&ne.maxStringLength!==1/0:ne.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var re=x(ne,"customInspect")?ne.customInspect:!0;if(typeof re!="boolean")throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(x(ne,"indent")&&ne.indent!==null&&ne.indent!=="	"&&!(parseInt(ne.indent,10)===ne.indent&&ne.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof le=="undefined")return"undefined";if(le===null)return"null";if(typeof le=="boolean")return le?"true":"false";if(typeof le=="string")return X(le,ne);if(typeof le=="number")return le===0?1/0/le>0?"0":"-0":String(le);if(typeof le=="bigint")return String(le)+"n";var de=typeof ne.depth=="undefined"?5:ne.depth;if(typeof z=="undefined"&&(z=0),z>=de&&de>0&&typeof le=="object")return $(le)?"[Array]":"[Object]";var fe=ge(ne,z);if(typeof V=="undefined")V=[];else if(A(V,le)>=0)return"[Circular]";function we(De,Se,Le){if(Se&&(V=V.slice(),V.push(Se)),Le){var tt={depth:ne.depth};return x(ne,"quoteStyle")&&(tt.quoteStyle=ne.quoteStyle),te(De,tt,z+1,V)}return te(De,ne,z+1,V)}if(typeof le=="function"){var Ge=y(le),$e=ee(le,we);return"[Function"+(Ge?": "+Ge:" (anonymous)")+"]"+($e.length>0?" { "+$e.join(", ")+" }":"")}if(R(le)){var it=w.call(le);return typeof le=="object"?se(it):it}if(G(le)){for(var st="<"+String(le.nodeName).toLowerCase(),Rt=le.attributes||[],Ht=0;Ht<Rt.length;Ht++)st+=" "+Rt[Ht].name+"="+W(k(Rt[Ht].value),"double",ne);return st+=">",le.childNodes&&le.childNodes.length&&(st+="..."),st+="</"+String(le.nodeName).toLowerCase()+">",st}if($(le)){if(le.length===0)return"[]";var je=ee(le,we);return fe&&!Ie(je)?"["+oe(je,fe)+"]":"[ "+je.join(", ")+" ]"}if(M(le)){var Oe=ee(le,we);return Oe.length===0?"["+String(le)+"]":"{ ["+String(le)+"] "+Oe.join(", ")+" }"}if(typeof le=="object"&&re){if(T&&typeof le[T]=="function")return le[T]();if(typeof le.inspect=="function")return le.inspect()}if(K(le)){var be=[];return s.call(le,function(De,Se){be.push(we(Se,le,!0)+" => "+we(De,le))}),Ee("Map",l.call(le),be,fe)}if(Y(le)){var he=[];return p.call(le,function(De){he.push(we(De,le))}),Ee("Set",d.call(le),he,fe)}if(N(le))return ie("WeakMap");if(F(le))return ie("WeakSet");if(U(le))return se(we(Number(le)));if(L(le))return se(we(v.call(le)));if(j(le))return se(a.call(le));if(D(le))return se(we(String(le)));if(!H(le)&&!g(le)){var Ce=ee(le,we);return Ce.length===0?"{}":fe?"{"+oe(Ce,fe)+"}":"{ "+Ce.join(", ")+" }"}return String(le)};function W(te,le,Q){var z=(Q.quoteStyle||le)==="double"?'"':"'";return z+te+z}function k(te){return String(te).replace(/"/g,"&quot;")}function $(te){return P(te)==="[object Array]"}function H(te){return P(te)==="[object Date]"}function g(te){return P(te)==="[object RegExp]"}function M(te){return P(te)==="[object Error]"}function R(te){return P(te)==="[object Symbol]"}function D(te){return P(te)==="[object String]"}function U(te){return P(te)==="[object Number]"}function L(te){return P(te)==="[object BigInt]"}function j(te){return P(te)==="[object Boolean]"}var B=Object.prototype.hasOwnProperty||function(te){return te in this};function x(te,le){return B.call(te,le)}function P(te){return n.call(te)}function y(te){if(te.name)return te.name;var le=u.call(r.call(te),/^function\s*([\w$]+)/);return le?le[1]:null}function A(te,le){if(te.indexOf)return te.indexOf(le);for(var Q=0,z=te.length;Q<z;Q++)if(te[Q]===le)return Q;return-1}function K(te){if(!l||!te||typeof te!="object")return!1;try{l.call(te);try{d.call(te)}catch(le){return!0}return te instanceof Map}catch(le){}return!1}function N(te){if(!O||!te||typeof te!="object")return!1;try{O.call(te,O);try{m.call(te,m)}catch(le){return!0}return te instanceof WeakMap}catch(le){}return!1}function Y(te){if(!d||!te||typeof te!="object")return!1;try{d.call(te);try{l.call(te)}catch(le){return!0}return te instanceof Set}catch(le){}return!1}function F(te){if(!m||!te||typeof te!="object")return!1;try{m.call(te,m);try{O.call(te,O)}catch(le){return!0}return te instanceof WeakSet}catch(le){}return!1}function G(te){return!te||typeof te!="object"?!1:typeof HTMLElement!="undefined"&&te instanceof HTMLElement?!0:typeof te.nodeName=="string"&&typeof te.getAttribute=="function"}function X(te,le){if(te.length>le.maxStringLength){var Q=te.length-le.maxStringLength,z="... "+Q+" more character"+(Q>1?"s":"");return X(te.slice(0,le.maxStringLength),le)+z}var V=te.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,q);return W(V,"single",le)}function q(te){var le=te.charCodeAt(0),Q={8:"b",9:"t",10:"n",12:"f",13:"r"}[le];return Q?"\\"+Q:"\\x"+(le<16?"0":"")+le.toString(16).toUpperCase()}function se(te){return"Object("+te+")"}function ie(te){return te+" { ? }"}function Ee(te,le,Q,z){var V=z?oe(Q,z):Q.join(", ");return te+" ("+le+") {"+V+"}"}function Ie(te){for(var le=0;le<te.length;le++)if(A(te[le],`
`)>=0)return!1;return!0}function ge(te,le){var Q;if(te.indent==="	")Q="	";else if(typeof te.indent=="number"&&te.indent>0)Q=Array(te.indent+1).join(" ");else return null;return{base:Q,prev:Array(le+1).join(Q)}}function oe(te,le){if(te.length===0)return"";var Q=`
`+le.prev+le.base;return Q+te.join(","+Q)+`
`+le.prev}function ee(te,le){var Q=$(te),z=[];if(Q){z.length=te.length;for(var V=0;V<te.length;V++)z[V]=x(te,V)?le(te[V],te):""}for(var ne in te)!x(te,ne)||Q&&String(Number(ne))===ne&&ne<te.length||(/[^\w$]/.test(ne)?z.push(le(ne,te)+": "+le(te[ne],te)):z.push(ne+": "+le(te[ne],te)));if(typeof E=="function")for(var re=E(te),de=0;de<re.length;de++)C.call(te,re[de])&&z.push("["+le(re[de])+"]: "+le(te[re[de]],te));return z}},function(S,i){},function(S,i,t){"use strict";var e=t(266),o=Object.prototype.hasOwnProperty,l=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},h=function(a){return a.replace(/&#(\d+);/g,function(n,r){return String.fromCharCode(parseInt(r,10))})},c=function(a,n){return a&&typeof a=="string"&&n.comma&&a.indexOf(",")>-1?a.split(","):a},d="utf8=%26%2310003%3B",p="utf8=%E2%9C%93",f=function(n,r){var u={},v=r.ignoreQueryPrefix?n.replace(/^\?/,""):n,E=r.parameterLimit===1/0?void 0:r.parameterLimit,w=v.split(r.delimiter,E),C=-1,_,T=r.charset;if(r.charsetSentinel)for(_=0;_<w.length;++_)w[_].indexOf("utf8=")===0&&(w[_]===p?T="utf-8":w[_]===d&&(T="iso-8859-1"),C=_,_=w.length);for(_=0;_<w.length;++_)if(_!==C){var W=w[_],k=W.indexOf("]="),$=k===-1?W.indexOf("="):k+1,H,g;$===-1?(H=r.decoder(W,s.decoder,T,"key"),g=r.strictNullHandling?null:""):(H=r.decoder(W.slice(0,$),s.decoder,T,"key"),g=e.maybeMap(c(W.slice($+1),r),function(M){return r.decoder(M,s.decoder,T,"value")})),g&&r.interpretNumericEntities&&T==="iso-8859-1"&&(g=h(g)),W.indexOf("[]=")>-1&&(g=l(g)?[g]:g),o.call(u,H)?u[H]=e.combine(u[H],g):u[H]=g}return u},O=function(a,n,r,u){for(var v=u?n:c(n,r),E=a.length-1;E>=0;--E){var w,C=a[E];if(C==="[]"&&r.parseArrays)w=[].concat(v);else{w=r.plainObjects?Object.create(null):{};var _=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,T=parseInt(_,10);!r.parseArrays&&_===""?w={0:v}:!isNaN(T)&&C!==_&&String(T)===_&&T>=0&&r.parseArrays&&T<=r.arrayLimit?(w=[],w[T]=v):w[_]=v}v=w}return v},b=function(n,r,u,v){if(!!n){var E=u.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,w=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,_=u.depth>0&&w.exec(E),T=_?E.slice(0,_.index):E,W=[];if(T){if(!u.plainObjects&&o.call(Object.prototype,T)&&!u.allowPrototypes)return;W.push(T)}for(var k=0;u.depth>0&&(_=C.exec(E))!==null&&k<u.depth;){if(k+=1,!u.plainObjects&&o.call(Object.prototype,_[1].slice(1,-1))&&!u.allowPrototypes)return;W.push(_[1])}return _&&W.push("["+E.slice(_.index)+"]"),O(W,r,u,v)}},m=function(n){if(!n)return s;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset!="undefined"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof n.charset=="undefined"?s.charset:n.charset;return{allowDots:typeof n.allowDots=="undefined"?s.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:s.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:s.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:s.arrayLimit,charset:r,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:s.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:s.comma,decoder:typeof n.decoder=="function"?n.decoder:s.decoder,delimiter:typeof n.delimiter=="string"||e.isRegExp(n.delimiter)?n.delimiter:s.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:s.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:s.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:s.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:s.strictNullHandling}};S.exports=function(a,n){var r=m(n);if(a===""||a===null||typeof a=="undefined")return r.plainObjects?Object.create(null):{};for(var u=typeof a=="string"?f(a,r):a,v=r.plainObjects?Object.create(null):{},E=Object.keys(u),w=0;w<E.length;++w){var C=E[w],_=b(C,u[C],r,typeof a=="string");v=e.merge(v,_,r)}return r.allowSparse===!0?v:e.compact(v)}},function(S,i,t){"use strict";function e(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(f){return typeof f}:e=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(d)}var o=t(267);S.exports=l;function l(d){if(d)return s(d)}function s(d){for(var p in l.prototype)Object.prototype.hasOwnProperty.call(l.prototype,p)&&(d[p]=l.prototype[p]);return d}l.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},l.prototype.parse=function(d){return this._parser=d,this},l.prototype.responseType=function(d){return this._responseType=d,this},l.prototype.serialize=function(d){return this._serializer=d,this},l.prototype.timeout=function(d){if(!d||e(d)!=="object")return this._timeout=d,this._responseTimeout=0,this._uploadTimeout=0,this;for(var p in d)if(Object.prototype.hasOwnProperty.call(d,p))switch(p){case"deadline":this._timeout=d.deadline;break;case"response":this._responseTimeout=d.response;break;case"upload":this._uploadTimeout=d.upload;break;default:console.warn("Unknown timeout option",p)}return this},l.prototype.retry=function(d,p){return(arguments.length===0||d===!0)&&(d=1),d<=0&&(d=0),this._maxRetries=d,this._retries=0,this._retryCallback=p,this};var h=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),c=new Set([408,413,429,500,502,503,504,521,522,524]);l.prototype._shouldRetry=function(d,p){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var f=this._retryCallback(d,p);if(f===!0)return!0;if(f===!1)return!1}catch(O){console.error(O)}return!!(p&&p.status&&c.has(p.status)||d&&(d.code&&h.has(d.code)||d.timeout&&d.code==="ECONNABORTED"||d.crossDomain))},l.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},l.prototype.then=function(d,p){var f=this;if(!this._fullfilledPromise){var O=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(b,m){O.on("abort",function(){if(!(f._maxRetries&&f._maxRetries>f._retries)){if(f.timedout&&f.timedoutError){m(f.timedoutError);return}var a=new Error("Aborted");a.code="ABORTED",a.status=f.status,a.method=f.method,a.url=f.url,m(a)}}),O.end(function(a,n){a?m(a):b(n)})})}return this._fullfilledPromise.then(d,p)},l.prototype.catch=function(d){return this.then(void 0,d)},l.prototype.use=function(d){return d(this),this},l.prototype.ok=function(d){if(typeof d!="function")throw new Error("Callback required");return this._okCallback=d,this},l.prototype._isResponseOK=function(d){return d?this._okCallback?this._okCallback(d):d.status>=200&&d.status<300:!1},l.prototype.get=function(d){return this._header[d.toLowerCase()]},l.prototype.getHeader=l.prototype.get,l.prototype.set=function(d,p){if(o(d)){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&this.set(f,d[f]);return this}return this._header[d.toLowerCase()]=p,this.header[d]=p,this},l.prototype.unset=function(d){return delete this._header[d.toLowerCase()],delete this.header[d],this},l.prototype.field=function(d,p){if(d==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(o(d)){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&this.field(f,d[f]);return this}if(Array.isArray(p)){for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&this.field(d,p[O]);return this}if(p==null)throw new Error(".field(name, val) val can not be empty");return typeof p=="boolean"&&(p=String(p)),this._getFormData().append(d,p),this},l.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},l.prototype._auth=function(d,p,f,O){switch(f.type){case"basic":this.set("Authorization","Basic ".concat(O("".concat(d,":").concat(p))));break;case"auto":this.username=d,this.password=p;break;case"bearer":this.set("Authorization","Bearer ".concat(d));break;default:break}return this},l.prototype.withCredentials=function(d){return d===void 0&&(d=!0),this._withCredentials=d,this},l.prototype.redirects=function(d){return this._maxRedirects=d,this},l.prototype.maxResponseSize=function(d){if(typeof d!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=d,this},l.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},l.prototype.send=function(d){var p=o(d),f=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(p&&!this._data)Array.isArray(d)?this._data=[]:this._isHost(d)||(this._data={});else if(d&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(p&&o(this._data))for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(this._data[O]=d[O]);else typeof d=="string"?(f||this.type("form"),f=this._header["content-type"],f&&(f=f.toLowerCase().trim()),f==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(d):d:this._data=(this._data||"")+d):this._data=d;return!p||this._isHost(d)?this:(f||this.type("json"),this)},l.prototype.sortQuery=function(d){return this._sort=typeof d=="undefined"?!0:d,this},l.prototype._finalizeQueryString=function(){var d=this._query.join("&");if(d&&(this.url+=(this.url.includes("?")?"&":"?")+d),this._query.length=0,this._sort){var p=this.url.indexOf("?");if(p>=0){var f=this.url.slice(p+1).split("&");typeof this._sort=="function"?f.sort(this._sort):f.sort(),this.url=this.url.slice(0,p)+"?"+f.join("&")}}},l.prototype._appendQueryString=function(){console.warn("Unsupported")},l.prototype._timeoutError=function(d,p,f){if(!this._aborted){var O=new Error("".concat(d+p,"ms exceeded"));O.timeout=p,O.code="ECONNABORTED",O.errno=f,this.timedout=!0,this.timedoutError=O,this.abort(),this.callback(O)}},l.prototype._setTimeouts=function(){var d=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){d._timeoutError("Timeout of ",d._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){d._timeoutError("Response timeout of ",d._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(S,i,t){"use strict";var e=t(421);S.exports=o;function o(s){if(s)return l(s)}function l(s){for(var h in o.prototype)Object.prototype.hasOwnProperty.call(o.prototype,h)&&(s[h]=o.prototype[h]);return s}o.prototype.get=function(s){return this.header[s.toLowerCase()]},o.prototype._setHeaderProperties=function(s){var h=s["content-type"]||"";this.type=e.type(h);var c=e.params(h);for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(this[d]=c[d]);this.links={};try{s.link&&(this.links=e.parseLinks(s.link))}catch(p){}},o.prototype._setStatusProperties=function(s){var h=s/100|0;this.statusCode=s,this.status=this.statusCode,this.statusType=h,this.info=h===1,this.ok=h===2,this.redirect=h===3,this.clientError=h===4,this.serverError=h===5,this.error=h===4||h===5?this.toError():!1,this.created=s===201,this.accepted=s===202,this.noContent=s===204,this.badRequest=s===400,this.unauthorized=s===401,this.notAcceptable=s===406,this.forbidden=s===403,this.notFound=s===404,this.unprocessableEntity=s===422}},function(S,i,t){"use strict";function e(s,h){var c;if(typeof Symbol=="undefined"||s[Symbol.iterator]==null){if(Array.isArray(s)||(c=o(s))||h&&s&&typeof s.length=="number"){c&&(s=c);var d=0,p=function(){};return{s:p,n:function(){return d>=s.length?{done:!0}:{done:!1,value:s[d++]}},e:function(a){throw a},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,O=!1,b;return{s:function(){c=s[Symbol.iterator]()},n:function(){var a=c.next();return f=a.done,a},e:function(a){O=!0,b=a},f:function(){try{!f&&c.return!=null&&c.return()}finally{if(O)throw b}}}}function o(s,h){if(!!s){if(typeof s=="string")return l(s,h);var c=Object.prototype.toString.call(s).slice(8,-1);if(c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set")return Array.from(s);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(s,h)}}function l(s,h){(h==null||h>s.length)&&(h=s.length);for(var c=0,d=new Array(h);c<h;c++)d[c]=s[c];return d}i.type=function(s){return s.split(/ *; */).shift()},i.params=function(s){var h={},c=e(s.split(/ *; */)),d;try{for(c.s();!(d=c.n()).done;){var p=d.value,f=p.split(/ *= */),O=f.shift(),b=f.shift();O&&b&&(h[O]=b)}}catch(m){c.e(m)}finally{c.f()}return h},i.parseLinks=function(s){var h={},c=e(s.split(/ *, */)),d;try{for(c.s();!(d=c.n()).done;){var p=d.value,f=p.split(/ *; */),O=f[0].slice(1,-1),b=f[1].split(/ *= */)[1].slice(1,-1);h[b]=O}}catch(m){c.e(m)}finally{c.f()}return h},i.cleanHeader=function(s,h){return delete s["content-type"],delete s["content-length"],delete s["transfer-encoding"],delete s.host,h&&(delete s.authorization,delete s.cookie),s}},function(S,i,t){"use strict";function e(p){return h(p)||s(p)||l(p)||o()}function o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(p,f){if(!!p){if(typeof p=="string")return c(p,f);var O=Object.prototype.toString.call(p).slice(8,-1);if(O==="Object"&&p.constructor&&(O=p.constructor.name),O==="Map"||O==="Set")return Array.from(p);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return c(p,f)}}function s(p){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(p))return Array.from(p)}function h(p){if(Array.isArray(p))return c(p)}function c(p,f){(f==null||f>p.length)&&(f=p.length);for(var O=0,b=new Array(f);O<f;O++)b[O]=p[O];return b}function d(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(p){d.prototype[p]=function(){for(var f=arguments.length,O=new Array(f),b=0;b<f;b++)O[b]=arguments[b];return this._defaults.push({fn:p,args:O}),this}}),d.prototype._setDefaults=function(p){this._defaults.forEach(function(f){p[f.fn].apply(p,e(f.args))})},S.exports=d},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o,l){var s=o.prototype,h=s.format;l.en.ordinal=function(c){var d=["th","st","nd","rd"],p=c%100;return"["+c+(d[(p-20)%10]||d[p]||d[0])+"]"},s.format=function(c){var d=this,p=this.$locale(),f=this.$utils(),O=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((d.$M+1)/3);case"Do":return p.ordinal(d.$D);case"gggg":return d.weekYear();case"GGGG":return d.isoWeekYear();case"wo":return p.ordinal(d.week(),"W");case"w":case"ww":return f.s(d.week(),b==="w"?1:2,"0");case"W":case"WW":return f.s(d.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return f.s(String(d.$H===0?24:d.$H),b==="k"?1:2,"0");case"X":return Math.floor(d.$d.getTime()/1e3);case"x":return d.$d.getTime();case"z":return"["+d.offsetName()+"]";case"zzz":return"["+d.offsetName("long")+"]";default:return b}});return h.bind(this)(O)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=function(n,r){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(u,v,E){var w=E&&E.toUpperCase();return v||r[E]||e[E]||r[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,_,T){return _||T.slice(1)})})},l=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,h=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,d={},p=function(n){return function(r){this[n]=+r}},f=[/[+-]\d\d:?(\d\d)?/,function(n){(this.zone||(this.zone={})).offset=function(r){if(!r)return 0;var u=r.match(/([+-]|\d\d)/g),v=60*u[1]+(+u[2]||0);return v===0?0:u[0]==="+"?-v:v}(n)}],O=function(n){var r=d[n];return r&&(r.indexOf?r:r.s.concat(r.f))},b=function(n,r){var u,v=d.meridiem;if(v){for(var E=1;E<=24;E+=1)if(n.indexOf(v(E,0,r))>-1){u=E>12;break}}else u=n===(r?"pm":"PM");return u},m={A:[c,function(n){this.afternoon=b(n,!1)}],a:[c,function(n){this.afternoon=b(n,!0)}],S:[/\d/,function(n){this.milliseconds=100*+n}],SS:[s,function(n){this.milliseconds=10*+n}],SSS:[/\d{3}/,function(n){this.milliseconds=+n}],s:[h,p("seconds")],ss:[h,p("seconds")],m:[h,p("minutes")],mm:[h,p("minutes")],H:[h,p("hours")],h:[h,p("hours")],HH:[h,p("hours")],hh:[h,p("hours")],D:[h,p("day")],DD:[s,p("day")],Do:[c,function(n){var r=d.ordinal,u=n.match(/\d+/);if(this.day=u[0],r)for(var v=1;v<=31;v+=1)r(v).replace(/\[|\]/g,"")===n&&(this.day=v)}],M:[h,p("month")],MM:[s,p("month")],MMM:[c,function(n){var r=O("months"),u=(O("monthsShort")||r.map(function(v){return v.substr(0,3)})).indexOf(n)+1;if(u<1)throw new Error;this.month=u%12||u}],MMMM:[c,function(n){var r=O("months").indexOf(n)+1;if(r<1)throw new Error;this.month=r%12||r}],Y:[/[+-]?\d+/,p("year")],YY:[s,function(n){n=+n,this.year=n+(n>68?1900:2e3)}],YYYY:[/\d{4}/,p("year")],Z:f,ZZ:f},a=function(n,r,u){try{var v=function(B){for(var x=(B=o(B,d&&d.formats)).match(l),P=x.length,y=0;y<P;y+=1){var A=x[y],K=m[A],N=K&&K[0],Y=K&&K[1];x[y]=Y?{regex:N,parser:Y}:A.replace(/^\[|\]$/g,"")}return function(F){for(var G={},X=0,q=0;X<P;X+=1){var se=x[X];if(typeof se=="string")q+=se.length;else{var ie=se.regex,Ee=se.parser,Ie=F.substr(q),ge=ie.exec(Ie)[0];Ee.call(G,ge),F=F.replace(ge,"")}}return function(oe){var ee=oe.afternoon;if(ee!==void 0){var te=oe.hours;ee?te<12&&(oe.hours+=12):te===12&&(oe.hours=0),delete oe.afternoon}}(G),G}}(r)(n),E=v.year,w=v.month,C=v.day,_=v.hours,T=v.minutes,W=v.seconds,k=v.milliseconds,$=v.zone,H=new Date,g=C||(E||w?1:H.getDate()),M=E||H.getFullYear(),R=0;E&&!w||(R=w>0?w-1:H.getMonth());var D=_||0,U=T||0,L=W||0,j=k||0;return $?new Date(Date.UTC(M,R,g,D,U,L,j+60*$.offset*1e3)):u?new Date(Date.UTC(M,R,g,D,U,L,j)):new Date(M,R,g,D,U,L,j)}catch(B){return new Date("")}};return function(n,r,u){u.p.customParseFormat=!0;var v=r.prototype,E=v.parse;v.parse=function(w){var C=w.date,_=w.utc,T=w.args;this.$u=_;var W=T[1];if(typeof W=="string"){var k=T[2]===!0,$=T[3]===!0,H=k||$,g=T[2];$&&(g=T[2]),d=this.$locale(),!k&&g&&(d=u.Ls[g]),this.$d=a(C,W,_),this.init(),g&&g!==!0&&(this.$L=this.locale(g).$L),H&&C!==this.format(W)&&(this.$d=new Date("")),d={}}else if(W instanceof Array)for(var M=W.length,R=1;R<=M;R+=1){T[1]=W[R-1];var D=u.apply(this,T);if(D.isValid()){this.$d=D.$d,this.$L=D.$L,this.init();break}R===M&&(this.$d=new Date(""))}else E.call(this,w)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o){o.prototype.dayOfYear=function(l){var s=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return l==null?s:this.add(l-s,"day")}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";var e,o,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},c=function(a){return a instanceof m},d=function(a,n,r){return new m(a,r,n.$l)},p=function(a){return o.p(a)+"s"},f=function(a){return a<0},O=function(a){return f(a)?Math.ceil(a):Math.floor(a)},b=function(a,n){return a?f(a)?{negative:!0,format:""+function(r){return Math.abs(r)}(a)+n}:{negative:!1,format:""+a+n}:{negative:!1,format:""}},m=function(){function a(r,u,v){var E=this;if(this.$d={},this.$l=v,u)return d(r*h[p(u)],this);if(typeof r=="number")return this.$ms=r,this.parseFromMilliseconds(),this;if(typeof r=="object")return Object.keys(r).forEach(function(C){E.$d[p(C)]=r[C]}),this.calMilliseconds(),this;if(typeof r=="string"){var w=r.match(s);if(w)return this.$d.years=w[2],this.$d.months=w[3],this.$d.weeks=w[4],this.$d.days=w[5],this.$d.hours=w[6],this.$d.minutes=w[7],this.$d.seconds=w[8],this.calMilliseconds(),this}return this}var n=a.prototype;return n.calMilliseconds=function(){var r=this;this.$ms=Object.keys(this.$d).reduce(function(u,v){return u+(r.$d[v]||0)*h[v]},0)},n.parseFromMilliseconds=function(){var r=this.$ms;this.$d.years=O(r/31536e6),r%=31536e6,this.$d.months=O(r/2592e6),r%=2592e6,this.$d.days=O(r/864e5),r%=864e5,this.$d.hours=O(r/36e5),r%=36e5,this.$d.minutes=O(r/6e4),r%=6e4,this.$d.seconds=O(r/1e3),r%=1e3,this.$d.milliseconds=r},n.toISOString=function(){var r=b(this.$d.years,"Y"),u=b(this.$d.months,"M"),v=+this.$d.days||0;this.$d.weeks&&(v+=7*this.$d.weeks);var E=b(v,"D"),w=b(this.$d.hours,"H"),C=b(this.$d.minutes,"M"),_=this.$d.seconds||0;this.$d.milliseconds&&(_+=this.$d.milliseconds/1e3);var T=b(_,"S"),W=r.negative||u.negative||E.negative||w.negative||C.negative||T.negative,k=w.format||C.format||T.format?"T":"",$=(W?"-":"")+"P"+r.format+u.format+E.format+k+w.format+C.format+T.format;return $==="P"||$==="-P"?"P0D":$},n.toJSON=function(){return this.toISOString()},n.format=function(r){var u=r||"YYYY-MM-DDTHH:mm:ss",v={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return u.replace(l,function(E,w){return w||String(v[E])})},n.as=function(r){return this.$ms/h[p(r)]},n.get=function(r){var u=this.$ms,v=p(r);return v==="milliseconds"?u%=1e3:u=v==="weeks"?O(u/h[v]):this.$d[v],u===0?0:u},n.add=function(r,u,v){var E;return E=u?r*h[p(u)]:c(r)?r.$ms:d(r,this).$ms,d(this.$ms+E*(v?-1:1),this)},n.subtract=function(r,u){return this.add(r,u,!0)},n.locale=function(r){var u=this.clone();return u.$l=r,u},n.clone=function(){return d(this.$ms,this)},n.humanize=function(r){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!r)},n.milliseconds=function(){return this.get("milliseconds")},n.asMilliseconds=function(){return this.as("milliseconds")},n.seconds=function(){return this.get("seconds")},n.asSeconds=function(){return this.as("seconds")},n.minutes=function(){return this.get("minutes")},n.asMinutes=function(){return this.as("minutes")},n.hours=function(){return this.get("hours")},n.asHours=function(){return this.as("hours")},n.days=function(){return this.get("days")},n.asDays=function(){return this.as("days")},n.weeks=function(){return this.get("weeks")},n.asWeeks=function(){return this.as("weeks")},n.months=function(){return this.get("months")},n.asMonths=function(){return this.as("months")},n.years=function(){return this.get("years")},n.asYears=function(){return this.as("years")},a}();return function(a,n,r){e=r,o=r().$utils(),r.duration=function(E,w){var C=r.locale();return d(E,{$l:C},w)},r.isDuration=c;var u=n.prototype.add,v=n.prototype.subtract;n.prototype.add=function(E,w){return c(E)&&(E=E.asMilliseconds()),u.bind(this)(E,w)},n.prototype.subtract=function(E,w){return c(E)&&(E=E.asMilliseconds()),v.bind(this)(E,w)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o,l){o.prototype.isBetween=function(s,h,c,d){var p=l(s),f=l(h),O=(d=d||"()")[0]==="(",b=d[1]===")";return(O?this.isAfter(p,c):!this.isBefore(p,c))&&(b?this.isBefore(f,c):!this.isAfter(f,c))||(O?this.isBefore(p,c):!this.isAfter(p,c))&&(b?this.isAfter(f,c):!this.isBefore(f,c))}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o){o.prototype.isSameOrAfter=function(l,s){return this.isSame(l,s)||this.isAfter(l,s)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o){o.prototype.isSameOrBefore=function(l,s){return this.isSame(l,s)||this.isBefore(l,s)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";var e="month",o="quarter";return function(l,s){var h=s.prototype;h.quarter=function(p){return this.$utils().u(p)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(p-1))};var c=h.add;h.add=function(p,f){return p=Number(p),this.$utils().p(f)===o?this.add(3*p,e):c.bind(this)(p,f)};var d=h.startOf;h.startOf=function(p,f){var O=this.$utils(),b=!!O.u(f)||f;if(O.p(p)===o){var m=this.quarter()-1;return b?this.month(3*m).startOf(e).startOf("day"):this.month(3*m+2).endOf(e).endOf("day")}return d.bind(this)(p,f)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o,l){e=e||{};var s=o.prototype,h={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(p,f,O,b){return s.fromToBase(p,f,O,b)}l.en.relativeTime=h,s.fromToBase=function(p,f,O,b,m){for(var a,n,r,u=O.$locale().relativeTime||h,v=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=v.length,w=0;w<E;w+=1){var C=v[w];C.d&&(a=b?l(p).diff(O,C.d,!0):O.diff(p,C.d,!0));var _=(e.rounding||Math.round)(Math.abs(a));if(r=a>0,_<=C.r||!C.r){_<=1&&w>0&&(C=v[w-1]);var T=u[C.l];m&&(_=m(""+_)),n=typeof T=="string"?T.replace("%d",_):T(_,f,C.l,r);break}}if(f)return n;var W=r?u.future:u.past;return typeof W=="function"?W(n):W.replace("%s",n)},s.to=function(p,f){return c(p,f,this,!0)},s.from=function(p,f){return c(p,f,this)};var d=function(p){return p.$u?l.utc():l()};s.toNow=function(p){return this.to(d(this),p)},s.fromNow=function(p){return this.from(d(this),p)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o,l){var s=o.prototype;l.utc=function(b){return new o({date:b,utc:!0,args:arguments})},s.utc=function(b){var m=l(this.toDate(),{locale:this.$L,utc:!0});return b?m.add(this.utcOffset(),"minute"):m},s.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var h=s.parse;s.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),h.call(this,b)};var c=s.init;s.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else c.call(this)};var d=s.utcOffset;s.utcOffset=function(b,m){var a=this.$utils().u;if(a(b))return this.$u?0:a(this.$offset)?d.call(this):this.$offset;var n=Math.abs(b)<=16?60*b:b,r=this;if(m)return r.$offset=n,r.$u=b===0,r;if(b!==0){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(n+u,"minute")).$offset=n,r.$x.$localOffset=u}else r=this.utc();return r};var p=s.format;s.format=function(b){var m=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,m)},s.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*b},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var f=s.toDate;s.toDate=function(b){return b==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var O=s.diff;s.diff=function(b,m,a){if(b&&this.$u===b.$u)return O.call(this,b,m,a);var n=this.local(),r=l(b).local();return O.call(n,r,m,a)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";var e="week",o="year";return function(l,s,h){var c=s.prototype;c.week=function(d){if(d===void 0&&(d=null),d!==null)return this.add(7*(d-this.week()),"day");var p=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=h(this).startOf(o).add(1,o).date(p),O=h(this).endOf(e);if(f.isBefore(O))return 1}var b=h(this).startOf(o).date(p).startOf(e).subtract(1,"millisecond"),m=this.diff(b,e,!0);return m<0?h(this).startOf("week").week():Math.ceil(m)},c.weeks=function(d){return d===void 0&&(d=null),this.week(d)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(l,s,h){var c,d=h().utcOffset(),p=function(m,a,n){n===void 0&&(n={});var r=new Date(m);return function(u,v){v===void 0&&(v={});var E=v.timeZoneName||"short",w=u+"|"+E,C=o[w];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:u,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:E}),o[w]=C),C}(a,n).formatToParts(r)},f=function(m,a){for(var n=p(m,a),r=[],u=0;u<n.length;u+=1){var v=n[u],E=v.type,w=v.value,C=e[E];C>=0&&(r[C]=parseInt(w,10))}var _=r[3],T=_===24?0:_,W=r[0]+"-"+r[1]+"-"+r[2]+" "+T+":"+r[4]+":"+r[5]+":000",k=+m;return(h.utc(W).valueOf()-(k-=k%1e3))/6e4},O=s.prototype;O.tz=function(m,a){m===void 0&&(m=c);var n=this.utcOffset(),r=this.toDate().toLocaleString("en-US",{timeZone:m}),u=Math.round((this.toDate()-new Date(r))/1e3/60),v=h(r).$set("millisecond",this.$ms).utcOffset(d-u,!0);if(a){var E=v.utcOffset();v=v.add(n-E,"minute")}return v.$x.$timezone=m,v},O.offsetName=function(m){var a=this.$x.$timezone||h.tz.guess(),n=p(this.valueOf(),a,{timeZoneName:m}).find(function(r){return r.type.toLowerCase()==="timezonename"});return n&&n.value};var b=O.startOf;O.startOf=function(m,a){if(!this.$x||!this.$x.$timezone)return b.call(this,m,a);var n=h(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return b.call(n,m,a).tz(this.$x.$timezone,!0)},h.tz=function(m,a,n){var r=n&&a,u=n||a||c,v=f(+h(),u);if(typeof m!="string")return h(m).tz(u);var E=function(T,W,k){var $=T-60*W*1e3,H=f($,k);if(W===H)return[$,W];var g=f($-=60*(H-W)*1e3,k);return H===g?[$,H]:[T-60*Math.min(H,g)*1e3,Math.max(H,g)]}(h.utc(m,r).valueOf(),v,u),w=E[0],C=E[1],_=h(w).utcOffset(C);return _.$x.$timezone=u,_},h.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},h.tz.setDefault=function(m){c=m}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o,l){var s="h:mm A",h={lastDay:"[Yesterday at] "+s,sameDay:"[Today at] "+s,nextDay:"[Tomorrow at] "+s,nextWeek:"dddd [at] "+s,lastWeek:"[Last] dddd [at] "+s,sameElse:"MM/DD/YYYY"};o.prototype.calendar=function(c,d){var p=d||this.$locale().calendar||h,f=l(c||void 0).startOf("d"),O=this.diff(f,"d",!0),b=O<-6?"sameElse":O<-1?"lastWeek":O<0?"lastDay":O<1?"sameDay":O<2?"nextDay":O<7?"nextWeek":"sameElse",m=p[b]||h[b];return typeof m=="function"?m.call(this,l()):this.format(m)}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o){o.prototype.weekday=function(l){var s=this.$locale().weekStart||0,h=this.$W,c=(h<s?h+7:h)-s;return this.$utils().u(l)?c:this.subtract(c,"day").add(l,"day")}}})},function(S,i,t){(function(e,o){S.exports=o()})(this,function(){"use strict";return function(e,o,l){var s=o.prototype,h=s.parse;s.parse=function(c){c.date=function(d){var p=d.date,f=d.utc;return Array.isArray(p)?f?p.length?new Date(Date.UTC.apply(null,p)):new Date:p.length===1?l(String(p[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(p))):p}.bind(this)(c),h.bind(this)(c)}}})},function(S,i,t){i.__esModule=!0;var e=function(){function K(N,Y){for(var F=0;F<Y.length;F++){var G=Y[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(N,G.key,G)}}return function(N,Y,F){return Y&&K(N.prototype,Y),F&&K(N,F),N}}(),o=Object.assign||function(K){for(var N=1;N<arguments.length;N++){var Y=arguments[N];for(var F in Y)Object.prototype.hasOwnProperty.call(Y,F)&&(K[F]=Y[F])}return K},l=t(0),s=t(439),h=b(s),c=t(440),d=b(c),p=t(443),f=b(p),O=t(444);function b(K){return K&&K.__esModule?K:{default:K}}function m(K,N){if(!(K instanceof N))throw new TypeError("Cannot call a class as a function")}function a(K,N){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:K}function n(K,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);K.prototype=Object.create(N&&N.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(K,N):K.__proto__=N)}function r(K,N,Y){return N in K?Object.defineProperty(K,N,{value:Y,enumerable:!0,configurable:!0,writable:!0}):K[N]=Y,K}var u="data-preact-helmet",v=function(N){return String(N).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},E=function(N,Y){for(var F=N.length-1;F>=0;F--){var G=N[F];if(G[Y])return G[Y]}return null},w=function(N){var Y=E(N,"title"),F=E(N,"titleTemplate");if(F&&Y)return F.replace(/%s/g,function(){return Y});var G=E(N,"defaultTitle");return Y||G||""},C=function(N){return E(N,"onChangeClientState")||function(){}},_=function(N,Y){return Y.filter(function(F){return typeof F[N]!="undefined"}).map(function(F){return F[N]}).reduce(function(F,G){return o({},F,G)},{})},T=function(N,Y){return Y.filter(function(F){return typeof F[O.TAG_NAMES.BASE]!="undefined"}).map(function(F){return F[O.TAG_NAMES.BASE]}).reverse().reduce(function(F,G){if(!F.length)for(var X=Object.keys(G),q=0;q<X.length;q++){var se=X[q],ie=se.toLowerCase();if(N.indexOf(ie)!==-1&&G[ie])return F.concat(G)}return F},[])},W=function(N,Y,F){var G={};return F.filter(function(X){return typeof X[N]!="undefined"}).map(function(X){return X[N]}).reverse().reduce(function(X,q){var se={};q.filter(function(oe){for(var ee=void 0,te=Object.keys(oe),le=0;le<te.length;le++){var Q=te[le],z=Q.toLowerCase();Y.indexOf(z)!==-1&&!(ee===O.TAG_PROPERTIES.REL&&oe[ee].toLowerCase()==="canonical")&&!(z===O.TAG_PROPERTIES.REL&&oe[z].toLowerCase()==="stylesheet")&&(ee=z),Y.indexOf(Q)!==-1&&(Q===O.TAG_PROPERTIES.INNER_HTML||Q===O.TAG_PROPERTIES.CSS_TEXT||Q===O.TAG_PROPERTIES.ITEM_PROP)&&(ee=Q)}if(!ee||!oe[ee])return!1;var V=oe[ee].toLowerCase();return G[ee]||(G[ee]={}),se[ee]||(se[ee]={}),G[ee][V]?!1:(se[ee][V]=!0,!0)}).reverse().forEach(function(oe){return X.push(oe)});for(var ie=Object.keys(se),Ee=0;Ee<ie.length;Ee++){var Ie=ie[Ee],ge=(0,f.default)({},G[Ie],se[Ie]);G[Ie]=ge}return X},[]).reverse()},k=function(N,Y){document.title=N||document.title,$(O.TAG_NAMES.TITLE,Y)},$=function(N,Y){for(var F=document.getElementsByTagName(N)[0],G=F.getAttribute(u),X=G?G.split(","):[],q=[].concat(X),se=Object.keys(Y),ie=0;ie<se.length;ie++){var Ee=se[ie],Ie=Y[Ee]||"";F.setAttribute(Ee,Ie),X.indexOf(Ee)===-1&&X.push(Ee);var ge=q.indexOf(Ee);ge!==-1&&q.splice(ge,1)}for(var oe=q.length-1;oe>=0;oe--)F.removeAttribute(q[oe]);X.length===q.length?F.removeAttribute(u):F.setAttribute(u,X.join(","))},H=function(N,Y){var F=document.head||document.querySelector("head"),G=F.querySelectorAll(N+"["+u+"]"),X=Array.prototype.slice.call(G),q=[],se=void 0;return Y&&Y.length&&Y.forEach(function(ie){var Ee=document.createElement(N);for(var Ie in ie)if(ie.hasOwnProperty(Ie))if(Ie==="innerHTML")Ee.innerHTML=ie.innerHTML;else if(Ie==="cssText")Ee.styleSheet?Ee.styleSheet.cssText=ie.cssText:Ee.appendChild(document.createTextNode(ie.cssText));else{var ge=typeof ie[Ie]=="undefined"?"":ie[Ie];Ee.setAttribute(Ie,ge)}Ee.setAttribute(u,"true"),X.some(function(oe,ee){return se=ee,Ee.isEqualNode(oe)})?X.splice(se,1):q.push(Ee)}),X.forEach(function(ie){return ie.parentNode.removeChild(ie)}),q.forEach(function(ie){return F.appendChild(ie)}),{oldTags:X,newTags:q}},g=function(N){return Object.keys(N).reduce(function(Y,F){var G=typeof N[F]!="undefined"?F+'="'+N[F]+'"':""+F;return Y?Y+" "+G:G},"")},M=function(N,Y,F){var G=g(F);return G?"<"+N+" "+u+" "+G+">"+v(Y)+"</"+N+">":"<"+N+" "+u+">"+v(Y)+"</"+N+">"},R=function(N,Y){return Y.reduce(function(F,G){var X=Object.keys(G).filter(function(ie){return!(ie==="innerHTML"||ie==="cssText")}).reduce(function(ie,Ee){var Ie=typeof G[Ee]=="undefined"?Ee:Ee+'="'+v(G[Ee])+'"';return ie?ie+" "+Ie:Ie},""),q=G.innerHTML||G.cssText||"",se=[O.TAG_NAMES.NOSCRIPT,O.TAG_NAMES.SCRIPT,O.TAG_NAMES.STYLE].indexOf(N)===-1;return F+"<"+N+" "+u+" "+X+(se?">":">"+q+"</"+N+">")},"")},D=function(N,Y,F){var G=r({key:Y},u,!0),X=Object.keys(F).reduce(function(q,se){return q[se]=F[se],q},G);return[(0,l.h)(O.TAG_NAMES.TITLE,X,Y)]},U=function(N,Y){return Y.map(function(F,G){var X=r({key:G},u,!0);return Object.keys(F).forEach(function(q){var se=q;if(se==="innerHTML"||se==="cssText"){var ie=F.innerHTML||F.cssText;X.dangerouslySetInnerHTML={__html:ie}}else X[se]=F[q]}),(0,l.h)(N,X)})},L=function(N,Y){switch(N){case O.TAG_NAMES.TITLE:return{toComponent:function(){return D(N,Y.title,Y.titleAttributes)},toString:function(){return M(N,Y.title,Y.titleAttributes)}};case O.TAG_NAMES.HTML:return{toComponent:function(){return Y},toString:function(){return g(Y)}};default:return{toComponent:function(){return U(N,Y)},toString:function(){return R(N,Y)}}}},j=function(N){var Y=N.htmlAttributes,F=N.title,G=N.titleAttributes,X=N.baseTag,q=N.metaTags,se=N.linkTags,ie=N.scriptTags,Ee=N.noscriptTags,Ie=N.styleTags;return{htmlAttributes:L(O.TAG_NAMES.HTML,Y),title:L(O.TAG_NAMES.TITLE,{title:F,titleAttributes:G}),base:L(O.TAG_NAMES.BASE,X),meta:L(O.TAG_NAMES.META,q),link:L(O.TAG_NAMES.LINK,se),script:L(O.TAG_NAMES.SCRIPT,ie),noscript:L(O.TAG_NAMES.NOSCRIPT,Ee),style:L(O.TAG_NAMES.STYLE,Ie)}},B=function(N){var Y,F;return F=Y=function(G){n(X,G);function X(){return m(this,X),a(this,(X.__proto__||Object.getPrototypeOf(X)).apply(this,arguments))}return e(X,[{key:"shouldComponentUpdate",value:function(se){var ie=o({},se);return(!ie.children||!ie.children.length)&&delete ie.children,!(0,d.default)(this.props,ie)}},{key:"render",value:function(){return(0,l.h)(N,this.props)}}],[{key:"canUseDOM",set:function(se){N.canUseDOM=se}}]),X}(l.Component),Y.peek=N.peek,Y.rewind=function(){var G=N.rewind();return G||(G=j({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),G},F},x=function(N){return{htmlAttributes:_(O.TAG_NAMES.HTML,N),title:w(N),titleAttributes:_("titleAttributes",N),baseTag:T([O.TAG_PROPERTIES.HREF],N),metaTags:W(O.TAG_NAMES.META,[O.TAG_PROPERTIES.NAME,O.TAG_PROPERTIES.CHARSET,O.TAG_PROPERTIES.HTTPEQUIV,O.TAG_PROPERTIES.PROPERTY,O.TAG_PROPERTIES.ITEM_PROP],N),linkTags:W(O.TAG_NAMES.LINK,[O.TAG_PROPERTIES.REL,O.TAG_PROPERTIES.HREF],N),scriptTags:W(O.TAG_NAMES.SCRIPT,[O.TAG_PROPERTIES.SRC,O.TAG_PROPERTIES.INNER_HTML],N),noscriptTags:W(O.TAG_NAMES.NOSCRIPT,[O.TAG_PROPERTIES.INNER_HTML],N),styleTags:W(O.TAG_NAMES.STYLE,[O.TAG_PROPERTIES.CSS_TEXT],N),onChangeClientState:C(N)}},P=function(N){var Y=N.htmlAttributes,F=N.title,G=N.titleAttributes,X=N.baseTag,q=N.metaTags,se=N.linkTags,ie=N.scriptTags,Ee=N.noscriptTags,Ie=N.styleTags,ge=N.onChangeClientState;$("html",Y),k(F,G);var oe={baseTag:H(O.TAG_NAMES.BASE,X),metaTags:H(O.TAG_NAMES.META,q),linkTags:H(O.TAG_NAMES.LINK,se),scriptTags:H(O.TAG_NAMES.SCRIPT,ie),noscriptTags:H(O.TAG_NAMES.NOSCRIPT,Ee),styleTags:H(O.TAG_NAMES.STYLE,Ie)},ee={},te={};Object.keys(oe).forEach(function(le){var Q=oe[le],z=Q.newTags,V=Q.oldTags;z.length&&(ee[le]=z),V.length&&(te[le]=oe[le].oldTags)}),ge(N,ee,te)},y=function(){return null},A=(0,h.default)(x,P,j)(y);i.default=B(A),S.exports=i.default},function(S,i,t){"use strict";var e=t(0);function o(c,d){var p={};for(var f in c)d.indexOf(f)>=0||!Object.prototype.hasOwnProperty.call(c,f)||(p[f]=c[f]);return p}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function s(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function h(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}S.exports=function(d,p,f){if(typeof d!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof p!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f!="undefined"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function O(m){return m.displayName||m.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var n=[],r=void 0;function u(){r=d(n.map(function(E){return E.props})),v.canUseDOM?p(r):f&&(r=f(r))}var v=function(E){h(w,E);function w(){return l(this,w),s(this,E.apply(this,arguments))}return w.peek=function(){return r},w.rewind=function(){if(w.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var _=r;return r=void 0,n=[],_},w.prototype.shouldComponentUpdate=function(_){var T=_.children,W=o(_,["children"]);return T&&T.length&&(W.children=T),b(W,this.props)},w.prototype.componentWillMount=function(){n.push(this),u()},w.prototype.componentDidUpdate=function(){u()},w.prototype.componentWillUnmount=function(){var _=n.indexOf(this);n.splice(_,1),u()},w.prototype.render=function(){return(0,e.h)(a,this.props)},w}(e.Component);return v.displayName="SideEffect("+O(a)+")",v.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),v};function b(m,a){for(var n in m)if(!(n in a))return!0;for(var r in a)if(m[r]!==a[r])return!0;return!1}}},function(S,i,t){var e=Array.prototype.slice,o=t(441),l=t(442),s=S.exports=function(p,f,O){return O||(O={}),p===f?!0:p instanceof Date&&f instanceof Date?p.getTime()===f.getTime():!p||!f||typeof p!="object"&&typeof f!="object"?O.strict?p===f:p==f:d(p,f,O)};function h(p){return p==null}function c(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function d(p,f,O){var b,m;if(h(p)||h(f)||p.prototype!==f.prototype)return!1;if(l(p))return l(f)?(p=e.call(p),f=e.call(f),s(p,f,O)):!1;if(c(p)){if(!c(f)||p.length!==f.length)return!1;for(b=0;b<p.length;b++)if(p[b]!==f[b])return!1;return!0}try{var a=o(p),n=o(f)}catch(r){return!1}if(a.length!=n.length)return!1;for(a.sort(),n.sort(),b=a.length-1;b>=0;b--)if(a[b]!=n[b])return!1;for(b=a.length-1;b>=0;b--)if(m=a[b],!s(p[m],f[m],O))return!1;return typeof p==typeof f}},function(S,i){i=S.exports=typeof Object.keys=="function"?Object.keys:t,i.shim=t;function t(e){var o=[];for(var l in e)o.push(l);return o}},function(S,i){var t=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=S.exports=t?e:o,i.supported=e;function e(l){return Object.prototype.toString.call(l)=="[object Arguments]"}i.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(S,i,t){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function s(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function h(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var d={},p=0;p<10;p++)d["_"+String.fromCharCode(p)]=p;var f=Object.getOwnPropertyNames(d).map(function(b){return d[b]});if(f.join("")!=="0123456789")return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(b){O[b]=b}),Object.keys(Object.assign({},O)).join("")==="abcdefghijklmnopqrst"}catch(b){return!1}}S.exports=h()?Object.assign:function(c,d){for(var p,f=s(c),O,b=1;b<arguments.length;b++){p=Object(arguments[b]);for(var m in p)o.call(p,m)&&(f[m]=p[m]);if(e){O=e(p);for(var a=0;a<O.length;a++)l.call(p,O[a])&&(f[O[a]]=p[O[a]])}}return f}},function(S,i){i.__esModule=!0;var t=i.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},e=i.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},o=i.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},function(S,i){S.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,o,l=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([o,l]),this}once(e,o){return this.on(e,o,!0)}off(e,o){!this.callbacks[e]||(this.callbacks[e]=this.callbacks[e].filter(l=>l[0]!==o))}emit(e,o){const l=this.callbacks[e];if(!!l){for(const[s,h]of l)if(h&&this.off(e,s),s(o)===!1)return!1;return!0}}}},function(S,i,t){var e=t(447),o=t(490),l=t(273);function s(h){var c=o(h);return c.length==1&&c[0][2]?l(c[0][0],c[0][1]):function(d){return d===h||e(d,h,c)}}S.exports=s},function(S,i,t){var e=t(245),o=t(224),l=1,s=2;function h(c,d,p,f){var O=p.length,b=O,m=!f;if(c==null)return!b;for(c=Object(c);O--;){var a=p[O];if(m&&a[2]?a[1]!==c[a[0]]:!(a[0]in c))return!1}for(;++O<b;){a=p[O];var n=a[0],r=c[n],u=a[1];if(m&&a[2]){if(r===void 0&&!(n in c))return!1}else{var v=new e;if(f)var E=f(r,u,n,c,d,v);if(!(E===void 0?o(u,r,l|s,f,v):E))return!1}}return!0}S.exports=h},function(S,i){function t(){this.__data__=[],this.size=0}S.exports=t},function(S,i,t){var e=t(159),o=Array.prototype,l=o.splice;function s(h){var c=this.__data__,d=e(c,h);if(d<0)return!1;var p=c.length-1;return d==p?c.pop():l.call(c,d,1),--this.size,!0}S.exports=s},function(S,i,t){var e=t(159);function o(l){var s=this.__data__,h=e(s,l);return h<0?void 0:s[h][1]}S.exports=o},function(S,i,t){var e=t(159);function o(l){return e(this.__data__,l)>-1}S.exports=o},function(S,i,t){var e=t(159);function o(l,s){var h=this.__data__,c=e(h,l);return c<0?(++this.size,h.push([l,s])):h[c][1]=s,this}S.exports=o},function(S,i,t){var e=t(158);function o(){this.__data__=new e,this.size=0}S.exports=o},function(S,i){function t(e){var o=this.__data__,l=o.delete(e);return this.size=o.size,l}S.exports=t},function(S,i){function t(e){return this.__data__.get(e)}S.exports=t},function(S,i){function t(e){return this.__data__.has(e)}S.exports=t},function(S,i,t){var e=t(158),o=t(196),l=t(197),s=200;function h(c,d){var p=this.__data__;if(p instanceof e){var f=p.__data__;if(!o||f.length<s-1)return f.push([c,d]),this.size=++p.size,this;p=this.__data__=new l(f)}return p.set(c,d),this.size=p.size,this}S.exports=h},function(S,i,t){var e=t(254),o=t(461),l=t(97),s=t(270),h=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Function.prototype,p=Object.prototype,f=d.toString,O=p.hasOwnProperty,b=RegExp("^"+f.call(O).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(a){if(!l(a)||o(a))return!1;var n=e(a)?b:c;return n.test(s(a))}S.exports=m},function(S,i,t){var e=t(134),o=Object.prototype,l=o.hasOwnProperty,s=o.toString,h=e?e.toStringTag:void 0;function c(d){var p=l.call(d,h),f=d[h];try{d[h]=void 0;var O=!0}catch(m){}var b=s.call(d);return O&&(p?d[h]=f:delete d[h]),b}S.exports=c},function(S,i){var t=Object.prototype,e=t.toString;function o(l){return e.call(l)}S.exports=o},function(S,i,t){var e=t(462),o=function(){var s=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function l(s){return!!o&&o in s}S.exports=l},function(S,i,t){var e=t(71),o=e["__core-js_shared__"];S.exports=o},function(S,i){function t(e,o){return e==null?void 0:e[o]}S.exports=t},function(S,i,t){var e=t(465),o=t(158),l=t(196);function s(){this.size=0,this.__data__={hash:new e,map:new(l||o),string:new e}}S.exports=s},function(S,i,t){var e=t(466),o=t(467),l=t(468),s=t(469),h=t(470);function c(d){var p=-1,f=d==null?0:d.length;for(this.clear();++p<f;){var O=d[p];this.set(O[0],O[1])}}c.prototype.clear=e,c.prototype.delete=o,c.prototype.get=l,c.prototype.has=s,c.prototype.set=h,S.exports=c},function(S,i,t){var e=t(160);function o(){this.__data__=e?e(null):{},this.size=0}S.exports=o},function(S,i){function t(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}S.exports=t},function(S,i,t){var e=t(160),o="__lodash_hash_undefined__",l=Object.prototype,s=l.hasOwnProperty;function h(c){var d=this.__data__;if(e){var p=d[c];return p===o?void 0:p}return s.call(d,c)?d[c]:void 0}S.exports=h},function(S,i,t){var e=t(160),o=Object.prototype,l=o.hasOwnProperty;function s(h){var c=this.__data__;return e?c[h]!==void 0:l.call(c,h)}S.exports=s},function(S,i,t){var e=t(160),o="__lodash_hash_undefined__";function l(s,h){var c=this.__data__;return this.size+=this.has(s)?0:1,c[s]=e&&h===void 0?o:h,this}S.exports=l},function(S,i,t){var e=t(161);function o(l){var s=e(this,l).delete(l);return this.size-=s?1:0,s}S.exports=o},function(S,i){function t(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}S.exports=t},function(S,i,t){var e=t(161);function o(l){return e(this,l).get(l)}S.exports=o},function(S,i,t){var e=t(161);function o(l){return e(this,l).has(l)}S.exports=o},function(S,i,t){var e=t(161);function o(l,s){var h=e(this,l),c=h.size;return h.set(l,s),this.size+=h.size==c?0:1,this}S.exports=o},function(S,i,t){var e=t(245),o=t(271),l=t(480),s=t(482),h=t(333),c=t(61),d=t(230),p=t(239),f=1,O="[object Arguments]",b="[object Array]",m="[object Object]",a=Object.prototype,n=a.hasOwnProperty;function r(u,v,E,w,C,_){var T=c(u),W=c(v),k=T?b:h(u),$=W?b:h(v);k=k==O?m:k,$=$==O?m:$;var H=k==m,g=$==m,M=k==$;if(M&&d(u)){if(!d(v))return!1;T=!0,H=!1}if(M&&!H)return _||(_=new e),T||p(u)?o(u,v,E,w,C,_):l(u,v,k,E,w,C,_);if(!(E&f)){var R=H&&n.call(u,"__wrapped__"),D=g&&n.call(v,"__wrapped__");if(R||D){var U=R?u.value():u,L=D?v.value():v;return _||(_=new e),C(U,L,E,w,_)}}return M?(_||(_=new e),s(u,v,E,w,C,_)):!1}S.exports=r},function(S,i){var t="__lodash_hash_undefined__";function e(o){return this.__data__.set(o,t),this}S.exports=e},function(S,i){function t(e){return this.__data__.has(e)}S.exports=t},function(S,i){function t(e,o){for(var l=-1,s=e==null?0:e.length;++l<s;)if(o(e[l],l,e))return!0;return!1}S.exports=t},function(S,i,t){var e=t(134),o=t(361),l=t(181),s=t(271),h=t(481),c=t(246),d=1,p=2,f="[object Boolean]",O="[object Date]",b="[object Error]",m="[object Map]",a="[object Number]",n="[object RegExp]",r="[object Set]",u="[object String]",v="[object Symbol]",E="[object ArrayBuffer]",w="[object DataView]",C=e?e.prototype:void 0,_=C?C.valueOf:void 0;function T(W,k,$,H,g,M,R){switch($){case w:if(W.byteLength!=k.byteLength||W.byteOffset!=k.byteOffset)return!1;W=W.buffer,k=k.buffer;case E:return!(W.byteLength!=k.byteLength||!M(new o(W),new o(k)));case f:case O:case a:return l(+W,+k);case b:return W.name==k.name&&W.message==k.message;case n:case u:return W==k+"";case m:var D=h;case r:var U=H&d;if(D||(D=c),W.size!=k.size&&!U)return!1;var L=R.get(W);if(L)return L==k;H|=p,R.set(W,k);var j=s(D(W),D(k),H,g,M,R);return R.delete(W),j;case v:if(_)return _.call(W)==_.call(k)}return!1}S.exports=T},function(S,i){function t(e){var o=-1,l=Array(e.size);return e.forEach(function(s,h){l[++o]=[h,s]}),l}S.exports=t},function(S,i,t){var e=t(380),o=1,l=Object.prototype,s=l.hasOwnProperty;function h(c,d,p,f,O,b){var m=p&o,a=e(c),n=a.length,r=e(d),u=r.length;if(n!=u&&!m)return!1;for(var v=n;v--;){var E=a[v];if(!(m?E in d:s.call(d,E)))return!1}var w=b.get(c),C=b.get(d);if(w&&C)return w==d&&C==c;var _=!0;b.set(c,d),b.set(d,c);for(var T=m;++v<n;){E=a[v];var W=c[E],k=d[E];if(f)var $=m?f(k,W,E,d,c,b):f(W,k,E,c,d,b);if(!($===void 0?W===k||O(W,k,p,f,b):$)){_=!1;break}T||(T=E=="constructor")}if(_&&!T){var H=c.constructor,g=d.constructor;H!=g&&"constructor"in c&&"constructor"in d&&!(typeof H=="function"&&H instanceof H&&typeof g=="function"&&g instanceof g)&&(_=!1)}return b.delete(c),b.delete(d),_}S.exports=h},function(S,i,t){var e=t(129),o=t(121),l="[object Arguments]";function s(h){return o(h)&&e(h)==l}S.exports=s},function(S,i){function t(){return!1}S.exports=t},function(S,i,t){var e=t(129),o=t(198),l=t(121),s="[object Arguments]",h="[object Array]",c="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",O="[object Map]",b="[object Number]",m="[object Object]",a="[object RegExp]",n="[object Set]",r="[object String]",u="[object WeakMap]",v="[object ArrayBuffer]",E="[object DataView]",w="[object Float32Array]",C="[object Float64Array]",_="[object Int8Array]",T="[object Int16Array]",W="[object Int32Array]",k="[object Uint8Array]",$="[object Uint8ClampedArray]",H="[object Uint16Array]",g="[object Uint32Array]",M={};M[w]=M[C]=M[_]=M[T]=M[W]=M[k]=M[$]=M[H]=M[g]=!0,M[s]=M[h]=M[v]=M[c]=M[E]=M[d]=M[p]=M[f]=M[O]=M[b]=M[m]=M[a]=M[n]=M[r]=M[u]=!1;function R(D){return l(D)&&o(D.length)&&!!M[e(D)]}S.exports=R},function(S,i,t){var e=t(351),o=e(Object.keys,Object);S.exports=o},function(S,i,t){var e=t(106),o=t(71),l=e(o,"DataView");S.exports=l},function(S,i,t){var e=t(106),o=t(71),l=e(o,"Promise");S.exports=l},function(S,i,t){var e=t(106),o=t(71),l=e(o,"WeakMap");S.exports=l},function(S,i,t){var e=t(272),o=t(175);function l(s){for(var h=o(s),c=h.length;c--;){var d=h[c],p=s[d];h[c]=[d,p,e(p)]}return h}S.exports=l},function(S,i,t){var e=t(224),o=t(41),l=t(367),s=t(199),h=t(272),c=t(273),d=t(146),p=1,f=2;function O(b,m){return s(b)&&h(m)?c(d(b),m):function(a){var n=o(a,b);return n===void 0&&n===m?l(a,b):e(m,n,p|f)}}S.exports=O},function(S,i,t){var e=t(493),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,s=e(function(h){var c=[];return h.charCodeAt(0)===46&&c.push(""),h.replace(o,function(d,p,f,O){c.push(f?O.replace(l,"$1"):p||d)}),c});S.exports=s},function(S,i,t){var e=t(494),o=500;function l(s){var h=e(s,function(d){return c.size===o&&c.clear(),d}),c=h.cache;return h}S.exports=l},function(S,i,t){var e=t(197),o="Expected a function";function l(s,h){if(typeof s!="function"||h!=null&&typeof h!="function")throw new TypeError(o);var c=function(){var d=arguments,p=h?h.apply(this,d):d[0],f=c.cache;if(f.has(p))return f.get(p);var O=s.apply(this,d);return c.cache=f.set(p,O)||f,O};return c.cache=new(l.Cache||e),c}l.Cache=e,S.exports=l},function(S,i){function t(e,o){return e!=null&&o in Object(e)}S.exports=t},function(S,i,t){var e=t(204),o=t(190),l=t(61),s=t(191),h=t(198),c=t(146);function d(p,f,O){f=e(f,p);for(var b=-1,m=f.length,a=!1;++b<m;){var n=c(f[b]);if(!(a=p!=null&&O(p,n)))break;p=p[n]}return a||++b!=m?a:(m=p==null?0:p.length,!!m&&h(m)&&s(n,m)&&(l(p)||o(p)))}S.exports=d},function(S,i,t){var e=t(382),o=t(498),l=t(199),s=t(146);function h(c){return l(c)?e(s(c)):o(c)}S.exports=h},function(S,i,t){var e=t(188);function o(l){return function(s){return e(s,l)}}S.exports=o},function(S,i,t){(function(e){const o=t(500),l="en";let s=!1;const h=[];if(i.Translator=p,typeof window!="undefined"){let m=c();if(window.document.location.pathname==="/subscribe"&&["fr","es","de","pt"].includes(m)){const{getVariantFor:a}=t(52);a("translate_choose_subscription_plan",{skipExposure:!0})==="control"&&(m=l)}window.I=p(m,{omitKeys:["ca","de","es","fr","it","pt"].includes(m)?null:["Subscribe","Subscribe now"]})}else e.I=(...m)=>{const a=d();return p(a,{omitKeys:["ca","de","es","fr","it","pt"].includes(a)?null:["Subscribe","Subscribe now"]})(...m)};function c(){var m,a;return typeof window=="undefined"?l:((m=window._preloads)==null?void 0:m.language)?(a=window._preloads)==null?void 0:a.language:(navigator==null?void 0:navigator.language)?navigator.language.split("-")[0].toLowerCase():l}function d(){var m;return typeof jsdom=="undefined"||typeof jsdom.window=="undefined"?l:((m=jsdom.window.navigator)==null?void 0:m.language)?jsdom.window.navigator.language:l}function p(m,{omitKeys:a}={}){function n(r,...u){return Array.isArray(r)&&(r=(r[0]||"")+r.slice(1).map((v,E)=>`\${${E}}${v}`).join("")),(a==null?void 0:a.includes(r.toString()))?r.toString():f(r.toString(),u,m)}for(const r in o)n[r]=(...u)=>f(r,u,m);return n}function f(m,a,n){n=(n||l).split(/[-_]/g)[0];let r=m;return o[m]?o[m][n]&&(r=o[m][n],O(m,n)):b(m,n),a.forEach((u,v)=>r=r.replace(new RegExp(`\\$\\{${v}\\}`,"g"),u.toString())),r}function O(m,a){typeof window!="undefined"&&(s||(s=!0,document.documentElement.lang=a))}function b(m,a){}}).call(this,t(114))},function(S){S.exports=JSON.parse(`{"Subscribe":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Subscribe now":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Join":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Upgrade":{"ca":"Canvia","de":"Umsteigen","es":"Cambiar","fr":"Mise \xE0 niveau","it":"Aggiornamento","pt":"Atualizar"},"Upgrade to paid":{"ca":"Canvia a la subscripci\xF3 de pagament","de":"Auf die bezahlte Abonnement umsteigen","es":"Cambiar a la suscripci\xF3n paga","fr":"Mise \xE0 niveau vers payant","it":"Passa all'abbonamento a pagamento","pt":"Mudar para a assinatura paga"}," now":{"ca":" ara","de":" jetzt","es":" ahora","fr":" maintenant","it":" adesso","pt":" agora"},"Continue":{"ca":"Continuar","de":"Fortsetzen","es":"Continuar","fr":"Continuer","it":"Continua","pt":"Continuar"},"Done":{"ca":"Fet","de":"Fertig","es":"Hecho","fr":"Terminer","it":"Fatto","pt":"Feito"},"Learn more":{"ca":"Saber m\xE9s","de":"Mehr erfahren","es":"Saber m\xE1s","fr":"En savoir plus","it":"Saperne di pi\xF9","pt":"Mais detalhes"},"Maybe later":{"ca":"Potser despr\xE9s","de":"Vielleicht sp\xE4ter","es":"Quiz\xE1s m\xE1s tarde","fr":"Peut-\xEAtre plus tard","it":"Forse pi\xF9 tardi","pt":"Talvez mais tarde"},"Give a gift":{"ca":"Fer un regal","de":"Ein Geschenk geben","es":"Dar regalo","fr":"Donnez un cadeau","it":"Fai un regalo","pt":"D\xEA presente"},"Give another gift":{"ca":"Fer un altre regal","de":"Machen Sie noch ein Geschenk","es":"Dar otro regalo","fr":"Donnez un autre cadeau","it":"Fai un altro regalo","pt":"D\xEA outro presente"},"Success!":{"ca":"\xC8xit!","de":"Erfolg!","es":"\xA1\xC9xito!","fr":"Succ\xE8s!","it":"Successo!","pt":"Sucesso!"},"Thank you!":{"ca":"Gr\xE0cies!","de":"Danke!","es":"Gracias!","fr":"Merci!","it":"Grazie!","pt":"Obrigado!"},"Spread the word":{"ca":"Escampa la veu","de":"Danke f\xFCr Ihr Abonnement","es":"Difundir la palabra","fr":"Faites passer le mot","it":"Spargi la voce","pt":"Fale sobre n\xF3s"},"change email":{"ca":"canviar e-mail","de":"E-Mail \xE4ndern","es":"cambiar e-mail","fr":"changez l'adresse email","it":"cambia email","pt":"mude o e-mail"},"Let me read it first":{"ca":"Deixin-m'ho llegir primer","de":"Lass es mich zuerst lesen","es":"D\xE9jame leerlo primero","fr":"Permettez-moi de le lire d'abord","it":"Fammi leggere prima","pt":"Deixe-me ler primeiro"},"Let me hear it first":{"ca":"Deixin-m'ho escoltar primer","de":"Lass es mich zuerst h\xF6ren","es":"D\xE9jame escucharlo primero","fr":"Permettez-moi de l'\xE9couter d'abord","it":"Fammi sentire prima","pt":"Deixe-me ouvir primeiro"},"Top posts":{"ca":"Millors posts","de":"Beste Posts","es":"Mejores posts","fr":"Meilleurs posts","it":"Migliori posti","pt":"Melhores posts"},"Authors":{"ca":"Autors","de":"Autoren","es":"Autores","fr":"Auteurs","it":"Autori","pt":"Autores"},"A Substack newsletter":{"ca":"Un newsletter de Substack","de":"Ein Substack-Newsletter","es":"Un newsletter de Substack","fr":"Une newsletter de Substack","it":"Una newsletter di Substack","pt":"Um newsletter da Substack"},"A Substack newsletter by":{"ca":"Un newsletter de Substack de","de":"Ein Substack-Newsletter von","es":"Un newsletter de Substack de","fr":"Une newsletter de Substack par","it":"Una newsletter da Substack di","pt":"Um newsletter da Substack de"},"You\u2019ve subscribed to public posts from":{"ca":"T'has registrat a publicacions p\xFAbliques de","de":"Sie haben sich f\xFCr \xF6ffentliche Beitr\xE4ge angemeldet von","es":"Te has registrado para publicaciones p\xFAblicas de","fr":"Vous vous \xEAtes inscrit(e) \xE0 des publications publiques de","it":"Ti sei iscritto a post pubblici da","pt":"Voc\xEA se inscreveu para receber posts p\xFAblicos do"},"You\u2019re on the free list":{"ca":"Ets a la llista gratu\xEFta","de":"Sie sind auf der freien Liste","es":"Est\xE1s en la lista gratuita","fr":"Vous \xEAtes sur la liste gratuite","it":"Sei nella lista libera","pt":"Voc\xEA est\xE1 na lista gr\xE1tis"},"Your gift was sent to ":{"ca":"El teu regal es va enviar a ","de":"Ihr Geschenk wurde gesendet an ","es":"Tu regalo fue enviado a ","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9 \xE0 ","it":"Il tuo regalo \xE8 stato inviato a","pt":"Seu presente foi enviado para "},"Your gift was sent":{"ca":"El teu regal es va enviar","de":"Ihr Geschenk wurde gesendet","es":"Tu regalo fue enviado","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9","it":"Il tuo regalo \xE8 stato inviato","pt":"Seu presente foi enviado"},"Your group will be administered by ":{"ca":"El teu grup ser\xE0 administrat per ","de":"Ihre Gruppe wird verwaltet von ","es":"Tu grupo ser\xE1 administrado por ","fr":"Votre groupe sera administr\xE9 par ","it":"Il tuo regalo sar\xE0 amministrato da","pt":"Seu grupo ser\xE1 administrado por "},"Your donation matters.":{"ca":"La teva donaci\xF3 importa.","de":"Ihre Spende ist wichtig.","es":"Tu donaci\xF3n importa.","fr":"Votre don est important.","it":"La tua donazione conta.","pt":"Sua doa\xE7\xE3o \xE9 importante."},"You\u2019re subscribed as ":{"ca":"Est\xE0s subscrit com a","de":"Sie sind abonniert als ","es":"Est\xE1s suscrito como ","fr":"Vous \xEAtes abonn\xE9(e) en tant que ","it":"Sei iscritto come","pt":"Voc\xEA est\xE1 inscrito como "},"Login":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Log in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Sign in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Not you?":{"ca":"No ets tu?","de":"Das sind Sie nicht?","es":"\xBFNo eres t\xFA?","fr":"Pas toi?","it":"Non sei tu?","pt":"N\xE3o \xE9 voc\xEA?"},"Type your email\u2026":{"ca":"Escriu el teu correu electr\xF2nic\u2026","de":"Geben Sie Ihre E-Mail-Adresse ein\u2026","es":"Escribe tu correo\u2026","fr":"Tapez votre email\u2026","it":"Digita la tua email\u2026","pt":"Digite seu email\u2026"},"What\u2019s your email?":{"ca":"Quin \xE9s el teu email?","de":"Was ist Ihre E-Mail-Adresse?","es":"\xBFCu\xE1l es tu correo electr\xF3nico?","fr":"Quelle est votre adresse email?","it":"Qual \xE8 la tua email?","pt":"Qual \xE9 o seu email?"},"Your email address":{"ca":"La teva adre\xE7a de correu electr\xF2nic","de":"Ihre E-Mail-Adresse","es":"Tu direcci\xF3n de correo electr\xF3nico","fr":"Votre adresse email","it":"Il tuo indirizzo di email","pt":"Seu endere\xE7o de email"},"Choose a subscription plan":{"ca":"Escolliu un pla de subscripci\xF3","de":"W\xE4hlen Sie ein Abonnement","es":"Elige un plan de suscripci\xF3n","fr":"Choisissez un plan d'abonnement","it":"Scegli un piano di abbonamento","pt":"Escolha um plano de assinatura"},"Choose a membership plan":{"ca":"Escolliu un pla de subscripci\xF3","de":"W\xE4hlen Sie ein Abonnement","es":"Elige un plan de suscripci\xF3n","fr":"Choisissez un plan d'abonnement","it":"Scegli un piano di abbonamento","pt":"Escolha um plano de assinatura"},"Buying for a group?":{"ca":"Comprant per a un grup?","de":"F\xFCr eine Gruppe kaufen?","es":"\xBFComprando para un grupo?","fr":"Acheter pour un groupe?","it":"Acquistare per un gruppo?","pt":"Comprando para um grupo?"},"\${0} day free trial":{"ca":"Prova gratu\xEFta de \${0} dies","de":"\${0}-t\xE4gige kostenlose Testversion","es":"Prueba gratuita de \${0} d\xEDas","fr":"Essai gratuit de \${0} jours","it":"Prova gratuita di \${0} giorni","pt":"Plano gratuito de \${0} dias"},"per month":{"ca":"per mes","de":"pro Monat","es":"por mes","fr":"par mois","it":"al mese","pt":"por m\xEAs"},"per year":{"ca":"per any","de":"pro Jahr","es":"por a\xF1o","fr":"par an","it":"all'anno","pt":"por ano"},"for 1 month":{"ca":"durant 1 mes","de":"f\xFCr 1 Monat","es":"para 1 mes","fr":"pour 1 mois","it":"per 1 mese","pt":"por 1 m\xEAs"},"for 1 year":{"ca":"durant 1 any","de":"f\xFCr 1 Jahr","es":"para 1 a\xF1o","fr":"pour 1 an","it":"per 1 anno","pt":"por 1 ano"},"If you enjoy":{"ca":"Si us agrada","de":"Wenn Ihnen es gef\xE4llt","es":"Si te gusta","fr":"Si vous aimez","it":"Se ti piace","pt":"Se voc\xEA gosta de"},"consider becoming a paid subscriber":{"ca":"considera convertir-te en un subscriptor de pagament","de":"sollten Sie ein zahlender Abonnent werden","es":"considera convertirte en un suscriptor de pago","fr":"envisagez de devenir un(e) abonn\xE9(e) payant(e)","it":"considera di diventare un abbonato pagante","pt":"considere tornar-se um assinante pago"},"If you want to help \${0}":{"ca":"Si vols ajudar \${0}","de":"M\xF6chten Sie \${0} unterst\xFCtzen","es":"Si quieres ayudar a \${0}","fr":"Si vous voulez aider \${0}","it":"Se vuoi aiutare \${0}","pt":"Se voc\xEA quiser ajudar \${0}"},"If you want to help \${0} even more":{"ca":"Si vols ajudar \${0} encara m\xE9s","de":"M\xF6chten Sie \${0} noch mehr unterst\xFCtzen","es":"Si quieres ayudar a \${0} a\xFAn m\xE1s","fr":"Si vous voulez aider \${0} encore plus","it":"Se vuoi aiutare \${0} ancora di pi\xF9","pt":"Se voc\xEA quiser ajudar \${0} ainda mais"},"share your reason for signing up":{"ca":"comparteix la ra\xF3 per registrar-te","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para registrarte","fr":"partagez votre raison de vous inscrire","it":"condividi il motivo della tua iscrizione","pt":"compartilhe seu motivo para se inscrever"},"share your reason for subscribing":{"ca":"comparteix la ra\xF3 per subscriure't","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para suscribirte","fr":"partagez votre raison de vous abonner","it":"condividi il motivo del tuo abbonamento","pt":"compartilhe seu motivo para se inscrever"},"show full post":{"ca":"mostra la publicaci\xF3 completa","de":"Vollst\xE4ndigen Beitrag anzeigen","es":"mostrar publicaci\xF3n completa","fr":"afficher le post complet","it":"mostra post completo","pt":"mostrar post completo"},"Community":{"ca":"Comunitat","de":"Gemeinschaft","es":"Comunidad","fr":"Communaut\xE9","it":"Comunit\xE0","pt":"Comunidade"},"About":{"ca":"Sobre","de":"\xDCber","es":"Sobre","fr":"\xC0 propos de","it":"Soggetto","pt":"Sobre"},"Archive":{"ca":"Arxiu","de":"Archiv","es":"Archivo","fr":"Archives","it":"Archivio","pt":"Arquivo"},"Account":{"ca":"Compte","de":"Konto","es":"Cuenta","fr":"Compte","it":"Account","pt":"Conta"},"My Account":{"ca":"El meu compte","de":"Mein Konto","es":"Mi cuenta","fr":"Mon compte","it":"Il mio account","pt":"Minha conta"},"By submitting, you agree to":{"ca":"En enviar-ho, acceptes","de":"Mit dem Absenden, stimmen Sie zu","es":"Al enviar, aceptas","fr":"En soumettant, vous acceptez","it":"Inviando, accetti","pt":"Ao enviar, voc\xEA concorda com"},"By registering you agree to":{"ca":"Registrant-te, acceptes","de":"Mit Ihrer Registrierung, stimmen Sie zu","es":"Al registrarte, aceptas","fr":"En vous inscrivant, vous acceptez","it":"Registrandoti, accetti","pt":"Ao se registrar, voc\xEA concorda com"},"Terms":{"ca":"Termes","de":"Bedingungen","es":"Condiciones","fr":"Termes","it":"Condizioni","pt":"Termos"},"Privacy":{"ca":"Privadesa","de":"Datenschutz","es":"Privacidad","fr":"Confidentialit\xE9","it":"Privacy","pt":"Privacidade"},"Substack's Terms of Use":{"ca":"els Termes de serveis de Substack","de":"Substacks Nutzungsbedingungen","es":"los T\xE9rminos de servicio de Substack","fr":"les Conditions d'utilisation de Substack","it":"le Condizioni di utilizzo di Substack","pt":"os Termos de Servi\xE7o da Substack"},"our Privacy Policy":{"ca":"la nostra Pol\xEDtica de Privacitat","de":"unseren Datenschutzbestimmungen","es":"nuestra Pol\xEDtca de Privacidad","fr":"notre Politique de Confidentialit\xE9","it":"la nostra Politica sulla privacy","pt":"a nossa Pol\xEDtica de Privacidade"},"our Information collection notice":{"ca":"el nostre av\xEDs de recollida d'informaci\xF3","de":"unsere Informationserhebungsmitteilung","es":"nuestro aviso de recopilaci\xF3n de informaci\xF3n","fr":"notre avis de collecte d'informations","it":"il nostro avviso di raccolta delle informazioni","pt":"nosso aviso de coleta de informa\xE7\xF5es"},"and":{"ca":"i","de":"und","es":"y","fr":"et","it":"e","pt":"e"},"Help":{"ca":"Ajuda","de":"Hilfe","es":"Ayuda","fr":"Aide","it":"Aiuto","pt":"Ajuda"},"Get started":{"ca":"Comen\xE7ar","de":"Loslegen","es":"Empezar","fr":"Commencer","it":"Iniziare","pt":"Iniciar"},"Start writing":{"ca":"Comen\xE7a a escriure","de":"Anfangen zu schreiben","es":"Empieza a escribir","fr":"Commencez \xE0 \xE9crire","it":"Inizia a scrivere","pt":"Comece a escrever"},"Start reading":{"ca":"Comen\xE7a a llegir","de":"Anfangen zu lesen","es":"Empieza a leer","fr":"Commencez \xE0 lire","it":"Inizia a leggere","pt":"Comece a ler"},"Get the app":{"ca":"Descarrega l'aplicaci\xF3","de":"Laden Sie die App herunter","es":"Descarga la aplicaci\xF3n","fr":"T\xE9l\xE9chargez l'app","it":"Scarica l'app","pt":"Baixe o aplicativo"},"Play video":{"ca":"Reprodueix el v\xEDdeo","de":"Video abspielen","es":"Reproduce el video","fr":"Lire la vid\xE9o","it":"Riproduci video","pt":"Reproduzir v\xEDdeo"},"The home for great writing.":{"ca":"La casa de la gran escriptura.","de":"Das Haus des gro\xDFen Schreibens.","es":"La casa de la gran escritura.","fr":"La maison de grande \xE9criture.","it":"La casa della grande scrittura.","pt":"A casa da grande escrita."},"The home for great":{"ca":"La llar dels grans","de":"Das Zuhause f\xFCr gro\xDFe","es":"El hogar de grandes","fr":"La maison des grands","it":"La casa di grandi","pt":"A casa de grandes"},"writers":{"ca":"escriptors","de":"Autoren","es":"escritores","fr":"\xE9crivains","it":"scrittori","pt":"escritores"},"readers":{"ca":"lectors","de":"Leser","es":"lectores","fr":"lecteurs","it":"lettori","pt":"leitores"},"subscribers":{"ca":"subscriptors","de":"Abonnenten","es":"suscriptores","fr":"abonn\xE9s","it":"iscritti","pt":"assinantes"},"month":{"ca":"mes","de":"Monat","es":"mes","fr":"mois","it":"mese","pt":"m\xEAs"},"year":{"ca":"any","de":"Jahr","es":"a\xF1o","fr":"an","it":"anno","pt":"ano"},"/three months":{"ca":"/3 mesos","de":"/3 Monate","es":"/3 meses","fr":"/3 mois","it":"/3 mesi","pt":"/3 meses"},"We believe that what you read matters and great writing is valuable. We\u2019re building a future where writers can flourish by being paid directly by readers.":{"ca":"Creiem que el que llegeix \xE9s important i una bona escriptura \xE9s valuosa. Estem construint un futur on els escriptors puguin prosperar amb el pagament directament dels lectors.","de":"Wir glauben, dass das, was Sie lesen, wichtig ist und gro\xDFartiges Schreiben wertvoll ist. Wir bauen eine Zukunft auf, in der Autoren gedeihen k\xF6nnen, indem sie direkt von Lesern bezahlt werden.","es":"Creemos que lo que lees importa y que escribir bien es valioso. Estamos construyendo un futuro en el que los escritores puedan prosperar si los lectores les pagan directamente.","fr":"Nous pensons que ce que vous lisez est important et qu'une bonne \xE9criture est pr\xE9cieuse. Nous construisons un avenir o\xF9 les \xE9crivains peuvent s'\xE9panouir en \xE9tant pay\xE9s directement par les lecteurs.","it":"Crediamo che ci\xF2 che leggi sia importante e che scrivi in modo eccellente sia prezioso. Stiamo costruendo un futuro in cui gli scrittori possono prosperare essendo pagati direttamente dai lettori.","pt":"Acreditamos que o que voc\xEA l\xEA \xE9 importante e uma \xF3tima escrita \xE9 valiosa. Estamos construindo um futuro onde os escritores podem florescer sendo pagos diretamente pelos leitores."},"A new model for writing.":{"ca":"Un nou model per escriure.","de":"Ein neues Schreibmodell.","es":"Un nuevo model de escritura.","fr":"Un nouveau mod\xE8le d'\xE9criture.","it":"Un nuovo modello di scrittura.","pt":"Um novo modelo de escrita."},"The subscription model rewards you for doing great work that you believe in. You don\u2019t need to play by the rules of social media to succeed.":{"ca":"El model de subscripci\xF3 us recompensa per fer un gran treball en el qual creieu. No cal que us seguiu les regles de les xarxes socials per tenir \xE8xit.","de":"Das Abonnementmodell belohnt Sie f\xFCr gro\xDFartige Arbeit, an die Sie glauben. Sie m\xFCssen sich nicht an die Regeln der sozialen Medien halten, um erfolgreich zu sein.","es":"El modelo de suscripci\xF3n lo recompensa por hacer un gran trabajo en el que cree. No necesita seguir las reglas de las redes sociales para tener \xE9xito.","fr":"Le mod\xE8le d'abonnement vous r\xE9compense pour l'excellent travail auquel vous croyez. Vous n'avez pas besoin de respecter les r\xE8gles des m\xE9dias sociaux pour r\xE9ussir.","it":"Il modello di abbonamento ti premia per aver svolto un ottimo lavoro in cui credi. Non \xE8 necessario rispettare le regole dei social media per avere successo.","pt":"O modelo de assinatura recompensa voc\xEA por fazer um \xF3timo trabalho no qual acredita. Voc\xEA n\xE3o precisa seguir as regras das m\xEDdias sociais para ter sucesso."},"Simple but powerful publishing.":{"ca":"Publicaci\xF3 senzilla per\xF2 potent.","de":"Einfaches, aber leistungsstarkes Publishing.","es":"Publicaci\xF3n simple pero poderosa.","fr":"Publication simple mais puissante.","it":"Editoria semplice ma potente.","pt":"Publica\xE7\xE3o simples, mas poderosa."},"Spend all your time and energy focused on the work that really matters: the writing itself. Substack takes care of everything else.":{"ca":"Dedica tot el teu temps i energia centrat en el treball que realment importa: l'escriptura en si. Substack s'encarrega de tota la resta.","de":"Konzentrieren Sie sich all Ihre Zeit und Energie auf die Arbeit, die wirklich z\xE4hlt: das Schreiben selbst. Substack k\xFCmmert sich um alles andere.","es":"Dedique todo su tiempo y energ\xEDa a concentrarse en el trabajo que realmente importa: la escritura en s\xED. Substack se encarga de todo lo dem\xE1s.","fr":"Passez tout votre temps et votre \xE9nergie \xE0 vous concentrer sur le travail qui compte vraiment : l'\xE9criture elle-m\xEAme. Substack s'occupe de tout le reste.","it":"Trascorri tutto il tuo tempo e le tue energie concentrati sul lavoro che conta davvero: la scrittura stessa. Substack si occupa di tutto il resto.","pt":"Gaste todo o seu tempo e energia focado no trabalho que realmente importa: a escrita em si. Substack cuida de todo o resto."},"Own your work.":{"ca":"Ser propietari del teu treball.","de":"Besitze deine Arbeit.","es":"Sea due\xF1o de su trabajo.","fr":"Poss\xE9dez votre travail.","it":"Possiedi il tuo lavoro.","pt":"Seja dono do seu trabalho."},"On Substack, you own your content, your IP, and your mailing list \u2013 forever. You can leave and take it all with you at any time.":{"ca":"A Substack, sou el propietari del vostre contingut, de la vostra propietat intel\xB7lectual i de la vostra llista de correu, per sempre. Pots marxar i portar-ho tot amb tu en qualsevol moment.","de":"Auf Substack besitzen Sie Ihre Inhalte, Ihr geistiges Eigentum und Ihre Mailingliste \u2013 f\xFCr immer. Sie k\xF6nnen jederzeit alles verlassen und mitnehmen.","es":"En Substack, eres due\xF1o de tu contenido, tu propriedad intelectual y tu lista de correo, para siempre. Puedes irte y llev\xE1rtelo todo contigo en cualquier momento.","fr":"Sur Substack, vous \xEAtes propri\xE9taire de votre contenu, de votre propri\xE9t\xE9 intellectuelle et de votre liste de diffusion - pour toujours. Vous pouvez partir et tout emporter avec vous \xE0 tout moment.","it":"Su Substack, possiedi i tuoi contenuti, la tua propriet\xE0 intellecttuale e la tua mailing list, per sempre. Puoi partire e portare tutto con te in qualsiasi momento.","pt":"No Substack, voc\xEA possui seu conte\xFAdo, sua propriedade intelectual e sua lista de e-mails \u2013 para sempre. Voc\xEA pode sair e levar tudo com voc\xEA a qualquer momento."},"A media business in minutes.":{"ca":"Un negoci de mitjans en q\xFCesti\xF3 de minuts.","de":"Ein Mediengesch\xE4ft in wenigen Minuten.","es":"Un negocio de medios en cuesti\xF3n de minutos.","fr":"Une entreprise de m\xE9dias en quelques minutes.","it":"Un business dei media in pochi minuti.","pt":"Um neg\xF3cio de m\xEDdia em quest\xE3o de minutos."},"We make subscription publishing simple. Start your Substack at breakfast; start bringing in revenue by lunchtime.":{"ca":"Facilitem la publicaci\xF3 per subscripci\xF3. Comen\xE7a la teva Substack a l'esmorzar; comen\xE7a a generar ingressos a l'hora de dinar.","de":"Wir machen die Abonnementver\xF6ffentlichung einfach. Starten Sie Ihren Substack beim Fr\xFChst\xFCck; Beginnen Sie bis zur Mittagszeit damit, Einnahmen zu erzielen.","es":"Simplificamos la publicaci\xF3n por suscripci\xF3n. Comience su Substack en el desayuno; comience a generar ingresos a la hora del almuerzo.","fr":"Nous simplifions la publication par abonnement. Commencez votre Substack au petit-d\xE9jeuner; commencer \xE0 g\xE9n\xE9rer des revenus \xE0 l'heure du d\xE9jeuner.","it":"Semplifichiamo la pubblicazione degli abbonamenti. Inizia il tuo Substack a colazione; iniziare a guadagnare entro l'ora di pranzo.","pt":"Tornamos a publica\xE7\xE3o de assinatura simples. Comece seu Substack no caf\xE9 da manh\xE3; comece a gerar receita na hora do almo\xE7o."},"For the soon-to-be discovered and the already-well-known.":{"ca":"Pels propers a ser descoberts i els ja coneguts.","de":"F\xFCr Neuentdeckte und Altbekannte.","es":"Para los que pronto se descubrir\xE1n y los ya conocidos.","fr":"Pour ceux qui seront bient\xF4t d\xE9couverts et ceux qui sont d\xE9j\xE0 connus.","it":"Per chi \xE8 presto scoperto e per chi \xE8 gi\xE0 noto.","pt":"Para os que logo ser\xE3o descobertos e os j\xE1 conhecidos."},"Substack\u2019s simple product, business model, and creator-friendly terms has triggered an explosion of new creative work.":{"ca":"El producte senzill, el model de negoci i els termes senzills de Substack han provocat una explosi\xF3 de nous treballs creatius.","de":"Das einfache Produkt, das Gesch\xE4ftsmodell und die sch\xF6pferfreundlichen Bedingungen von Substack haben eine Explosion neuer kreativer Arbeiten ausgel\xF6st.","es":"El producto simple, el modelo comercial y los t\xE9rminos amigables para los creadores de Substack han desencadenado una explosi\xF3n de nuevos trabajos creativos.","fr":"Le produit simple, le mod\xE8le commercial et les termes conviviaux pour les cr\xE9ateurs de Substack ont d\xE9clench\xE9 une explosion de nouveaux travaux cr\xE9atifs.","it":"Il prodotto semplice, il modello di business e i termini adatti ai creatori di Substack hanno innescato un'esplosione di nuovo lavoro creativo.","pt":"O produto simples, o modelo de neg\xF3cios e os termos amig\xE1veis do criador da Substack desencadearam uma explos\xE3o de novos trabalhos criativos."},"Podcasting on Substack":{"ca":"Podcasting a Substack","de":"Podcasting auf Substack","es":"Podcasting en Substack","fr":"Podcasting sur Substack","it":"Podcasting su Substack","pt":"Podcasting no Substack"},"Pioneering subscription-backed audio":{"ca":"\xC0udio de subscripci\xF3 innovador","de":"Innovatives Abonnement-Audio","es":"Audio de suscripci\xF3n innovador","fr":"Audio d'abonnement novateur","it":"Audio in abbonamento innovativo","pt":"\xC1udio de assinatura inovador"},"Bloggers on Substack":{"ca":"Bloggers a Substack","de":"Blogger auf Substack","es":"Blogueros en Substack","fr":"Blogueurs sur Substack","it":"Blogger su Substack","pt":"Blogueiros no Substack"},"Transfer blogs to Substack & unlock subscriptions":{"ca":"Transfereix blogs a Substack i desbloqueja subscripcions","de":"\xDCbertragen Sie Blogs auf Substack und entsperren Sie Abonnements","es":"Transferir blogs a Substack y desbloquear suscripciones","fr":"Transf\xE9rer des blogs vers Substack et d\xE9bloquer des abonnements","it":"Trasferisci i blog in Substack e sblocca gli abbonamenti","pt":"Transfira blogs para Substack e desbloqueie assinaturas"},"Investing and business writing":{"ca":"Escriptura sobre inversions i negocis","de":"Schreiben \xFCber Investitionen und Unternehmen","es":"Escritura de inversiones y negocios","fr":"\xC9criture sur l'investissement et les affaires","it":"Scrittura di investimenti e affari","pt":"Escrita sobre investimentos e neg\xF3cios"},"An obvious match for the subscription model":{"ca":"Una coincid\xE8ncia evident per al model de subscripci\xF3","de":"Eine offensichtliche \xDCbereinstimmung f\xFCr das Abonnementmodell","es":"Una combinaci\xF3n obvia para el modelo de suscripci\xF3n","fr":"Une correspondance \xE9vidente pour le mod\xE8le d'abonnement","it":"Una corrispondenza ovvia per il modello di abbonamento","pt":"Uma correspond\xEAncia \xF3bvia para o modelo de assinatura"},"Comic books":{"ca":"Els c\xF2mics","de":"Die Comics","es":"Los c\xF3mics","fr":"Les bandes dessin\xE9es","it":"I fumetti","pt":"Os quadrinhos"},"Join the world\u2019s best comic book creators":{"ca":"Uneix-te als millors creadors de c\xF2mics del m\xF3n","de":"Schlie\xDFen Sie sich den weltbesten Comic-Autoren an","es":"\xDAnete a los mejores creadores de c\xF3mics del mundo.","fr":"Rejoignez les meilleurs cr\xE9ateurs de bandes dessin\xE9es au monde","it":"Unisciti ai migliori creatori di fumetti del mondo","pt":"Junte-se aos melhores criadores de quadrinhos do mundo"},"Local news reporting":{"ca":"Not\xEDcies locals","de":"Lokale Nachrichtenberichterstattung","es":"Informes de noticias locales","fr":"Reportage sur l'actualit\xE9 locale","it":"Segnalazione di notizie locali","pt":"Relat\xF3rio de not\xEDcias locais"},"A sustainable model for local journalism":{"ca":"Un model sostenible per al periodisme local","de":"Ein nachhaltiges Modell f\xFCr Lokaljournalismus","es":"Un modelo sostenible para el periodismo local","fr":"Un mod\xE8le durable pour le journalisme local","it":"Un modello sostenibile per il giornalismo locale","pt":"Um modelo sustent\xE1vel para o jornalismo local"},"Food writing":{"ca":"Escriptura d'aliments","de":"Schreiben \xFCber Essen","es":"Escritura de comida","fr":"\xC9criture culinaire","it":"Scrittura di cibo","pt":"Escrita de comida"},"Food publishing made simple":{"ca":"Publicaci\xF3 culin\xE0ria simplificada","de":"Kulinarisches Publishing leicht gemacht","es":"Publicaci\xF3n culinaria simplificada","fr":"L'\xE9dition culinaire simplifi\xE9e","it":"L'editoria culinaria resa semplice","pt":"Publica\xE7\xE3o culin\xE1ria simplificada"},"Join the new wave of writers and creators.":{"ca":"Uneix-te a la nova onada d'escriptors i creadors.","de":"Schlie\xDFen Sie sich der neuen Welle von Autoren und Sch\xF6pfern an.","es":"\xDAnete a la nueva ola de escritores y creadores.","fr":"Rejoignez la nouvelle vague d'\xE9crivains et de cr\xE9ateurs.","it":"Unisciti alla nuova ondata di scrittori e creatori.","pt":"Junte-se \xE0 nova onda de escritores e criadores."},"Estimate what you could make on Substack":{"ca":"Estima el que pots guanyar a Substack","de":"Sch\xE4tzen Sie, was Sie auf Substack verdienen k\xF6nnten","es":"Estima lo que podr\xEDas ganar en Substack","fr":"Estimez ce que vous pourriez gagner sur Substack","it":"Stima cosa potresti guadagnare su Substack","pt":"Estime o que voc\xEA pode ganhar no Substack"},"Earnings estimate calculated for \${0} paid subscribers, priced \${1}/month. It is net of Substack and credit card fees. Actual subscriber counts and earnings may vary.":{"ca":"Guanys estimats calculats per a \${0} subscriptors de pagament, amb preu \${1}/mes. Est\xE0 net de les comissions de Substack i targetes de cr\xE8dit. El nombre real de subscriptors i els guanys poden variar.","de":"Gesch\xE4tzte Einnahmen berechnet f\xFCr \${0} zahlende Abonnenten mit Preis \${1}/Monat. Es versteht sich ohne Substack- und Kreditkartengeb\xFChren. Die tats\xE4chlichen Abonnentenzahlen und Einnahmen k\xF6nnen variieren.","es":"Estimaci\xF3n de ganancias calculada para \${0} suscriptores pagos, precio \${1}/mes. Es neto de tarifas de Substack y de tarjeta de cr\xE9dito. Los recuentos reales de suscriptores y las ganancias pueden variar.","fr":"Estimation des revenus calcul\xE9e pour \${0} abonn\xE9s payants, prix \${1} / mois. Il est net des frais de Substack et de carte de cr\xE9dit. Le nombre r\xE9el d'abonn\xE9s et les revenus peuvent varier.","it":"Guadagno stimato calcolato per \${0} abbonati pagati, con prezzo \${1}/mese. \xC8 al netto delle commissioni Substack e delle carte di credito. I conteggi e le entrate effettivi degli abbonati possono variare.","pt":"Estimativa de ganhos calculada para \${0} assinantes pagos, com pre\xE7o \${1}/m\xEAs. \xC9 l\xEDquido de taxas do Substack e de cart\xE3o de cr\xE9dito. As contagens reais de assinantes e os ganhos podem variar."},"How many subscribers could I get?":{"ca":"Quants subscriptors podria aconseguir?","de":"Wie viele Abonnenten k\xF6nnte ich gewinnen?","es":"\xBFCu\xE1ntos suscriptores podr\xEDa conseguir?","fr":"Combien d'abonn\xE9s puis-je obtenir?","it":"Quanti iscritti potrei ottenere?","pt":"Quantos inscritos eu poderia obter?"},"It depends on how many people find value in what you\u2019re making. If you have a highly engaged email list, aim for 10% to become paid subscribers over time.":{"ca":"Dep\xE8n de quantes persones troben valor en el que est\xE0s fent. Si teniu una llista de correu electr\xF2nic molt compromesa, apunteu que el 10% es converteixin en subscriptors de pagament al llarg del temps.","de":"Es h\xE4ngt davon ab, wie viele Menschen das, was Sie machen, wertsch\xE4tzen. Wenn Sie eine sehr engagierte E-Mail-Liste haben, streben Sie an, dass 10 % im Laufe der Zeit zahlende Abonnenten werden.","es":"Depende de cu\xE1ntas personas encuentren valor en lo que est\xE1s haciendo. Si tiene una lista de correo electr\xF3nico altamente comprometida, apunte a que el 10% se convierta en suscriptores pagos con el tiempo.","fr":"Cela d\xE9pend du nombre de personnes qui trouvent de la valeur dans ce que vous faites. Si vous avez une liste de diffusion tr\xE8s engag\xE9e, visez 10 % pour devenir des abonn\xE9s payants au fil du temps.","it":"Dipende da quante persone trovano valore in ci\xF2 che stai facendo. Se disponi di una lista e-mail molto coinvolta, punta al 10% per diventare abbonati a pagamento nel tempo.","pt":"Depende de quantas pessoas encontram valor no que voc\xEA est\xE1 fazendo. Se voc\xEA tem uma lista de e-mail altamente engajada, procure 10% para se tornar assinante pago ao longo do tempo."},"How much could I charge?":{"ca":"Quant podria cobrar?","de":"Wie viel k\xF6nnte ich verlangen?","es":"\xBFCu\xE1nto podr\xEDa cobrar?","fr":"Combien pourrais-je facturer?","it":"Quanto potrei addebitare?","pt":"Quanto eu poderia cobrar?"},"Usually more than you think! In general, for personal interest, try $5 to $10 per month. For professional interest, you can often go substantially higher.":{"ca":"Normalment m\xE9s del que penses! En general, per inter\xE8s personal, proveu de 5 a 10\u20AC al mes. Per inter\xE8s professional, sovint podeu anar molt m\xE9s alt.","de":"Meist mehr als Sie denken! Versuchen Sie es im Allgemeinen aus pers\xF6nlichem Interesse mit 5 bis 10 \u20AC pro Monat. Bei beruflichem Interesse kann man oft deutlich h\xF6her gehen.","es":"\xA1Por lo general, m\xE1s de lo que piensas! En general, por inter\xE9s personal, prueba de 5 a 10 \u20AC al mes. Por inter\xE9s profesional, a menudo puede ir mucho m\xE1s alto.","fr":"G\xE9n\xE9ralement plus que vous ne le pensez ! En g\xE9n\xE9ral, par int\xE9r\xEAt personnel, essayez 5 \xE0 10 \u20AC par mois. Pour un int\xE9r\xEAt professionnel, vous pouvez souvent aller beaucoup plus haut.","it":"Di solito pi\xF9 di quanto pensi! In generale, per interesse personale, prova da \u20AC 5 a \u20AC 10 al mese. Per interesse professionale, puoi spesso andare molto pi\xF9 in alto.","pt":"Geralmente mais do que voc\xEA pensa! Em geral, por interesse pessoal, tente de 25 a 50 R$ por m\xEAs. Por interesse profissional, muitas vezes voc\xEA pode ir substancialmente mais alto."},"See some real-world examples":{"ca":"Mireu alguns exemples concrets","de":"Schauen Sie sich einige konkrete Beispiele an","es":"Mira algunos ejemplos concretos","fr":"Regardez quelques exemples concrets","it":"Guarda alcuni esempi concreti","pt":"Veja alguns exemplos concretos"},"Writers keep 90% of their revenue minus credit card fees.":{"ca":"Els escriptors es conserven el 90% dels seus ingressos menys les tarifes de la targeta de cr\xE8dit.","de":"Autoren behalten 90 % ihrer Einnahmen abz\xFCglich Kreditkartengeb\xFChren.","es":"Los escritores se quedan con el 90% de sus ingresos menos las tarifas de las tarjetas de cr\xE9dito.","fr":"Les auteurs conservent 90 % de leurs revenus moins les frais de carte de cr\xE9dit.","it":"Gli scrittori trattengono il 90% delle loro entrate meno le commissioni sulle carte di credito.","pt":"Os escritores mant\xEAm 90% de sua receita menos as taxas de cart\xE3o de cr\xE9dito."},"Founding Membership":{"ca":"Membre Fundador","es":"Membres\xEDa Fundadora","fr":"Membre fondateur","de":"Gr\xFCndungsmitgliedschaft","it":"Socio Fondatore","pt":"Associa\xE7\xE3o Fundadora"},"Founders Membership":{"ca":"Membres Fundadors","es":"Membres\xEDa Fundadores","fr":"Membres fondateurs","de":"Gr\xFCndungsmitgliedschaft","it":"Iscrizione Fondatori","pt":"Associa\xE7\xE3o de Fundadores"},"Founding Member":{"ca":"Membre Fundador","es":"Miembro fundador","fr":"Membre fondateur","de":"Gr\xFCndungsmitglied","it":"Membro fondatore","pt":"Membre fundador"},"Annual":{"ca":"Anual","es":"Anual","fr":"Annuel","de":"J\xE4hrlich","it":"Annueale","pt":"Anual"},"Quarterly":{"ca":"Trimestral","es":"Trimestral","fr":"Trimestriel","de":"Viertelj\xE4hrlich","it":"Trimestrale","pt":"Trimestral"},"Semiannually":{"ca":"Semestralment","es":"Semestralmente","fr":"Semestriellement","de":"Halbj\xE4hrlich","it":"Semestrale","pt":"Semestralmente"},"Monthly":{"ca":"Mensual","es":"Mensual","fr":"Mensuel","de":"Monatlich","it":"Mensile","pt":"Por m\xEAs"},"originally":{"ca":"origin\xE0riament","es":"originalmente","fr":"\xE0 l'origine","de":"urspr\xFCnglich","it":"originariamente","pt":"originalmente"},"None":{"ca":"Cap","es":"Ninguna","fr":"Rien","de":"Keiner","it":"Nessuna","pt":"Nenhuma"},"Free":{"ca":"Gratu\xEFt","es":"Gratis","fr":"Gratuit","de":"Kostenlos","it":"Gratuito","pt":"Gr\xE1tis"},"Group subscription":{"ca":"Subscripci\xF3 grupal","es":"Suscripci\xF3n de grupo","fr":"Abonnement groupe","de":"Gruppenabonnement","it":"Abbonamento di gruppo","pt":"Assinatura do grupo"},"Group membership":{"ca":"Pertinen\xE7a al grup","es":"Membres\xEDa de grupo","fr":"Appartenance \xE0 un groupe","de":"Gruppenmitgliedschaft","it":"Iscrizione di gruppo","pt":"Associa\xE7\xE3o do grupo"},"Individual subscription":{"ca":"Subscripci\xF3 individual","es":"Suscripci\xF3n individual","fr":"Abonnement individuel","de":"Individuelles Abonnement","it":"Abbonamento individuale","pt":"Assinatura individual"},"Individual membership":{"ca":"Membre individual","es":"Membres\xEDa individual","fr":"Adh\xE9sion individuelle","de":"Individuelle Mitgliedschaft","it":"Iscrizione individuale","pt":"Associa\xE7\xE3o individual"},"Pay with Credit Card":{"ca":"Paga amb targeta de cr\xE8dit","es":"Paga con tarjeta de cr\xE9dito","fr":"Payez avec une carte de cr\xE9dit","de":"Mit Kreditkarte bezahlen","it":"Pagare con la carta di credito","pt":"Pague com cart\xE3o de cr\xE9dito"},"Use Apple Pay":{"ca":"Utilitza Apple Pay","es":"Usar Apple Pay","fr":"Utiliser ApplePay","de":"Verwenden Sie ApplePay","it":"Usa Apple Pay","pt":"Usar o Apple Pay"},"decide later":{"ca":"decidir m\xE9s tard","es":"decidir luego","fr":"d\xE9cider plus tard","de":"sp\xE4ter entscheiden","it":"decidere pi\xF9 tardi","pt":"decidir depois"},"Other subscription options\u2026":{"ca":"Altres opcions de subscripci\xF3","de":"Andere Abonnementoptionen","es":"Otras opciones de suscripci\xF3n","fr":"D'autres options d'abonnement","it":"Altre opzioni di abbonamento","pt":"Outras op\xE7\xF5es de assinatura"},"Other membership options\u2026":{"ca":"Altres opcions de pertinen\xE7a","de":"Andere Mitgliedschaftsoptionen","es":"Otras opciones de membres\xEDa","fr":"D'autres options d'adh\xE9sion","it":"Altre opzioni di abbonamento","pt":"Outras op\xE7\xF5es de associa\xE7\xE3o"},"Continue without paying":{"ca":"Continuar sense pagar","de":"Fahren Sie fort, ohne zu bezahlen","es":"Continuar sin pagar","fr":"Continuez sans payer","it":"Continua senza pagare","pt":"Continuar sem pagar"},"You're already on the free plan":{"ca":"Ja ets a la llista gratu\xEFta","de":"Sie sind bereits auf der kostenlosen Liste","es":"Ya est\xE1s en la liste gratuita","fr":"Vous \xEAtes d\xE9j\xE0 sur la liste gratuite","it":"Sei gi\xE0 nella lista gratuita","pt":"Voc\xEA j\xE1 est\xE1 na lista gratuita"},"Start free trial":{"ca":"Comen\xE7a la prova gratu\xEFta","de":"Kostenlose Testversion starten","es":"Comience la prueba gratuita","fr":"Commencez l'essai gratuit","it":"Inizia la prova gratuita","pt":"Initiar teste gratuito"}}`)},function(S,i,t){var e=t(181),o=t(170),l=t(191),s=t(97);function h(c,d,p){if(!s(p))return!1;var f=typeof d;return(f=="number"?o(p)&&l(d,p.length):f=="string"&&d in p)?e(p[d],c):!1}S.exports=h},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(187),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{strokeWidth:u=1.5}=r,v=m(r,["strokeWidth"]);return Object(e.h)(o.a,b(O({},v),{strokeWidth:u,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),Object(e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u,size:v=36}=r,E=m(r,["stroke","size"]);return Object(e.h)(o.a,b(O({},E),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:v,width:v,fill:"none"}}),Object(e.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:u||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:u||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));i.default=m},function(S,i,t){var e=t(624),o=t(652),l=t(157);function s(h,c){return h&&h.length?e(h,l(c,2),o):void 0}S.exports=s},function(S,i,t){"use strict";t.d(i,"a",function(){return m});var e=t(131),o=t(32),l=t(101),s=t(102),h=t(103),c=t(108),d=t(65),p=t(1);function f(a){var n=O();return function(){var u=Object(d.a)(a),v;if(n){var E=Object(d.a)(this).constructor;v=Reflect.construct(u,arguments,E)}else v=u.apply(this,arguments);return Object(c.a)(this,v)}}function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var b={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},m=function(n){var r,u;return u=r=function(v){Object(h.a)(w,v);var E=f(w);function w(){var C;Object(l.a)(this,w);for(var _=arguments.length,T=new Array(_),W=0;W<_;W++)T[W]=arguments[W];return C=E.call.apply(E,[this].concat(T)),C.select=void 0,C.state={inputValue:C.props.inputValue!==void 0?C.props.inputValue:C.props.defaultInputValue,menuIsOpen:C.props.menuIsOpen!==void 0?C.props.menuIsOpen:C.props.defaultMenuIsOpen,value:C.props.value!==void 0?C.props.value:C.props.defaultValue},C.onChange=function(k,$){C.callProp("onChange",k,$),C.setState({value:k})},C.onInputChange=function(k,$){var H=C.callProp("onInputChange",k,$);C.setState({inputValue:H!==void 0?H:k})},C.onMenuOpen=function(){C.callProp("onMenuOpen"),C.setState({menuIsOpen:!0})},C.onMenuClose=function(){C.callProp("onMenuClose"),C.setState({menuIsOpen:!1})},C}return Object(s.a)(w,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(_){return this.props[_]!==void 0?this.props[_]:this.state[_]}},{key:"callProp",value:function(_){if(typeof this.props[_]=="function"){for(var T,W=arguments.length,k=new Array(W>1?W-1:0),$=1;$<W;$++)k[$-1]=arguments[$];return(T=this.props)[_].apply(T,k)}}},{key:"render",value:function(){var _=this,T=this.props,W=T.defaultInputValue,k=T.defaultMenuIsOpen,$=T.defaultValue,H=Object(e.a)(T,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return p.default.createElement(n,Object(o.a)({},H,{ref:function(M){_.select=M},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),w}(p.Component),r.defaultProps=b,u}},function(S,i,t){"use strict";t.d(i,"a",function(){return r});var e=t(0),o=t(46),l=t(513),s=t(8),h=t.n(s),c=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,m=(u,v,E)=>v in u?c(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,a=(u,v)=>{for(var E in v||(v={}))O.call(v,E)&&m(u,E,v[E]);if(f)for(var E of f(v))b.call(v,E)&&m(u,E,v[E]);return u},n=(u,v)=>d(u,p(v));function r(){const u=Object(o.e)();return v=>{Object(s.copyToClipboard)(v),u.popToast(E=>Object(e.h)(o.c,n(a({},E),{text:"Link copied",Icon:l.a})))}}},function(S,i,t){"use strict";t.d(i,"a",function(){return f});var e=t(0),o=t(6),l=t.n(o),s=t(374),h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(O,b)=>{var m={};for(var a in O)c.call(O,a)&&b.indexOf(a)<0&&(m[a]=O[a]);if(O!=null&&h)for(var a of h(O))b.indexOf(a)<0&&d.call(O,a)&&(m[a]=O[a]);return m};const f=O=>{var b=O,{size:m="md",shape:a="circle",badgePosition:n="top-right",badge:r,imageUrl:u,onClick:v,className:E,border:w}=b,C=p(b,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return Object(e.h)(s.a,null,Object(e.h)("div",{onClick:v,class:l()("tw-relative","tw-inline-block",E)},Object(e.h)("img",{class:l()("tw-inline-block","tw-object-cover",a==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":m==="sm","tw-h-8 tw-w-8":m==="md","tw-h-10 tw-w-10":m==="lg","tw-h-[64px] tw-w-[64px]":m==="xl","tw-h-[88px] tw-w-[88px]":m==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":w},v?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:u}),r!=null?Object(e.h)("span",{className:l()("tw-absolute",{"tw-top-0 tw-right-0":n==="top-right","tw-top-0 tw-left-0":n==="top-left","tw-bottom-0 tw-right-0":n==="bottom-right","tw-bottom-0 tw-left-0":n==="bottom-left"})},Object(e.cloneElement)(r,{size:m})):null))}},function(S,i,t){"use strict";t.d(i,"a",function(){return k});var e=t(0),o=t(2),l=t(7),s=t.n(l),h=t(37),c=t(130),d=t(5),p=t(6),f=t.n(p),O=t(10),b=t.n(O),m=t(8),a=t.n(m),n=t(69),r=Object.defineProperty,u=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,w=($,H,g)=>H in $?r($,H,{enumerable:!0,configurable:!0,writable:!0,value:g}):$[H]=g,C=($,H)=>{for(var g in H||(H={}))v.call(H,g)&&w($,g,H[g]);if(u)for(var g of u(H))E.call(H,g)&&w($,g,H[g]);return $},_=($,H,g)=>new Promise((M,R)=>{var D=j=>{try{L(g.next(j))}catch(B){R(B)}},U=j=>{try{L(g.throw(j))}catch(B){R(B)}},L=j=>j.done?M(j.value):Promise.resolve(j.value).then(D,U);L((g=g.apply($,H)).next())});const T=500,W={PUBLICATION:"publication",CHOOSE:"choose"},k=({pubToRecommendBack:$,recommendingPub:H,recommendedPubs:g,setStep:M,close:R,setLoading:D,source:U})=>{const[L,j]=Object(o.k)(null);Object(o.d)(()=>{var x;L==null&&(g==null?void 0:g.find(({id:P})=>P===$.id))&&j((x=g==null?void 0:g.find(({id:P})=>P===$.id))==null?void 0:x.blurb)},[L,g,$.id]);const B=Object(l.getByLine)($);return Object(e.h)("div",{className:"add-recommending-pub-modal-container"},Object(e.h)(h.a,{pub:$,logo_url:$.logo_url,size:84}),Object(e.h)("h2",null,"Recommend ",$.name),$.hero_text&&Object(e.h)("p",{className:"pub-hero-text"},$.hero_text),Object(e.h)("p",{className:"pub-author-subs"},B?`By ${B}`:null,B&&$.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,$.rankingDetail),Object(e.h)("p",{className:"why-recommend"},"Why are you recommending ",$.name,"? (optional)"),Object(e.h)("textarea",C({placeholder:"Share why your readers might enjoy it...",onChange:x=>{j(x.target.value)},value:L},c.b)),Object(e.h)("div",{className:"footer"},Object(e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",Object(e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{Object(d.i)(d.a.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},Object(e.h)("u",null,"Learn more"))),Object(e.h)("button",{className:f()("continue-button button primary",{disabled:((L==null?void 0:L.length)||0)>T}),disabled:((L==null?void 0:L.length)||0)>T,title:((L==null?void 0:L.length)||0)>T?`Please enter a description shorter than ${T} characters`:"",onClick:()=>_(void 0,null,function*(){yield b.a.put("/api/v1/recommendations").send(C({recommended_publication_id:$.id,recommending_publication_id:H.id,source:U||"recommendation_notification_email",suggested:!1},!!L&&{description:L.length>=2?L:null})),(g==null?void 0:g.filter(({id:x})=>x!==$.id).length)?R():M(W.CHOOSE),D?(D(!0),R()):(Object(m.redirect)("/publish/settings/recommendations"),Object(n.b)(`Started recommending ${$.name}`,{timeout:1500}))})},"Continue")))}},,function(S,i,t){"use strict";t.d(i,"a",function(){return c});var e=t(249);function o(d){if(Array.isArray(d))return Object(e.a)(d)}function l(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}var s=t(305);function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(d){return o(d)||l(d)||Object(s.a)(d)||h()}},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);i.a=o},function(S,i,t){"use strict";t.d(i,"c",function(){return r}),t.d(i,"a",function(){return u}),t.d(i,"b",function(){return v});var e=t(0),o=t(6),l=t.n(o),s={input:"frontend-pencraft-unstable-TextInput-module__input--3RwoD",error:"frontend-pencraft-unstable-TextInput-module__error--3CaUa",number:"frontend-pencraft-unstable-TextInput-module__number--1AxKs"},h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(E,w,C)=>w in E?h(E,w,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[w]=C,m=(E,w)=>{for(var C in w||(w={}))f.call(w,C)&&b(E,C,w[C]);if(p)for(var C of p(w))O.call(w,C)&&b(E,C,w[C]);return E},a=(E,w)=>c(E,d(w)),n=(E,w)=>{var C={};for(var _ in E)f.call(E,_)&&w.indexOf(_)<0&&(C[_]=E[_]);if(E!=null&&p)for(var _ of p(E))w.indexOf(_)<0&&O.call(E,_)&&(C[_]=E[_]);return C};const r=E=>{var w=E,{forwardedRef:C,className:_,error:T=!1}=w,W=n(w,["forwardedRef","className","error"]);return Object(e.h)("input",a(m({ref:C},W),{className:l()(_,s.input,{[s.error]:T}),type:"text"}))},u=E=>{var w=E,{forwardedRef:C,className:_,error:T=!1}=w,W=n(w,["forwardedRef","className","error"]);return Object(e.h)("input",m({type:"number",ref:C,className:l()(_,s.input,s.number,{[s.error]:T})},W))},v=E=>{var w=E,{forwardedRef:C,className:_,error:T=!1}=w,W=n(w,["forwardedRef","className","error"]);return Object(e.h)("textarea",a(m({ref:C},W),{className:l()(_,s.input,{[s.error]:T}),type:"text"}))}},,function(S,i,t){var e=t(625);function o(l,s){var h=-1,c=l.length,d=c-1;for(s=s===void 0?c:s;++h<s;){var p=e(h,d),f=l[p];l[p]=l[h],l[h]=f}return l.length=s,l}S.exports=o},function(S,i,t){"use strict";t.d(i,"a",function(){return n});var e=t(0),o=t(162),l=t(543),s=t(310),h=t(261),c=t(227),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(r,u,v)=>u in r?d(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,m=(r,u)=>{for(var v in u||(u={}))f.call(u,v)&&b(r,v,u[v]);if(p)for(var v of p(u))O.call(u,v)&&b(r,v,u[v]);return r},a=(r,u)=>{var v={};for(var E in r)f.call(r,E)&&u.indexOf(E)<0&&(v[E]=r[E]);if(r!=null&&p)for(var E of p(r))u.indexOf(E)<0&&O.call(r,E)&&(v[E]=r[E]);return v};const n=r=>{var u=r,{postType:v}=u,E=a(u,["postType"]);switch(v){case"newsletter":return Object(e.h)(s.default,m({},E));case"adhoc_email":return Object(e.h)(l.default,m({},E));case"thread":return Object(e.h)(h.default,m({},E));case"podcast":return Object(e.h)(o.default,m({},E));case"video":return Object(e.h)(c.default,m({},E));default:return console.warn(`Unrecognized post type: [${v}]`),null}}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"SimpleCheckmarkIcon",svgParams:{height:100,width:100}}),Object(e.h)("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6-.8-.8-.8-2 0-2.8l36.8-36.8c.8-.8 2-.8 2.8 0s.8 2 0 2.8l-36.8 36.8c-.4.4-.9.6-1.4.6z"}),Object(e.h)("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6l-16.5-16.5c-.8-.8-.8-2 0-2.8s2-.8 2.8 0l16.5 16.5c.8.8.8 2 0 2.8-.4.4-.9.6-1.4.6z"}));i.default=m},,function(S,i,t){var e=t(149),o=t(556),l=t(557);function s(h,c){return l(o(h,c,e),h+"")}S.exports=s},function(S,i,t){"use strict";t.r(i),t.d(i,"FacebookOfficialIcon",function(){return m});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"FacebookOfficialIcon",svgParams:{height:20,width:20}}),Object(e.h)("path",{d:"M20 10C20 4.47715 15.5229 0 10 0C4.47715 0 0 4.47715 0 10C0 14.9912 3.65684 19.1283 8.4375 19.8785V12.8906H5.89844V10H8.4375V7.79688C8.4375 5.29063 9.93047 3.90625 12.2146 3.90625C13.3084 3.90625 14.4531 4.10156 14.4531 4.10156V6.5625H13.1922C11.95 6.5625 11.5625 7.3334 11.5625 8.125V10H14.3359L13.8926 12.8906H11.5625V19.8785C16.3432 19.1283 20 14.9912 20 10Z"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"TwitterSolidIcon",function(){return m});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"TwitterSolidIcon",svgParams:{height:20,width:20}}),Object(e.h)("path",{d:"M6.2896 18.1256C13.8368 18.1256 17.9648 11.8728 17.9648 6.45037C17.9648 6.27277 17.9648 6.09597 17.9528 5.91997C18.7559 5.3391 19.4491 4.61987 20 3.79597C19.2512 4.12797 18.4567 4.3456 17.6432 4.44157C18.4998 3.92881 19.141 3.12222 19.4472 2.17197C18.6417 2.64997 17.7605 2.98682 16.8416 3.16797C16.2229 2.51011 15.4047 2.0745 14.5135 1.92854C13.6223 1.78257 12.7078 1.9344 11.9116 2.36051C11.1154 2.78663 10.4819 3.46328 10.109 4.28576C9.73605 5.10824 9.64462 6.03069 9.8488 6.91037C8.21741 6.82853 6.62146 6.40456 5.16455 5.66597C3.70763 4.92738 2.4223 3.89068 1.392 2.62317C0.867274 3.5265 0.70656 4.59586 0.942583 5.61352C1.17861 6.63118 1.79362 7.52063 2.6624 8.10077C2.00936 8.08163 1.37054 7.90546 0.8 7.58717V7.63917C0.800259 8.58654 1.12821 9.50466 1.72823 10.2378C2.32824 10.971 3.16338 11.474 4.092 11.6616C3.4879 11.8263 2.85406 11.8504 2.2392 11.732C2.50151 12.5472 3.01202 13.2602 3.69937 13.7711C4.38671 14.282 5.21652 14.5654 6.0728 14.5816C5.22203 15.2503 4.24776 15.7447 3.20573 16.0366C2.16369 16.3284 1.07435 16.4119 0 16.2824C1.87653 17.4865 4.05994 18.1253 6.2896 18.1224"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{fill:u="white"}=r,v=m(r,["fill"]);return Object(e.h)(o.a,b(O({},v),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:u}}),Object(e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationMicIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1.00003C10.3431 1.00003 9 2.34318 9 4.00003V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4.00003C15 2.34318 13.6569 1.00003 12 1.00003Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M19 10V12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12V10","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 19V23","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 23H16","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"AddUserButtonIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40,fill:"none"}}),Object(e.h)("g",null,Object(e.h)("circle",{cx:"20",cy:"20",r:"20"}),Object(e.h)("path",{className:"add-user-button-icon-cross",d:"M20 14 V26 M14 20 H26","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(6),c=t.n(h),d=t(3),p=t.n(d),f=t(30),O=(a,n,r)=>new Promise((u,v)=>{var E=_=>{try{C(r.next(_))}catch(T){v(T)}},w=_=>{try{C(r.throw(_))}catch(T){v(T)}},C=_=>_.done?u(_.value):Promise.resolve(_.value).then(E,w);C((r=r.apply(a,n)).next())});const b=a=>parseFloat(a).toFixed(2),m=({symbol:a,prependSymbol:n=!1,isStatic:r=!1})=>{const u=`/api/v1/price/${a}`,[v,E]=Object(o.k)(null),[w,C]=Object(o.k)(null),[_,T]=Object(o.k)(!1);return Object(o.d)(()=>{if(!Object(f.default)("cashtags_enabled"))return;(()=>O(void 0,null,function*(){try{const k=yield s.a.get(u);if(k.body){if(k.body.status==="not_found"){T(!0);return}E(k.body.price),C(k.body.change_pct)}}catch(k){T(!0)}}))()},[u]),!n&&a.startsWith("$")&&(a=a.slice(1)),r?Object(e.h)("span",null,Object(e.h)("a",{href:`${Object(d.getStockLandingUrl)(a)}`},a," ")):!Object(f.default)("cashtags_enabled")||_?Object(e.h)("span",null,a," "):Object(e.h)("a",{className:c()("cashtag",{neutral:w==0,positive:w&&parseFloat(w)>0,negative:w&&parseFloat(w)<0}),target:"_blank",rel:"noreferrer",href:`${Object(d.getStockLandingUrl)(a)}`,"data-attrs":JSON.stringify({symbol:a})},a.toUpperCase()+" ",Object(e.h)("span",null,w?Object(e.h)("span",null,Object(e.h)("span",{className:c()("delta")},`${b(w)}%`,!!w&&(parseFloat(w)>0?String.fromCharCode(8593):String.fromCharCode(8595)))):"0.00"))};i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(613),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationUsersIcon"}),Object(e.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{color:u="#262626"}=r,v=m(r,["color"]);return Object(e.h)(o.a,b(O({},v),{name:"LockThinIcon",svgParams:{height:17,width:16}}),Object(e.h)("path",{class:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:u}),Object(e.h)("path",{class:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:u,stroke:u}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"EditIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M18 2L22 6",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M7.5 20.5L19 9L15 5L3.5 16.5L2 22L7.5 20.5Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"PinIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M9 3V8L7 12V14H17M17 14H12M17 14V12L15 8V3",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 21V14",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M9 3V8L7 12V14H17M17 14H12M17 14V12L15 8V3",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M7 3H17",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"AlertCircleIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 8V12",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 16H12.01",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"CrossCircleIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M15 9L9 15",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M9 9L15 15",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"UserCrossIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18 8L23 13",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M23 8L18 13",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"UserProfileIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V19C21 20.1 20.1 21 19 21Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M17 17.5C15.6 16.5 13.9 16 12 16C10.1 16 8.4 16.6 7 17.5",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{color:u="#B6B6B6",height:v=18}=r,E=m(r,["color","height"]);return Object(e.h)(o.a,b(O({},E),{height:v,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),Object(e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:u,fill:"none"}),Object(e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:u,stroke:u}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(616),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(617),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LudiceArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="black",height:v=19,width:E=19}=r,w=m(r,["stroke","height","width"]);return Object(e.h)(o.a,b(O({},w),{name:"AdhocEmailIcon",svgParams:{height:v,width:E,viewBox:"0 0 19 19"}}),Object(e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:u}),Object(e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:u}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(618),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.d(i,"a",function(){return N});var e=t(0),o=t(8),l=t.n(o),s=t(118),h=t.n(s),c=t(148),d=t(184),p=t(63),f=t(526),O=t(546),b=t(342),m=t(6),a=t.n(m),n=t(28),r=t(344),u=t(343),v=Object.defineProperty,E=Object.defineProperties,w=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,W=(Y,F,G)=>F in Y?v(Y,F,{enumerable:!0,configurable:!0,writable:!0,value:G}):Y[F]=G,k=(Y,F)=>{for(var G in F||(F={}))_.call(F,G)&&W(Y,G,F[G]);if(C)for(var G of C(F))T.call(F,G)&&W(Y,G,F[G]);return Y},$=(Y,F)=>E(Y,w(F));const H=(Y,F)=>Object(e.h)("div",{className:"subscription-widget-wrap"},Object(e.h)("div",{className:"subscription-widget show-subscribe"},Object(e.h)("div",{className:"preamble"},Object(e.h)("p",{dangerouslySetInnerHTML:{__html:Y.children[0].children[0].children[0].innerHTML}})),Object(e.h)(c.b,k({pub:F.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},F.props)))),g=(Y,F)=>{try{const G=JSON.parse(h()(Y.getAttribute("data-attrs")));if([`${F.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",n.Substitutions.CHECKOUT_URL,n.Substitutions.FOUNDING_CHECKOUT_URL].includes(G.url)){const X=JSON.parse(h()(Y.getAttribute("data-attrs")));return Object(e.h)(c.b,k({pub:F.pub,subscribeButtonAttrs:X},F.props))}}catch(G){console.error("Failed to parse button:",G)}},M=(Y,{pub:F,props:{isStatic:G,post:X}})=>{try{const q=Y.getAttribute("data-attrs");if(q){const se=JSON.parse(h()(q));return G?Object(e.h)(p.AudioEmbedPlayerStatic,{label:se.label,pub:F,post:X,duration:se.duration}):Object(e.h)(p.AudioEmbedPlayer,{label:se.label,pub:F,post:X,src:`/api/v1/audio/upload/${se.mediaUploadId}/src`,duration:se.duration,autoPlay:!1})}}catch(q){console.error("Failed to parse audio:",q)}},R=Y=>{try{const F=JSON.parse(Y.dataset.attrs).symbol;return F?Object(e.h)(f.default,{symbol:F,prependSymbol:JSON.parse(Y.dataset.attrs).prependSymbol,isStatic:JSON.parse(Y.dataset.attrs).isStatic}):Object(e.h)(e.Fragment,null)}catch(F){return Object(e.h)(e.Fragment,null)}},D=(Y,F)=>{try{const G=JSON.parse(h()(Y.getAttribute("data-attrs")));return(G==null?void 0:G.isEmail)?Object(e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},Object(e.h)("tbody",null,Object(e.h)("tr",null,Object(e.h)("td",{align:"center"},Object(e.h)(b.StaticPoll,{id:G.id,embeddedPolls:F.props.embeddedPolls}))))):Object(e.h)("div",{className:"poll-embed",dataAttrs:Y.getAttribute("data-attrs")},Object(e.h)(b.Poll,{id:G.id,isEditor:!1,post:F.props.post,pub:F.pub,isVersionView:!!F.props.isVersionView}))}catch(G){return console.log("Failed to parse poll:",G),Object(e.h)(e.Fragment,null)}};function U(Y,{props:{isStatic:F}}){try{const G=Y.getAttribute("data-attrs"),X=JSON.parse(h()(G));return Object(e.h)("div",{className:"community-chat",dataAttrs:G},F?Object(e.h)(r.EmailCommunityChatEmbed,k({},X)):Object(e.h)(r.CommunityChatEmbed,{pub:X.pub,subdomain:X.subdomain}))}catch(G){return console.error("Failed to parse chat embed:",G),Object(e.h)(e.Fragment,null)}}function L(Y,F){const{props:{isStatic:G,is_freemail:X}}=F;console.log("ctx",F);try{const q=Y.getAttribute("data-attrs"),se=JSON.parse(h()(q));return Object(e.h)("div",{className:"community-post",dataAttrs:q},G?Object(e.h)(u.EmailCommunityPostEmbed,k({is_freemail:X},se)):Object(e.h)(u.CommunityPostEmbed,k({},se)))}catch(q){return console.error("Failed to parse chat post embed:",q),Object(e.h)(e.Fragment,null)}}const j=(Y,F,G)=>{const X=Y.id,[q,,se]=X.split("-"),ie=G.wrapper.querySelector(`#${q}-${se}`);return Object(e.h)(d.a,{content:Object(e.h)("div",{className:"typography footnote-tooltip"},Object(e.h)("div",{className:"markup"},Object(e.h)("div",{className:"tooltip"},K(ie,F,G)))),style:{display:"inline-block"}},K(Y,F,G))},B=(Y,F,{shallow:G}={})=>{var X;if(Y.nodeName==="A"&&(Y.getAttribute("rel")||Y.setAttribute("rel",((X=F.pub)==null?void 0:X.no_follow)?"nofollow ugc noopener":"")),F.pub&&Y.nodeName==="P"&&Object(o.hasClass)(Y,"button-wrapper")){const q=g(Y,F);if(q)return q}return Object(o.hasClass)(Y,"subscription-widget-wrap")?H(Y,F):Object(o.hasClass)(Y,"cashtag-wrap")?R(Y):F.pub&&Object(o.hasClass)(Y,"native-audio-embed")?M(Y,F):Object(o.hasClass)(Y,"poll-embed")?D(Y,F):Object(o.hasClass)(Y,"community-chat")?U(Y,F):Object(o.hasClass)(Y,"community-post")?L(Y,F):G?null:K(Y,B,F)},x=function(Y){const F={},G=Array.prototype.slice.call(Y);for(const{name:X,value:q}of G)F[X]=q;return F},P=(Y,F)=>{let G=0;return function(){const X=[].slice.call(arguments,0),q=++G>F;q&&console.error("Too many post nodes to recurse",{postId:X[2].props.post.id,depth:G});const se=Y.apply(null,[...X,...q?[!0]:[]]);return G--,se}};function y(Y,F,G,X){var q;const se=a()("header-with-anchor-widget",F.className),ie=G.children.length?Array.prototype.map.call(G.childNodes,Ee=>B(Ee,X)):[G.textContent];return Object(e.h)(Y,$(k({},F),{className:se}),...ie,Object(e.h)(O.a,{text:G.textContent,pub:X==null?void 0:X.pub,post:(q=X==null?void 0:X.props)==null?void 0:q.post}))}const K=P((Y,F,G,X)=>{var q,se;if(!Y)throw new Error("Empty node, cannot preactify!");const ie=Y.nodeType===3?"span":Y.nodeType===8?"x_preact_compatible_html_comment_x":Y.tagName.toLowerCase(),Ee=Y.nodeType!==1?{}:x(Y.attributes),Ie=Y.children&&Y.children.length>0?null:Y.textContent;if(X)return Object(e.h)(ie,$(k({},Ee),{dangerouslySetInnerHTML:{__html:Y.innerHTML}}));const ge=!!((q=Y.parentElement)==null?void 0:q.getAttribute("data-prose-mirror-wrapper"));if(((se=G==null?void 0:G.pub)==null?void 0:se.type)!=="rss"&&ge&&["h1","h2","h3","h4"].includes(ie)&&!Y.className)return y(ie,Ee,Y,G);if(Ie)return Object(e.h)(ie,Ee,Ie);const oe=F(Y,G,{shallow:!0});return oe||Object(e.h)(ie,Ee,...Array.prototype.map.call(Y.childNodes,ee=>F(ee,G)))},2500);function N(Y,F,G={}){const X=document.createElement("div");return X.setAttribute("data-prose-mirror-wrapper",1),X.innerHTML=Y,Array.prototype.map.call(X.childNodes,q=>K(q,B,{wrapper:X,pub:F,props:G}))}},function(S,i,t){"use strict";t.d(i,"a",function(){return n});var e=t(0),o=t(2),l=t(513),s=t(5),h=t(3),c=t.n(h),d=t(508),p=t(7),f=t.n(p),O=t(86),b=t.n(O),m=t(98);function a(r,u){return Object(O.cleanSlug)(Object(p.truncateText)(r,500,{ellipsis:""}),{allowUnicode:u})}function n({text:r,post:u,pub:v}){const{isStatic:E}=Object(o.b)(m.a),w=a(r,!0),C=a(r,!1),_=Object(d.a)();if(!u||!v||E)return null;const T=`${Object(h.getBaseUrl)(v)}/i/${u.id}/${w}`,W=k=>{!(location==null?void 0:location.href)||(k.preventDefault(),Object(s.i)(s.a.HEADER_ANCHOR_WIDGET_CLICKED,{destination:T}),_(T))};return Object(e.h)("div",{id:`\xA7${w}`,class:"header-anchor-widget"},u.id<66696300&&w!==C&&Object(e.h)("div",{id:`\xA7${C}`}),Object(e.h)("div",{class:"header-anchor-widget-button-container"},Object(e.h)("div",{class:"header-anchor-widget-button",href:T,onClick:W},Object(e.h)(l.a,{className:"header-anchor-widget-icon",size:20}))))}},function(S,i){function t(e){for(var o=-1,l=e==null?0:e.length,s=0,h=[];++o<l;){var c=e[o];c&&(h[s++]=c)}return h}S.exports=t},function(S,i,t){"use strict";t.d(i,"b",function(){return b}),t.d(i,"a",function(){return m});var e=t(0),o=t(2),l=t(379),s=t(80),h=t(141),c=t(3),d=t.n(c),p=t(5),f=t(25),O=t(117);function b({user:E,pathname:w="/inbox"}){const[C,_]=Object(h.a)("reader-ios-install-banner",60*60*24*7);if(C)return null;const T=()=>{Object(p.i)(p.a.IOS_APP_BANNER_DISMISSED),_()},W=$=>{Object(p.i)(p.a.IOS_APP_BANNER_TAPPED,{surface:"reader"})},k=(E==null?void 0:E.reader_installed_at)?`substack:/${w}`:Object(c.getAppStoreUrl)();return Object(e.h)(n,{className:"app-banner-fixed"},Object(e.h)(a,{surface:"reader"}),Object(e.h)(u,null),Object(e.h)(r,null,Object(e.h)("div",null,"Get the full experience")),Object(e.h)("a",{href:k,className:"app-banner-cta",onClick:W},"Get app"),Object(e.h)("button",{className:"reader2-button-reset",onClick:T},Object(e.h)(l.a,{size:16,className:"app-banner-x-out"})))}function m({post:E,subdomain:w}){if(!Object(O.isMobile)({checkFirst4:!0})||!Object(O.isIos)())return null;const C=Object(c.getPostAppLinkUrl)(w,E.slug,{redirect:"app-store",source:"post-banner"}),_=()=>{Object(p.i)(p.a.IOS_APP_BANNER_TAPPED,{surface:"post"})};return Object(e.h)(n,null,Object(e.h)(a,{surface:"post"}),Object(e.h)(u,null),Object(e.h)(r,null,Object(e.h)("div",null,E.type==="podcast"?"Listen":E.type==="video"?"Watch":"Read"," in the Substack app")),Object(e.h)("a",{className:"app-banner-cta",href:C,onClick:_},"Open app"))}function a({surface:E}){return Object(o.d)(()=>{Object(p.i)(p.a.IOS_APP_BANNER_VIEWED,{surface:"post"})},[]),null}const n=Object(f.a)("app-banner"),r=Object(f.a)("app-banner-text");function u(){return Object(e.h)("div",{className:"app-banner-icon"},Object(e.h)(s.default,{height:16}))}function v(){return Object(e.h)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M1.82993 9.00879C1.94419 9.09668 2.07016 9.12891 2.20786 9.10547C2.34848 9.08203 2.49643 9.01318 2.65171 8.89893L4.76108 7.34766L6.87485 8.89893C7.03012 9.01318 7.17807 9.08203 7.31869 9.10547C7.45932 9.12891 7.5853 9.09668 7.69662 9.00879C7.81088 8.92383 7.87973 8.81104 7.90317 8.67041C7.9266 8.53271 7.90756 8.37451 7.84604 8.1958L7.01108 5.71729L9.13803 4.19238C9.29623 4.07812 9.4061 3.95801 9.46762 3.83203C9.53207 3.70605 9.54086 3.57568 9.49399 3.44092C9.45004 3.30908 9.36508 3.21094 9.2391 3.14648C9.11606 3.0791 8.95932 3.04688 8.76889 3.0498L6.15854 3.06738L5.36313 0.571289C5.30454 0.386719 5.22544 0.246094 5.12583 0.149414C5.02622 0.0498047 4.90463 0 4.76108 0C4.62046 0 4.50034 0.0498047 4.40073 0.149414C4.30405 0.246094 4.22495 0.386719 4.16342 0.571289L3.37241 3.06738L0.757662 3.0498C0.567233 3.04688 0.409029 3.07764 0.283053 3.14209C0.160006 3.20654 0.0765099 3.30615 0.0325646 3.44092C-0.0172401 3.57568 -0.00991587 3.70605 0.0545373 3.83203C0.11899 3.95801 0.230319 4.07812 0.388522 4.19238L2.51547 5.71729L1.68051 8.1958C1.61899 8.37451 1.59995 8.53271 1.62338 8.67041C1.64975 8.81104 1.7186 8.92383 1.82993 9.00879Z"}))}},function(S,i,t){"use strict";t.d(i,"a",function(){return H});var e=t(0),o=t(42),l=t(2),s=t(7),h=t.n(s),c=t(37),d=t(64),p=t(10),f=t.n(p),O=t(23),b=t(6),m=t.n(b),a=t(69),n=t(3),r=t.n(n),u=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,T=(g,M,R)=>M in g?u(g,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):g[M]=R,W=(g,M)=>{for(var R in M||(M={}))C.call(M,R)&&T(g,R,M[R]);if(w)for(var R of w(M))_.call(M,R)&&T(g,R,M[R]);return g},k=(g,M)=>v(g,E(M)),$=(g,M,R)=>new Promise((D,U)=>{var L=x=>{try{B(R.next(x))}catch(P){U(P)}},j=x=>{try{B(R.throw(x))}catch(P){U(P)}},B=x=>x.done?D(x.value):Promise.resolve(x.value).then(L,j);B((R=R.apply(g,M)).next())});const H=({pub:g,pubsToRecommend:M})=>{const[R,D]=Object(l.k)(!0),[U,L]=Object(l.k)(!0),[j,B]=Object(l.k)((M||[]).reduce((N,Y)=>k(W({},N),{[Y.id]:!0}),{})),x=()=>{D(!R),L(!1)},P=N=>{const Y=W({},j);Y[N]=!Y[N],B(Y)},y=()=>$(void 0,null,function*(){try{const N=Object.keys(j).filter(Y=>j[Y]===!0).map(Y=>Number(Y));yield f.a.put("/api/v1/recommendations/multiple").send({recommending_publication_id:g.id,recommended_publication_ids:N,source:"post_publish_cta",suggested:N.map(()=>!0)}),N.length&&Object(a.b)(`Recommended ${Object(s.pluralize)(N.length,"publication")}`,{timeout:1500}),x()}catch(N){console.error("Failed to add recommendations: ",N),x()}});let A,K;return(M==null?void 0:M.length)&&(A=(Object.values(j).filter(N=>N===!0)||[]).length,K=`Do you want to recommend ${M[0].name}${M.length>1?` and ${M.length-1} other ${Object(s.pluralize)(M.length-1,"publication",{just_word:!0})}`:""}?`),Object(e.h)(e.Fragment,null,U?Object(e.h)(o.a,{isOpen:R,onClose:x},Object(e.h)(o.d,{onClose:x,title:K}),Object(e.h)(o.b,null,Object(e.h)("div",{className:"recommend-linked-publication-modal-container"},Object(e.h)("p",{className:"subtitle"},"Since you embedded"," ",M.length>1?`${M.length} publications`:M[0].name," on your post, we thought you might want to recommend them to your readers"),M&&M.length&&M.map((N,Y)=>Object(e.h)("div",{className:m()("recommend-publication-container",{last:Y===M.length-1}),onClick:()=>P(N.id)},Object(e.h)(c.a,{pub:N,size:40,logo_url:N.logo_url,openInNewTab:!0}),Object(e.h)("div",{className:"publication-name-author"},Object(e.h)("a",{className:"publication-name",href:Object(n.getBaseUrl)(N),target:"_blank"},N.name),Object(e.h)("p",{className:"author-name"},Object(s.getByLine)(N))),Object(e.h)(d.a,{checked:j[N.id]?j[N.id]:!1}))))),Object(e.h)(o.c,{alignment:"center",primaryButton:Object(e.h)(O.a,{onClick:y,variant:"primary"},A===0?"Continue":`Recommend ${Object(s.pluralize)(A,"publication")}`),secondaryButton:Object(e.h)(O.a,{onClick:x,variant:"secondary"},"Cancel")})):null)}},function(S,i,t){"use strict";t.d(i,"a",function(){return _});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(8),c=t(43),d=t(38),p=t(153),f=t(525),O=t(7),b=t(3),m=t(10),a=t.n(m),n=t(13),r={"user-selector":"frontend-components-user_selector-module__user-selector--AJUkh","user-selector-expanded":"frontend-components-user_selector-module__user-selector-expanded--3SDr1",disabled:"frontend-components-user_selector-module__disabled--2oA26","no-selected-bylines":"frontend-components-user_selector-module__no-selected-bylines--2Nqgu","user-selector-new":"frontend-components-user_selector-module__user-selector-new--2H9dj","add-user-button":"frontend-components-user_selector-module__add-user-button--2Sfjr","selector-by-label":"frontend-components-user_selector-module__selector-by-label--2I04e","user-selector-row":"frontend-components-user_selector-module__user-selector-row--1cxEh",selected:"frontend-components-user_selector-module__selected--CFkAw","selected-user-name":"frontend-components-user_selector-module__selected-user-name--6H1l1",invited:"frontend-components-user_selector-module__invited--2MoRl","remove-user-icon":"frontend-components-user_selector-module__remove-user-icon--3d1n-","remove-user-icon-expanded":"frontend-components-user_selector-module__remove-user-icon-expanded--1sNvo","remove-user-link":"frontend-components-user_selector-module__remove-user-link--2blqI","dropdown-menu-wrapper":"frontend-components-user_selector-module__dropdown-menu-wrapper--2yR_A","user-photo":"frontend-components-user_selector-module__user-photo--1rD4W","user-photo-expanded":"frontend-components-user_selector-module__user-photo-expanded--KaaM9","new-user-link":"frontend-components-user_selector-module__new-user-link--5IfSb","new-user-row":"frontend-components-user_selector-module__new-user-row--2368D","new-user-checkbox":"frontend-components-user_selector-module__new-user-checkbox--5xrV0","new-user-info":"frontend-components-user_selector-module__new-user-info--1kbzK","invite-guest-input":"frontend-components-user_selector-module__invite-guest-input--1YKFX","invite-guest-input-field":"frontend-components-user_selector-module__invite-guest-input-field--34L5P","dropdown-menu":"frontend-components-user_selector-module__dropdown-menu--3AC48","rotate-plus":"frontend-components-user_selector-module__rotate-plus--h9Joi","add-user-button-icon":"frontend-components-user_selector-module__add-user-button-icon--3sUAz","add-user-button-icon-cross":"frontend-components-user_selector-module__add-user-button-icon-cross--3QVAc","invite-blurb":"frontend-components-user_selector-module__invite-blurb--3gfDh",description:"frontend-components-user_selector-module__description--2gtIH",heading:"frontend-components-user_selector-module__heading--34wFe","invite-existing-users-container":"frontend-components-user_selector-module__invite-existing-users-container--38b6O","new-user-remove-link":"frontend-components-user_selector-module__new-user-remove-link--1uU3Q"},u=t(64),v=t(11),E=(U,L,j)=>new Promise((B,x)=>{var P=K=>{try{A(j.next(K))}catch(N){x(N)}},y=K=>{try{A(j.throw(K))}catch(N){x(N)}},A=K=>K.done?B(K.value):Promise.resolve(K.value).then(P,y);A((j=j.apply(U,L)).next())});const w=30,C=/.@./;class _ extends e.Component{constructor(L,j){super(L,j);this.select=B=>E(this,null,function*(){yield Object(h.setState)(this,x=>{var P;const y={user_id:B.id,is_guest:(P=B.is_byline_only)!=null?P:!1,is_draft:!0,post_id:this.props.postId,user:B};return{selected:x.selected.concat([y])}}),this.props.onChange&&this.props.onChange(this.state.selected,this.state.pendingInvites)}),this.saveInvite=B=>E(this,null,function*(){var x,P;try{!this.props.postId&&this.props.setPostId&&(yield this.props.setPostId());const y=this.state.options.filter(K=>K.email===B);if(y.length){if(this.state.selected.filter(K=>K.user_id===y[0].id).length){alert("User already selected");return}this.select(y[0]);return}const A=yield a.a.post("/api/v1/publication_user_invite/").send({email:B,post_id:this.props.postId});yield Object(h.setState)(this,{pendingInvites:this.state.pendingInvites.concat([A.body])}),(P=(x=this.props).onChange)==null||P.call(x,this.state.selected,this.state.pendingInvites)}catch(y){const A=Object(h.getNetworkErrorMessage)(y);if(A)alert(A);else throw y}}),this.removeInvitation=B=>E(this,null,function*(){try{yield a.a.delete(`/api/v1/publication_user_invite/${B}`),yield Object(h.setState)(this,{pendingInvites:this.state.pendingInvites.filter(x=>x.id!==B)}),this.props.onChange&&this.props.onChange(this.state.selected,this.state.pendingInvites)}catch(x){alert(Object(h.getNetworkErrorMessage)(x))}}),this.unselect=B=>E(this,null,function*(){yield Object(h.setState)(this,x=>({selected:x.selected.filter(P=>P.user_id!==B.user_id)})),this.props.onChange&&this.props.onChange(this.state.selected,this.state.pendingInvites)}),this.state={selected:L.selected?L.selected.slice(0):[],pendingInvites:L.pendingInvites?L.pendingInvites.slice(0):[],options:[]}}componentDidMount(){return E(this,null,function*(){yield this.fetchOptions()})}fetchOptions(){return E(this,null,function*(){let L;if(Array.isArray(this.props.options)?L=this.props.options:typeof this.props.options=="function"?L=yield this.props.options():L=yield this.props.options,L)for(const j of this.state.selected)L.find(B=>B.id===j.user_id)||L.unshift(j.user);yield Object(h.setState)(this,{options:L})})}getSelected(){return this.state.selected}getPendingInvites(){return this.state.pendingInvites}render(){const{className:L,isDisabled:j,isNewGuestPost:B,emptyPlaceholder:x,expandedView:P,postType:y}=this.props,{selected:A,pendingInvites:K}=this.state,N=this.state.selected.map(G=>G.user_id),Y=this.state.options&&this.state.options.filter(G=>!N.includes(G.id)),F=(A==null?void 0:A.length)+(K==null?void 0:K.length)<O.MAX_BYLINES;return Object(e.h)("div",{"data-testid":"user-selector",className:s()(r["user-selector"],L,{[r["no-selected-bylines"]]:!A.length&&!K.length,[r.disabled]:j})},P?Object(e.h)(T,{options:Y,pendingInvites:K,onSelect:this.select,unselect:this.unselect,onInvite:G=>this.saveInvite(G),removeInvitation:this.removeInvitation,selected:A,emptyPlaceholder:x,postType:y}):Object(e.h)(e.Fragment,null,A.map(G=>Object(e.h)(W,{user:G.user,onUnselect:()=>this.unselect(G)})),K.map(G=>Object(e.h)(H,{email:G.email,onUninvite:()=>this.removeInvitation(G.id)})),F&&Object(e.h)(M,{options:Y,onSelect:this.select,onInvite:G=>this.saveInvite(G),selected:A,emptyPlaceholder:x,isNewGuestPost:B,postType:y})))}}const T=({options:U,onSelect:L,unselect:j,onInvite:B,removeInvitation:x,selected:P,pendingInvites:y,postType:A,emptyPlaceholder:K})=>{const N=U.map(G=>({name:G.name,row:Object(e.h)(D,{selected:!1,user:G,onSelect:L})})),Y=P.map(G=>({name:G.user.name,row:Object(e.h)(k,{user:G.user,onUnselect:()=>j(G)})})),F=[...N,...Y].sort((G,X)=>(G.name||"").localeCompare(X.name||"")).map(G=>G.row);return Object(e.h)("div",{className:r["user-selector-expanded"]},Object(e.h)(R,{options:U,onSelect:G=>{L&&L(G)},onInvite:G=>{B(G)},emptyPlaceholder:K,postType:A,isExpanded:!0}),F,y.map(G=>Object(e.h)(g,{email:G.email,onUninvite:()=>x(G.id)})))},W=({user:U,onUnselect:L})=>Object(e.h)("span",{className:s()(r["user-selector-row"],r.selected),onClick:()=>L(U)},Object(e.h)("span",{className:r["selected-user-name"]},U.name),Object(e.h)("a",{className:r["remove-user-link"],href:"javascript:void(0)"},Object(e.h)(d.default,{className:r["remove-user-icon"],height:20}))),k=({user:U,onUnselect:L})=>Object(e.h)(D,{user:U,onSelect:()=>L(U),selected:!0}),$=()=>Object(e.h)("span",{className:s()(r["user-selector-row"],r.selected)},Object(e.h)("span",{className:r["selected-user-name"]},"Choose author"),Object(e.h)("a",{className:r["remove-user-link"],href:"javascript:void(0)"},Object(e.h)(p.default,{className:r["remove-user-icon"]}))),H=({email:U,onUninvite:L})=>Object(e.h)("span",{className:s()(r["user-selector-row"],r.invited),onClick:()=>L(U)},Object(e.h)("span",{className:r["selected-user-name"]},U," (pending)"),Object(e.h)("a",{className:r["remove-user-link"],href:"javascript:void(0)"},Object(e.h)(d.default,{className:r["remove-user-icon"],height:20}))),g=({email:U,onUninvite:L})=>Object(e.h)(v.c,{alignItems:"center",gap:12},Object(e.h)(d.default,{className:r["remove-user-icon-expanded"],onClick:()=>L(),height:30}),Object(e.h)("img",{class:r["user-photo"],src:Object(O.cloudinary)(b.DEFAULT_PHOTO_URL,w*2,{height:w*2,crop:"fill"}),alt:U}),Object(e.h)(n.b.B4,{color:"pub-secondary-text"},U," (pending)")),M=({options:U,onSelect:L,onInvite:j,selected:B,emptyPlaceholder:x,postType:P,isNewGuestPost:y=!1})=>{const A=Object(o.j)(null),[K,N]=Object(o.k)(!1),Y=B.length>0?()=>Object(e.h)(f.default,{className:s()(r["add-user-button-icon"],{[r["rotate-plus"]]:K}),height:40}):$;return Object(o.d)(()=>{y&&A.current&&A.current.open()},[y,A]),Object(e.h)("span",{className:r["user-selector-new"]},Object(e.h)("div",{className:r["add-user-button"],onClick:()=>{A.current&&A.current.toggle()}},Object(e.h)(Y,null)),Object(e.h)(c.b,{wrapperClassName:r["dropdown-menu-wrapper"],className:r["dropdown-menu"],ref:A,onToggle:()=>A.current&&N(A.current.isOpen()),noTail:!0},Object(e.h)(R,{options:U,onSelect:F=>{A.current&&A.current.close(),L&&L(F)},onInvite:F=>{A.current&&A.current.close(),j(F)},emptyPlaceholder:x,isOpen:K,postType:P})))},R=({options:U,emptyPlaceholder:L,onInvite:j,isOpen:B,onSelect:x,postType:P,isExpanded:y})=>{const A=Object(o.j)(null),[K,N]=Object(o.k)(!1),Y=Object(o.a)(()=>{var X;A.current&&N(C.test((X=A.current)==null?void 0:X.value))},[N,A]),F=()=>{j&&A.current&&(j(A.current.value),A.current.value="")};Object(o.d)(()=>{B===!0&&A.current&&(A.current.focus(),A.current.value="")},[B,A]);let G;return y||(U?G=U.sort((X,q)=>(X.name||"").localeCompare(q.name||"")).map(X=>Object(e.h)("a",{class:r["new-user-link"],href:"javascript:void(0)","data-user":X.id,onClick:()=>{x(X)}},Object(e.h)("img",{class:r["user-photo"],src:Object(O.cloudinary)(Object(b.getUserPhotoUrl)(X),w*2,{height:w*2,crop:"fill"}),alt:X.name||X.email}),Object(e.h)("span",{class:r["new-user-info"]},Object(e.h)(n.b,{weight:"normal",size:16,lineHeight:22,as:"span"},X.name||X.email)))):G=[Object(e.h)("a",{className:"secondary",href:"javascript:void(0)"},"Loading\u2026")]),Object(e.h)(e.Fragment,null,Object(e.h)("div",{class:r["invite-blurb"]},Object(e.h)("div",{class:r.heading},P==="podcast"?"Podcast guests":"Invite a guest writer to collaborate"),Object(e.h)("div",{class:r.description},P==="podcast"?"Listing who is in an episode helps you expand your reach.":"You may list guest writers on your posts once they accept your invitation.")),Object(e.h)("div",{class:r["invite-guest-input"]},Object(e.h)("input",{className:r["invite-guest-input-field"],type:"text",placeholder:L??"Invite guest writer via email...",ref:A,onChange:Y,onKeyDown:X=>{X.key==="Enter"&&F()}}),Object(e.h)("button",{className:s()("button","primary",{[r.disabled]:!K}),disabled:!K,onClick:F},P==="podcast"?"Add guest":"Invite")),y&&G?Object(e.h)("div",{className:r["invite-existing-users-container"]},G):G)},D=({selected:U,user:L,onSelect:j})=>Object(e.h)(u.a,{className:r["new-user-checkbox"],checked:U,onChange:()=>j(L),label:L.name?`${L.name} (${L.email})`:L.email,icon:Object(e.h)("img",{class:r["user-photo-expanded"],src:Object(O.cloudinary)(Object(b.getUserPhotoUrl)(L),w*2,{height:w*2,crop:"fill"}),alt:L.name||L.email}),name:"votes-hidden"})},,function(S,i,t){"use strict";t.d(i,"a",function(){return e}),t.d(i,"b",function(){return o});function e(l){var s,h;return l.link_title||((s=l.section)==null?void 0:s.name)||((h=l.post)==null?void 0:h.title)||""}function o(l){var s,h;return((s=l.section)==null?void 0:s.is_podcast)?"podcast":l.section?"newsletter":((h=l.post)==null?void 0:h.type)==="page"?"page":l.post?"post":"link"}},,,function(S,i,t){var e=t(211),o=t(188),l=t(157),s=t(601),h=t(602),c=t(281),d=t(603),p=t(149),f=t(61);function O(b,m,a){m.length?m=e(m,function(u){return f(u)?function(v){return o(v,u.length===1?u[0]:u)}:u}):m=[p];var n=-1;m=e(m,c(l));var r=s(b,function(u,v,E){var w=e(m,function(C){return C(u)});return{criteria:w,index:++n,value:u}});return h(r,function(u,v){return d(u,v,a)})}S.exports=O},function(S,i,t){var e=t(605),o=Math.max;function l(s,h,c){return h=o(h===void 0?s.length-1:h,0),function(){for(var d=arguments,p=-1,f=o(d.length-h,0),O=Array(f);++p<f;)O[p]=d[h+p];p=-1;for(var b=Array(h+1);++p<h;)b[p]=d[p];return b[h]=c(O),e(s,this,b)}}S.exports=l},function(S,i,t){var e=t(606),o=t(608),l=o(e);S.exports=l},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=u;var e=c(t(74)),o=c(t(325)),l=c(t(664)),s=c(t(639)),h=c(t(623));function c(v){return v&&v.__esModule?v:{default:v}}var d={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},p=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,O=/^[a-z\d]+$/,b=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,a=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,n=254;function r(v){var E=v.replace(/^"(.+)"$/,"$1");if(!E.trim())return!1;var w=/[\.";<>]/.test(E);if(w){if(E===v)return!1;var C=E.split('"').length===E.split('\\"').length;if(!C)return!1}return!0}function u(v,E){if((0,e.default)(v),E=(0,o.default)(E,d),E.require_display_name||E.allow_display_name){var w=v.match(p);if(w){var C=w[1];if(v=v.replace(C,"").replace(/(^<|>$)/g,""),C.endsWith(" ")&&(C=C.substr(0,C.length-1)),!r(C))return!1}else if(E.require_display_name)return!1}if(!E.ignore_max_length&&v.length>n)return!1;var _=v.split("@"),T=_.pop(),W=T.toLowerCase();if(E.host_blacklist.includes(W))return!1;var k=_.join("@");if(E.domain_specific_validation&&(W==="gmail.com"||W==="googlemail.com")){k=k.toLowerCase();var $=k.split("+")[0];if(!(0,l.default)($.replace(/\./g,""),{min:6,max:30}))return!1;for(var H=$.split("."),g=0;g<H.length;g++)if(!O.test(H[g]))return!1}if(E.ignore_max_length===!1&&(!(0,l.default)(k,{max:64})||!(0,l.default)(T,{max:254})))return!1;if(!(0,s.default)(T,{require_tld:E.require_tld})){if(!E.allow_ip_domain)return!1;if(!(0,h.default)(T)){if(!T.startsWith("[")||!T.endsWith("]"))return!1;var M=T.substr(1,T.length-2);if(M.length===0||!(0,h.default)(M))return!1}}if(k[0]==='"')return k=k.slice(1,k.length-1),E.allow_utf8_local_part?a.test(k):b.test(k);for(var R=E.allow_utf8_local_part?m:f,D=k.split("."),U=0;U<D.length;U++)if(!R.test(D[U]))return!1;return!(E.blacklisted_chars&&k.search(new RegExp("[".concat(E.blacklisted_chars,"]+"),"g"))!==-1)}S.exports=i.default,S.exports.default=i.default},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Menu",[["line",{x1:"4",y1:"12",x2:"20",y2:"12",key:"1q6rtp"}],["line",{x1:"4",y1:"6",x2:"20",y2:"6",key:"1jr6gt"}],["line",{x1:"4",y1:"18",x2:"20",y2:"18",key:"98tuvx"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Sliders",[["line",{x1:"4",y1:"21",x2:"4",y2:"14",key:"2cpl65"}],["line",{x1:"4",y1:"10",x2:"4",y2:"3",key:"1b26kg"}],["line",{x1:"12",y1:"21",x2:"12",y2:"12",key:"fxobwr"}],["line",{x1:"12",y1:"8",x2:"12",y2:"3",key:"bkspcw"}],["line",{x1:"20",y1:"21",x2:"20",y2:"16",key:"b7lt1r"}],["line",{x1:"20",y1:"12",x2:"20",y2:"3",key:"inamez"}],["line",{x1:"2",y1:"14",x2:"6",y2:"14",key:"tezuxb"}],["line",{x1:"10",y1:"8",x2:"14",y2:"8",key:"1w8tme"}],["line",{x1:"18",y1:"16",x2:"22",y2:"16",key:"1gnq8h"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]);i.a=o},,function(S,i,t){"use strict";t.d(i,"b",function(){return b}),t.d(i,"a",function(){return m});var e=t(0),o=t(2),l=t(89),s=t(77),h=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?h(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a};function b({hoverOptions:a,layerOptions:n}={}){const[r,u]=Object(o.k)(!1),[v,E]=Object(l.b)(O({delayEnter:100,delayLeave:300},a)),{triggerProps:w,layerProps:C,renderLayer:_,arrowProps:T}=Object(l.c)(O({isOpen:v,auto:!0,triggerOffset:10},n));return{layerProps:C,arrowProps:T,triggerProps:O(O({},w),E),transitionProps:{show:v,beforeEnter:()=>u(!0),afterLeave:()=>u(!1)},renderLayer:_,shouldShow:v||r}}function m(a){return Object(e.h)(s.c,O({appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-200 tw-transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-200 tw-transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},a))}},,function(S,i,t){var e=t(571);function o(l,s){if(!!l){if(typeof l=="string")return e(l,s);var h=Object.prototype.toString.call(l).slice(8,-1);if(h==="Object"&&l.constructor&&(h=l.constructor.name),h==="Map"||h==="Set")return Array.from(l);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return e(l,s)}}S.exports=o,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(e,o){(o==null||o>e.length)&&(o=e.length);for(var l=0,s=new Array(o);l<o;l++)s[l]=e[l];return s}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";i.__esModule=!0,i.stateify=i.TokenState=i.CharacterState=void 0;var e=t(298);function o(){return function(d){this.j=[],this.T=d||null}}var l=o();l.prototype={defaultTransition:!1,on:function(p,f){if(p instanceof Array){for(var O=0;O<p.length;O++)this.j.push([p[O],f]);return this}return this.j.push([p,f]),this},next:function(p){for(var f=0;f<this.j.length;f++){var O=this.j[f],b=O[0],m=O[1];if(this.test(p,b))return m}return this.defaultTransition},accepts:function(){return!!this.T},test:function(p,f){return p===f},emit:function(){return this.T}};var s=(0,e.inherits)(l,o(),{test:function(p,f){return p===f||f instanceof RegExp&&f.test(p)}}),h=(0,e.inherits)(l,o(),{jump:function(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=this.next(new p(""));return O===this.defaultTransition?(O=new this.constructor(f),this.on(p,O)):f&&(O.T=f),O},test:function(p,f){return p instanceof f}});function c(d,p,f,O){for(var b=0,m=d.length,a=p,n=[],r=void 0;b<m&&(r=a.next(d[b]));)a=r,b++;if(b>=m)return[];for(;b<m-1;)r=new s(O),n.push(r),a.on(d[b],r),a=r,b++;return r=new s(f),n.push(r),a.on(d[m-1],r),n}i.CharacterState=s,i.TokenState=h,i.stateify=c},function(S,i,t){"use strict";i.__esModule=!0;function e(){return function(o){o&&(this.v=o)}}i.createTokenClass=e},function(S,i,t){var e=t(575),o=t(175);function l(s,h){return s&&e(s,h,o)}S.exports=l},function(S,i,t){var e=t(596),o=e();S.exports=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Plus",[["line",{x1:"12",y1:"5",x2:"12",y2:"19",key:"myz83a"}],["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Heart",[["path",{d:"M20.42 4.58a5.4 5.4 0 0 0-7.65 0l-.77.78-.77-.78a5.4 5.4 0 0 0-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z",key:"3q7jk9"}]]);i.a=o},function(S,i,t){var e=t(321),o=t(681),l=t(274),s=9007199254740991,h=4294967295,c=Math.min;function d(p,f){if(p=l(p),p<1||p>s)return[];var O=h,b=c(p,h);f=o(f),p-=h;for(var m=e(b,f);++O<p;)f(O);return m}S.exports=d},function(S,i,t){"use strict";t.d(i,"a",function(){return f});var e=t(0),o=t(144),l=t(99),s=t(92),h=t(46),c=t(58),d=t(194),p=t(330);function f({user:O=void 0,children:b=void 0,siteConfigs:m={},hasThemedBackground:a=void 0,locale:n=void 0,experimentInfo:r={},portalRoot:u=void 0,shouldLoad:v=void 0}){return v===void 0&&(v=Boolean(O)),Object(e.h)(p.b,{value:{locale:n}},Object(e.h)(d.a,{value:{hasThemedBackground:a}},Object(e.h)(c.b,{siteConfigs:m,experimentInfo:r},Object(e.h)(s.a,{shouldLoad:v},Object(e.h)(o.b,{root:u},Object(e.h)(h.d,null,b))))))}},,function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Lock",[["rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",key:"biyj2e"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);i.a=o},,,,,function(S,i){function t(e,o){var l=-1,s=e.length;for(o||(o=Array(s));++l<s;)o[l]=e[l];return o}S.exports=t},function(S,i){function t(e,o){if(e==null)return{};var l={},s=Object.keys(e),h,c;for(c=0;c<s.length;c++)h=s[c],!(o.indexOf(h)>=0)&&(l[h]=e[h]);return l}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},,,function(S,i,t){var e=t(1115),o=t(883),l=o(function(s,h){return s==null?{}:e(s,h)});S.exports=l},,function(S,i,t){"use strict";t.d(i,"b",function(){return c}),t.d(i,"a",function(){return p});var e=t(0),o=t(7),l={childPublication:"frontend-main-pub_or_section_list-module__childPublication--3lm0m",details:"frontend-main-pub_or_section_list-module__details--1nIE9",subscribe:"frontend-main-pub_or_section_list-module__subscribe--1TjSF",logo:"frontend-main-pub_or_section_list-module__logo--2SVuW",info:"frontend-main-pub_or_section_list-module__info--wamy7",title:"frontend-main-pub_or_section_list-module__title--1T6la",link:"frontend-main-pub_or_section_list-module__link--7pz1q",description:"frontend-main-pub_or_section_list-module__description--2DsVG"},s=t(35),h=t(3);const c=(f,O)=>({logoUrl:f.podcast_art_url||f.logo_url||Object(h.getDefaultPodcastArtUrl)(),mainClickUrl:f.base_url,buttonClickUrl:O,name:f.podcast_title||f.name,description:f.podcast_description||f.hero_text}),d=({logoUrl:f,mainClickUrl:O,buttonClickUrl:b,name:m,description:a,showButton:n,buttonText:r,openInNewTab:u=!1})=>Object(e.h)("div",{className:l.childPublication},f&&Object(e.h)("img",{className:l.logo,src:Object(o.cloudinary)(f,144),alt:`${m} logo`}),Object(e.h)("div",{className:l.details},Object(e.h)("div",{className:l.info},Object(e.h)("div",{className:l.title},Object(e.h)("a",{className:l.link,href:O},m)),Object(e.h)("div",{className:l.description},a)),n&&Object(e.h)(s.a,{priority:"primary",className:l.subscribe,href:b,newTab:u},r))),p=({showButton:f,items:O,openInNewTab:b=!1,buttonText:m})=>Object(e.h)("div",{"data-testid":"child-pub-container"},O.map(a=>Object(e.h)(d,{logoUrl:a.logoUrl,mainClickUrl:a.mainClickUrl,buttonClickUrl:a.buttonClickUrl,name:a.name,description:a.description,buttonText:m,openInNewTab:b,showButton:f})))},,function(S,i,t){var e=t(178),o=e.Global;S.exports={name:"sessionStorage",read:s,write:h,each:c,remove:d,clearAll:p};function l(){return o.sessionStorage}function s(f){return l().getItem(f)}function h(f,O){return l().setItem(f,O)}function c(f){for(var O=l().length-1;O>=0;O--){var b=l().key(O);f(s(b),b)}}function d(f){return l().removeItem(f)}function p(){return l().clear()}},function(S,i,t){var e=t(178),o=e.Global,l=e.trim;S.exports={name:"cookieStorage",read:h,write:d,each:c,remove:p,clearAll:f};var s=o.document;function h(b){if(!b||!O(b))return null;var m="(?:^|.*;\\s*)"+escape(b).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(s.cookie.replace(new RegExp(m),"$1"))}function c(b){for(var m=s.cookie.split(/; ?/g),a=m.length-1;a>=0;a--)if(!!l(m[a])){var n=m[a].split("="),r=unescape(n[0]),u=unescape(n[1]);b(u,r)}}function d(b,m){!b||(s.cookie=escape(b)+"="+escape(m)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function p(b){!b||!O(b)||(s.cookie=escape(b)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){c(function(b,m){p(m)})}function O(b){return new RegExp("(?:^|;\\s*)"+escape(b).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(s.cookie)}},function(S,i){function t(e){return function(o,l,s){for(var h=-1,c=Object(o),d=s(o),p=d.length;p--;){var f=d[e?p:++h];if(l(c[f],f,c)===!1)break}return o}}S.exports=t},function(S,i,t){var e=t(170);function o(l,s){return function(h,c){if(h==null)return h;if(!e(h))return l(h,c);for(var d=h.length,p=s?d:-1,f=Object(h);(s?p--:++p<d)&&c(f[p],p,f)!==!1;);return h}}S.exports=o},function(S,i,t){var e=t(319),o=t(647),l=t(650),s=t(320),h=t(651),c=t(246),d=200;function p(f,O,b){var m=-1,a=o,n=f.length,r=!0,u=[],v=u;if(b)r=!1,a=l;else if(n>=d){var E=O?null:h(f);if(E)return c(E);r=!1,a=s,v=new e}else v=O?[]:u;e:for(;++m<n;){var w=f[m],C=O?O(w):w;if(w=b||w!==0?w:0,r&&C===C){for(var _=v.length;_--;)if(v[_]===C)continue e;O&&v.push(C),u.push(w)}else a(v,C,b)||(v!==u&&v.push(C),u.push(w))}return u}S.exports=p},function(S,i,t){var e=t(318),o=t(648),l=t(649);function s(h,c,d){return c===c?l(h,c,d):e(h,o,d)}S.exports=s},function(S,i,t){var e=t(134),o=t(190),l=t(61),s=e?e.isConcatSpreadable:void 0;function h(c){return l(c)||o(c)||!!(s&&c&&c[s])}S.exports=h},function(S,i,t){var e=t(384),o=t(170);function l(s,h){var c=-1,d=o(s)?Array(s.length):[];return e(s,function(p,f,O){d[++c]=h(p,f,O)}),d}S.exports=l},function(S,i){function t(e,o){var l=e.length;for(e.sort(o);l--;)e[l]=e[l].value;return e}S.exports=t},function(S,i,t){var e=t(604);function o(l,s,h){for(var c=-1,d=l.criteria,p=s.criteria,f=d.length,O=h.length;++c<f;){var b=e(d[c],p[c]);if(b){if(c>=O)return b;var m=h[c];return b*(m=="desc"?-1:1)}}return l.index-s.index}S.exports=o},function(S,i,t){var e=t(125);function o(l,s){if(l!==s){var h=l!==void 0,c=l===null,d=l===l,p=e(l),f=s!==void 0,O=s===null,b=s===s,m=e(s);if(!O&&!m&&!p&&l>s||p&&f&&b&&!O&&!m||c&&f&&b||!h&&b||!d)return 1;if(!c&&!p&&!m&&l<s||m&&h&&d&&!c&&!p||O&&h&&d||!f&&d||!b)return-1}return 0}S.exports=o},function(S,i){function t(e,o,l){switch(l.length){case 0:return e.call(o);case 1:return e.call(o,l[0]);case 2:return e.call(o,l[0],l[1]);case 3:return e.call(o,l[0],l[1],l[2])}return e.apply(o,l)}S.exports=t},function(S,i,t){var e=t(607),o=t(386),l=t(149),s=o?function(h,c){return o(h,"toString",{configurable:!0,enumerable:!1,value:e(c),writable:!0})}:l;S.exports=s},function(S,i){function t(e){return function(){return e}}S.exports=t},function(S,i){var t=800,e=16,o=Date.now;function l(s){var h=0,c=0;return function(){var d=o(),p=e-(d-c);if(c=d,p>0){if(++h>=t)return arguments[0]}else h=0;return s.apply(void 0,arguments)}}S.exports=l},function(S,i){let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return l*4+17},i.getSymbolTotalCodewords=function(l){return e[l]},i.getBCHDigit=function(o){let l=0;for(;o!==0;)l++,o>>>=1;return l},i.setToSJISFunction=function(l){if(typeof l!="function")throw new Error('"toSJISFunc" is not a valid function.');t=l},i.isKanjiModeEnabled=function(){return typeof t!="undefined"},i.toSJIS=function(l){return t(l)}},function(S,i,t){const e=t(885),o=t(886);i.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(h,c){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?h.ccBits[0]:c<27?h.ccBits[1]:h.ccBits[2]},i.getBestModeForData=function(h){return o.testNumeric(h)?i.NUMERIC:o.testAlphanumeric(h)?i.ALPHANUMERIC:o.testKanji(h)?i.KANJI:i.BYTE},i.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},i.isValid=function(h){return h&&h.bit&&h.ccBits};function l(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+s)}}i.from=function(h,c){if(i.isValid(h))return h;try{return l(h)}catch(d){return c}}},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("MessageCircle",[["path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z",key:"5iho0c"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ArrowLeft",[["line",{x1:"19",y1:"12",x2:"5",y2:"12",key:"17g05t"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ArrowRight",[["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",y1:"14",x2:"21",y2:"3",key:"19d9un"}]]);i.a=o},,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{height:u=16,width:v=16,stroke:E="black"}=r,w=m(r,["height","width","stroke"]);return Object(e.h)(o.a,b(O({},w),{name:"ChevronDownIcon",svgParams:{height:u,width:v,viewBox:"0 0 16 16"}}),"return ",Object(e.h)("path",{d:"M4 7L8 11L12 7",stroke:E,"stroke-linecap":"round","stroke-linejoin":"round"}),";")};i.default=a},,function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=p;var e=o(t(74));function o(f){return f&&f.__esModule?f:{default:f}}var l="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(l,"[.]){3}").concat(l),h=new RegExp("^".concat(s,"$")),c="(?:[0-9a-fA-F]{1,4})",d=new RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(s,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(s,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(s,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(s,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(s,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(s,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(s,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function p(f){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,e.default)(f),O=String(O),!O)return p(f,4)||p(f,6);if(O==="4"){if(!h.test(f))return!1;var b=f.split(".").sort(function(m,a){return m-a});return b[3]<=255}return O==="6"?!!d.test(f):!1}S.exports=i.default,S.exports.default=i.default},function(S,i,t){var e=t(125);function o(l,s,h){for(var c=-1,d=l.length;++c<d;){var p=l[c],f=s(p);if(f!=null&&(O===void 0?f===f&&!e(f):h(f,O)))var O=f,b=p}return b}S.exports=o},function(S,i){var t=Math.floor,e=Math.random;function o(l,s){return l+t(e()*(s-l+1))}S.exports=o},function(S,i,t){var e=t(655),o=t(175);function l(s){return s==null?[]:e(s,o(s))}S.exports=l},function(S,i,t){"use strict";var e=t(0),o=t(2),l=t(14),s=t.n(l),h=t(7),c=t.n(h),d=t(3),p=t.n(d),f=t(54),O=t(8),b=t.n(O),m=t(5),a=t(12),n=t(26),r=t(295),u=t(10),v=t.n(u),E=t(6),w=t.n(E),C=t(356),_=t(99),T=t(52),W=t(330),k=t(58),$=t(401),H=t(144),g=Object.defineProperty,M=Object.defineProperties,R=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,j=(F,G,X)=>G in F?g(F,G,{enumerable:!0,configurable:!0,writable:!0,value:X}):F[G]=X,B=(F,G)=>{for(var X in G||(G={}))U.call(G,X)&&j(F,X,G[X]);if(D)for(var X of D(G))L.call(G,X)&&j(F,X,G[X]);return F},x=(F,G)=>M(F,R(G)),P=(F,G)=>{var X={};for(var q in F)U.call(F,q)&&G.indexOf(q)<0&&(X[q]=F[q]);if(F!=null&&D)for(var q of D(F))G.indexOf(q)<0&&L.call(F,q)&&(X[q]=F[q]);return X},y=(F,G,X)=>new Promise((q,se)=>{var ie=ge=>{try{Ie(X.next(ge))}catch(oe){se(oe)}},Ee=ge=>{try{Ie(X.throw(ge))}catch(oe){se(oe)}},Ie=ge=>ge.done?q(ge.value):Promise.resolve(ge.value).then(ie,Ee);Ie((X=X.apply(F,G)).next())});const A=t(51),K=({className:F,baseRef:G,user:X,freeSignup:q,freeSignupEmail:se,pub:ie,hide_subscribe_cta:Ee,showCustomerSupportModeModal:Ie,hideNotifications:ge,isPublishContext:oe,fixedTooltip:ee=!0,signupForFreeVariant:te=null})=>{const le=Object(o.j)(null),Q=(X==null?void 0:X.is_global_admin)&&!(X==null?void 0:X.is_admin),z=(X==null?void 0:X.is_global_admin)&&(X==null?void 0:X.is_admin)&&!(X==null?void 0:X.is_author),V=Object(o.a)(()=>y(void 0,null,function*(){try{yield v.a.del("/api/v1/customer_support_mode"),document.location.href="/"}catch(re){alert(Object(O.getNetworkErrorMessage)(re))}}),[]),ne=Object(o.a)(()=>y(void 0,null,function*(){var re;(re=le.current)==null||re.open()}),[le]);return Object(e.h)("div",{className:w()("navbar-buttons",F),ref:G},Object(e.h)(k.a.Consumer,null,re=>Object(e.h)(W.a.Consumer,null,de=>Object(e.h)(e.Fragment,null,N({pub:ie,user:X,freeSignup:q,freeSignupEmail:se,hide_subscribe_cta:Ee,viralGiftsConfig:ie.viralGiftsConfig,isPublishContext:oe,localeContext:de,siteConfigContext:re,signupForFreeVariant:te}),!ge&&X&&!Object(O.isMobileBrowser)()&&Object(e.h)($.a,{fill:"borderless"}),Object(e.h)(C.a,{pub:ie,user:X,enableCustomerServiceMode:Q?ne:null,disableCustomerServiceMode:z?V:null,fixedTooltip:ee})))),Q&&Object(e.h)(H.a,null,Object(e.h)(n.a,{className:"account-info-customer-support-mode-modal",ref:le,openByDefault:Ie&&Q},Object(e.h)(r.a,{redirect:Object(d.getQueryItem)("redirect")||"/publish",onCancel:re=>{var de;return(de=le.current)==null?void 0:de.close(re)}}))))};function N({user:F,pub:G,freeSignup:X,freeSignupEmail:q,hide_subscribe_cta:se,viralGiftsConfig:ie,isPublishContext:Ee,signupForFreeVariant:Ie}){var ge,oe,ee,te,le,Q;G.invite_only&&!((F==null?void 0:F.subscription_id)||(F==null?void 0:F.is_free_subscribed))&&(se=!0);const z=F==null?void 0:F.is_contributor,V=(F==null?void 0:F.is_subscribed)||z,ne=(F==null?void 0:F.is_free_subscribed)||X,re=A.paymentsAreEnabled(G)&&V&&["gift","comp"].includes(F.subscription_type)&&s()(F.subscription_expiry).subtract(30,"days").isBeforeNow(),de=A.paymentsAreEnabled(G)&&A.userIsFreeOnly(F)&&F.comp_expired_recently,fe=(F==null?void 0:F.is_free_subscribed)&&(F==null?void 0:F.is_paused);if(z){const we=Object(e.h)(Y,{className:"outline",href:Object(d.getDashboardUrl)(G,{addBase:!0}),"data-testid":"menu-dashboard-button"},"Dashboard");return Ee?[]:!G.has_posts&&!Object(O.isMobileBrowser)()?[Object(e.h)(Y,{className:"primary fill new-post-btn",href:Object(d.getCreatePostUrl)(G,{type:"newsletter"})},"New post"),we]:we}else{if(fe)return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",href:Object(d.getCancelOrUncancelUrl)(G,{addBase:!0})},"Unpause My Subscription");if(re||de){if(!se)return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",href:Object(d.getSubscribeUrl)(G,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:Object(d.getQueryItem)("referring_pub_ids"),addBase:!0})},Object(e.h)("span",{className:"mobile-only"},"Subscribe"),Object(e.h)("span",{className:"desktop-only"},"Continue your support"))}else if(A.paymentsAreEnabled(G)&&ne&&!V&&!["thedispatch","thebulwark"].includes(G.subdomain)){if(!se)return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",href:Object(d.getSubscribeUrl)(G,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:Object(d.getQueryItem)("referring_pub_ids"),addBase:!0})},Object(h.getSubscribeText)(G,{isFreeSubscribed:!0,isMobile:Object(O.isMobileBrowser)()}))}else if(A.paymentsAreEnabled(G)?!V:!(ne||V)){if(!se){const we=(ee=(oe=(ge=Object(d.getQueryItem)("referring_pub_ids"))==null?void 0:ge.split)==null?void 0:oe.call(ge,","))==null?void 0:ee[0],Ge=(Q=(le=(te=Object(d.getQueryItem)("referring_pub_ids"))==null?void 0:te.split)==null?void 0:le.call(te,","))==null?void 0:Q.slice(1);return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",onClick:()=>y(this,null,function*(){const $e=F&&!F.is_magic&&F.email||q;if($e){try{yield v.a.post("/api/v1/free").send({source:"menu",email:$e,first_url:_.d,first_referrer:_.c,current_url:_.b,current_referrer:_.a,referring_pub_id:we,additional_referring_pub_ids:Ge})}catch(it){Object(m.i)(m.a.FREE_SIGNUP_FAILED,{reason:it.message})}window.location.href=Object(d.getSubscribeUrl)(G,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0})}else window.location.href=Object(d.getSubscribeUrl)(G,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:Object(d.getQueryItem)("referring_pub_ids"),addBase:!0})})},Object(h.getSubscribeText)(G,{isFreeSubscribed:ne,isMobile:Object(O.isMobileBrowser)(),signupForFreeVariant:Ie}))}}else{if(G.invite_only&&V&&F.invites<G.subscriber_invites)return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",className:"primary",href:Object(d.getInviteUrl)(G)},Object(e.h)("span",null,Object(h.pluralize)(G.subscriber_invites-F.invites,"invite")," left"));if(A.paymentsAreEnabled(G)&&!G.invite_only)return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",href:ie?Object(f.getGiftsUrl)({pub:G}):Object(d.getSubscribeUrl)(G,{utm_source:"menu",gift:!0,next:document.location.href,addBase:!0})},Object(e.h)("span",{className:"mobile-only"},"Give gift"),Object(e.h)("span",{className:"desktop-only"},"Gift a subscription"));if(G.is_on_substack&&!(F==null?void 0:F.has_publication))return Object(e.h)(Y,{"data-testid":"noncontributor-cta-button",href:Object(d.getStartPublishingUrl)({utm_source:"menu"})},"Start publishing")}}return null}function Y(F){var G=F,{className:X="primary subscribe-cta subscribe-btn"}=G,q=P(G,["className"]);const se=Object(T.getVariantFor)("rounded_ctas")==="treatment";return Object(e.h)(a.b,x(B({},q),{className:w()(X,se&&"rounded-btn")}))}i.a=K},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},O),Object(e.h)("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.d(i,"a",function(){return h});var e=t(0),o=(f,O,b)=>new Promise((m,a)=>{var n=v=>{try{u(b.next(v))}catch(E){a(E)}},r=v=>{try{u(b.throw(v))}catch(E){a(E)}},u=v=>v.done?m(v.value):Promise.resolve(v.value).then(n,r);u((b=b.apply(f,O)).next())});const l="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let s=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=d);class h extends e.Component{componentDidMount(){return o(this,null,function*(){yield p(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:O}){return Object(e.h)("div",{className:O})}}function c(){const f=document.getElementsByTagName("script")[0],O=document.createElement("script");O.type="text/javascript",O.async=!0,O.defer=!0,O.src=l,f.parentNode.insertBefore(O,f)}function d(){if(s){const f=s;s=!0;for(const O of f)O()}}function p(){return new Promise(f=>{s===!0?f():s===!1?(s=[f],c()):s.push(f)})}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"LeftArrowIcon",svgParams:{height:20,width:20}}),Object(e.h)("path",{d:"M9.99996 4.16675L4.16663 10.0001L9.99996 15.8334",stroke:"#666666","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M15.8333 10L4.16663 10",stroke:"#666666","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#757575",strokeWidth:v="1.5",height:E=24,width:w=24}=r,C=m(r,["stroke","strokeWidth","height","width"]);return Object(e.h)(o.a,b(O({},C),{name:"NoResultsIcon",svgParams:{height:E,width:w,viewBox:"0 0 24 24"}}),Object(e.h)("path",{d:"M15.9286 15.9286L23 23M18.2857 9.64286C18.2857 14.4162 14.4162 18.2857 9.64286 18.2857C4.86954 18.2857 1 14.4162 1 9.64286C1 4.86954 4.86954 1 9.64286 1C14.4162 1 18.2857 4.86954 18.2857 9.64286Z",stroke:u,"stroke-width":v,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M6.49937 6.5L12.5363 12.537",stroke:u,"stroke-width":v,"stroke-linecap":"round"}),Object(e.h)("path",{d:"M12.5364 6.5L6.49947 12.537",stroke:u,"stroke-width":v,"stroke-linecap":"round"}))};i.default=a},function(S,i,t){"use strict";t.d(i,"a",function(){return R});var e=t(0),o=t(7),l=t(3),s=t(8),h=t(5),c=t(660),d=t(6),p=t.n(d);class f{constructor(U){this._obj=U}truncatedName(){return Object(o.truncateText)(this._obj.name,30)}isPodcast(){throw new Error("not implemented")}isSelected(U,L){throw new Error("not implemented")}isHidden(){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}get item(){return this._obj}}class O extends f{isPodcast(){return this._obj.type==="podcast"}isSelected(U){return this._obj.id===U.id}isHidden(){return!1}isNative(){return!0}homepageUrl(){return Object(l.getBaseUrl)(this._obj)}}class b extends f{constructor(U,L){super(U)}isPodcast(){return!0}isSelected(U,L){return this._obj.id===L}isHidden(){return!1}isNative(){return!0}homepageUrl(){return Object(l.getBaseUrl)(this._obj)}}class m extends f{constructor(U,L){super(U);this._homepageUrl=Object(l.getSectionUrl)(L,{section:U})}isPodcast(){return this._obj.is_podcast}isSelected(U,L){return this._obj.id===L}isHidden(){return!this._obj.is_live}isNative(){return!0}homepageUrl(){return this._homepageUrl}}class a extends f{constructor(U,L){super(U);this._maybeNoFollow=U.noFollow,this._pubTier=(L==null?void 0:L.tier)||0}isPodcast(){return!1}isSelected(U,L){return[this._obj.id,this._obj.url].includes(L)}isHidden(){return!1}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}var r=({pub:D,selectedSectionId:U,sectionLinks:L,isPublishContext:j})=>{const B=L.map(x=>x.base_url?new O(x):x.name&&x.id&&x.url?new a(x,D):x.isPubPodcast?new b(x):new m(x,D));return Object(e.h)(c.a,{items:B.filter(x=>!x.isHidden()).map(x=>({label:x.truncatedName(),href:x.homepageUrl(),slug:x.item.id,isNative:x.isNative(),noFollow:x.noFollow()})),className:p()("sections-overflow",{"publish-menu":j}),height:48,selectedSlug:U,fudgeFactor:8,useHorizontalScrolling:j})},u=t(43),v=t(552),E=t(627),w=t(117),C=Object.defineProperty,_=(D,U,L)=>U in D?C(D,U,{enumerable:!0,configurable:!0,writable:!0,value:L}):D[U]=L,T=(D,U,L)=>(_(D,typeof U!="symbol"?U+"":U,L),L),W,k,$,H;const g=t(51),M=(D,U)=>{var L,j;return((L=D.sibling_rank)!=null?L:1/0)-((j=U.sibling_rank)!=null?j:1/0)||(D.name<U.name?-1:D.name>U.name?1:0)};class R extends e.Component{constructor(){super(...arguments);T(this,"menuHeight",0),T(this,"state",{animated:!0,hiding:Boolean(typeof window!="undefined"&&(((k=(W=window.location.hash)==null?void 0:W.startsWith)==null?void 0:k.call(W,"#footnote"))||((H=($=window.location.hash)==null?void 0:$.startsWith)==null?void 0:H.call($,"#tiktok"))))}),T(this,"onClick",U=>{var L,j;(((L=U.target)==null?void 0:L.classList.contains("footnote-number"))||((j=U.target)==null?void 0:j.classList.contains("footnote-anchor")))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),T(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const U=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,L=document.body.clientWidth,j=this.buttonsContainer.getBoundingClientRect().width,B=L>630,x=B?24*2:12*2,P=B&&.5*L-j-x>.5*U;this.setState({buttonsContainerWidth:P?`${j}px`:"auto",centerTitle:P})}),T(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const U=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const L=Math.max(this.scrollTop,0);if(this.scrollTop<=0||Object(s.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=Object(s.maxScroll)()))if(this.scrollTop<U){const j=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>L?(this.menuTop=L,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<j)&&(this.menuTop=j,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>U&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=L,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<L-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),T(this,"onHeadlineClick",U=>{this.publicationPicker?(U.preventDefault(),this.publicationPicker.open()):Object(h.i)(h.a.NAV_BAR_HOME_LINK_CLICKED)}),T(this,"hide",()=>{const U=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=U-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})}),T(this,"getSectionLinks",()=>{var U,L;const{isPublishContext:j,pub:B,user:x,isChatActive:P}=this.props,y=[];if(j)y.push({id:Object(l.getDashboardUrl)(B),url:Object(l.getDashboardUrl)(B),name:"Posts"},{id:"/publish/podcasting",url:Object(l.getPodcastingUrl)(B,{addBase:!0}),name:"Podcast"},{id:"/publish/subscribers",url:Object(l.getSubscriberStatsUrl)(B,{addBase:!0}),name:"Subscribers"}),x&&x.is_admin&&(y.push({id:"/publish/stats",url:"/publish/stats",name:"Stats"}),y.push({id:"/publish/recommendations",url:"/publish/recommendations",name:"Recommendations"}),y.push({id:"/publish/settings",url:Object(l.getPublishSettingsUrl)(B,{addBase:!0}),name:"Settings"}));else{if((U=B.child_publications)==null?void 0:U.length)y.push({id:"/home",url:"/",name:"Home"},...B.child_publications.sort(M));else if(B.parent_publication||((L=B.sibling_publications)==null?void 0:L.length)){const A=[B,...B.sibling_publications].sort(M).map(K=>K.id===B.id?{id:"/home",url:"/",name:B.name}:K);y.push({id:"/parent",url:Object(l.getBaseUrl)(B.parent_publication),name:"Home"},...A)}else y.push({id:"/home",url:"/",name:"Home"}),B.podcast_enabled&&B.show_pub_podcast_tab&&y.push({id:"/podcast",url:"/podcast",name:"Podcast",isPubPodcast:!0});P&&!Object(w.isAndroid)()&&y.push({id:"/chat",url:"/chat",name:"Chat"});for(const A of B.navigationBarItems||[]){const K=Object(v.b)(A);if(A.section_id){const N=B.sections.find(Y=>Y.id===A.section_id);N&&y.push(N)}else{const N=Object(l.getNavigationBarItemUrl)(B.parent_publication||B,A,{addBase:!0});y.push({id:N,url:N,name:Object(v.a)(A),noFollow:K==="link"})}}y.push({id:"/archive",url:Object(l.getBaseArchiveUrl)(B,{addBase:!0}),name:"Archive"},{id:"/about",url:Object(l.getAboutUrl)(B,{addBase:!0}),name:"About"})}return y})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return g.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:U,user:L,freeSignup:j,freeSignupEmail:B,pub:x,publicationPicker:P,publicationPickerPath:y,selectedSectionId:A,lowChrome:K,hide_subscribe_cta:N,isPublishContext:Y,hideTitle:F,showCustomerSupportModeModal:G,signupForFreeVariant:X},{animated:q,buttonsContainerWidth:se,centerTitle:ie}){const Ee=!P&&(x==null?void 0:x.parent_publication)||x,Ie=(Ee.parent_publication||Ee).subdomain==="thedispatch"&&Ee.logo_url_wide,ge=Ie?null:Ee.logo_url,oe=typeof window=="undefined";return Object(e.h)("div",{"data-testid":"navbar",className:p()("main-menu",U,{animated:q,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":K})},Object(e.h)("div",{className:"main-menu-content",ref:ee=>this.menuContent=ee},Object(e.h)("div",{className:"topbar"},Object(e.h)("div",{className:"topbar-content"},P&&!K&&(x.parent_publication||x.child_publications.length>0)&&Object(e.h)(u.b,{ref:ee=>this.publicationPicker=ee,className:"publication-picker",noPlace:!0,noTail:!0},[x,x.parent_publication].concat(x.child_publications.concat(x.sibling_publications).sort((ee,te)=>ee.name.toLowerCase().localeCompare(te.name.toLowerCase()))).filter(ee=>ee).map(ee=>Object(e.h)("a",{href:ee.base_url+(ee.id===x.id?"/":y||"/")},ee.name))),!K&&Object(e.h)(e.Fragment,null,Object(e.h)("div",{class:p()("navbar-logo-container",ge?"":"no-logo"),style:{width:se}},ge&&Object(e.h)("a",{href:Object(l.getBaseUrl)(Ee),onClick:this.onHeadlineClick},Object(e.h)("img",{className:"navbar-logo",src:Object(o.cloudinary)(ge,96)}))),!F&&Object(e.h)("h1",{className:p()("navbar-title",{"left-align":!ie,loading:oe})},Object(e.h)("a",{class:"navbar-title-link",href:Object(l.getBaseUrl)(Ee),ref:ee=>this.largeMenuPubTitle=ee},Ee.logo_url_wide?Object(e.h)("img",{className:`navbar-logo-wordmark ${Ee?"":"substack-logo-wordmark"} ${Ie?"navbar-logo-wordmark-big":""}`,src:Object(o.cloudinary)(Ee?Ee.logo_url_wide:"/img/substack_wordmark.png?v=2",28*2*5.25,{height:28*2,crop:"limit"}),alt:Ee?Ee.name:"Substack"}):Ee.name)),Object(e.h)(E.a,{baseRef:ee=>this.buttonsContainer=ee,user:L,freeSignup:j,freeSignupEmail:B,hide_subscribe_cta:N,isPublishContext:Y,pub:x,signupForFreeVariant:X,showCustomerSupportModeModal:G}))),this.shouldShowSectionsNavBar()&&Object(e.h)(r,{pub:x,selectedSectionId:A,sectionLinks:this.getSectionLinks(),isPublishContext:Y}))),Object(e.h)("div",{className:"topbar-spacer"}))}}},,function(S,i,t){"use strict";t.d(i,"c",function(){return A}),t.d(i,"a",function(){return N}),t.d(i,"b",function(){return Y});var e=t(3),o=t(7),l=t(311),s=t(12),h=t(813),c=t(242),d=t(84),p=t(109),f=t(8),O=t(193),b=t(0),a=({pub:F})=>Object(b.h)("div",{className:"section-header"},Object(b.h)("div",{className:"section-logo-and-name"},Object(b.h)("img",{className:"logo desktop-only",src:Object(o.cloudinary)(F.podcast_art_url,72*2),alt:F.podcast_title}),Object(b.h)("img",{className:"logo mobile-only",src:Object(o.cloudinary)(F.podcast_art_url,48*2),alt:F.podcast_title}),Object(b.h)("h2",null,F.podcast_title)),Object(b.h)("p",null,F.podcast_description)),r=({section:F})=>{var G;return Object(b.h)("div",{className:"section-header"},Object(b.h)("div",{className:"section-logo-and-name"},(F.logo_url||((G=F.podcastSettings)==null?void 0:G.podcast_art_url))&&[Object(b.h)("img",{className:"logo desktop-only",src:Object(o.cloudinary)(F.logo_url||F.podcastSettings.podcast_art_url,72*2),alt:F.name}),Object(b.h)("img",{className:"logo mobile-only",src:Object(o.cloudinary)(F.logo_url||F.podcastSettings.podcast_art_url,48*2),alt:F.name})],Object(b.h)("h2",null,F.name)),Object(b.h)("p",null,F.description))},u=t(6),v=t.n(u),E=t(290),w=t.n(E),C=t(376),_=t.n(C),T=t(142),W=t.n(T),k=t(10),$=t.n(k),H=t(697),g=t(748),M=t(69),R=t(291),D=Object.defineProperty,U=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,B=(F,G,X)=>G in F?D(F,G,{enumerable:!0,configurable:!0,writable:!0,value:X}):F[G]=X,x=(F,G)=>{for(var X in G||(G={}))L.call(G,X)&&B(F,X,G[X]);if(U)for(var X of U(G))j.call(G,X)&&B(F,X,G[X]);return F},P=(F,G,X)=>(B(F,typeof G!="symbol"?G+"":G,X),X),y=(F,G,X)=>new Promise((q,se)=>{var ie=ge=>{try{Ie(X.next(ge))}catch(oe){se(oe)}},Ee=ge=>{try{Ie(X.throw(ge))}catch(oe){se(oe)}},Ie=ge=>ge.done?q(ge.value):Promise.resolve(ge.value).then(ie,Ee);Ie((X=X.apply(F,G)).next())});class A extends b.Component{constructor(G,X){super(G,X);P(this,"loadPinnedPosts",()=>Object(f.stateTransaction)(this,q=>y(this,null,function*(){var se;if(q.pinnedPosts)return;let ie=$.a.get("/api/v1/archive").query(x({sort:"pinned",sectionId:(se=this.props.pub.section)==null?void 0:se.id},this.props.pub.multiple_pins?{}:{limit:1})).then(Ee=>Ee.body);this.setState({pinnedPosts:ie});try{ie=yield ie,ie.length===0&&(ie=null)}catch(Ee){console.error("Failed to fetch pinned posts:",Ee),ie=null}this.setState({pinnedPosts:ie})}))),P(this,"loadLatestChildPosts",()=>Object(f.stateTransaction)(this,(q,se)=>y(this,null,function*(){if(se.pub.child_publications.length===0||q.latestChildPosts)return;let ie=$.a.get("/api/v1/posts/latest_child_posts").then(Ee=>Ee.body);try{ie=yield ie,ie.length===0&&(ie=null)}catch(Ee){console.error("Failed to fetch child publications:",Ee),ie=null}this.setState({latestChildPosts:ie})}))),P(this,"loadHomepageLinks",()=>Object(f.stateTransaction)(this,(q,se)=>y(this,null,function*(){if(!(q.homepageLinks||se.pub.section))try{const ie=yield $.a.get("/api/v1/homepage_links").then(Ee=>Ee.body);this.setState({homepageLinks:ie})}catch(ie){console.error("Failed to fetch homepage links:",ie)}}))),P(this,"onChange",({post:q})=>{!q||Object(f.stateTransaction)(this,se=>{let ie=!1;const Ee=[se.pinnedPosts,se.latestChildPosts].filter(Ie=>Array.isArray(Ie));for(const Ie of Ee){const ge=Ie.findIndex(oe=>oe.id===q.id);ge!==-1&&(Ie[ge]=q,ie=!0)}ie&&this.setState({pinnedPosts:se.pinnedPosts,latestChildPosts:se.latestChildPosts})})}),P(this,"_hidePrivatePosts",()=>{const{user:q,pub:se}=this.props;return!(q&&q.is_subscribed)&&o.hidePaidPostsFor.includes(se==null?void 0:se.subdomain)}),this.state={pinnedPosts:this.props.pinnedPosts,latestChildPosts:this.props.latestChildPosts,homepageLinks:this.props.homepageLinks},this.props.notify_user&&typeof window!="undefined"&&Object(M.b)(this.props.notify_user)}componentDidMount(){this.triggerShareOnLoad(),this.loadPinnedPosts(),this.loadLatestChildPosts(),this.loadHomepageLinks(),this.setShowWelcome()}setShowWelcome(){typeof window!="undefined"&&this.props.showWelcome&&(this.setState({showWelcome:!0}),Object(f.removeQueryParam)("showWelcome"))}triggerShareOnLoad(){if(Object(e.getQueryItem)("action")==="share")window.history.replaceState({},document.title,Object(e.updateQuery)({action:null}));else return;this.setState({shareOnLoad:!0}),this.shareDialog.open()}render({user:G,pub:X,freeSignup:q,freeSignupEmail:se,hide_intro_popup:ie,newPosts:Ee,sort:Ie,search:ge,children:oe,disableInteractive:ee,referralCampaign:te,referralCode:le,isPubPodcast:Q,includePinnedPosts:z,recommendations:V,numRecommendations:ne,noBalanceHeroText:re,blurbs:de},{shareOnLoad:fe,pinnedPosts:we,latestChildPosts:Ge,homepageLinks:$e}){var it;const{section:st}=X,Rt=!Array.isArray(we),Ht=Object(o.group_by)(Array.isArray(Ge)?Ge:[],"pub.type");let je,Oe;const be=we;Rt||(Oe=new Set(we.map(Se=>Se.id)),[je,...we]=we);const he=!st&&$e&&$e.length>0,Ce=Boolean(V==null?void 0:V.length)&&X.show_recs_on_homepage,De=he||Ce;return Object(b.h)("div",{className:v()("home-page",{"has-right-column":De})},Object(b.h)(O.a,{publication:this.props.pub,twitterCardUrl:Object(e.getTwitterSubscribeCardUrl)(this.props.pub)}),Object(b.h)(Y,{pub:X}),oe,Object(b.h)(p.a,{ref:Se=>this.shareDialog=Se,user:G,pub:X}),Object(b.h)(c.c,{freeSignup:q,freeSignupEmail:se,user:G,post:null,publication:X,hidden:ie||fe,referralCode:le,showOnMount:this.props.showWelcome||this.state.showWelcome,blurbs:de,noBalance:re,isAudio:Q}),Rt?Object(b.h)(d.f,{className:"home-big-post",pub:X}):!je&&!st?Object(b.h)("div",{className:"container"},Object(b.h)("p",{className:"home-coming-soon"},"Coming soon")):[st?Object(b.h)(r,{section:st}):Q?Object(b.h)(a,{pub:X}):Object(b.h)(d.e,{className:"home-big-post",post:je,pub:X,user:G,showCoverImage:!0,coverImageOptional:!0,authorInMeta:Object(o.getBylineUsers)(je).length<=1,maxTitleLength:X.subdomain==="sinocism"?69:92,maxDescriptionLength:X.subdomain==="sinocism"?240:280,imageAssetSize:900,onChange:this.onChange,disableInteractive:ee,isBigPost:!0}),Object(b.h)("div",{className:v()("container home-container",{"has-right-column":De})},Object(b.h)("div",{className:"home-posts"},Array.isArray(we)&&we.length>0&&!Q&&Object(b.h)("div",{className:"home-posts-pinned"},we.map(Se=>Object(b.h)(d.e,{className:"home-posts-post",post:Se,pub:X,user:G,showDate:!0,showCoverImage:!0,onChange:this.onChange,disableInteractive:ee}))),Object(b.h)("div",{className:"home-posts-columns"},Object(b.h)(l.a,{className:"home-posts-column-left",user:G,freeSignup:q,freeSignupEmail:se,pub:X,maxPosts:7,filterPosts:Se=>st?!0:this._hidePrivatePosts()&&Se.audience!=="everyone"?!1:z?!0:Object(o.shouldHidePostFromArchive)(Se)?!1:!Oe.has(Se.id),pinnedPosts:be,showPins:Boolean(st),hideCoverImage:De&&!X.image_thumbnails_always_enabled,sort:Ie,search:ge,newPosts:Ee,onChange:this.onChange,stateInUrl:!0,disableInteractive:ee,sectionId:(it=X==null?void 0:X.section)==null?void 0:it.id,source:"homepage",emptyMessage:Q&&"No episodes",isBelowTheFold:!0,isPubPodcast:Q}),De&&Object(b.h)("div",{className:"home-right-column"},Ce&&Object(b.h)(H.b,{recommendations:V,numRecommendations:ne,pub:X,user:G}),Object(b.h)(N,{homepageLinks:$e,pub:X}))))),Object(b.h)("div",{className:"full-container-border mobile-only"}),!st&&Object(b.h)(g.a,{className:"container",pub:X,user:G,freeSignup:q,freeSignupEmail:se})])}}const K=({group:F,items:G,newTab:X,pub:q})=>{const se=[];let ie=null;X&&(ie="_blank",se.push("noopener noreferrer")),(!q||(q==null?void 0:q.no_follow))&&se.push("ugc nofollow");const Ee={rel:se.join(" "),target:ie};return Object(b.h)("div",{className:"home-right-group"},Object(b.h)("div",{className:"home-right-group-title"},F),G.map(({title:Ie,url:ge,subtitle:oe,subtitleUrl:ee,edit:te,className:le})=>Object(b.h)("div",{className:v()("home-right-col",le)},te?Object(b.h)("div",{className:"home-right-col-editable"},Object(b.h)("a",{className:"home-right-col-title",href:ge,native:!0},Ie),Object(b.h)(s.b,{className:"button secondary show-on-hover",href:te,title:"edit"},Object(b.h)(h.default,{height:20,width:20,stroke:"#aaa"}))):Object(b.h)("a",x({className:"home-right-col-title",href:ge,native:!0},Ee),Ie),oe&&Object(b.h)("a",x({className:"home-right-col-sub",href:ee||ge,native:!0},Ee),oe))))},N=({homepageLinks:F,pub:G})=>{const X=_()(F,"group");return W()(Object.keys(X),se=>se[0].rank).map(se=>Object(b.h)(K,{group:se,items:X[se],pub:G,newTab:!0}))},Y=({pub:F})=>Object(b.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:w()(Object(R.c)(F),{json:!0,isScriptContext:!0})}})},function(S,i,t){"use strict";i.byteLength=p,i.toByteArray=f,i.fromByteArray=m;for(var e=[],o=[],l=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,c=s.length;h<c;++h)e[h]=s[h],o[s.charCodeAt(h)]=h;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63;function d(a){var n=a.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return a[n-2]==="="?2:a[n-1]==="="?1:0}function p(a){return a.length*3/4-d(a)}function f(a){var n,r,u,v,E,w=a.length;v=d(a),E=new l(w*3/4-v),r=v>0?w-4:w;var C=0;for(n=0;n<r;n+=4)u=o[a.charCodeAt(n)]<<18|o[a.charCodeAt(n+1)]<<12|o[a.charCodeAt(n+2)]<<6|o[a.charCodeAt(n+3)],E[C++]=u>>16&255,E[C++]=u>>8&255,E[C++]=u&255;return v===2?(u=o[a.charCodeAt(n)]<<2|o[a.charCodeAt(n+1)]>>4,E[C++]=u&255):v===1&&(u=o[a.charCodeAt(n)]<<10|o[a.charCodeAt(n+1)]<<4|o[a.charCodeAt(n+2)]>>2,E[C++]=u>>8&255,E[C++]=u&255),E}function O(a){return e[a>>18&63]+e[a>>12&63]+e[a>>6&63]+e[a&63]}function b(a,n,r){for(var u,v=[],E=n;E<r;E+=3)u=(a[E]<<16)+(a[E+1]<<8)+a[E+2],v.push(O(u));return v.join("")}function m(a){for(var n,r=a.length,u=r%3,v="",E=[],w=16383,C=0,_=r-u;C<_;C+=w)E.push(b(a,C,C+w>_?_:C+w));return u===1?(n=a[r-1],v+=e[n>>2],v+=e[n<<4&63],v+="=="):u===2&&(n=(a[r-2]<<8)+a[r-1],v+=e[n>>10],v+=e[n>>4&63],v+=e[n<<2&63],v+="="),E.push(v),E.join("")}},function(S,i){i.read=function(t,e,o,l,s){var h,c,d=s*8-l-1,p=(1<<d)-1,f=p>>1,O=-7,b=o?s-1:0,m=o?-1:1,a=t[e+b];for(b+=m,h=a&(1<<-O)-1,a>>=-O,O+=d;O>0;h=h*256+t[e+b],b+=m,O-=8);for(c=h&(1<<-O)-1,h>>=-O,O+=l;O>0;c=c*256+t[e+b],b+=m,O-=8);if(h===0)h=1-f;else{if(h===p)return c?NaN:(a?-1:1)*(1/0);c=c+Math.pow(2,l),h=h-f}return(a?-1:1)*c*Math.pow(2,h-l)},i.write=function(t,e,o,l,s,h){var c,d,p,f=h*8-s-1,O=(1<<f)-1,b=O>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=l?0:h-1,n=l?1:-1,r=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=O):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+b>=1?e+=m/p:e+=m*Math.pow(2,1-b),e*p>=2&&(c++,p/=2),c+b>=O?(d=0,c=O):c+b>=1?(d=(e*p-1)*Math.pow(2,s),c=c+b):(d=e*Math.pow(2,b-1)*Math.pow(2,s),c=0));s>=8;t[o+a]=d&255,a+=n,d/=256,s-=8);for(c=c<<s|d,f+=s;f>0;t[o+a]=c&255,a+=n,c/=256,f-=8);t[o+a-n]|=r*128}},function(S,i){var t={}.toString;S.exports=Array.isArray||function(e){return t.call(e)=="[object Array]"}},function(S,i,t){var e=t(71),o=function(){return e.Date.now()};S.exports=o},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=h;var e=l(t(74)),o=l(t(325));function l(c){return c&&c.__esModule?c:{default:c}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function h(c,d){(0,e.default)(c),d=(0,o.default)(d,s),d.allow_trailing_dot&&c[c.length-1]==="."&&(c=c.substring(0,c.length-1)),d.allow_wildcard===!0&&c.indexOf("*.")===0&&(c=c.substring(2));var p=c.split("."),f=p[p.length-1];return d.require_tld&&(p.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/\s/.test(f))||!d.allow_numeric_tld&&/^\d+$/.test(f)?!1:p.every(function(O){return!(O.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(O)||/[\uff01-\uff5e]/.test(O)||/^-|-$/.test(O)||!d.allow_underscores&&/_/.test(O))})}S.exports=i.default,S.exports.default=i.default},function(S,i,t){var e=t(674),o=t(675),l=t(570),s=t(676);function h(c,d){return e(c)||o(c,d)||l(c,d)||s()}S.exports=h,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(e,o){return S.exports=t=Object.setPrototypeOf||function(s,h){return s.__proto__=h,s},S.exports.default=S.exports,S.exports.__esModule=!0,t(e,o)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(e,o){return o||(o=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(o)}}))}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";var e=t(644);function o(){}function l(){}l.resetWarningCache=o,S.exports=function(){function s(d,p,f,O,b,m){if(m!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}s.isRequired=s;function h(){return s}var c={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:h,element:s,elementType:s,instanceOf:h,node:s,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:l,resetWarningCache:o};return c.PropTypes=c,c}},function(S,i,t){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";S.exports=e},function(S,i){function t(e,o,l,s){for(var h=-1,c=e==null?0:e.length;++h<c;){var d=e[h];o(s,d,l(d),e)}return s}S.exports=t},function(S,i,t){var e=t(384);function o(l,s,h,c){return e(l,function(d,p,f){s(c,d,h(d),f)}),c}S.exports=o},function(S,i,t){var e=t(599);function o(l,s){var h=l==null?0:l.length;return!!h&&e(l,s,0)>-1}S.exports=o},function(S,i){function t(e){return e!==e}S.exports=t},function(S,i){function t(e,o,l){for(var s=l-1,h=e.length;++s<h;)if(e[s]===o)return s;return-1}S.exports=t},function(S,i){function t(e,o,l){for(var s=-1,h=e==null?0:e.length;++s<h;)if(l(o,e[s]))return!0;return!1}S.exports=t},function(S,i,t){var e=t(323),o=t(340),l=t(246),s=1/0,h=e&&1/l(new e([,-0]))[1]==s?function(c){return new e(c)}:o;S.exports=h},function(S,i){function t(e,o){return e>o}S.exports=t},function(S,i,t){var e=t(586),o=t(516);function l(s){return o(e(s))}S.exports=l},function(S,i,t){var e=t(516),o=t(626);function l(s){return e(o(s))}S.exports=l},function(S,i,t){var e=t(211);function o(l,s){return e(s,function(h){return l[h]})}S.exports=o},,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{color:u="#000"}=r,v=m(r,["color"]);return Object(e.h)(o.a,b(O({},v),{name:"AppleIcon",svgParams:{height:24,width:24,fill:u,stroke:"none"}}),Object(e.h)("path",{d:"M17.851 11.9011C17.861 11.125 18.0671 10.364 18.4502 9.68899C18.8334 9.01396 19.381 8.44682 20.0422 8.04031C19.6222 7.44042 19.068 6.94672 18.4238 6.59845C17.7796 6.25018 17.063 6.05691 16.3311 6.03401C14.7696 5.87011 13.2559 6.96835 12.4602 6.96835C11.6491 6.96835 10.4241 6.05028 9.10485 6.07742C8.25156 6.10499 7.41996 6.35312 6.69107 6.79764C5.96219 7.24216 5.36088 7.86791 4.94574 8.61392C3.14746 11.7274 4.48882 16.3032 6.21144 18.82C7.07331 20.0523 8.08059 21.4289 9.3986 21.3801C10.6884 21.3266 11.1701 20.5577 12.7269 20.5577C14.2693 20.5577 14.7212 21.3801 16.066 21.3491C17.4499 21.3266 18.3219 20.1112 19.1535 18.8672C19.7728 17.9891 20.2493 17.0186 20.5654 15.9916C19.7614 15.6516 19.0752 15.0823 18.5925 14.3549C18.1098 13.6275 17.8519 12.7741 17.851 11.9011Z"}),Object(e.h)("path",{d:"M15.3113 4.3788C16.0659 3.47293 16.4376 2.3086 16.3476 1.13306C15.1948 1.25414 14.1298 1.80513 13.3651 2.67623C12.9911 3.10179 12.7047 3.59687 12.5223 4.13318C12.3398 4.66949 12.2648 5.2365 12.3016 5.8018C12.8782 5.80774 13.4487 5.68276 13.97 5.43627C14.4913 5.18978 14.9499 4.82821 15.3113 4.3788Z"}))};i.default=a},,function(S,i,t){"use strict";t.d(i,"a",function(){return O});var e=t(0),o=t(36),l=t(6),s=t.n(l),h=t(2),c=t(611),d=t(612);const p=10,f=250;function O({className:b,items:m,menuItemClassName:a,selectedMenuItemClassName:n,selectedSlug:r}){const u=Object(h.j)(null),[v,E]=Object(h.k)(!1),[w,C]=Object(h.k)(!1);function _(k){const{scrollLeft:$,scrollWidth:H,clientWidth:g}=k;E($>p),C(H-(g+$)>p)}const T=k=>_(k.target),W=k=>()=>{const{current:$}=u;$&&$.scrollBy({left:k*f,behavior:"smooth"})};return Object(h.d)(()=>{_(u.current)},[]),Object(e.h)("div",{className:s()("overflow-list-container",b)},Object(e.h)("div",{className:s()("section-bar",{scroll:!0,"overflow-left":v,"overflow-right":w})},Object(e.h)("div",{class:"overflow-items",ref:u,onScroll:T},m.map(({label:k,href:$,slug:H,isNative:g,onClick:M,noFollow:R})=>Object(e.h)("div",{className:s()("menu-item",{selected:H===r},a,n&&{[n]:H===r})},Object(e.h)(o.a,{href:$,onClick:M,native:g,rel:R?"nofollow":null},Object(e.h)("span",{className:"overflow-item-text"},k))))),Object(e.h)("div",{class:"left-button"},Object(e.h)("div",{role:"button",class:"scroll-button-hitbox",onClick:W(-1)},Object(e.h)(c.a,{strokeWidth:1.5}))),Object(e.h)("div",{class:"right-button"},Object(e.h)("div",{role:"button",class:"scroll-button-hitbox",onClick:W(1)},Object(e.h)(d.a,{strokeWidth:1.5})))))}},function(S,i,t){"use strict";t.d(i,"a",function(){return C});var e=t(0),o=t(89),l={tooltip:"frontend-pencraft-Tooltip-module__tooltip--2HBYV",arrow:"frontend-pencraft-Tooltip-module__arrow--2zujG",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--1Ntv2"},s=t(568),h=t(11),c=t(6),d=t.n(c),p=Object.defineProperty,f=Object.defineProperties,O=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(_,T,W)=>T in _?p(_,T,{enumerable:!0,configurable:!0,writable:!0,value:W}):_[T]=W,r=(_,T)=>{for(var W in T||(T={}))m.call(T,W)&&n(_,W,T[W]);if(b)for(var W of b(T))a.call(T,W)&&n(_,W,T[W]);return _},u=(_,T)=>f(_,O(T)),v=(_,T)=>{var W={};for(var k in _)m.call(_,k)&&T.indexOf(k)<0&&(W[k]=_[k]);if(_!=null&&b)for(var k of b(_))T.indexOf(k)<0&&a.call(_,k)&&(W[k]=_[k]);return W};const E=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],w=["left-start","left-center","left-end","right-start","right-center","right-end"],C=_=>{var T=_,{children:W,text:k,as:$="div",icon:H,preferPlacement:g="bottom-center",tooltipZIndex:M}=T,R=v(T,["children","text","as","icon","preferPlacement","tooltipZIndex"]);const{layerProps:D,triggerProps:U,arrowProps:L,transitionProps:j,renderLayer:B,shouldShow:x}=Object(s.b)({layerOptions:{placement:g,possiblePlacements:w.includes(g)?w:E}}),P=D,{style:y}=P,A=v(P,["style"]);return Object(e.h)(e.Fragment,null,Object(e.h)($,r(r({},U),R),W),x&&B(Object(e.h)(s.a,r({},j),Object(e.h)("div",u(r({className:d()(l.tooltip)},A),{style:u(r({},y),{zIndex:M})}),Object(e.h)(o.a,u(r({className:l.arrow},L),{size:6,roundness:.5,borderWidth:1})),Object(e.h)(h.c,{alignItems:"center",gap:8,className:l.tooltipContent},H&&Object(e.cloneElement)(H,{size:20})," ",k)))))}},,,function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=s;var e=o(t(74));function o(h){return h&&h.__esModule?h:{default:h}}function l(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(d){return typeof d}:l=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(h)}function s(h,c){(0,e.default)(h);var d,p;l(c)==="object"?(d=c.min||0,p=c.max):(d=arguments[1],p=arguments[2]);var f=encodeURI(h).split(/%..|./).length-1;return f>=d&&(typeof p=="undefined"||f<=p)}S.exports=i.default,S.exports.default=i.default},function(S,i,t){var e=t(587);function o(l,s){if(l==null)return{};var h=e(l,s),c,d;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);for(d=0;d<p.length;d++)c=p[d],!(s.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(l,c)||(h[c]=l[c]))}return h}S.exports=o,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){var e=t(677),o=t(678),l=t(570),s=t(679);function h(c){return e(c)||o(c)||l(c)||s()}S.exports=h,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CircleCheckmarkIcon",svgParams:{height:23,width:23,fill:"none"}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.8536 7.62893C18.1409 7.94722 18.1445 8.4673 17.8616 8.79057L10.6723 17.0049C10.5361 17.1605 10.3503 17.2487 10.1561 17.25C9.96195 17.2512 9.77532 17.1653 9.63753 17.0114L5.14425 11.9916C4.85811 11.6719 4.8565 11.1518 5.14065 10.8299C5.4248 10.508 5.88711 10.5062 6.17325 10.8258L10.1462 15.2644L16.821 7.63793C17.1039 7.31467 17.5662 7.31064 17.8536 7.62893Z"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.5 1.53333C5.99556 1.53333 1.53333 5.99556 1.53333 11.5C1.53333 17.0044 5.99556 21.4667 11.5 21.4667C17.0044 21.4667 21.4667 17.0044 21.4667 11.5C21.4667 5.99556 17.0044 1.53333 11.5 1.53333ZM0 11.5C0 5.14873 5.14873 0 11.5 0C17.8513 0 23 5.14873 23 11.5C23 17.8513 17.8513 23 11.5 23C5.14873 23 0 17.8513 0 11.5Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{className:"filled-icon",name:"UnsplashIcon",svgParams:{height:24,width:24,fill:"#1C110B"}}),Object(e.h)("path",{d:"M15.3364 10.9703H21V21H3V10.9703H8.66362V15.9748H15.3158V10.9703H15.3364ZM15.3364 3H8.66362V8.02517H15.3158V3H15.3364Z",strokeWidth:0}));i.default=m},,,function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("BellOff",[["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}],["path",{d:"M18.63 13A17.888 17.888 0 0 1 18 8",key:"d5seqe"}],["path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14",key:"cae0gx"}],["path",{d:"M18 8a6 6 0 0 0-9.33-5",key:"4mngwl"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);i.a=o},function(S,i){function t(e){if(Array.isArray(e))return e}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(e,o){var l=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(l!=null){var s=[],h=!0,c=!1,d,p;try{for(l=l.call(e);!(h=(d=l.next()).done)&&(s.push(d.value),!(o&&s.length===o));h=!0);}catch(f){c=!0,p=f}finally{try{!h&&l.return!=null&&l.return()}finally{if(c)throw p}}return s}}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,t){var e=t(571);function o(l){if(Array.isArray(l))return e(l)}S.exports=o,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function t(e,o){for(var l,s=-1,h=e.length;++s<h;){var c=o(e[s]);c!==void 0&&(l=l===void 0?c:l+c)}return l}S.exports=t},function(S,i,t){var e=t(149);function o(l){return typeof l=="function"?l:e}S.exports=o},function(S,i,t){"use strict";i.__esModule=!0;var e=t(1),o=c(e),l=t(683),s=h(l);function h(r){if(r&&r.__esModule)return r;var u={};if(r!=null)for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&(u[v]=r[v]);return u.default=r,u}function c(r){return r&&r.__esModule?r:{default:r}}function d(r,u){if(!(r instanceof u))throw new TypeError("Cannot call a class as a function")}function p(r,u){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:r}function f(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);r.prototype=Object.create(u&&u.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(r,u):r.__proto__=u)}var O=s.options,b=O.Options;function m(r,u){for(var v=s.tokenize(r),E=[],w=0,C=0;C<v.length;C++){var _=v[C];if(_.type==="nl"&&u.nl2br){E.push(o.default.createElement("br",{key:"linkified-"+ ++w}));continue}else if(!_.isLink||!u.check(_)){E.push(_.toString());continue}var T=u.resolve(_),W=T.formatted,k=T.formattedHref,$=T.tagName,H=T.className,g=T.target,M=T.attributes,R={key:"linkified-"+ ++w,href:k};if(H&&(R.className=H),g&&(R.target=g),M)for(var D in M)R[D]=M[D];E.push(o.default.createElement($,R,W))}return E}function a(r,u){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(o.default.Children.count(r.props.children)===0)return r;var E=[];o.default.Children.forEach(r.props.children,function(_){typeof _=="string"?(v=v+1,E.push.apply(E,m(_,u))):o.default.isValidElement(_)?typeof _.type=="string"&&O.contains(u.ignoreTags,_.type.toUpperCase())?E.push(_):E.push(a(_,u,++v)):E.push(_)});var w={key:"linkified-element-"+v};for(var C in r.props)w[C]=r.props[C];return o.default.cloneElement(r,w,E)}var n=function(r){f(u,r);function u(){return d(this,u),p(this,r.apply(this,arguments))}return u.prototype.render=function(){var E={key:"linkified-element-0"};for(var w in this.props)w!=="options"&&w!=="tagName"&&(E[w]=this.props[w]);var C=new b(this.props.options),_=this.props.tagName||"span",T=o.default.createElement(_,E);return a(T,C,0)},u}(o.default.Component);i.default=n},function(S,i,t){"use strict";i.__esModule=!0,i.tokenize=i.test=i.scanner=i.parser=i.options=i.inherits=i.find=void 0;var e=t(298),o=t(684),l=p(o),s=t(685),h=p(s),c=t(686),d=p(c);function p(m){if(m&&m.__esModule)return m;var a={};if(m!=null)for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&(a[n]=m[n]);return a.default=m,a}Array.isArray||(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"});var f=function(a){return d.run(h.run(a))},O=function(a){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=f(a),u=[],v=0;v<r.length;v++){var E=r[v];E.isLink&&(!n||E.type===n)&&u.push(E.toObject())}return u},b=function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=f(a);return r.length===1&&r[0].isLink&&(!n||r[0].type===n)};i.find=O,i.inherits=e.inherits,i.options=l,i.parser=d,i.scanner=h,i.test=b,i.tokenize=f},function(S,i,t){"use strict";i.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},o={defaultProtocol:"http",events:null,format:h,formatHref:h,nl2br:!1,tagName:"a",target:c,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};i.defaults=o,i.Options=l,i.contains=s;function l(d){d=d||{},this.defaultProtocol=d.hasOwnProperty("defaultProtocol")?d.defaultProtocol:o.defaultProtocol,this.events=d.hasOwnProperty("events")?d.events:o.events,this.format=d.hasOwnProperty("format")?d.format:o.format,this.formatHref=d.hasOwnProperty("formatHref")?d.formatHref:o.formatHref,this.nl2br=d.hasOwnProperty("nl2br")?d.nl2br:o.nl2br,this.tagName=d.hasOwnProperty("tagName")?d.tagName:o.tagName,this.target=d.hasOwnProperty("target")?d.target:o.target,this.validate=d.hasOwnProperty("validate")?d.validate:o.validate,this.ignoreTags=[],this.attributes=d.attributes||d.linkAttributes||o.attributes,this.className=d.hasOwnProperty("className")?d.className:d.linkClass||o.className;for(var p=d.hasOwnProperty("ignoreTags")?d.ignoreTags:o.ignoreTags,f=0;f<p.length;f++)this.ignoreTags.push(p[f].toUpperCase())}l.prototype={resolve:function(p){var f=p.toHref(this.defaultProtocol);return{formatted:this.get("format",p.toString(),p),formattedHref:this.get("formatHref",f,p),tagName:this.get("tagName",f,p),className:this.get("className",f,p),target:this.get("target",f,p),events:this.getObject("events",f,p),attributes:this.getObject("attributes",f,p)}},check:function(p){return this.get("validate",p.toString(),p)},get:function(p,f,O){var b=void 0,m=this[p];if(!m)return m;switch(typeof m=="undefined"?"undefined":e(m)){case"function":return m(f,O.type);case"object":return b=m.hasOwnProperty(O.type)?m[O.type]:o[p],typeof b=="function"?b(f,O.type):b}return m},getObject:function(p,f,O){var b=this[p];return typeof b=="function"?b(f,O.type):b}};function s(d,p){for(var f=0;f<d.length;f++)if(d[f]===p)return!0;return!1}function h(d){return d}function c(d,p){return p==="url"?"_blank":null}},function(S,i,t){"use strict";i.__esModule=!0,i.start=i.run=i.TOKENS=i.State=void 0;var e=t(572),o=t(370),l=s(o);function s(j){if(j&&j.__esModule)return j;var B={};if(j!=null)for(var x in j)Object.prototype.hasOwnProperty.call(j,x)&&(B[x]=j[x]);return B.default=j,B}var h="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),c="0123456789".split(""),d="0123456789abcdefghijklmnopqrstuvwxyz".split(""),p=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],f=[],O=function(B){return new e.CharacterState(B)},b=O(),m=O(o.NUM),a=O(o.DOMAIN),n=O(),r=O(o.WS);b.on("@",O(o.AT)).on(".",O(o.DOT)).on("+",O(o.PLUS)).on("#",O(o.POUND)).on("?",O(o.QUERY)).on("/",O(o.SLASH)).on("_",O(o.UNDERSCORE)).on(":",O(o.COLON)).on("{",O(o.OPENBRACE)).on("[",O(o.OPENBRACKET)).on("<",O(o.OPENANGLEBRACKET)).on("(",O(o.OPENPAREN)).on("}",O(o.CLOSEBRACE)).on("]",O(o.CLOSEBRACKET)).on(">",O(o.CLOSEANGLEBRACKET)).on(")",O(o.CLOSEPAREN)).on("&",O(o.AMPERSAND)).on([",",";","!",'"',"'"],O(o.PUNCTUATION)),b.on(`
`,O(o.NL)).on(p,r),r.on(p,r);for(var u=0;u<h.length;u++){var v=(0,e.stateify)(h[u],b,o.TLD,o.DOMAIN);f.push.apply(f,v)}var E=(0,e.stateify)("file",b,o.DOMAIN,o.DOMAIN),w=(0,e.stateify)("ftp",b,o.DOMAIN,o.DOMAIN),C=(0,e.stateify)("http",b,o.DOMAIN,o.DOMAIN),_=(0,e.stateify)("mailto",b,o.DOMAIN,o.DOMAIN);f.push.apply(f,E),f.push.apply(f,w),f.push.apply(f,C),f.push.apply(f,_);var T=E.pop(),W=w.pop(),k=C.pop(),$=_.pop(),H=O(o.DOMAIN),g=O(o.PROTOCOL),M=O(o.MAILTO);W.on("s",H).on(":",g),k.on("s",H).on(":",g),f.push(H),T.on(":",g),H.on(":",g),$.on(":",M);var R=(0,e.stateify)("localhost",b,o.LOCALHOST,o.DOMAIN);f.push.apply(f,R),b.on(c,m),m.on("-",n).on(c,m).on(d,a),a.on("-",n).on(d,a);for(var D=0;D<f.length;D++)f[D].on("-",n).on(d,a);n.on("-",n).on(c,a).on(d,a),b.defaultTransition=O(o.SYM);var U=function(B){for(var x=B.replace(/[A-Z]/g,function(q){return q.toLowerCase()}),P=B.length,y=[],A=0;A<P;){for(var K=b,N=null,Y=0,F=null,G=-1;A<P&&(N=K.next(x[A]));)K=N,K.accepts()?(G=0,F=K):G>=0&&G++,Y++,A++;if(!(G<0)){A-=G,Y-=G;var X=F.emit();y.push(new X(B.substr(A-Y,Y)))}}return y},L=b;i.State=e.CharacterState,i.TOKENS=l,i.run=U,i.start=L},function(S,i,t){"use strict";i.__esModule=!0,i.start=i.run=i.TOKENS=i.State=void 0;var e=t(572),o=t(687),l=h(o),s=t(370);function h(se){if(se&&se.__esModule)return se;var ie={};if(se!=null)for(var Ee in se)Object.prototype.hasOwnProperty.call(se,Ee)&&(ie[Ee]=se[Ee]);return ie.default=se,ie}var c=function(ie){return new e.TokenState(ie)},d=c(),p=c(),f=c(),O=c(),b=c(),m=c(),a=c(),n=c(o.URL),r=c(),u=c(o.URL),v=c(o.URL),E=c(),w=c(),C=c(),_=c(),T=c(),W=c(o.URL),k=c(o.URL),$=c(o.URL),H=c(o.URL),g=c(),M=c(),R=c(),D=c(),U=c(),L=c(),j=c(o.EMAIL),B=c(),x=c(o.EMAIL),P=c(o.MAILTOEMAIL),y=c(),A=c(),K=c(),N=c(),Y=c(o.NL);d.on(s.NL,Y).on(s.PROTOCOL,p).on(s.MAILTO,f).on(s.SLASH,O),p.on(s.SLASH,O),O.on(s.SLASH,b),d.on(s.TLD,m).on(s.DOMAIN,m).on(s.LOCALHOST,n).on(s.NUM,m),b.on(s.TLD,v).on(s.DOMAIN,v).on(s.NUM,v).on(s.LOCALHOST,v),m.on(s.DOT,a),U.on(s.DOT,L),a.on(s.TLD,n).on(s.DOMAIN,m).on(s.NUM,m).on(s.LOCALHOST,m),L.on(s.TLD,j).on(s.DOMAIN,U).on(s.NUM,U).on(s.LOCALHOST,U),n.on(s.DOT,a),j.on(s.DOT,L),n.on(s.COLON,r).on(s.SLASH,v),r.on(s.NUM,u),u.on(s.SLASH,v),j.on(s.COLON,B),B.on(s.NUM,x);var F=[s.DOMAIN,s.AT,s.LOCALHOST,s.NUM,s.PLUS,s.POUND,s.PROTOCOL,s.SLASH,s.TLD,s.UNDERSCORE,s.SYM,s.AMPERSAND],G=[s.COLON,s.DOT,s.QUERY,s.PUNCTUATION,s.CLOSEBRACE,s.CLOSEBRACKET,s.CLOSEANGLEBRACKET,s.CLOSEPAREN,s.OPENBRACE,s.OPENBRACKET,s.OPENANGLEBRACKET,s.OPENPAREN];v.on(s.OPENBRACE,w).on(s.OPENBRACKET,C).on(s.OPENANGLEBRACKET,_).on(s.OPENPAREN,T),E.on(s.OPENBRACE,w).on(s.OPENBRACKET,C).on(s.OPENANGLEBRACKET,_).on(s.OPENPAREN,T),w.on(s.CLOSEBRACE,v),C.on(s.CLOSEBRACKET,v),_.on(s.CLOSEANGLEBRACKET,v),T.on(s.CLOSEPAREN,v),W.on(s.CLOSEBRACE,v),k.on(s.CLOSEBRACKET,v),$.on(s.CLOSEANGLEBRACKET,v),H.on(s.CLOSEPAREN,v),g.on(s.CLOSEBRACE,v),M.on(s.CLOSEBRACKET,v),R.on(s.CLOSEANGLEBRACKET,v),D.on(s.CLOSEPAREN,v),w.on(F,W),C.on(F,k),_.on(F,$),T.on(F,H),w.on(G,g),C.on(G,M),_.on(G,R),T.on(G,D),W.on(F,W),k.on(F,k),$.on(F,$),H.on(F,H),W.on(G,W),k.on(G,k),$.on(G,$),H.on(G,H),g.on(F,W),M.on(F,k),R.on(F,$),D.on(F,H),g.on(G,g),M.on(G,M),R.on(G,R),D.on(G,D),v.on(F,v),E.on(F,v),v.on(G,E),E.on(G,E),f.on(s.TLD,P).on(s.DOMAIN,P).on(s.NUM,P).on(s.LOCALHOST,P),P.on(F,P).on(G,y),y.on(F,P).on(G,y);var X=[s.DOMAIN,s.NUM,s.PLUS,s.POUND,s.QUERY,s.UNDERSCORE,s.SYM,s.AMPERSAND,s.TLD];m.on(X,A).on(s.AT,K),n.on(X,A).on(s.AT,K),a.on(X,A),A.on(X,A).on(s.AT,K).on(s.DOT,N),N.on(X,A),K.on(s.TLD,U).on(s.DOMAIN,U).on(s.LOCALHOST,j);var q=function(ie){for(var Ee=ie.length,Ie=0,ge=[],oe=[];Ie<Ee;){for(var ee=d,te=null,le=null,Q=0,z=null,V=-1;Ie<Ee&&!(te=ee.next(ie[Ie]));)oe.push(ie[Ie++]);for(;Ie<Ee&&(le=te||ee.next(ie[Ie]));)te=null,ee=le,ee.accepts()?(V=0,z=ee):V>=0&&V++,Ie++,Q++;if(V<0)for(var ne=Ie-Q;ne<Ie;ne++)oe.push(ie[ne]);else{oe.length>0&&(ge.push(new o.TEXT(oe)),oe=[]),Ie-=V,Q-=V;var re=z.emit();ge.push(new re(ie.slice(Ie-Q,Ie)))}}return oe.length>0&&ge.push(new o.TEXT(oe)),ge};i.State=e.TokenState,i.TOKENS=l,i.run=q,i.start=d},function(S,i,t){"use strict";i.__esModule=!0,i.URL=i.TEXT=i.NL=i.EMAIL=i.MAILTOEMAIL=i.Base=void 0;var e=t(573),o=t(298),l=t(370);function s(b){return b instanceof l.DOMAIN||b instanceof l.TLD}var h=(0,e.createTokenClass)();h.prototype={type:"token",isLink:!1,toString:function(){for(var m=[],a=0;a<this.v.length;a++)m.push(this.v[a].toString());return m.join("")},toHref:function(){return this.toString()},toObject:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(m)}}};var c=(0,o.inherits)(h,(0,e.createTokenClass)(),{type:"email",isLink:!0}),d=(0,o.inherits)(h,(0,e.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),p=(0,o.inherits)(h,(0,e.createTokenClass)(),{type:"text"}),f=(0,o.inherits)(h,(0,e.createTokenClass)(),{type:"nl"}),O=(0,o.inherits)(h,(0,e.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",a=!1,n=!1,r=this.v,u=[],v=0;r[v]instanceof l.PROTOCOL;)a=!0,u.push(r[v].toString().toLowerCase()),v++;for(;r[v]instanceof l.SLASH;)n=!0,u.push(r[v].toString()),v++;for(;s(r[v]);)u.push(r[v].toString().toLowerCase()),v++;for(;v<r.length;v++)u.push(r[v].toString());return u=u.join(""),a||n||(u=m+"://"+u),u},hasProtocol:function(){return this.v[0]instanceof l.PROTOCOL}});i.Base=h,i.MAILTOEMAIL=c,i.EMAIL=d,i.NL=f,i.TEXT=p,i.URL=O},,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#1C110B"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"CaretLeftIcon",svgParams:{height:20,width:12}}),Object(e.h)("path",{d:"M11 19L1 10L11 1",stroke:u,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},,,,,function(S,i,t){"use strict";t.d(i,"a",function(){return E});var e=t(0),o=t(2),l=t(1),s=t(10),h=t.n(s),c=t(37),d=t(83),p=t(12),f=t(5),O=t(3),b=t.n(O),m=t(7),a=t.n(m),n=(T,W,k)=>new Promise(($,H)=>{var g=D=>{try{R(k.next(D))}catch(U){H(U)}},M=D=>{try{R(k.throw(D))}catch(U){H(U)}},R=D=>D.done?$(D.value):Promise.resolve(D.value).then(g,M);R((k=k.apply(T,W)).next())});const r=(T,W,k,$,{trackOnly:H=!1}={})=>()=>n(void 0,null,function*(){if(Object(f.i)(f.a.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:T.id,recommending_publication_id:W.id}),!H)try{yield h.a.post("/api/v1/free").send({email:k.email,source:"recommendations_page",other_publication_id:T.id}),$(T)}catch(g){alert("Something went wrong")}}),u=(T,W,k,{trackOnly:$=!1}={})=>()=>n(void 0,null,function*(){if(Object(f.i)(f.a.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:T.id,recommending_publication_id:W.id}),!$)try{yield h.a.delete("/api/v1/free").send({publication_id:T.id,source:"recommendations_page"}),k(T)}catch(H){alert("Something went wrong")}}),v=({recommendations:T})=>{if(!T||Object.keys(T).length<=1)return T;const W=JSON.parse(JSON.stringify(T));for(let k=Object.keys(W).length-1;k>0;k--){const $=Math.floor(Math.random()*(k+1)),H=W[k];W[k]=W[$],W[$]=H}return W},E=({pub:T,recommendations:W,allSubscribedPubs:k,fullySubscribedPubs:$,user:H})=>{const g=T.author_photo_url,M=T.author_name,[R,D]=Object(o.k)(k),U=B=>{D([...R,B])},L=B=>{D(R.filter(({id:x})=>x!==B.id))},j=Object(l.useMemo)(()=>v({recommendations:W}),[W]);return Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"recommendations-page-container"},Object(e.h)("h2",null,"Recommended by ",Object(m.getByLine)(T)||T.name),Object(e.h)("div",{className:"recommended-publications-container"},j.map((B,x)=>{const P=B.recommendedPublication;if(!P)return;const y=`${Object(O.getBaseUrl)(P)}/?utm_source=recommendations_page&utm_campaign=${T.id}`,A=Object(O.getSubscribeUrl)(P,{addBase:!0,utm_source:"recommendations_page"}),K=Object(m.getByLine)(P),N=$.map(({id:Y})=>Y).includes(P.id);return Object(e.h)("div",{className:"recommended-publications-text-container with-blurb"},Object(e.h)("div",{className:"recommendation-body"},Object(e.h)("div",{className:"publication-content"},Object(e.h)("div",{className:"top-row"},Object(e.h)("a",{className:"left",href:y,onClick:()=>{Object(f.i)(f.a.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:P.id,recommending_publication_id:T.id})}},Object(e.h)(c.a,{pub:P,size:48,logo_url:P.logo_url||P.author_photo_url,linkify:!1}),Object(e.h)("div",{className:"pub-meta"},Object(e.h)("div",{className:"publication-title"},P.name),!!K&&Object(e.h)("div",{className:"publication-author"},"By ",K))),R.map(({id:Y})=>Y).includes(P.id)?Object(e.h)(p.b,{onClick:u(P,T,L,{trackOnly:N}),href:N?Object(O.getPubAccountSettingsUrl)(P,{addBase:!0}):null,className:"unsubscribe"},"Subscribed"):Object(e.h)(p.b,{onClick:r(P,T,H,U,{trackOnly:!(H==null?void 0:H.email)}),href:(H==null?void 0:H.email)?null:A},"Subscribe")),Object(e.h)("div",{className:"publication-suggestion-text-area"},(P.editorial_bio||P.hero_text)&&Object(e.h)("div",{className:"publication-description"},P.editorial_bio||P.hero_text)),B.description&&Object(e.h)(w,{content:B.description,author:Object(m.getByLine)(T)||T.name}))))}))))},w=({author:T,content:W})=>Object(e.h)("div",{className:"blurb"},Object(e.h)("p",{className:"blurb-content"},W),Object(e.h)("p",{className:"blurb-author"},"- ",T)),C=({recommendations:T,numRecommendations:W,pub:k,user:$})=>{const H=Object(l.useMemo)(()=>v({recommendations:T}),[T]);return Object(e.h)("div",{className:"home-right-group recommendations"},Object(e.h)("div",{className:"home-right-group-title"},Object(e.h)("a",{href:Object(O.getRecommendationsPageUrl)(k)},"Recommendations"),($==null?void 0:$.is_admin)?Object(e.h)("a",{href:Object(O.getPublishSettingsRecommendationsUrl)(k),native:!0},"Manage"):W>T.length?Object(e.h)("a",{href:Object(O.getRecommendationsPageUrl)(k),native:!0},"View all ",W):null),H.map(g=>Object(e.h)("div",{className:"home-right-col"},Object(e.h)(_,{recommendation:g,pub:k,signedIn:!!$}))))},_=({recommendation:T,pub:W,signedIn:k})=>{const{recommendedPublication:$}=T,H=Object(O.getPubUrl)($,{params:{utm_source:"homepage_recommendations",utm_campaign:W.id},signedIn:k}),g=()=>{Object(f.i)(f.a.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:W.id,recommended_publication_id:$.id,source:"homepage-recommendations"})};return Object(e.h)("div",{className:"recommendation-row"},Object(e.h)("div",{className:"left"},Object(e.h)("a",{onClick:g},Object(e.h)(c.a,{pub:$,size:32,logo_url:$.logo_url,href:H,openInNewTab:!0})),Object(e.h)("div",{className:"pub-meta"},Object(e.h)("a",{href:H,target:"_blank",onClick:g},$.name),Object(e.h)("div",{className:"pub-author"},$.author.name))))};i.b=C},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(b,m,a)=>m in b?l(b,m,{enumerable:!0,configurable:!0,writable:!0,value:a}):b[m]=a,p=(b,m)=>{for(var a in m||(m={}))h.call(m,a)&&d(b,a,m[a]);if(s)for(var a of s(m))c.call(m,a)&&d(b,a,m[a]);return b},f=(b,m)=>{var a={};for(var n in b)h.call(b,n)&&m.indexOf(n)<0&&(a[n]=b[n]);if(b!=null&&s)for(var n of s(b))m.indexOf(n)<0&&c.call(b,n)&&(a[n]=b[n]);return a};const O=b=>{var m=b,{stroke:a="white"}=m,n=f(m,["stroke"]);return Object(e.h)(o.a,p({name:"TriangleAlert",svgParams:{height:20,width:21,fill:"none",stroke:a}},n),Object(e.h)("path",{d:"M9.07514 3.21684L2.01681 15.0002C1.87128 15.2522 1.79428 15.5379 1.79346 15.8289C1.79265 16.12 1.86805 16.4061 2.01216 16.6589C2.15627 16.9118 2.36408 17.1225 2.6149 17.27C2.86571 17.4176 3.15081 17.497 3.44181 17.5002H17.5585C17.8495 17.497 18.1346 17.4176 18.3854 17.27C18.6362 17.1225 18.844 16.9118 18.9881 16.6589C19.1322 16.4061 19.2076 16.12 19.2068 15.8289C19.206 15.5379 19.129 15.2522 18.9835 15.0002L11.9251 3.21684C11.7766 2.97193 11.5674 2.76944 11.3178 2.62891C11.0682 2.48838 10.7866 2.41455 10.5001 2.41455C10.2137 2.41455 9.93208 2.48838 9.68248 2.62891C9.43287 2.76944 9.2237 2.97193 9.07514 3.21684V3.21684Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.5 7.5V10.8333","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.5 14.1665H10.5083","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=O},,,,function(S,i,t){S.exports={ActivationBlockQuoteIcon:t(1060).default,ActivationBookmarkIcon:t(1061).default,ActivationEditIcon:t(1062).default,ActivationEmailAtIcon:t(1063).default,ActivationEmailIcon:t(116).default,ActivationGridIcon:t(1064).default,ActivationInboxIcon:t(1065).default,ActivationInstagramIcon:t(1066).default,ActivationInviteIcon:t(1067).default,ActivationMessageBoxIcon:t(1068).default,ActivationMicIcon:t(524).default,ActivationTextIcon:t(1069).default,ActivationTweetThreadIcon:t(1070).default,ActivationUsersIcon:t(528).default,AddUserButtonIcon:t(525).default,AdhocEmailIcon:t(543).default,AlertCircleIcon:t(535).default,AltRightArrowIcon:t(780).default,AltSimpleCheckmarkIcon:t(713).default,AppleIcon:t(658).default,AuthorBadgeIcon:t(284).default,Back15Icon:t(234).default,BannedIcon:t(171).default,BellIcon:t(392).default,BellOffIcon:t(1071).default,BigArrowIcon:t(1072).default,BookOpenIcon:t(1073).default,BookmarkIcon:t(1074).default,BurgerIcon:t(736).default,BurgerMenuIcon:t(855).default,CaretDownIcon:t(133).default,CaretLeftIcon:t(692).default,CaretRightIcon:t(257).default,CaughtUpCheckmarkIcon:t(856).default,CheckboxCheckmarkIcon:t(283).default,CheckmarkBrokenCircle:t(814).default,CheckmarkIcon:t(769).default,ChevronDownIcon:t(621).default,ChevronIcon:t(874).default,ChevronUpIcon:t(815).default,CircleCheckIcon:t(952).default,CircleCheckmarkIcon:t(667).default,CircleCross:t(953).default,CloseIcon:t(38).default,CommentIcon:t(1075).default,CommentIconReader:t(770).default,CommentIconRounded:t(954).default,CommentThinIcon:t(1076).default,CompassIcon:t(1077).default,CopyIcon:t(264).default,CreditCardIcon:t(816).default,CrossCircleIcon:t(536).default,CurlyQuoteIcon:t(1078).default,DesktopIcon:t(955).default,DotDotDotIcon:t(136).default,DotDotDotThinIcon:t(395).default,DoubleCaretDownIcon:t(771).default,DoubleHamburgerIcon:t(817).default,DownArrowIcon:t(1079).default,DownloadIcon:t(956).default,DownloadIconNoBorder:t(1080).default,DropdownIcon:t(818).default,EditIcon:t(533).default,EmailIcon:t(539).default,ExportIcon:t(957).default,FacebookOfficialIcon:t(521).default,FileDocumentIcon:t(772).default,FileIcon:t(958).default,FilledCircleCheckmarkIcon:t(959).default,FilterIcon:t(960).default,Forward30Icon:t(235).default,FoundingBadgeIcon:t(200).default,FoundingBadgeIconInCircle:t(857).default,GearIcon:t(961).default,GlobeIcon:t(1081).default,HeartIcon:t(1082).default,HeartIconFilled:t(1083).default,HeartIconNotifs:t(1084).default,HeartIconReader:t(858).default,HeartIconRounded:t(1085).default,HeartThinIcon:t(1086).default,HelpCircleIcon:t(781).default,ImageIcon:t(354).default,InboxIcon:t(819).default,InboxIconReader:t(859).default,InboxPodcastPlayIcon:t(860).default,InformationIcon:t(820).default,InvertedWarningIcon:t(714).default,LargePlusIcon:t(393).default,LeftArrowIcon:t(630).default,LineChartIcon:t(821).default,LocationPinIcon:t(962).default,LockFullIcon:t(540).default,LockIcon:t(822).default,LockThinIcon:t(529).default,LogOutIcon:t(1087).default,LucideAlertOctagon:t(1088).default,LucideArrowLeft:t(541).default,LucideArrowLeftRight:t(1089).default,LucideArrowRight:t(542).default,LucideBookmark:t(287).default,LucideCalendar:t(1090).default,LucideCheck:t(502).default,LucideComments:t(155).default,LucideCornerDownRight:t(527).default,LucideExternalLink:t(544).default,LucideHeart:t(143).default,LucideLock:t(963).default,LucideRecommend:t(237).default,LucideRestack:t(1091).default,LucideShare:t(186).default,LucideUnlock:t(964).default,MailIcon:t(1092).default,MenuIcon:t(256).default,MobileIcon:t(965).default,NewsletterIcon:t(310).default,NoResultsIcon:t(631).default,NoteIcon:t(966).default,NotificationIconReader:t(1093).default,OfflineCloudIcon:t(875).default,PageIcon:t(1094).default,PaidBadgeIcon:t(861).default,PanelsIcon:t(967).default,PauseIconRound:t(1095).default,PenToolIcon:t(862).default,PencilIcon:t(813).default,PencilPaperIcon:t(1096).default,PencraftPencilIcon:t(737).default,PinIcon:t(534).default,PinIconSmall:t(288).default,PlayIcon:t(232).default,PlayIconRound:t(313).default,PlayIconRoundFilled:t(1097).default,PlayIconRoundThin:t(863).default,PlayIconRounded:t(156).default,PlusIcon:t(153).default,PodcastEmbedPauseIcon:t(371).default,PodcastEmbedPlayIcon:t(523).default,PodcastIcon:t(162).default,PodcastImportIcon:t(968).default,PodcastPencraftIcon:t(776).default,PodcastPlayButton:t(864).default,PodcastPlusCircleIcon:t(969).default,PollVoteIcon:t(1098).default,QuestionMarkIcon:t(747).default,ReaderBadgeIcon:t(341).default,ReaderShareIcon:t(865).default,RecommendIcon:t(1099).default,RecommendIconRounded:t(777).default,RecommendThinIcon:t(1100).default,RefreshIcon:t(970).default,ResizeIcon:t(1101).default,ReturnIcon:t(1102).default,RightArrowIcon:t(147).default,RoundedFacebookShareIcon:t(505).default,RoundedInformationIcon:t(628).default,RssIcon:t(866).default,SearchIcon:t(243).default,SendIcon:t(503).default,SetUpIcon:t(867).default,SettingsIcon:t(971).default,ShareCopyLinkIcon:t(179).default,ShareEmailFillIcon:t(972).default,ShareEmailIcon:t(240).default,ShareFacebookBoxedIcon:t(1103).default,ShareFacebookIcon:t(391).default,ShareHnIcon:t(1104).default,ShareIcon:t(973).default,ShareLinkedinIcon:t(1105).default,SharePinIcon:t(1106).default,ShareRedditIcon:t(1107).default,ShareTextIcon:t(1108).default,ShuffleIcon:t(974).default,SimpleCheckmarkIcon:t(518).default,SortIcon:t(1109).default,SpinnerIcon:t(708).default,StarIcon:t(868).default,StripeLogo:t(975).default,SubstackIcon:t(83).default,SubstackIconNoPadding:t(80).default,SubstackLogoIcon:t(279).default,ThinCircleCheckmarkIcon:t(976).default,ThinCircleCheckmarkIcon2:t(504).default,ThreadIcon:t(261).default,TimeIcon:t(1110).default,TrashIcon:t(709).default,TrendingUpIcon:t(977).default,TriangleAlert:t(698).default,TwitterIcon:t(154).default,TwitterOutlineIcon:t(390).default,TwitterSolidIcon:t(522).default,UnsplashIcon:t(668).default,UploadCloudIcon:t(710).default,UploadIcon:t(300).default,UploadProfileImageIcon:t(869).default,UserCrossIcon:t(537).default,UserIcon:t(711).default,UserProfileIcon:t(538).default,UsersIcon:t(289).default,VideoIcon:t(227).default,VideoRecordingIcon:t(778).default,VoiceoverIcon:t(372).default,WarningIcon:t(712).default,WriterStatsEmailIcon:t(1111).default,WriterStatsSubscriberIcon:t(1112).default,comments__CommentBadgeHeartIcon:t(531).default,comments__CommentBadgePinIcon:t(530).default,comments__CommentBadgeWriterIcon:t(532).default,reader2__AudioIcon:t(870).default,reader2__CommentIcon:t(389).default,reader2__HeartIcon:t(387).default,reader2__HelpCircleFilled:t(871).default,reader2__PlusIcon:t(1113).default,reader2__ReplyIcon:t(388).default,reader2__ThreadIcon:t(872).default,reader2__VideoIcon:t(873).default}},,,,,function(S,i,t){var e=t(352),o=t(181),l=Object.prototype,s=l.hasOwnProperty;function h(c,d,p){var f=c[d];(!(s.call(c,d)&&o(f,p))||p===void 0&&!(d in c))&&e(c,d,p)}S.exports=h},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"SpinnerIcon",svgParams:{height:20,width:20,fill:"none",stroke:"#666666",strokeWidth:1.5}},O),Object(e.h)("path",{d:"M17.5 1.66663V6.66663L12.5 6.66663","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),Object(e.h)("path",{d:"M2.5 10C2.50132 8.55277 2.92133 7.13682 3.70938 5.92295C4.49743 4.70908 5.61985 3.74914 6.94126 3.15891C8.26267 2.56868 9.72662 2.37338 11.1566 2.59655C12.5865 2.81973 13.9213 3.45185 15 4.41667L17.5 6.66667","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),Object(e.h)("path",{d:"M2.5 18.3334L2.5 13.3334H7.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),Object(e.h)("path",{d:"M17.5 10C17.4987 11.4472 17.0787 12.8632 16.2906 14.0771C15.5026 15.2909 14.3802 16.2509 13.0587 16.8411C11.7373 17.4313 10.2734 17.6266 8.84345 17.4035C7.41352 17.1803 6.07871 16.5482 5 15.5833L2.5 13.3333","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}));i.default=f},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"TrashIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),Object(e.h)("path",{d:"M2.51306 4.92554H4.17973H17.5131",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M6.67969 4.9255V3.25883C6.67969 2.8168 6.85528 2.39288 7.16784 2.08032C7.4804 1.76776 7.90433 1.59216 8.34635 1.59216H11.6797C12.1217 1.59216 12.5456 1.76776 12.8582 2.08032C13.1708 2.39288 13.3464 2.8168 13.3464 3.25883V4.9255M15.8464 4.9255V16.5922C15.8464 17.0342 15.6708 17.4581 15.3582 17.7707C15.0456 18.0832 14.6217 18.2588 14.1797 18.2588H5.84635C5.40433 18.2588 4.9804 18.0832 4.66784 17.7707C4.35528 17.4581 4.17969 17.0342 4.17969 16.5922V4.9255H15.8464Z",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"UploadCloudIcon",svgParams:{height:24,width:24,fill:"none",stroke:"#1C110B",strokeWidth:1.5}}),Object(e.h)("path",{d:"M16 16L12 12L8 16","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 12V21","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M20.3904 18.39C21.3658 17.8583 22.1363 17.0169 22.5803 15.9986C23.0244 14.9804 23.1167 13.8432 22.8427 12.7667C22.5686 11.6901 21.9439 10.7355 21.0671 10.0534C20.1903 9.37137 19.1113 9.00072 18.0004 8.99998H16.7404C16.4378 7.82923 15.8736 6.74232 15.0904 5.82098C14.3072 4.89964 13.3253 4.16783 12.2185 3.68059C11.1118 3.19335 9.909 2.96334 8.70057 3.00787C7.49213 3.05239 6.30952 3.37028 5.24163 3.93765C4.17374 4.50501 3.24836 5.30709 2.53507 6.28357C1.82178 7.26004 1.33914 8.38552 1.12343 9.57538C0.907718 10.7652 0.964554 11.9885 1.28966 13.1532C1.61477 14.318 2.19969 15.3938 3.00045 16.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16 16L12 12L8 16","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{strokeWidth:u=1.5}=r,v=m(r,["strokeWidth"]);return Object(e.h)(o.a,b(O({},v),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),Object(e.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":u,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":u,"stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),Object(e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"AltSimpleCheckmarkIcon",svgParams:{height:20,width:20,stroke:"black"}},O),Object(e.h)("path",{d:"M16.6666 5L7.49992 14.1667L3.33325 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"InvertedWarningIcon",svgParams:{height:18,width:18}}),Object(e.h)("path",{d:"M9.00033 0.666992C4.39783 0.666992 0.666992 4.39783 0.666992 9.00033C0.666992 13.6028 4.39783 17.3337 9.00033 17.3337C13.6028 17.3337 17.3337 13.6028 17.3337 9.00033C17.3337 4.39783 13.6028 0.666992 9.00033 0.666992ZM9.00033 2.33366C12.682 2.33366 15.667 5.31866 15.667 9.00033C15.667 12.682 12.682 15.667 9.00033 15.667C5.31866 15.667 2.33366 12.682 2.33366 9.00033C2.33366 5.31866 5.31866 2.33366 9.00033 2.33366ZM8.16699 4.83366V9.83366H9.83366V4.83366H8.16699ZM8.16699 11.5003V13.167H9.83366V11.5003H8.16699Z"}));i.default=m},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",y1:"7",x2:"9",y2:"7",key:"17x2jj"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",y1:"17",x2:"3",y2:"17",key:"gusd5o"}]]);i.a=o},function(S,i,t){"use strict";t.d(i,"b",function(){return b}),t.d(i,"a",function(){return m});var e=t(0),o=t(7),l={modalTitle:"frontend-components-app_install_modal-module__modalTitle--fGCym",qrCode:"frontend-components-app_install_modal-module__qrCode--1HNTk",divider:"frontend-components-app_install_modal-module__divider--3jx5V",dividerLine:"frontend-components-app_install_modal-module__dividerLine--2pk9H",appBadge:"frontend-components-app_install_modal-module__appBadge--seKw9"},s=t(3),h=t(42),c=t(379),d=t(35),p=t(2),f=t(13),O=t(11);function b({utm_campaign:n,utm_source:r}){const[u,v]=Object(p.k)(!1);return{open:()=>v(!0),modal:Object(e.h)(a,{isOpen:u,onClose:()=>v(!1),utm_campaign:n,utm_source:r})}}function m({label:n}){return Object(e.h)(O.a,{gap:16,alignItems:"center",className:l.divider},Object(e.h)("hr",{className:l.dividerLine}),n&&Object(e.h)(e.Fragment,null,Object(e.h)(f.b.Meta,null,n),Object(e.h)("hr",{className:l.dividerLine})))}function a({isOpen:n,onClose:r,utm_campaign:u,utm_source:v}){return Object(e.h)(h.a,{isOpen:n,onClose:r},Object(e.h)(O.b,null,Object(e.h)(O.a,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:l.modalHeader},Object(e.h)(f.b.H2,null,"Download the Substack app"),Object(e.h)(d.b,{size:40,onClick:r,rounded:!0,fill:"borderless","aria-label":"Close"},Object(e.h)(c.a,{size:20}))),Object(e.h)(O.b,{justifyContent:"center",alignItems:"center",gap:32,padding:32},Object(e.h)(f.b.B3,{weight:"semibold"},"Scan the QR code below"),Object(e.h)(O.a,{padding:4,alignItems:"center",className:l.qrCode},Object(e.h)("img",{src:Object(o.cloudinary)("/img/app_page/app-store-redirect-qr.jpg",400)})),Object(e.h)(m,{label:"OR"}),Object(e.h)(O.a,{gap:16,justifyContent:"center"},Object(e.h)("a",{className:l.appBadge,href:Object(s.getAppStoreUrl)({utm_campaign:u,utm_source:v})},Object(e.h)("img",{src:Object(o.cloudinary)("/img/app_page/app-store.png",160*2),height:48})),Object(e.h)("a",{className:l.appBadge,href:Object(s.getPlayStoreUrl)({utm_campaign:u,utm_source:v})},Object(e.h)("img",{src:Object(o.cloudinary)("/img/app_page/google-play.png",160*2),height:48}))))))}},function(S,i,t){"use strict";t.d(i,"a",function(){return a});var e=t(0),o=t(590),l=t.n(o),s=t(8),h=t.n(s),c=t(12),d=t(6),p=t.n(d),f=Object.defineProperty,O=(r,u,v)=>u in r?f(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,b=(r,u,v)=>(O(r,typeof u!="symbol"?u+"":u,v),v),m=(r,u,v)=>new Promise((E,w)=>{var C=W=>{try{T(v.next(W))}catch(k){w(k)}},_=W=>{try{T(v.throw(W))}catch(k){w(k)}},T=W=>W.done?E(W.value):Promise.resolve(W.value).then(C,_);T((v=v.apply(r,u)).next())});class a extends e.Component{constructor(){super(...arguments);b(this,"onChange",u=>{const v=this.getDateParts({[u.target.name]:u.target.value});Object(s.stateTransaction)(this,E=>m(this,null,function*(){const w=l()(v,["year","month","day","hour","minute"].filter(C=>v[C]!==E[C]));yield Object(s.setState)(this,w),this.props.onChange&&this.props.onChange(this.getDate())}))})}getNormalizedDate(u){return this.props.dateOnly?n(u,this.props.dateOnlyEOD):u}getDefaultDate(){return this.getNormalizedDate(this.props.date)}getFirstDate(){return this.getNormalizedDate(this.props.firstDate)}getLastDate(){return this.getNormalizedDate(this.props.lastDate)}getDate(u={}){let{month:v,day:E,year:w,hour:C,minute:_}=Object.assign({},this.state,u);typeof v=="undefined"&&(v=this.getDefaultDate().getMonth()),typeof E=="undefined"&&(E=this.getDefaultDate().getDate()),typeof w=="undefined"&&(w=this.getDefaultDate().getFullYear()),typeof C=="undefined"&&(C=this.getDefaultDate().getHours()),typeof _=="undefined"&&(_=this.getDefaultDate().getMinutes()),v=+v,E=+E,w=+w,C=+C,_=+_;const T=new Date(w,v+1,0).getDate();E>T&&(E=T);const W=this.getNormalizedDate(new Date(w,v,E,C,_));return W<this.getFirstDate()?this.getFirstDate():W>this.getLastDate()?this.getLastDate():W}getDateParts(u={}){const v=this.getDate(u);return{month:v.getMonth(),day:v.getDate(),year:v.getFullYear(),hour:v.getHours(),minute:v.getMinutes(),daysInMonth:new Date(v.getFullYear(),v.getMonth()+1,0).getDate()}}isChanged(){const u=this.getDate();return this.props.date.getFullYear()!==u.getFullYear()||this.props.date.getMonth()!==u.getMonth()||this.props.date.getDate()!==u.getDate()||!this.props.dateOnly&&(this.props.date.getHours()!==u.getHours()||this.props.date.getMinutes()!==u.getMinutes())}save(){return m(this,null,function*(){yield Object(s.stateLock)(this,"saving",()=>m(this,null,function*(){yield this.props.onSave(this.getDate())}))})}render({className:u,disabled:v,dateOnly:E,cancelable:w,dateTimeSeparator:C=", ",onSave:_},{saving:T}){const{month:W,day:k,year:$,hour:H,minute:g,daysInMonth:M}=this.getDateParts();return Object(e.h)("span",{"data-testid":"date-editor",className:p()("date-editor",u)},Object(e.h)("select",{name:"month",onInput:this.onChange.bind(this),disabled:v},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((R,D)=>Object(e.h)("option",{value:D,selected:D===W},R)).filter((R,D)=>this.getFirstDate().getFullYear()===$&&this.getFirstDate().getMonth()>D?!1:!(this.getLastDate().getFullYear()===$&&this.getLastDate().getMonth()<D))),Object(e.h)("select",{name:"day",onInput:this.onChange.bind(this),disabled:v},Array.from({length:M},(R,D)=>Object(e.h)("option",{value:D+1,selected:D+1===k},D+1)).filter((R,D)=>this.getFirstDate().getFullYear()===$&&this.getFirstDate().getMonth()===W&&this.getFirstDate().getDate()>D+1?!1:!(this.getLastDate().getFullYear()===$&&this.getLastDate().getMonth()===W&&this.getLastDate().getDate()<D+1))),Object(e.h)("select",{name:"year",onInput:this.onChange.bind(this),disabled:v},Array.from({length:this.getLastDate().getFullYear()-this.getFirstDate().getFullYear()+1},(R,D)=>Object(e.h)("option",{value:this.getFirstDate().getFullYear()+D,selected:this.getFirstDate().getFullYear()+D===$},this.getFirstDate().getFullYear()+D))),!E&&[C,Object(e.h)("select",{name:"hour",onInput:this.onChange.bind(this),disabled:v},Array.from({length:24},(R,D)=>D).filter(R=>this.getFirstDate().getFullYear()===$&&this.getFirstDate().getMonth()===W&&this.getFirstDate().getDate()===k&&this.getFirstDate().getHours()>R?!1:!(this.getLastDate().getFullYear()===$&&this.getLastDate().getMonth()===W&&this.getLastDate().getDate()===k&&this.getLastDate().getHours()<R)).map(R=>Object(e.h)("option",{value:R,selected:R===H},R%12||12," ",R<12?"am":"pm"))),":",Object(e.h)("select",{name:"minute",onInput:this.onChange.bind(this),disabled:v},Array.from({length:60},(R,D)=>D).filter(R=>this.getFirstDate().getFullYear()===$&&this.getFirstDate().getMonth()===W&&this.getFirstDate().getDate()===k&&this.getFirstDate().getHours()===H&&this.getFirstDate().getMinutes()>R?!1:!(this.getLastDate().getFullYear()===$&&this.getLastDate().getMonth()===W&&this.getLastDate().getDate()===k&&this.getLastDate().getHours()===H&&this.getLastDate().getMinutes()<R)).map(R=>Object(e.h)("option",{value:R,selected:R===g},R>=10?R:`0${R}`))),!v&&this.isChanged()&&!!_&&[Object(e.h)("br",null),Object(e.h)(c.b,{disabled:T,className:"submit primary",onClick:this.save.bind(this)},"Save"),w&&Object(e.h)(c.b,{disabled:T,className:"secondary",onClick:()=>this.setState({month:void 0,day:void 0,year:void 0,hour:void 0,minute:void 0})},"Cancel")]])}}function n(r,u){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),u?23:0,u?59:0,u?59:0)}},,,function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",y1:"12",x2:"16",y2:"12",key:"1myapg"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",y1:"11",x2:"10",y2:"17",key:"m9v7hp"}],["line",{x1:"14",y1:"11",x2:"14",y2:"17",key:"23cpt9"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("RotateCcw",[["path",{d:"M3 2v6h6",key:"18ldww"}],["path",{d:"M3 13a9 9 0 1 0 3-7.7L3 8",key:"aahkch"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",y1:"15",x2:"12",y2:"3",key:"nqo27w"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Mail",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("AlignLeft",[["line",{x1:"21",y1:"6",x2:"3",y2:"6",key:"1e448z"}],["line",{x1:"15",y1:"12",x2:"3",y2:"12",key:"80e4vw"}],["line",{x1:"17",y1:"18",x2:"3",y2:"18",key:"1771gn"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]]);i.a=o},,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"BurgerIcon",svgParams:{height:100,width:100}}),Object(e.h)("path",{d:"M84.7,53.7H15.1c-2.1,0-3.8-1.7-3.8-3.8v0c0-2.1,1.7-3.8,3.8-3.8h69.7c2.1,0,3.8,1.7,3.8,3.8v0C88.6,52,86.9,53.7,84.7,53.7  z"}),Object(e.h)("path",{d:"M84.7,23.7H15.1c-2.1,0-3.8-1.7-3.8-3.8v0c0-2.1,1.7-3.8,3.8-3.8h69.7c2.1,0,3.8,1.7,3.8,3.8v0C88.6,22,86.9,23.7,84.7,23.7  z"}),Object(e.h)("path",{d:"M84.7,83.7H15.1c-2.1,0-3.8-1.7-3.8-3.8v0c0-2.1,1.7-3.8,3.8-3.8h69.7c2.1,0,3.8,1.7,3.8,3.8v0C88.6,82,86.9,83.7,84.7,83.7  z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PencraftPencilIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M18 2L22 6",stroke:a.stroke||"#666","stroke-width":a.strokeWidth||1.5,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M7.5 20.5L19 9L15 5L3.5 16.5L2 22L7.5 20.5Z",stroke:a.stroke||"#666","stroke-width":a.strokeWidth||1.5,"stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},,,,,,,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"QuestionMarkIcon",svgParams:{height:18,width:19}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.79301 7.37229C7.79301 7.76112 7.48852 8.07612 7.11607 8.07612C6.7402 8.07612 6.43571 7.76112 6.43571 7.37229C6.43571 6.52362 6.76738 5.7565 7.30365 5.20113C7.84058 4.64566 8.58211 4.30323 9.40238 4.30323C10.2227 4.30323 10.9643 4.64635 11.5011 5.20113C12.038 5.75659 12.369 6.52371 12.369 7.37229C12.369 8.22095 12.0374 8.98807 11.5011 9.54345C11.1185 9.9393 10.6291 10.2297 10.0826 10.3605V10.6649C10.0826 11.0538 9.77815 11.3688 9.40229 11.3688C9.02643 11.3688 8.72194 11.0538 8.72194 10.6649V9.73822C8.72194 9.35292 9.02643 9.03792 9.40229 9.03792C9.84679 9.03792 10.2498 8.85018 10.5407 8.54995C10.8316 8.24901 11.0124 7.83206 11.0124 7.37221C11.0124 6.91237 10.8309 6.49542 10.5407 6.19447C10.2498 5.89353 9.84679 5.70651 9.40229 5.70651C8.95779 5.70651 8.55474 5.89425 8.26384 6.19447C7.97294 6.49542 7.79216 6.91237 7.79216 7.37221L7.79301 7.37229ZM9.3345 13.6919C8.95864 13.6919 8.65415 13.3804 8.65415 12.9916C8.65415 12.6028 8.95864 12.2878 9.3345 12.2878H9.48471C9.86057 12.2878 10.1651 12.6028 10.1651 12.9916C10.1651 13.3804 9.86057 13.6919 9.48471 13.6919H9.3345ZM9.40994 16.5915C11.4366 16.5915 13.2725 15.7429 14.5992 14.3669C15.9286 12.9951 16.7496 11.0959 16.7496 8.99859C16.7496 6.90195 15.9292 5.00277 14.5992 3.62667C13.2731 2.25487 11.4373 1.40205 9.40994 1.40205C7.38325 1.40205 5.54743 2.25424 4.21724 3.62667C2.89121 5.00197 2.06684 6.90105 2.06684 8.99859C2.06684 11.0952 2.8906 12.9944 4.21724 14.3669C5.54667 15.7422 7.38238 16.5915 9.40994 16.5915ZM15.5596 15.3611C13.9869 16.9916 11.8099 17.9991 9.40994 17.9991C7.00673 17.9991 4.83301 16.9916 3.25697 15.3611C1.68421 13.734 0.710205 11.4819 0.710205 8.99914C0.710205 6.51298 1.68418 4.26424 3.25697 2.63381C4.83312 1.00677 7.00673 -0.000854492 9.40994 -0.000854492C11.8099 -0.000854492 13.9869 1.00673 15.5596 2.63381C17.1358 4.26435 18.1097 6.51298 18.1097 8.99914C18.1097 11.4819 17.1357 13.734 15.5596 15.3611Z",fill:"#565656"}));i.default=m},function(S,i,t){"use strict";t.d(i,"a",function(){return E});var e=t(0),o=t(6),l=t.n(o),s=t(7),h=t.n(s),c=t(3),d=t.n(c),p=t(105),f=Object.defineProperty,O=Object.defineProperties,b=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(w,C,_)=>C in w?f(w,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):w[C]=_,u=(w,C)=>{for(var _ in C||(C={}))a.call(C,_)&&r(w,_,C[_]);if(m)for(var _ of m(C))n.call(C,_)&&r(w,_,C[_]);return w},v=(w,C)=>O(w,b(C));function E({pub:w,user:C,freeSignup:_,freeSignupEmail:T,className:W}){var k;return Object(e.h)("div",{className:l()("home-sitemap",W)},Object(e.h)("h4",{className:"home-sitemap-title"},w.name),_||C&&C.is_free_subscribed?!(C&&C.is_subscribed)&&w.plans?Object(e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:Object(c.getSubscribeUrl)(w,{utm_source:"home-sitemap"}),native:!0},Object(s.getSubscribeText)(w)):null:Object(e.h)(p.a,{className:"home-sitemap-signup-form",source:"home-sitemap",user:C,pub:w,freeSignup:_,freeSignupEmail:T,onSuccess:$=>{$.body.prompt_to_login?setTimeout(()=>{document.location.href=Object(c.pathWithQuery)("/account/login",{redirect:document.location.href,email:$.body.email})},30):w.plans?document.location.href=Object(c.pathWithQuery)("/subscribe",v(u({next:document.location.href,later:!0,just_signed_up:!0},$.body.subscription_id&&{subscription_id:$.body.subscription_id}),{requires_confirmation:$.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(w==null?void 0:w.payments_state)==="enabled"?()=>null:void 0,hideLogin:!0,hideTerms:!0}),Object(e.h)("div",{className:"home-sitemap-links"},Object(e.h)("a",{href:Object(c.getAboutUrl)(w),native:!!w.parent_publication_id},"About"),Object(e.h)("a",{href:Object(c.getBaseArchiveUrl)(w)},"Archive"),((k=w.contributors)==null?void 0:k.length)>0&&Object(e.h)("a",{href:Object(c.getAboutUrl)(w,{params:{sort:"people"}}),native:!!w.parent_publication_id},"Authors"),w.has_recommendations&&Object(e.h)("a",{href:Object(c.getRecommendationsPageUrl)(w),native:!0},"Recommendations"),w.can_have_sitemap_page&&Object(e.h)("a",{href:Object(c.getSitemapUrl)(w),native:!0},"Sitemap")))}},,,,,,,,,,,,,,,function(S,i,t){"use strict";t.d(i,"b",function(){return x}),t.d(i,"c",function(){return P}),t.d(i,"a",function(){return y});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(290),c=t.n(h),d=t(826),p=t.n(d),f=t(3),O=t(54),b=t(8),m=t(7),a=t(13),n=t(11),r=t(509),u=t(716),v=t(632),E=t(203),w=t(42),C=t(117),_=t(291),T=t(72),W={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--2gZ8W",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--2DQRV",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--3l8m9",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--2tYyZ",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--2085u",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--317-p",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--3JR5W",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--1N_4X",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--2TvBx",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--2knX7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--2dzpY",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--1GG0y",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--EVQJe"},k=Object.defineProperty,$=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,M=(F,G,X)=>G in F?k(F,G,{enumerable:!0,configurable:!0,writable:!0,value:X}):F[G]=X,R=(F,G)=>{for(var X in G||(G={}))H.call(G,X)&&M(F,X,G[X]);if($)for(var X of $(G))g.call(G,X)&&M(F,X,G[X]);return F},D=(F,G)=>{var X={};for(var q in F)H.call(F,q)&&G.indexOf(q)<0&&(X[q]=F[q]);if(F!=null&&$)for(var q of $(F))G.indexOf(q)<0&&g.call(F,q)&&(X[q]=F[q]);return X};function U({children:F,pub:G,user:X,showHeader:q,layoutTop:se}){return Object(e.h)("div",{className:s()(W.pageContainer,se?W.layoutTop:W.layoutCentered)},Object(e.h)("div",{className:W.header},q&&G&&X&&Object(e.h)(v.a,{pub:G,user:X,hideSections:!0,hideTitle:!0})),F)}function L({pub:F}){const G=Object(C.isMobile)(),X=Object(C.isAndroid)();if(!(!G||X))return Object(e.h)(n.a,{justifyContent:"center",paddingX:24},Object(e.h)(a.b.B4,{size:12,color:"secondary",className:W.threadsLinkFallback},"Already have the app? ",Object(e.h)("a",{href:Object(f.getThreadDeepLinkUrl)(F)},"Open now")))}function j(){return Object(e.h)(n.a,{justifyContent:"center",paddingX:24},Object(e.h)(a.b.B4,{size:12,align:"center",color:"secondary",className:W.threadsLinkFallback},"Chat is coming soon to Android."))}const B=({pub:F,communityAction:G})=>{const X=G?`${G.author.name} started a thread`:`Join the ${F.name} thread`,q=(G==null?void 0:G.communityPost)?G.communityPost.body.slice(0,128):`Subscribe to ${F.name} and join the conversation.`,se=Object(f.getThreadsWebLandingPageUrl)(F.subdomain);return Object(e.h)(e.Fragment,null,Object(b.setMetaData)({title:X,socialTitle:X,description:q,image:F.logo_url,isLargeImage:!1}),Object(e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:c()(Object(_.c)(F,{name:X,url:se,description:q,potentialAction:null}),{json:!0,isScriptContext:!0})}}))};function x({publication:F,communityAction:G,user:X,showHeader:q,layoutTop:se}){return Object(e.h)(U,{pub:F,user:X,showHeader:q,layoutTop:se},Object(e.h)(y,{publication:F,communityAction:G,publicationAuthor:F.author||{id:F.author_id||0,name:F.author_name||"",photo_url:F.author_photo_url},utm_campaign:"threads-page"}))}function P({publication:F,communityAction:{communityPost:G,author:X},user:q,layoutTop:se}){const ie=Object(T.b)(),[Ee,Ie]=Object(o.k)(!1),ge=Object(e.h)(n.b,{gap:8},Object(e.h)(E.d,{href:ie&&(Object(C.isAndroid)()?Object(f.getPlayStoreUrl)():Object(f.getAppStoreUrl)()),onClick:ie?null:()=>Ie(!0)},"Open in app"),Object(e.h)(a.b.B4,{align:"center",color:"secondary"},"Join the conversation in the Substack app."));return Object(e.h)(U,{pub:F,user:q,layoutTop:se},Object(e.h)(n.b,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},Object(e.h)(n.a,{flex:"grow",justifyContent:"center"},Object(e.h)(n.b,{style:{maxWidth:500},flex:"grow",justifyContent:"center"},G?Object(e.h)(E.c,{communityPost:G,author:X,withAttribution:!0,extras:ie?null:ge,flex:"auto"}):Object(e.h)(n.b,null,Object(e.h)(E.b,{author:X})))),ie&&Object(e.h)(n.b,{className:W.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},ge)),Object(e.h)(Y,{isOpen:Ee,communityPost:G,onClose:()=>Ie(!1)}))}function y({publication:F,communityAction:G,publicationAuthor:X,noFallback:q,utm_campaign:se}){const ie=Object(C.isMobile)(),Ee=Object(C.isAndroid)();return Object(e.h)(n.b,{gap:ie?16:24,justifyContent:"center",alignItems:"center"},Object(e.h)(r.a,{imageUrl:Object(f.getUserPhotoUrl)(X),size:ie?"xl":"xxl",border:!0,badge:Object(e.h)("div",{className:s()(W.activityBadge,ie&&W.mobile)}),badgePosition:"bottom-right"}),Object(e.h)(n.b,{gap:ie?4:8},Object(e.h)(a.b.H2,{size:ie?20:24,align:"center",weight:"extrabold",color:"pub-primary-text"},"Join ",Object(m.possessive)(X.name)," subscriber chat"),Object(e.h)(a.b.B3,{size:ie?14:16,align:"center",as:"p",color:"pub-secondary-text"},"Available exclusively in the Substack app")),!ie&&Object(e.h)("div",{class:W.threadsLinkContainer},Object(e.h)(A,{utm_campaign:se})),ie&&!Ee&&Object(e.h)(N,{utm_campaign:se}),!q&&Object(e.h)(L,{pub:F}),Ee&&Object(e.h)(j,null),Object(e.h)(B,{pub:F,communityAction:G}))}function A({utm_campaign:F,communityPost:G}){return Object(e.h)(n.b,{gap:24,alignItems:"center",className:W.threadsLinkText},Object(e.h)(n.a,{justifyContent:"center"},Object(e.h)(a.b.B4,{as:"span",weight:"bold"},"Scan the QR code below")),Object(e.h)(n.a,{flex:"auto",justifyContent:"center",border:"detail",radius:4,padding:4},G?Object(e.h)(K,{communityPost:G}):Object(e.h)("img",{class:W.qrCode,src:Object(f.cloudinary)("/img/app_page/qr-code-v2-inverted.jpg",360,{quality:"auto:best"}),width:180,height:180})),Object(e.h)(u.a,{label:"OR"}),Object(e.h)(n.a,{gap:16,justifyContent:"center"},Object(e.h)(N,{utm_campaign:F}),Object(e.h)("a",{className:W.appBadge,href:Object(f.getPlayStoreUrl)({utm_campaign:F,utm_source:"substack"})},Object(e.h)("img",{src:Object(f.cloudinary)("/img/app_page/google-play.png",400),height:40}))))}function K({communityPost:F}){const G=Object(o.j)();return Object(o.d)(()=>{const{current:X}=G;X&&p.a.toCanvas(X,Object(O.getCommunityPostAppLinkUrl)({postId:F.id}),{width:180,margin:2})},[]),Object(e.h)("canvas",{ref:G})}function N({utm_campaign:F}){return Object(e.h)("a",{className:W.appBadge,href:Object(f.getAppStoreUrl)({utm_campaign:F,utm_source:"substack"})},Object(e.h)("img",{src:Object(f.cloudinary)("/img/app_page/app-store.png",400),height:40}))}function Y(F){var G=F,{communityPost:X}=G,q=D(G,["communityPost"]);return Object(e.h)(w.a,R({},q),Object(e.h)(w.d,{title:"Open in the Substack app",includeClose:!0,onClose:q.onClose,bottomBorder:!0}),Object(e.h)(n.b,{paddingY:32,paddingX:40},Object(e.h)(A,{utm_campaign:"threads-page",communityPost:X})))}},,,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CheckmarkIcon",svgParams:{height:60,width:60,fill:"black"}}),Object(e.h)("path",{d:"M29.9998 0.300003C13.6311 0.300003 0.299805 13.5673 0.299805 30C0.299805 46.3687 13.6311 59.7 29.9998 59.7C46.3685 59.7 59.6998 46.3687 59.6998 30C59.6998 13.5673 46.3685 0.300003 29.9998 0.300003ZM44.9811 22.2113L26.1711 41.0213C25.9082 41.2843 25.5782 41.4184 25.2482 41.4184C24.9182 41.4184 24.5882 41.2869 24.3253 41.0213L15.0853 31.7813C14.5567 31.2528 14.5567 30.4613 15.0853 29.9328C15.6138 29.4043 16.4053 29.4043 16.9338 29.9328L25.2511 38.2501L43.1384 20.3628C43.6669 19.8343 44.4584 19.8343 44.987 20.3628C45.5103 20.8269 45.5103 21.6828 44.9818 22.2113H44.9811Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentIconReader",svgParams:{height:18,width:18}}),Object(e.h)("path",{d:"M3.32144 13C1.89787 11.7435 1 9.90519 1 7.85714C1 4.07005 4.07005 1 7.85714 1H10.1429C13.93 1 17 4.07005 17 7.85714C17 11.9714 14.3333 13.7619 13 14.1429L3.28571 17V13","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CaretDownIcon",svgParams:{height:32,width:32,stroke:"#000"}}),Object(e.h)("path",{d:"M9.3335 17.3334L16.0002 24L22.6668 17.3334","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M9.3335 8L16.0002 14.6667L22.6668 8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"FileDocumentIcon",svgParams:{viewBox:"0 0 32 32",fill:"none"}}),Object(e.h)("path",{d:"M18.6666 2.66675H7.99992C6.53325 2.66675 5.33325 3.86675 5.33325 5.33341V26.6667C5.33325 28.1334 6.53325 29.3334 7.99992 29.3334H23.9999C25.4666 29.3334 26.6666 28.1334 26.6666 26.6667V10.6667L18.6666 2.66675ZM24.6666 12.0001H17.3333V4.66675L24.6666 12.0001Z",fill:"#2F80ED",stroke:"none"}));i.default=m},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",y1:"8",x2:"12",y2:"12",key:"1grbh0"}],["line",{x1:"12",y1:"16",x2:"12.01",y2:"16",key:"1w440g"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Calendar",[["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",key:"1dtxiw"}],["line",{x1:"16",y1:"2",x2:"16",y2:"6",key:"18saeg"}],["line",{x1:"8",y1:"2",x2:"8",y2:"6",key:"1u51jw"}],["line",{x1:"3",y1:"10",x2:"21",y2:"10",key:"6sq0yj"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Unlock",[["rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",key:"biyj2e"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);i.a=o},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PodcastPencraftIcon",svgParams:{height:24,width:24,strokeWidth:1.5}}),Object(e.h)("path",{d:"M3 18V12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3C14.3869 3 16.6761 3.94821 18.364 5.63604C20.0518 7.32387 21 9.61305 21 12V18","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M21 19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H18C17.4696 21 16.9609 20.7893 16.5858 20.4142C16.2107 20.0391 16 19.5304 16 19V16C16 15.4696 16.2107 14.9609 16.5858 14.5858C16.9609 14.2107 17.4696 14 18 14H21V19ZM3 19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H6C6.53043 21 7.03914 20.7893 7.41421 20.4142C7.78929 20.0391 8 19.5304 8 19V16C8 15.4696 7.78929 14.9609 7.41421 14.5858C7.03914 14.2107 6.53043 14 6 14H3V19Z","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"RecommendIconRounded",svgParams:{viewBox:"2 2 22 22",height:22,width:22}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.7996 12.5084C21.0668 12.2221 21.0668 11.7777 20.7996 11.4914L13.0945 3.23664C12.8137 2.93576 12.3421 2.91951 12.0412 3.20035C11.884 3.34707 11.8045 3.54587 11.8045 3.74518H11.8045V8.32516C9.37206 8.45369 7.21389 9.2632 5.63546 11.0671C3.92131 13.0261 3.00032 16.0352 3.00024 20.2548C3.00024 20.5936 3.22876 20.8897 3.55649 20.9757C3.88421 21.0616 4.22865 20.9156 4.39487 20.6204C5.365 18.8974 6.32473 17.6899 7.54233 16.9C8.61721 16.2027 9.95543 15.7911 11.8045 15.7087V20.2548C11.8045 20.6664 12.1381 21.0001 12.5497 21.0001C12.7694 21.0001 12.9668 20.905 13.1032 20.7539L20.7996 12.5084ZM12.5353 9.7969C12.5289 9.79706 12.5225 9.79714 12.5161 9.79714C10.0794 9.79714 8.12197 10.4888 6.75716 12.0486C5.71118 13.2439 4.94986 15.0204 4.64175 17.5643C5.25768 16.8068 5.93857 16.1638 6.73113 15.6497C8.24968 14.6645 10.0982 14.203 12.5161 14.203L12.5333 14.2031L12.5497 14.203C12.9613 14.203 13.295 14.5366 13.295 14.9482V18.3641L19.2353 11.9999L13.295 5.63568V9.05181C13.295 9.46339 12.9613 9.79704 12.5497 9.79704C12.5449 9.79704 12.5401 9.79699 12.5353 9.7969Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"VideoRecordingIcon",svgParams:{height:24,width:24,strokeWidth:1.5,stroke:"black"}},O),Object(e.h)("path",{d:"M23 7L16 12L23 17V7Z","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.d(i,"a",function(){return a}),t.d(i,"b",function(){return n});var e=t(0),o=t(7),l=t.n(o),s=t(3),h=t.n(s),c=t(83),d=t(658),p=t(80),f=t(194),O=t(6),b=t.n(O),m=t(58);const a=({publication:r,user:u,hideTerms:v,showIntrinioAttrib:E})=>{typeof v=="undefined"&&(v=!1);const w=Object(f.b)();return Object(e.h)("div",{className:"footer-wrap publication-footer"},Object(e.h)("div",{className:b()("footer",{"themed-background":w})},Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"footer-blurbs"},Object(e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",r&&r.copyright||"Substack Inc"),E&&Object(e.h)("div",{className:"footer-copyright-blurb"},"Market data by ",Object(e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),Object(e.h)("div",{className:"footer-terms-blurb"},v===!1&&[Object(e.h)("a",{href:Object(s.getPrivacyUrl)({pub:r}),native:!0},"Privacy")," \u2219 ",Object(e.h)("a",{href:"/tos",native:!0},"Terms")," \u2219 ",Object(e.h)("a",{href:`${Object(s.getSubstackUrl)()}/ccpa#personal-data-collected`,native:!0},"Collection notice")])),Object(e.h)("div",{className:"footer-buttons"},Object(e.h)("a",{className:"footer-substack-cta start-publishing",native:!0,href:(u==null?void 0:u.has_publication)?`${Object(s.getBaseUrl)({subdomain:"your"})}/publish`:`${Object(s.getSubstackUrl)()}/signup?${Object(s.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},Object(e.h)(c.default,null)," Publish on Substack"),Object(e.h)("a",{className:"footer-substack-cta get-the-app",native:!0,href:Object(s.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},Object(e.h)(d.default,null)," Get the app")),Object(e.h)("div",{className:"footer-slogan-blurb"},Object(e.h)("a",{href:`${Object(s.getSubstackUrl)()}`,native:!0},"Substack"),"\xA0is the home for great writing"))))},n=()=>Object(e.h)("div",{className:"footer-wrap www-footer"},Object(e.h)("div",{className:"home-footer"},Object(e.h)("div",{className:"footer-contain"},Object(e.h)("div",{className:"footer-info"},Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Read"),Object(e.h)("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),Object(e.h)("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),Object(e.h)("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),Object(e.h)("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),Object(e.h)("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),Object(e.h)("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),Object(e.h)("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),Object(e.h)("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),Object(e.h)("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),Object(e.h)("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),Object(e.h)("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),Object(e.h)("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),Object(e.h)("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business")),Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Writers"),Object(e.h)("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),Object(e.h)("a",{href:"/revue?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Revue"),Object(e.h)("a",{href:"/bulletin?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Bulletin"),Object(e.h)("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),Object(e.h)("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),Object(e.h)("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),Object(e.h)("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),Object(e.h)("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),Object(e.h)("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),Object(e.h)("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Company"),Object(e.h)("a",{href:Object(s.getAboutUrl)(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),Object(e.h)("a",{href:Object(s.getSupportUrl)()},"Help"),Object(e.h)("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),Object(e.h)("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),Object(e.h)("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),Object(e.h)("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Resources"),Object(e.h)("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),Object(e.h)("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),Object(e.h)("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),Object(e.h)("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"))),Object(e.h)("div",{className:"logo-copy-wrapper"},Object(e.h)(p.default,{className:"navbar-logo-wordmark substack-logo-wordmark"}),Object(e.h)("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),Object(e.h)("div",{className:"footer-divider"}),Object(e.h)("div",{className:"footer-bottom-bar"},Object(e.h)("div",{className:"app-badges"},Object(e.h)("a",{class:"app-badge",href:Object(s.getAppStoreUrl)({utm_campaign:"app-marketing",utm_content:"www-footer"})},Object(e.h)("img",{src:Object(o.cloudinary)("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134})),Object(e.h)("a",{class:"app-badge",href:Object(s.getPlayStoreUrl)({utm_campaign:"app-marketing",utm_content:"www-footer"})},Object(e.h)("img",{src:Object(o.cloudinary)("/img/app_page/google-play-white.png",119*2),height:40,width:134}))),Object(e.h)("div",{className:"footer-bottom-links"},Object(e.h)("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),Object(e.h)("a",{className:"bottom-item",href:Object(s.getPrivacyUrl)(),native:!0},"Privacy"),Object(e.h)("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),Object(e.h)("a",{className:"bottom-item",href:`${Object(s.getSubstackUrl)()}/ccpa#personal-data-collected`,native:!0},"Collection notice"),Object(e.h)("a",{className:"bottom-item",href:"/sitemap",native:!0},"Sitemap"))))},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"AltRightArrowIcon",svgParams:{height:24,width:24}},O),Object(e.h)("path",{d:"M12 5L19 12L12 19","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5 12L19 12","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#555",strokeWidth:v="1.5"}=r,E=m(r,["stroke","strokeWidth"]);return Object(e.h)(o.a,b(O({},E),{name:"HelpCircleIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:u,"stroke-width":v,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M9.08984 8.99959C9.32495 8.33126 9.789 7.7677 10.3998 7.40873C11.0106 7.04975 11.7287 6.91853 12.427 7.0383C13.1253 7.15808 13.7587 7.52112 14.2149 8.06312C14.6712 8.60512 14.9209 9.29112 14.9198 9.99959C14.9198 11.9996 11.9198 12.9996 11.9198 12.9996",stroke:u,"stroke-width":v,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 17H12.01",stroke:u,"stroke-width":v,"stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},,,function(S,i,t){"use strict";t.d(i,"a",function(){return a});var e=t(0),o=t(379),l=t(286),s=t(46),h=t(3),c=t(2),d=t(11),p=t(107),f=t(23),O=t(52),b={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--3wUl-",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--17w27",header:"frontend-lib-ProfileSetupToast-module__header--fKsNz"};const m=(n,r,u,v)=>{if(!r)return null;switch(n){case"post-login":return r.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:Object(h.getReaderProfileUrl)(r,{utm_source:"profile_toast",noBase:u}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return v?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:Object(h.getReaderOnboardingUrl)(r,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:v?v.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!v||!r.profile_set_up_at?null:{title:`Welcome to ${v?v.name:""}`,body:Object(e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",Object(e.h)("a",{href:v?Object(h.getArchiveUrl)(v):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:Object(h.getReaderProfileUrl)(r,{utm_source:"profile_toast",noBase:u}),ctaVariant:"secondary"};default:return null}};function a({user:n,pub:r=null,noBase:u=!1}){const v=Object(s.e)();return Object(c.d)(()=>{const E=new URL(location.toString()),w=E.searchParams.get("profile-setup-message");if(!w||(E.searchParams.delete("profile-setup-message"),history.replaceState({},"",E),!(w!=="post-subscribe-prompt"||Object(O.maybeGetVariantFor)("reader_onboarding_after_subscription_flow",["treatment","control"])==="treatment")))return;const _=m(w,n,u,r);!_||v.popToast(({onClose:T})=>Object(e.h)(d.b,{className:b.wrapper,justifyContent:"space-between"},Object(e.h)(d.b,{gap:8},Object(e.h)(d.c,{className:b.headerRow,justifyContent:"space-between",alignItems:"center"},Object(e.h)(f.a,{look:"flex",onClick:T},Object(e.h)(o.a,{size:20})),Object(e.h)(p.c,{className:b.header},_.title)),_.body),Object(e.h)(f.a,{variant:_.ctaVariant,fill:"filled",onClick:W=>{Object(l.a)(W,_.ctaLink,{native:!0}),T()}},_.ctaText)),{ttl:null})},[]),null}},function(S,i,t){"use strict";var e=t(0);i.a=({tabs:o,tab:l,onTabClick:s})=>Object(e.h)("div",{className:"ui-tabs"},o.map(({id:h,title:c})=>Object(e.h)("a",{className:`ui-tab ${h}-tab ${l===h?"active":""}`,onClick:()=>s&&s(h)},c)))},,,,,,function(S,i,t){"use strict";t.d(i,"a",function(){return c});var e=t(0),o=t(13),l=t(1),s=t(11),h={label:"frontend-pencraft-unstable-InputGroup-module__label--2VXOi"};const c=({className:b,children:m,detail:a,title:n,alignment:r="vertical",error:u=!1})=>{const v=r==="vertical"?d:p;return Object(e.h)(v,{className:b,detail:a,error:u,title:n},l.Children.map(m,E=>Object(l.isValidElement)(E)?Object(e.cloneElement)(E,{error:u}):E))},d=({children:b,className:m,detail:a,error:n,title:r})=>Object(e.h)(s.b,{className:m,gap:8,justifyContent:"start"},r&&Object(e.h)(f,{title:r,error:n}),b,a&&Object(e.h)(O,{detail:a,error:n})),p=({children:b,className:m,detail:a,error:n,title:r})=>Object(e.h)(s.c,{className:m,justifyContent:"space-between",alignItems:"center"},Object(e.h)(s.b,{gap:4},r&&Object(e.h)(f,{title:r,error:n}),a&&Object(e.h)(O,{detail:a,error:n})),b),f=({title:b,error:m})=>Object(e.h)(o.b.InputLabel,{className:h.label,color:m?"error":"primary"},b),O=({detail:b,error:m})=>Object(e.h)(o.b.B4,{color:m?"error":"secondary"},b)},,function(S,i,t){var e=t(188),o=t(794),l=t(204);function s(h,c,d){for(var p=-1,f=c.length,O={};++p<f;){var b=c[p],m=e(h,b);d(m,b)&&o(O,l(b,h),m)}return O}S.exports=s},function(S,i,t){var e=t(707),o=t(204),l=t(191),s=t(97),h=t(146);function c(d,p,f,O){if(!s(d))return d;p=o(p,d);for(var b=-1,m=p.length,a=m-1,n=d;n!=null&&++b<m;){var r=h(p[b]),u=f;if(r==="__proto__"||r==="constructor"||r==="prototype")return d;if(b!=a){var v=n[r];u=O?O(v,r,n):void 0,u===void 0&&(u=s(v)?v:l(p[b+1])?[]:{})}e(n,r,u),n=n[r]}return d}S.exports=c},function(S,i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+e)}}i.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},i.from=function(o,l){if(i.isValid(o))return o;try{return t(o)}catch(s){return l}}},,,,,,,,,,,,,,,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PencilIcon",svgParams:{height:100,width:100}}),Object(e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),Object(e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},O),Object(e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ChevronUpIcon",svgParams:{height:16,width:16}}),"return ",Object(e.h)("path",{d:"M12 9L8 5L4 9",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}),";");i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),Object(e.h)("g",{fill:"none",fillRule:"evenodd"},Object(e.h)("g",{fill:a.fill||"#515e80",stroke:"none"},Object(e.h)("g",{transform:"translate(0 2)"},Object(e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),Object(e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DoubleHamburgerIcon",svgParams:{height:15,width:9,stroke:"none"}}),Object(e.h)("rect",{width:"3",height:"3",rx:"1.5",fill:"#666666"}),Object(e.h)("rect",{x:"6",width:"3",height:"3",rx:"1.5",fill:"#666666"}),Object(e.h)("rect",{y:"6",width:"3",height:"3",rx:"1.5",fill:"#666666"}),Object(e.h)("rect",{x:"6",y:"6",width:"3",height:"3",rx:"1.5",fill:"#666666"}),Object(e.h)("rect",{y:"12",width:"3",height:"3",rx:"1.5",fill:"#666666"}),Object(e.h)("rect",{x:"6",y:"12",width:"3",height:"3",rx:"1.5",fill:"#666666"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DropdownIcon",svgParams:{height:9,width:15,stroke:"#979191"}}),Object(e.h)("path",{d:"M0.383789 1.34277L7.03653 7.64968L13.6893 1.34277"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"default",function(){return m});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));function m(a){return Object(e.h)(o.a,b(O({},a),{name:"InboxIcon",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",svgParams:{viewBox:"0 0 24 24",fill:"none",width:24,height:24}}),Object(e.h)("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),Object(e.h)("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}))}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"InformationIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"}),Object(e.h)("rect",{x:"11",y:"10",width:"2",height:"8"}),Object(e.h)("rect",{x:"11",y:"6",width:"2",height:"2"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"LineChartIcon",svgParams:{width:16,height:16,viewBox:"0 0 16 16",stroke:"none"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M 1.800781 12.574219 L 16 12.574219 L 16 14.375 L 0 14.375 L 0 1.625 L 1.800781 1.625 Z M 8.898438 9.28125 L 14.328125 5.148438 L 13.238281 3.714844 L 9.101562 6.867188 L 7.542969 5.203125 L 3.207031 8.597656 L 4.320312 10.015625 L 7.355469 7.636719 Z M 8.898438 9.28125 "})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{color:u="#B6B6B6"}=r,v=m(r,["color"]);return Object(e.h)(o.a,b(O({},v),{name:"LockIcon",svgParams:{height:18,width:18}}),Object(e.h)("rect",{x:"6.5",y:"4.5",width:"5",height:"11",rx:"2.5",stroke:u}),Object(e.h)("rect",{x:"4.5",y:"9.5",width:"9",height:"6",rx:"0.5",fill:u,stroke:u}))};i.default=a},,,,function(S,i,t){const e=t(1116),o=t(1117),l=t(1135),s=t(1136);function h(c,d,p,f,O){const b=[].slice.call(arguments,1),m=b.length,a=typeof b[m-1]=="function";if(!a&&!e())throw new Error("Callback required as last argument");if(a){if(m<2)throw new Error("Too few arguments provided");m===2?(O=p,p=d,d=f=void 0):m===3&&(d.getContext&&typeof O=="undefined"?(O=f,f=void 0):(O=f,f=p,p=d,d=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(p=d,d=f=void 0):m===2&&!d.getContext&&(f=p,p=d,d=void 0),new Promise(function(n,r){try{const u=o.create(p,f);n(c(u,d,f))}catch(u){r(u)}})}try{const n=o.create(p,f);O(null,c(n,d,f))}catch(n){O(n)}}i.create=o.create,i.toCanvas=h.bind(null,l.render),i.toDataURL=h.bind(null,l.renderToDataURL),i.toString=h.bind(null,function(c,d,p){return s.render(c,p)})},,,,function(S,i,t){"use strict";t.d(i,"a",function(){return b}),t.d(i,"b",function(){return m});var e=t(0),o=t(3),l=t(592),s={container:"frontend-main-add_all_podcasts-module__container--1IhPG",noPodcasts:"frontend-main-add_all_podcasts-module__noPodcasts--3mkKP"},h=t(6),c=t.n(h),d=t(13);const p=t(51),f=({})=>Object(e.h)("div",{className:s.noPodcasts},"No podcasts."),O=(a,n,r)=>{let u=a[n.id];return u||(u=Object(o.getPodcatcherSetupUrl)(n,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:"all-podcasts"}})),u},b=({pub:a,user:n,idToMagicLink:r={},openInNewTab:u=!1})=>{const v=[];p.isMultiPub(a)?p.getMultiPubChildPodcasts(a).forEach(_=>{const T=Object(l.b)(_,O(r,_,n));v.push(T)}):p.getSectionPodcasts(a)&&p.getSectionPodcasts(a).forEach(_=>{var T;const W={logoUrl:(T=_.podcastSettings)==null?void 0:T.podcast_art_url,mainClickUrl:Object(o.getSectionUrl)(a,{section:_,addBase:!0}),buttonClickUrl:r[_.id]||Object(o.getPodcatcherSetupUrl)(a,{section:_,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!n||!n.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:_.name,description:_.description,buttonText:"Set up podcast"};v.push(W)}),a.podcast_enabled&&v.push(Object(l.b)(a,O(r,a,n)));const E=Object.keys(r).length>0||!!(n==null?void 0:n.is_free_subscribed);let w=p.hasMultiplePodcasts(a)?"Podcast feeds:":"Podcast feed:";return E&&(w=p.hasMultiplePodcasts(a)?"Private podcast feeds:":"Private podcast feed:"),Object(e.h)("div",{className:"container"},Object(e.h)("div",{id:"set-up-podcast"},Object(e.h)(d.b.H3,{paddingTop:16},w),p.hasPodcast(a)?Object(e.h)(l.a,{showButton:!0,items:v,openInNewTab:u,buttonText:"Set up podcast"}):Object(e.h)(f,null)))},m=({pub:a,user:n,idToMagicLink:r,openInNewTab:u=!1})=>Object(e.h)("div",{className:c()("page","typography",s.container)},Object(e.h)(b,{pub:a,user:n,idToMagicLink:r,openInNewTab:u}))},,,,,,,,function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);i.a=o},function(S,i,t){"use strict";var e=t(4);const o=Object(e.a)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);i.a=o},,,,,,,,,,,,,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#1F140E"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"BurgerMenuIcon",svgParams:{height:24,width:24,stroke:u}}),Object(e.h)("path",{d:"M3 12H21","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3 6H21","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3 18H21","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CaughtUpCheckmarkIcon",svgParams:{height:20,width:20}}),Object(e.h)("circle",{cx:"10",cy:"10",r:"10",fill:"#33A838",stroke:"none"}),Object(e.h)("path",{d:"M6.5625 10L9.25272 12.5L13.4375 7.5",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"FoundingBadgeIconInCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24"}}),Object(e.h)("circle",{cx:"12",cy:"12",r:"11",stroke:"none"}),Object(e.h)("path",{d:"M12.5 11.0013C12.5 13.283 10.6978 15.1119 8.5 15.1119C6.30224 15.1119 4.5 13.283 4.5 11.0013C4.5 8.71957 6.30224 6.8907 8.5 6.8907C10.6978 6.8907 12.5 8.71957 12.5 11.0013Z"}),Object(e.h)("path",{d:"M14.0556 15.3894C14.0556 17.6711 12.2534 19.5 10.0556 19.5C7.85788 19.5 6.05564 17.6711 6.05564 15.3894C6.05564 13.1077 7.85788 11.2788 10.0556 11.2788C12.2534 11.2788 14.0556 13.1077 14.0556 15.3894Z"}),Object(e.h)("path",{d:"M17.9692 15.3894C17.9692 17.6711 16.167 19.5 13.9692 19.5C11.7715 19.5 9.96924 17.6711 9.96924 15.3894C9.96924 13.1077 11.7715 11.2788 13.9692 11.2788C16.167 11.2788 17.9692 13.1077 17.9692 15.3894Z"}),Object(e.h)("path",{d:"M16 8.61061C16 10.8923 14.1978 12.7212 12 12.7212C9.80224 12.7212 8 10.8923 8 8.61061C8 6.32887 9.80224 4.50001 12 4.50001C14.1978 4.50001 16 6.32887 16 8.61061Z"}),Object(e.h)("path",{d:"M19.5 11.0013C19.5 13.283 17.6978 15.1119 15.5 15.1119C13.3022 15.1119 11.5 13.283 11.5 11.0013C11.5 8.71957 13.3022 6.8907 15.5 6.8907C17.6978 6.8907 19.5 8.71957 19.5 11.0013Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"HeartIconReader",svgParams:{height:18,width:18}}),Object(e.h)("path",{d:"M4.4286 1.07304C7.17148 0.617984 8.61911 2.40029 9.00007 3.34832C9.38103 2.40029 10.8285 0.617984 13.5714 1.07304C16.3143 1.5281 17 4.21433 17 5.62361C17.0001 7.76923 16.6573 9.49158 15.2858 11.3118C13.143 14.1559 10.5239 15.8624 9.00007 17C7.4762 15.8624 4.85704 14.1559 2.71416 11.3118C1.34272 9.49158 0.999861 7.76923 1 5.62361C1 4.21433 1.68572 1.5281 4.4286 1.07304Z","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"InboxIconReader",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M5.5 14V14.5H6H9.00991L11.2654 16.9417C11.6614 17.3703 12.3386 17.3703 12.7346 16.9417L14.9901 14.5H18H18.5V14V7C18.5 6.17157 17.8284 5.5 17 5.5H7C6.17157 5.5 5.5 6.17157 5.5 7V14ZM4.5 7C4.5 5.61929 5.61929 4.5 7 4.5H17C18.3807 4.5 19.5 5.61929 19.5 7V17C19.5 18.3807 18.3807 19.5 17 19.5H7C5.61929 19.5 4.5 18.3807 4.5 17V7Z",fill:"#FD6752",stroke:"#FD6752"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"InboxPodcastPlayIcon",function(){return o});var e=t(0);function o({className:l}){return Object(e.h)("svg",{className:l,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("g",null,Object(e.h)("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),Object(e.h)("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}i.default=o},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PaidBadgeIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"}}),Object(e.h)("circle",{cx:"12",cy:"11.9999",r:"11.5",stroke:"none"}),Object(e.h)("ellipse",{cx:"9.24894",cy:"9.25035",rx:"3.88838",ry:"3.83996",transform:"rotate(-45 9.24894 9.25035)"}),Object(e.h)("ellipse",{cx:"14.7499",cy:"14.7506",rx:"3.88838",ry:"3.83996",transform:"rotate(-45 14.7499 14.7506)"}),Object(e.h)("ellipse",{rx:"3.83996",ry:"3.88838",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 14.7847 9.21504)"}),Object(e.h)("ellipse",{rx:"3.83996",ry:"3.88838",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 9.21443 14.7848)"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PenToolIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M12 19L19 12L22 15L15 22L12 19Z",stroke:a.stroke||"#666","stroke-width":a.strokeWidth||1.5,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18 13L16.5 5.5L2 2L5.5 16.5L13 18L18 13Z",stroke:a.stroke||"#666","stroke-width":a.strokeWidth||1.5,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M2 2L9.586 9.586",stroke:"#666666","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11 13C12.1046 13 13 12.1046 13 11C13 9.89543 12.1046 9 11 9C9.89543 9 9 9.89543 9 11C9 12.1046 9.89543 13 11 13Z",stroke:a.stroke||"#666","stroke-width":a.strokeWidth||1.5,"stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PlayIconRound",svgParams:{height:40,width:40}}),Object(e.h)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"19.75"}),Object(e.h)("path",{d:"M24.9864 19.1351L17.0473 14.5985C16.5806 14.3318 16 14.6687 16 15.2062V24.7332C16 25.2838 16.6064 25.6189 17.0725 25.3258L25.0117 20.3355C25.4592 20.0542 25.4454 19.3974 24.9864 19.1351Z",fill:a.stroke}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PodcastPlayButton",svgParams:{height:36,width:36}}),Object(e.h)("circle",{cx:"18",cy:"18",r:"18",stroke:"none"}),Object(e.h)("path",{d:"M23.172 17.5588C23.5252 17.7469 23.5252 18.2531 23.172 18.4412L14.9852 22.8044C14.6521 22.9819 14.25 22.7405 14.25 22.3631L14.25 13.6369C14.25 13.2595 14.6521 13.0181 14.9852 13.1956L23.172 17.5588Z",fill:"#1C110B"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ReaderShareIcon",svgParams:{height:16,width:16}}),Object(e.h)("path",{d:"M2 8V13C2 14.1046 2.89543 15 4 15H12C13.1046 15 14 14.1046 14 13V8","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.5 4.5L8 0.5L4.5 4.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 1V11","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"RssIcon",svgParams:{height:16,width:16,stroke:"none"}}),Object(e.h)("g",{"clip-path":"url(#clip0)"},Object(e.h)("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"#58504B"})),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.25349 3.62572C4.27953 3.21233 4.63576 2.89832 5.04916 2.92436C9.44835 3.2015 12.9546 6.70772 13.2317 11.1069C13.2578 11.5203 12.9437 11.8765 12.5304 11.9026C12.117 11.9286 11.7607 11.6146 11.7347 11.2012C11.505 7.55618 8.5999 4.65102 4.95485 4.42139C4.54145 4.39535 4.22744 4.03912 4.25349 3.62572ZM3.85471 6.60089C3.89231 6.18839 4.25719 5.88447 4.66969 5.92207C7.67319 6.19584 10.0528 8.57542 10.3265 11.5789C10.3641 11.9914 10.0602 12.3563 9.64773 12.3939C9.23522 12.4315 8.87034 12.1276 8.83274 11.7151C8.62467 9.43243 6.81619 7.62394 4.53353 7.41587C4.12103 7.37827 3.81711 7.01339 3.85471 6.60089ZM4.00005 11.2608C4.00005 11.8131 4.44776 12.2608 5.00005 12.2608C5.55233 12.2608 6.00005 11.8131 6.00005 11.2608C6.00005 10.7085 5.55233 10.2608 5.00005 10.2608C4.44776 10.2608 4.00005 10.7085 4.00005 11.2608Z",fill:"white"}),Object(e.h)("defs",null,Object(e.h)("clipPath",{id:"clip0"},Object(e.h)("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"white"}))));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#1C110B"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"SetUpIcon",svgParams:{height:19,width:19,stroke:"#1C110B"}}),Object(e.h)("path",{d:"M2.2041 14.893L14.2657 2.29638C14.6536 1.89134 15.2986 1.88435 15.6951 2.28087L17.1356 3.72136C17.5202 4.10591 17.5269 4.72728 17.1508 5.12007L5.05914 17.748H2.2041L2.2041 14.893Z",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12.752 3.77885L15.6999 6.72681",stroke:u}),Object(e.h)("path",{d:"M6.52686 8.89509L15.5152 17.748L17.8838 15.3795L8.89538 6.52656",stroke:u,"stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.10558 8.10558C9.41368 6.79748 9.37715 4.64009 8.02398 3.28692C6.9814 2.24434 5.46142 1.98335 4.2203 2.51675L6.12915 5.18174L5.18174 6.12915L2.51675 4.2203C1.98335 5.46142 2.24434 6.9814 3.28692 8.02397C4.64009 9.37715 6.79748 9.41368 8.10558 8.10558Z",stroke:u,"stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"StarIcon",svgParams:{height:21,width:24}}),Object(e.h)("path",{d:"M12,14.77,17.81,19l-2.23-6.82L21.39,8H14.27L12,1,9.73,8H2.61l5.81,4.14L6.19,19Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"UploadProfileImageIcon",svgParams:{width:97,height:97,stroke:"none"}}),Object(e.h)("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"94",height:"94"},Object(e.h)("circle",{cx:"47",cy:"47",r:"47",fill:"#F0F0F0"})),Object(e.h)("g",{mask:"url(#mask0)"},Object(e.h)("circle",{cx:"47",cy:"47",r:"47",fill:"#F0F0F0"}),Object(e.h)("ellipse",{cx:"47.0005",cy:"86.6386",rx:"33.4096",ry:"23.7831",fill:"#C4C4C4"}),Object(e.h)("circle",{cx:"46.9997",cy:"35.6748",r:"16.988",fill:"#C4C4C4"})),Object(e.h)("circle",{cx:"73",cy:"73",r:"23.5",fill:"white",stroke:"#D8D8D8"}),Object(e.h)("circle",{cx:"72.9996",cy:"73",r:"10.4",fill:"#E77131"}),Object(e.h)("rect",{x:"72.1992",y:"67.4",width:"1.6",height:"11.2",rx:"0.8",fill:"white"}),Object(e.h)("rect",{x:"78.5996",y:"72.2",width:"1.6",height:"11.2",rx:"0.8",transform:"rotate(90 78.5996 72.2)",fill:"white"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"AudioIcon",function(){return o});var e=t(0);function o({className:l}){return Object(e.h)("svg",{className:l,width:"24",height:"24",viewBox:"0 0 24 24"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}i.default=o},function(S,i,t){"use strict";t.r(i),t.d(i,"HelpCircleFilled",function(){return m});var e=t(0),o=t(1),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=Object(o.forwardRef)(function(n,r){return Object(e.h)("svg",b(O({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{ref:r}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"var(--color-bg-secondary)"}),Object(e.h)("path",{d:"M9.08984 9.00057C9.32495 8.33224 9.789 7.76868 10.3998 7.4097C11.0106 7.05073 11.7287 6.91951 12.427 7.03928C13.1253 7.15906 13.7587 7.52209 14.2149 8.0641C14.6712 8.6061 14.9209 9.29209 14.9198 10.0006C14.9198 12.0006 11.9198 13.0006 11.9198 13.0006",stroke:"var(--color-secondary)","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 17H12.01",stroke:"var(--color-secondary)","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))});i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"ThreadIcon",function(){return o});var e=t(0);function o({className:l}){return Object(e.h)("svg",{className:l,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}i.default=o},function(S,i,t){"use strict";t.r(i),t.d(i,"VideoIcon",function(){return o});var e=t(0);function o({className:l}){return Object(e.h)("svg",{className:l,width:"24",height:"24",viewBox:"0 0 24 24"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}i.default=o},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),Object(e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"OfflineCloudIcon",svgParams:{height:20,width:21,fill:"none",stroke:"white"}},O),Object(e.h)("path",{d:"M1.66669 1.75L18.3334 19.25","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.33331 4.375C9.44161 4.5482 10.479 5.05289 11.3213 5.82874C12.1637 6.6046 12.7754 7.61877 13.0833 8.75H14.5833C15.2193 8.75461 15.8438 8.92901 16.398 9.2568C16.9521 9.58459 17.4178 10.055 17.7511 10.6238C18.0845 11.1926 18.2746 11.841 18.3035 12.5082C18.3325 13.1753 18.1993 13.8392 17.9166 14.4375","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M15.6666 16.4497C15.3333 16.6247 15 16.6247 14.5833 16.6247H7.49997C6.19898 16.6151 4.93839 16.1491 3.91862 15.3008C2.89885 14.4524 2.17844 13.2705 1.87191 11.9429C1.56539 10.6153 1.69036 9.21818 2.22695 7.9737C2.76353 6.72922 3.68094 5.70882 4.8333 5.07471","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.byNumeric=i.byAlpha3=i.byAlpha2=i.codes=void 0;var e=t(1114),o=l(e);function l(a){return a&&a.__esModule?a:{default:a}}for(var s=Object.create(null),h=Object.create(null),c=Object.create(null),d=0,p=o.default.length;d<p;d++){var f=o.default[d],O=f.alpha2,b=f.alpha3,m=f.numeric;s[O]=f,h[b]=f,c[m]=f}i.codes=o.default,i.byAlpha2=s,i.byAlpha3=h,i.byNumeric=c,i.default={codes:o.default,byAlpha2:s,byAlpha3:h,byNumeric:c}},,,function(S,i,t){(function(e){i.campaignTypes={referExtend:"referExtend",milestone:"milestone"},i.campaigns=e.env.VIRAL_LOOPS_DISABLED?{}:{test1:{campaignId:"Vrm7UEEIEqjtBwVDOscRaAfBkvQ",type:i.campaignTypes.milestone},popularinformation:{campaignId:"aK7uz8D08Q7ilDlh0t15XBgA2Ec",type:i.campaignTypes.milestone},diff:{campaignId:"Mn5IsNabmDOPGLxLiIz5MoIQYm8",type:i.campaignTypes.referExtend,extendDaysRule:o=>{var l;return[o.plan,(l=o.plan)==null?void 0:l.id].includes("yearly220usd")?30:null}},theprofile:{campaignId:"efwmDUemZDWrmxXn2HNLSrweyck",type:i.campaignTypes.milestone},pomp:{campaignId:"KBejdeRmEHnJZHCSBqZRBa6GlXg",type:i.campaignTypes.milestone}}}).call(this,t(180))},,,function(S,i,t){"use strict";t.d(i,"a",function(){return f});var e=t(0),o=t(2),l=t(6),s=t.n(l),h=t(7),c=t(712),d={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--2ED4C",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--25rzO",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--1i8Wu",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--3AWE-",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--3mlkt",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--3xIcH"},p=t(661);const f=({amount:O,isSelected:b,outlineOnSelect:m,plan:a,usePer:n,onChangeAmount:r})=>{const u=Object(o.j)(null),v=Object(o.a)(w=>{r(w.toString().replace(/[^\d.]/g,""))},[r]),E=a.metadata.minimum&&(Object(h.isZeroDecimalCurrency)(a.currency)?O:O*100)<a.metadata.minimum&&b;return Object(o.g)(()=>{u.current&&(u.current.style.width="1px",u.current.style.width=`${u.current.scrollWidth}px`,u.current.scrollLeft=0)},[O,u]),Object(o.d)(()=>{b&&(u.current.focus(),u.current.select())},[u,b]),Object(e.h)("span",{className:s()(d.outlineWrapper,{[d.outlineWrapperSelected]:m&&b,[d.outlineWrapperWithWarning]:E})},Object(h.centsToPriceString)(100,a.currency).replace("1",""),Object(e.h)("input",{ref:u,className:s()(d.amountInput,{[d.amountInputDeselected]:!b}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof O=="string"?O:a.amount/100,onKeyDown:w=>{w.key==="ArrowUp"?(v(Number(O||a.amount/100)+5),setTimeout(()=>{u.current.selectionStart=u.current.selectionEnd=u.current.value.length},0)):w.key==="ArrowDown"&&(!O||O>=5)&&(v(Number(O||a.amount/100)-5),setTimeout(()=>{u.current.selectionStart=u.current.selectionEnd=u.current.value.length},0))},onInput:w=>{const C=w.target;v(C.value)}}),Object(e.h)("input",{name:"amount",type:"hidden",value:typeof O=="string"?(Number(O)||0)*100:a.amount}),a.interval!=="forever"&&(n?` per ${a.interval}`:`/${a.interval}`),E&&Object(e.h)("div",{className:d.warningContainer},Object(e.h)(p.a,{text:`Amount must be greater than $${Object(h.isZeroDecimalCurrency)(a.currency)?a.metadata.minimum:a.metadata.minimum/100}`,tooltipZIndex:12},Object(e.h)(c.default,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))}},function(S,i,t){var e=t(285),o=t(556),l=t(557);function s(h){return l(o(h,void 0,e),h+"")}S.exports=s},function(S,i,t){const e=t(795),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(h,c){switch(c){case e.L:return o[(h-1)*4+0];case e.M:return o[(h-1)*4+1];case e.Q:return o[(h-1)*4+2];case e.H:return o[(h-1)*4+3];default:return}},i.getTotalCodewordsCount=function(h,c){switch(c){case e.L:return l[(h-1)*4+0];case e.M:return l[(h-1)*4+1];case e.Q:return l[(h-1)*4+2];case e.H:return l[(h-1)*4+3];default:return}}},function(S,i){i.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},function(S,i){const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const l="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;i.KANJI=new RegExp(o,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(l,"g"),i.NUMERIC=new RegExp(t,"g"),i.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+o+"$"),h=new RegExp("^"+t+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(p){return s.test(p)},i.testNumeric=function(p){return h.test(p)},i.testAlphanumeric=function(p){return c.test(p)}},function(S,i){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let o=e.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+e);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(s){return[s,s]}))),o.length===6&&o.push("F","F");const l=parseInt(o.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+o.slice(0,6).join("")}}i.getOptions=function(o){o||(o={}),o.color||(o.color={});const l=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,s=o.width&&o.width>=21?o.width:void 0,h=o.scale||4;return{width:s,scale:s?4:h,margin:l,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},i.getScale=function(o,l){return l.width&&l.width>=o+l.margin*2?l.width/(o+l.margin*2):l.scale},i.getImageWidth=function(o,l){const s=i.getScale(o,l);return Math.floor((o+l.margin*2)*s)},i.qrToImageData=function(o,l,s){const h=l.modules.size,c=l.modules.data,d=i.getScale(h,s),p=Math.floor((h+s.margin*2)*d),f=s.margin*d,O=[s.color.light,s.color.dark];for(let b=0;b<p;b++)for(let m=0;m<p;m++){let a=(b*p+m)*4,n=s.color.light;if(b>=f&&m>=f&&b<p-f&&m<p-f){const r=Math.floor((b-f)/d),u=Math.floor((m-f)/d);n=O[c[r*h+u]?1:0]}o[a++]=n.r,o[a++]=n.g,o[a++]=n.b,o[a]=n.a}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(49),s=t.n(l),h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(u,v,E)=>v in u?h(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,m=(u,v)=>{for(var E in v||(v={}))f.call(v,E)&&b(u,E,v[E]);if(p)for(var E of p(v))O.call(v,E)&&b(u,E,v[E]);return u},a=(u,v)=>c(u,d(v)),n=(u,v)=>{var E={};for(var w in u)f.call(u,w)&&v.indexOf(w)<0&&(E[w]=u[w]);if(u!=null&&p)for(var w of p(u))v.indexOf(w)<0&&O.call(u,w)&&(E[w]=u[w]);return E};const r=u=>{var v=u,{stroke:E=l.substack_color,fill:w=l.substack_color}=v,C=n(v,["stroke","fill"]);return Object(e.h)(o.a,a(m({},C),{name:"CircleCheckIcon",svgParams:{viewBox:"16 16 70 70"}}),Object(e.h)("path",{stroke:E,fill:w,d:"M50,81A31,31,0,1,0,19,50,31,31,0,0,0,50,81Zm0-56A25,25,0,1,1,25,50,25,25,0,0,1,50,25Z"}),Object(e.h)("path",{stroke:E,fill:w,d:"M47,61a3,3,0,0,0,2.18-.94l17-18-4.36-4.12-15,15.87-7.82-7-4,4.46,10,9A3,3,0,0,0,47,61Z"}))};i.default=r},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},O),Object(e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentIconRounded",svgParams:{height:19,width:19},version:3}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",strokeWidth:0,d:"M0.5 8.33117C0.5 4.00613 4.00613 0.5 8.33117 0.5H10.6688C14.9939 0.5 18.5 4.00613 18.5 8.33117C18.5 10.0221 18.0114 11.6205 16.9359 12.982C15.865 14.3378 14.2544 15.406 12.0948 16.1209L12.0783 16.1262L4.48087 18.4638C4.23271 18.5402 3.96303 18.4942 3.75417 18.3399C3.54532 18.1857 3.42208 17.9415 3.42208 17.6818V14.5319C2.71035 13.8391 2.0315 12.9268 1.50977 11.9389C0.92332 10.8285 0.5 9.55539 0.5 8.33117ZM8.33117 2.13636C4.90987 2.13636 2.13636 4.90987 2.13636 8.33117C2.13636 9.20153 2.44612 10.2079 2.95672 11.1747C3.46475 12.1366 4.13652 12.9925 4.78168 13.5619C4.95764 13.7172 5.05844 13.9406 5.05844 14.1753V16.574L11.5887 14.5647C13.5155 13.9256 14.8245 13.0151 15.6518 11.9677C16.4756 10.9248 16.8636 9.69376 16.8636 8.33117C16.8636 4.90987 14.0901 2.13636 10.6688 2.13636H8.33117Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DesktopIcon",svgParams:{height:17,width:22,viewBox:"0 0 22 17",stroke:"#1C110B"}}),Object(e.h)("path",{d:"M18.9998 12L20.2798 14.55C20.3569 14.703 20.3934 14.8732 20.3858 15.0444C20.3782 15.2155 20.3267 15.3818 20.2364 15.5274C20.1461 15.6729 20.0198 15.7928 19.8698 15.8756C19.7198 15.9584 19.5511 16.0012 19.3798 16H2.61978C2.44847 16.0012 2.27972 15.9584 2.12972 15.8756C1.97972 15.7928 1.8535 15.6729 1.76315 15.5274C1.67281 15.3818 1.62137 15.2155 1.61378 15.0444C1.60618 14.8732 1.64268 14.703 1.71978 14.55L2.99978 12M18.9998 12V3C18.9998 2.46957 18.7891 1.96086 18.414 1.58579C18.0389 1.21071 17.5302 1 16.9998 1H4.99978C4.46934 1 3.96064 1.21071 3.58556 1.58579C3.21049 1.96086 2.99978 2.46957 2.99978 3V12H18.9998ZM18.9998 12H2.99978H18.9998Z",stroke:a.stroke,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DownloadIcon",svgParams:{height:32,width:32}}),Object(e.h)("rect",{width:"32",height:"32",rx:"6",fill:a.fill||"black"}),Object(e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:a.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:a.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M16 18.5V8.5",stroke:a.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ExportIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{d:"M14.5,2.13603897 C14.5,1.58375422 14.9477153,1.13603897 15.5,1.13603897 C16.0522847,1.13603897 16.5,1.58375422 16.5,2.13603897 L16.5,14.863961 C16.5,15.4162458 16.0522847,15.863961 15.5,15.863961 C14.9477153,15.863961 14.5,15.4162458 14.5,14.863961 L14.5,2.13603897 Z",fillRule:"nonzero",transform:"translate(15.500000, 8.500000) rotate(45.000000) translate(-15.500000, -8.500000) "}),Object(e.h)("path",{d:"M19,5 L15,5 C14.4477153,5 14,4.55228475 14,4 C14,3.44771525 14.4477153,3 15,3 L20,3 C20.5522847,3 21,3.44771525 21,4 L21,9 C21,9.55228475 20.5522847,10 20,10 C19.4477153,10 19,9.55228475 19,9 L19,5 Z",fillRule:"nonzero"}),Object(e.h)("path",{d:"M17,13.5000015 C17,12.9477168 17.4477152,12.5000015 18,12.5000015 C18.5522847,12.5000015 19,12.9477168 19,13.5000015 L19,19.1250041 C19,20.7128208 17.7128189,22 16.1250013,22 L4.87499867,22 C3.28718109,22 2,20.7128208 2,19.1250039 L2.00000232,7.87499354 C2.00000232,6.28717812 3.28718237,5 4.87499951,5 C8.90694118,5.00000316 8.90694118,5.00000316 10.968755,5.00000379 C11.5210397,5.00000379 11.968755,5.44771904 11.968755,6.00000379 C11.968755,6.55228854 11.5210397,7.00000379 10.968755,7.00000379 C8.9069398,7.00000316 8.9069398,7.00000316 4.87499867,7 C4.39175119,7 4.00000232,7.39174829 4.00000232,7.87499374 L4,19.1250041 C4,19.6082507 4.39174991,20 4.87499867,20 L16.1250013,20 C16.6082501,20 17,19.6082507 17,19.1250041 L17,13.5000015 Z",fillRule:"nonzero"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"FileIcon",svgParams:{height:29,width:28,viewBox:"0 0 28 29"}}),Object(e.h)("path",{d:"M6.99996 2.95834C5.71663 2.95834 4.67829 4.00834 4.67829 5.29168L4.66663 23.9583C4.66663 25.2417 5.70496 26.2917 6.98829 26.2917H21C22.2833 26.2917 23.3333 25.2417 23.3333 23.9583V9.95834L16.3333 2.95834H6.99996ZM15.1666 11.125V4.70834L21.5833 11.125H15.1666Z",fill:"#1C110B"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),Object(e.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),Object(e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:a.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{height:u=16,width:v=16}=r,E=m(r,["height","width"]);return Object(e.h)(o.a,b(O({},E),{name:"FilterIcon",svgParams:{height:u,width:v,viewBox:"0 0 16 16"}}),Object(e.h)("rect",{x:"2",y:"3",width:"12",height:"1.5",rx:"1",fill:"#1C110B"}),Object(e.h)("rect",{x:"4",y:"7",width:"8",height:"1.5",rx:"1",fill:"#1C110B"}),Object(e.h)("rect",{x:"5",y:"11",width:"6",height:"1.5",rx:"1",fill:"#1C110B"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"GearIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M12.0156 15.2344C13.6725 15.2344 15.0156 13.8912 15.0156 12.2344C15.0156 10.5775 13.6725 9.23438 12.0156 9.23438C10.3588 9.23438 9.01562 10.5775 9.01562 12.2344C9.01562 13.8912 10.3588 15.2344 12.0156 15.2344Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M19.6658 13.2094C19.7044 12.8969 19.7301 12.5719 19.7301 12.2344C19.7301 11.8969 19.7044 11.5719 19.6529 11.2594L21.8259 9.60938C22.0187 9.45938 22.0701 9.18437 21.9544 8.97187L19.8972 5.50937C19.7687 5.28437 19.4987 5.20938 19.2672 5.28438L16.7086 6.28437C16.1686 5.88437 15.6029 5.55938 14.9728 5.30938L14.5871 2.65937C14.5485 2.40937 14.33 2.23438 14.0728 2.23438H9.95843C9.70129 2.23438 9.49557 2.40937 9.45699 2.65937L9.07127 5.30938C8.44126 5.55938 7.86267 5.89687 7.33552 6.28437L4.77688 5.28438C4.54545 5.19688 4.27544 5.28437 4.14687 5.50937L2.08968 8.97187C1.9611 9.19687 2.01253 9.45938 2.21825 9.60938L4.39116 11.2594C4.33973 11.5719 4.30116 11.9094 4.30116 12.2344C4.30116 12.5594 4.32687 12.8969 4.3783 13.2094L2.20539 14.8594C2.01253 15.0094 1.9611 15.2844 2.07682 15.4969L4.13401 18.9594C4.26259 19.1844 4.53259 19.2594 4.76403 19.1844L7.32266 18.1844C7.86267 18.5844 8.4284 18.9094 9.05841 19.1594L9.44414 21.8094C9.49557 22.0594 9.70129 22.2344 9.95843 22.2344H14.0728C14.33 22.2344 14.5485 22.0594 14.5743 21.8094L14.96 19.1594C15.59 18.9094 16.1686 18.5719 16.6957 18.1844L19.2544 19.1844C19.4858 19.2719 19.7558 19.1844 19.8844 18.9594L21.9416 15.4969C22.0701 15.2719 22.0187 15.0094 21.813 14.8594L19.6658 13.2094Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"LocationPinIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"LucideLock",function(){return a});var e=t(0),o=t(9),l=t(581),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));function a(n){return Object(e.h)(o.a,m(b({},n),{name:"LucideLock",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}))}i.default=a},function(S,i,t){"use strict";t.r(i),t.d(i,"LucideUnlock",function(){return a});var e=t(0),o=t(9),l=t(775),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));function a(n){return Object(e.h)(o.a,m(b({},n),{name:"LucideLock",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}))}i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"MobileIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24",stroke:"#1C110B"}}),Object(e.h)("path",{d:"M17 2H7C5.89543 2 5 2.89543 5 4V20C5 21.1046 5.89543 22 7 22H17C18.1046 22 19 21.1046 19 20V4C19 2.89543 18.1046 2 17 2Z",stroke:a.stroke,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 18H12.01",stroke:"#1C110B","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"NoteICon",svgParams:{width:16,height:16,viewBox:"0 0 16 16",fill:"none"}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 3.5C1 2.39543 1.89543 1.5 3 1.5H13C14.1046 1.5 15 2.39543 15 3.5V12.5C15 13.6046 14.1046 14.5 13 14.5H3C1.89543 14.5 1 13.6046 1 12.5V3.5ZM2.5 5.75C2.5 5.33579 2.83579 5 3.25 5H12.75C13.1642 5 13.5 5.33579 13.5 5.75V12.25C13.5 12.6642 13.1642 13 12.75 13H3.25C2.83579 13 2.5 12.6642 2.5 12.25V5.75ZM4.4 6.69995C4.17909 6.69995 4 6.87904 4 7.09995C4 7.32087 4.17909 7.49995 4.4 7.49995H11.6C11.8209 7.49995 12 7.32087 12 7.09995C12 6.87904 11.8209 6.69995 11.6 6.69995H4.4ZM4 9.09995C4 8.87904 4.17909 8.69995 4.4 8.69995H11.6C11.8209 8.69995 12 8.87904 12 9.09995C12 9.32087 11.8209 9.49995 11.6 9.49995H4.4C4.17909 9.49995 4 9.32087 4 9.09995ZM4.4 10.7C4.17909 10.7 4 10.879 4 11.1C4 11.3209 4.17909 11.5 4.4 11.5H7.6C7.82091 11.5 8 11.3209 8 11.1C8 10.879 7.82091 10.7 7.6 10.7H4.4Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PanelsIcon",svgParams:{height:32,width:32}}),Object(e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),Object(e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),Object(e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),Object(e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PodcastImportIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M7 10L12 15L17 10","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 15V3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PodcastPlusCircleIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 8V16","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 12H16","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"RefreshIcon",svgParams:{height:100,width:100}}),Object(e.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M87.535,46.34c-0.272-0.62-0.677-0.976-1.396-0.952   c-0.886,0.029-1.773,0.008-2.661,0.002c-1.089-0.007-2.179-0.022-3.219-0.034c-2.961-15.798-15.658-25.59-29.732-25.933   c-6.861-0.168-13.13,1.807-18.705,5.846c-3.858,2.796-6.906,6.292-9.21,10.669c1.562,0.625,2.928,1.171,4.267,1.708   c7.666-12.642,20.314-15.009,29.401-12.698c9.652,2.456,17.625,10.872,19.015,20.443c-1.01,0-1.888,0-2.766,0   c-1.496,0.001-2.994,0.017-4.491-0.001c-0.7-0.008-1.158,0.342-1.465,0.911c-0.325,0.604,0.062,1.056,0.411,1.491   c0.174,0.215,0.375,0.408,0.569,0.606c2.526,2.571,5.047,5.147,7.581,7.708c1.565,1.582,2.325,1.589,3.882,0.026   c2.584-2.592,5.152-5.197,7.728-7.798c0.156-0.158,0.317-0.311,0.464-0.477C87.6,47.416,87.798,46.939,87.535,46.34z"}),Object(e.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71.645,64.572c-7.677,9.803-17.371,13.807-29.407,10.336   c-8.879-2.56-14.489-8.723-17.453-17.678c0.823,0,1.372,0,1.92,0c1.663,0,3.327-0.017,4.989,0.006   c0.619,0.008,1.084-0.177,1.347-0.754c0.275-0.607,0.259-1.182-0.222-1.691c-0.19-0.201-0.383-0.4-0.578-0.598   c-2.535-2.561-5.066-5.125-7.61-7.678c-1.571-1.576-2.314-1.58-3.872-0.008c-2.575,2.598-5.138,5.21-7.701,7.823   c-0.271,0.275-0.553,0.559-0.744,0.889c-0.459,0.788-0.063,1.73,0.827,1.954c0.367,0.093,0.771,0.055,1.158,0.056   c1.826,0.004,3.652,0.002,5.557,0.002c4.111,15.104,16.455,23.062,28.294,23.553c11.881,0.494,21.042-4.542,27.845-14.451   c-0.888-0.387-1.579-0.706-2.285-0.99C73.005,65.059,72.285,64.811,71.645,64.572z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(O,b,m)=>b in O?l(O,b,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[b]=m,p=(O,b)=>{for(var m in b||(b={}))h.call(b,m)&&d(O,m,b[m]);if(s)for(var m of s(b))c.call(b,m)&&d(O,m,b[m]);return O};const f=O=>Object(e.h)(o.a,p({name:"SetUpIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}},O),Object(e.h)("path",{d:"M16.3882 10.7386C16.4203 10.4782 16.4417 10.2074 16.4417 9.92611C16.4417 9.64486 16.4203 9.37402 16.3775 9.11361L18.1882 7.73861C18.3489 7.61361 18.3918 7.38444 18.2954 7.20736L16.581 4.32194C16.4739 4.13444 16.2489 4.07194 16.056 4.13444L13.9238 4.96777C13.4738 4.63444 13.0024 4.36361 12.4774 4.15527L12.1559 1.94694C12.1238 1.73861 11.9416 1.59277 11.7273 1.59277H8.29869C8.0844 1.59277 7.91297 1.73861 7.88083 1.94694L7.55939 4.15527C7.03438 4.36361 6.55223 4.64486 6.11293 4.96777L3.98074 4.13444C3.78787 4.06152 3.56287 4.13444 3.45572 4.32194L1.7414 7.20736C1.63425 7.39486 1.67711 7.61361 1.84854 7.73861L3.6593 9.11361C3.61644 9.37402 3.5843 9.65527 3.5843 9.92611C3.5843 10.1969 3.60573 10.4782 3.64859 10.7386L1.83783 12.1136C1.67711 12.2386 1.63425 12.4678 1.73068 12.6449L3.44501 15.5303C3.55215 15.7178 3.77716 15.7803 3.97002 15.7178L6.10221 14.8844C6.55223 15.2178 7.02367 15.4886 7.54868 15.6969L7.87011 17.9053C7.91297 18.1136 8.0844 18.2594 8.29869 18.2594H11.7273C11.9416 18.2594 12.1238 18.1136 12.1452 17.9053L12.4666 15.6969C12.9917 15.4886 13.4738 15.2074 13.9131 14.8844L16.0453 15.7178C16.2382 15.7907 16.4632 15.7178 16.5703 15.5303L18.2846 12.6449C18.3918 12.4574 18.3489 12.2386 18.1775 12.1136L16.3882 10.7386Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.0132 12.4258C11.3939 12.4258 12.5132 11.3065 12.5132 9.92578C12.5132 8.54507 11.3939 7.42578 10.0132 7.42578C8.63247 7.42578 7.51318 8.54507 7.51318 9.92578C7.51318 11.3065 8.63247 12.4258 10.0132 12.4258Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=f},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareEmailFillIcon",svgParams:{height:28,width:29,viewBox:"0 0 28 29"}}),Object(e.h)("path",{d:"M23.3334 5.29167H4.66671C3.38337 5.29167 2.34504 6.34167 2.34504 7.625L2.33337 21.625C2.33337 22.9083 3.38337 23.9583 4.66671 23.9583H23.3334C24.6167 23.9583 25.6667 22.9083 25.6667 21.625V7.625C25.6667 6.34167 24.6167 5.29167 23.3334 5.29167ZM23.3334 9.95834L14 15.7917L4.66671 9.95834V7.625L14 13.4583L23.3334 7.625V9.95834Z",fill:"#1C110B"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareIcon",svgParams:{height:20,width:11}}),Object(e.h)("path",{d:"M4.125 6H1.6875C1.13522 6 0.6875 6.44772 0.6875 7V13.6667C0.6875 14.219 1.13522 14.6667 1.6875 14.6667H9.3125C9.86478 14.6667 10.3125 14.219 10.3125 13.6667V7C10.3125 6.44772 9.86478 6 9.3125 6H6.875"}),Object(e.h)("path",{d:"M2.75 4.33333L5.5 2L8.25 4.33333"}),Object(e.h)("path",{d:"M5.5 2V10"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShuffleIcon",svgParams:{height:16,width:16}}),Object(e.h)("path",{d:"M13 2L15 4.28571L13 6.57143",stroke:"#1C110B","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M1 12.1071C0.58579 12.1071 0.250002 12.4429 0.25 12.8571C0.249998 13.2713 0.585783 13.6071 0.999997 13.6071L1 12.1071ZM7.5 7.71428L8.12003 8.13625L7.5 7.71428ZM14 5.03571C14.4142 5.0357 14.75 4.69992 14.75 4.2857C14.75 3.87149 14.4142 3.5357 14 3.53571L14 5.03571ZM0.999997 13.6071C2.22954 13.6071 3.22166 13.6249 4.31906 12.8187C5.31796 12.0848 6.38955 10.679 8.12003 8.13625L6.87997 7.29231C5.11045 9.89241 4.18204 11.058 3.43094 11.6099C2.77834 12.0893 2.27046 12.1071 1 12.1071L0.999997 13.6071ZM8.12003 8.13625C9.45483 6.17491 10.344 5.47876 11.0919 5.204C11.4692 5.06542 11.8559 5.01697 12.3255 5.00881C12.5631 5.00468 12.8127 5.01082 13.0936 5.01868C13.3702 5.0264 13.6749 5.03571 14 5.03571L14 3.53571C13.7001 3.53571 13.418 3.52716 13.1355 3.51926C12.8575 3.51149 12.5758 3.50424 12.2995 3.50904C11.7413 3.51874 11.1697 3.57744 10.5747 3.796C9.37823 4.23552 8.26739 5.25365 6.87997 7.29231L8.12003 8.13625Z",fill:"#1C110B","stroke-width":"0.15"}),Object(e.h)("path",{d:"M1 3.89284C0.58579 3.89285 0.250002 3.55706 0.25 3.14285C0.249998 2.72863 0.585783 2.39285 0.999997 2.39284L1 3.89284ZM14 10.9643C14.4142 10.9643 14.75 11.3001 14.75 11.7143C14.75 12.1285 14.4142 12.4643 14 12.4643L14 10.9643ZM6.46179 5.51419C6.7098 5.84595 6.64191 6.31594 6.31015 6.56395C5.97839 6.81196 5.50839 6.74407 5.26039 6.41231L6.46179 5.51419ZM8.30396 10.551C8.02494 10.2448 8.04692 9.77047 8.35305 9.49145C8.65919 9.21243 9.13356 9.23441 9.41258 9.54055L8.30396 10.551ZM0.999997 2.39284C1.98528 2.39284 2.86256 2.3787 3.7462 2.82634C4.61107 3.26448 5.40345 4.09844 6.46179 5.51419L5.26039 6.41231C4.21032 5.00764 3.59531 4.4314 3.06833 4.16443C2.56011 3.90698 2.06105 3.89284 1 3.89284L0.999997 2.39284ZM9.41258 9.54055C10.2673 10.4784 10.9075 10.792 11.5116 10.9139C11.8343 10.9791 12.1775 10.9956 12.59 10.992C12.797 10.9902 13.0107 10.9835 13.2478 10.977C13.4817 10.9705 13.7333 10.9643 14 10.9643L14 12.4643C13.7554 12.4643 13.5213 12.47 13.2893 12.4764C13.0605 12.4827 12.8282 12.49 12.6033 12.4919C12.1521 12.4959 11.6882 12.4799 11.2147 12.3843C10.2265 12.1847 9.31849 11.6641 8.30396 10.551L9.41258 9.54055Z",fill:"#1C110B","stroke-width":"0.15"}),Object(e.h)("path",{d:"M13 14L15 11.7143L13 9.42857",stroke:"#1C110B","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"StripeLogo",svgParams:{height:222.5,width:468,strokeWidth:0,fill:"#ffffff"}}),Object(e.h)("path",{className:"st0",d:"M414,113.4c0-25.6-12.4-45.8-36.1-45.8c-23.8,0-38.2,20.2-38.2,45.6c0,30.1,17,45.3,41.4,45.3 c11.9,0,20.9-2.7,27.7-6.5v-20c-6.8,3.4-14.6,5.5-24.5,5.5c-9.7,0-18.3-3.4-19.4-15.2h48.9C413.8,121,414,115.8,414,113.4z M364.6,103.9c0-11.3,6.9-16,13.2-16c6.1,0,12.6,4.7,12.6,16H364.6z"}),Object(e.h)("path",{className:"st0",d:"M301.1,67.6c-9.8,0-16.1,4.6-19.6,7.8l-1.3-6.2h-22v116.6l25-5.3l0.1-28.3c3.6,2.6,8.9,6.3,17.7,6.3 c17.9,0,34.2-14.4,34.2-46.1C335.1,83.4,318.6,67.6,301.1,67.6z M295.1,136.5c-5.9,0-9.4-2.1-11.8-4.7l-0.1-37.1 c2.6-2.9,6.2-4.9,11.9-4.9c9.1,0,15.4,10.2,15.4,23.3C310.5,126.5,304.3,136.5,295.1,136.5z"}),Object(e.h)("polygon",{className:"st0",points:"223.8,61.7 248.9,56.3 248.9,36 223.8,41.3 "}),Object(e.h)("rect",{x:"223.8",y:"69.3",className:"st0",width:"25.1",height:"87.5"}),Object(e.h)("path",{className:"st0",d:"M196.9,76.7l-1.6-7.4h-21.6v87.5h25V97.5c5.9-7.7,15.9-6.3,19-5.2v-23C214.5,68.1,202.8,65.9,196.9,76.7z"}),Object(e.h)("path",{className:"st0",d:"M146.9,47.6l-24.4,5.2l-0.1,80.1c0,14.8,11.1,25.7,25.9,25.7c8.2,0,14.2-1.5,17.5-3.3V135 c-3.2,1.3-19,5.9-19-8.9V90.6h19V69.3h-19L146.9,47.6z"}),Object(e.h)("path",{className:"st0",d:"M79.3,94.7c0-3.9,3.2-5.4,8.5-5.4c7.6,0,17.2,2.3,24.8,6.4V72.2c-8.3-3.3-16.5-4.6-24.8-4.6 C67.5,67.6,54,78.2,54,95.9c0,27.6,38,23.2,38,35.1c0,4.6-4,6.1-9.6,6.1c-8.3,0-18.9-3.4-27.3-8v23.8c9.3,4,18.7,5.7,27.3,5.7 c20.8,0,35.1-10.3,35.1-28.2C117.4,100.6,79.3,105.9,79.3,94.7z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(49),s=t.n(l),h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(u,v,E)=>v in u?h(u,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[v]=E,m=(u,v)=>{for(var E in v||(v={}))f.call(v,E)&&b(u,E,v[E]);if(p)for(var E of p(v))O.call(v,E)&&b(u,E,v[E]);return u},a=(u,v)=>c(u,d(v)),n=(u,v)=>{var E={};for(var w in u)f.call(u,w)&&v.indexOf(w)<0&&(E[w]=u[w]);if(u!=null&&p)for(var w of p(u))v.indexOf(w)<0&&O.call(u,w)&&(E[w]=u[w]);return E};const r=u=>{var v=u,{stroke:E}=v,w=n(v,["stroke"]);return Object(e.h)(o.a,a(m({},w),{name:"ThinCircleCheckmarkIcon",svgParams:{viewBox:"0 0 72 72",height:72,width:72,fill:"none"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M19 37.5L29.5 48L52.5 25",stroke:E||l.substack_color,"stroke-width":"2","stroke-linecap":"round"}),Object(e.h)("rect",{x:"1",y:"1",width:"70",height:"70",rx:"35",stroke:E||l.substack_color,"stroke-width":"2"})))};i.default=r},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"TrendingUpIcon",strokeWidth:2,svgParams:{width:24,height:24,viewBox:"0 0 24 24"}}),Object(e.h)("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),Object(e.h)("polyline",{points:"17 6 23 6 23 12"}));i.default=m},,,,,,,,,function(S,i,t){"use strict";t.d(i,"a",function(){return g});var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(285),c=t.n(h),d=t(7),p=t.n(d),f=t(3),O=t.n(f),b=t(8),m=t.n(b),a=t(242),n=t(109),r=t(147),u=t(84),v=t(311),E=t(148),w=t(193),C=t(81),_=t.n(C),T=t(634),W=t(697),k=t(748),$=t(69);const H=L=>{if(!L)return!0;const j=c()(L.filter(B=>!!B).map(B=>B.publishedBylines));return j.every(B=>B.name===j[0].name)};function g({user:L,pub:j,freeSignup:B,freeSignupEmail:x,hide_intro_popup:P,newPosts:y,pinnedPosts:A,topPosts:K,homepageLinks:N,recommendations:Y,numRecommendations:F,sort:G,search:X,children:q,disableInteractive:se,referralCode:ie,showWelcome:Ee,blurbs:Ie,noBalanceHeroText:ge,notify_user:oe}){var ee;const te=Object(o.j)(!1),le=Object(o.j)(null);Object(o.d)(()=>{oe&&typeof window!="undefined"&&Object($.b)(oe)},[oe]);const[Q,z]=Object(o.k)(y),[V,ne]=Object(o.k)(A),[re,de]=Object(o.k)(K),[fe,we]=Object(o.k)(N),[Ge,$e]=Object(o.k)(Y),[it,st]=Object(o.k)([]);Object(o.d)(()=>{Object(f.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,Object(f.updateQuery)({action:null})),te.current=!0),te.current&&le.current.open(),typeof window!="undefined"&&Ee&&Object(b.removeQueryParam)("showWelcome")},[Ee]),Object(o.d)(()=>{!Q&&!y&&(z([]),s.a.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Se})=>z(Se))),!V&&!A&&(ne([]),s.a.get("/api/v1/archive").query({sort:"pinned"}).then(({body:Se})=>ne(Se))),!re&&!K&&(de([]),s.a.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Se})=>de(Se))),!fe&&!N&&(we([]),s.a.get("/api/v1/homepage_links").then(({body:Se})=>we(Se))),!Ge&&!Y&&j.show_recs_on_homepage&&($e([]),s.a.get(`/api/v1/recommendations/from/${j.id}?limit=5`).then(({body:Se})=>$e(Se))),it||s.a.get("/api/v1/subscription/publications").then(({body:Se})=>st(Se))},[Q,V,re,fe,y,A,K,N,it,j.id,j.show_recs_on_homepage,Ge,Y]);const Rt=Object(o.a)(({post:Se})=>{if(!Se)return;const Le=[{list:re,setter:de},{list:V,setter:ne},{list:Q,setter:z}];for(const tt of Le){const Xe=tt.list.findIndex(Et=>Et.id===Se.id);if(Xe!==-1){const Et=[...tt.list];Et.splice(Xe,1,Se),tt.setter(Et)}}},[Q,V,re]),Ht=Object(C.useMediaQuery)({query:"only screen and (max-width: 999px)"}),je=Object(C.useMediaQuery)({query:"only screen and (max-width: 650px)"}),Oe=new Set((V||[]).map(Se=>Se.id)),be=(V||[]).concat((Q||[]).filter(Se=>!Oe.has(Se.id))),he=be.length>5&&!((ee=be[0])==null?void 0:ee.cover_image)?5:be.length>4?4:0,Ce=be.slice(0,he),De=be.slice(je?Math.min(he,1):he);return Object(e.h)("div",{class:"home-page magaziney"},Object(e.h)(w.a,{publication:j,twitterCardUrl:Object(f.getTwitterSubscribeCardUrl)(j)}),Object(e.h)(T.b,{pub:j}),q,Object(e.h)(n.a,{ref:Se=>le.current=Se,user:L,pub:j}),Object(e.h)(a.c,{freeSignup:B,freeSignupEmail:x,user:L,post:null,publication:j,hidden:P||te.current,referralCode:ie,showOnMount:this.props.showWelcome,blurbs:Ie,noBalance:ge}),Ce.length>0?Object(e.h)(D,{newPosts:Ce,topPosts:re,pub:j,user:L,onChange:Rt,disableInteractive:se,hideAuthor:H(Ce.concat(re))}):null,Object(e.h)("div",{class:"magaziney-bottom"},De.length>0&&Object(e.h)(v.a,{class:"magaziney-archive",user:L,freeSignup:B,freeSignupEmail:x,pub:j,maxPosts:je?11:8,sort:G,search:X,newPosts:De,stateInUrl:!0,disableInteractive:se,hideTop:!je,hideAuthor:H(De),maxTitleLength:255,hideShare:!0,authorInMeta:Ht?!1:void 0,source:"magazineyhome",isBelowTheFold:!0}),Object(e.h)("div",{class:"magaziney-meta-column"},re&&re.length>0&&Object(e.h)(U,{topPosts:re,pub:j,onChange:Rt,user:L,hideAuthor:H(re),disableInteractive:se,authorInMeta:Ht?!1:void 0}),Object(e.h)("div",{class:"meta-info-block"},j.logo_url&&Object(e.h)("img",{class:"meta-pub-logo",src:Object(d.cloudinary)(j.logo_url,88),alt:j.name}),Object(e.h)("h4",{class:"meta-pub-name"},j.name),j.hero_text&&Object(e.h)("div",{class:"meta-pub-hero-text"},j.hero_text),!(L==null?void 0:L.is_subscribed)&&Object(e.h)(E.b,{pub:j,user:L,freeSignup:B,freeSignupEmail:x,isStatic:!1,source:"magaziney-home-page"})),Object(e.h)("div",{class:"meta-links"},Boolean(Ge==null?void 0:Ge.length)&&j.show_recs_on_homepage&&Object(e.h)(W.b,{recommendations:Ge,numRecommendations:F,pub:j,user:L,subscribedPubs:it}),Object(e.h)(T.a,{homepageLinks:fe,pub:j})))),Object(e.h)(k.a,{pub:j,user:L,freeSignup:B,freeSignupEmail:x,className:"magaziney"}))}const M=[680*2,352*2,352*2,288*2,288*2],R=[255,125,125,125,125],D=({pub:L,user:j,newPosts:B=[],topPosts:x=[],hideAuthor:P,disableInteractive:y,onChange:A})=>{const K=B.map((N,Y)=>Object(e.h)(u.e,{class:`topper-post spot-${Y+1}`,post:N,pub:L,user:j,onChange:A,showCoverImage:!0,coverImageOptional:!0,hideAuthor:P,authorInMeta:!1,maxTitleLength:R[Y],maxDescriptionLength:280,imageAssetSize:M[Y]||352*2,imageAspectRatio:1.78,disableInteractive:y,showDate:!0,hideShare:!0,isBelowTheFold:Y>=2}));return Object(e.h)("div",{class:"magaziney-topper"},Object(e.h)("div",{class:"topper-col left"},K[1],K[2]),Object(e.h)("div",{class:"topper-col mid"},K[0],K[3],K[4]),Object(e.h)("div",{class:"topper-col right"},x&&x.length>0&&Object(e.h)(U,{topPosts:x,pub:L,user:j,hideAuthor:P,onChange:A})))},U=({topPosts:L=[],pub:j,user:B,hideAuthor:x,disableInteractive:P,authorInMeta:y,onChange:A})=>Object(e.h)("div",{class:"most-popular"},Object(e.h)("h3",{class:"most-popular-header"},"Most popular"),L.map(K=>Object(e.h)(u.e,{class:"most-popular-post",post:K,pub:j,user:B,onChange:A,showCoverImage:!1,authorInMeta:Object(d.getBylineUsers)(K).length<=1&&y!==!1,maxTitleLength:255,maxDescriptionLength:280,disableInteractive:P,hideDescription:!0,showDate:!1,hideShare:!0,hideAuthor:x,isBelowTheFold:!0})),Object(e.h)("a",{className:"most-popular-see-all",native:!0,href:Object(f.getArchiveUrl)(j,{params:{sort:"top"}})},"See all popular ",Object(e.h)(r.default,{height:19,width:19})))},function(S,i,t){"use strict";t.d(i,"a",function(){return _});var e=t(0),o=t(10),l=t.n(o),s=t(3),h=t.n(s),c=t(53),d=t(5),p=t(242),f=t(84),O=t(73),b=t(331),m=t(109),a=t(8),n=t.n(a),r=t(30),u=t(69),v=Object.defineProperty,E=(W,k,$)=>k in W?v(W,k,{enumerable:!0,configurable:!0,writable:!0,value:$}):W[k]=$,w=(W,k,$)=>(E(W,typeof k!="symbol"?k+"":k,$),$),C=(W,k,$)=>new Promise((H,g)=>{var M=U=>{try{D($.next(U))}catch(L){g(L)}},R=U=>{try{D($.throw(U))}catch(L){g(L)}},D=U=>U.done?H(U.value):Promise.resolve(U.value).then(M,R);D(($=$.apply(W,k)).next())});class _ extends e.Component{constructor(k,$){super(k,$);w(this,"likesEnabled",Object(r.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&Object(u.b)(this.props.notify_user)}componentDidMount(){return C(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return C(this,null,function*(){if(!this.state.hasMore)return;(yield Object(a.stateLock)(this,"loading",$=>C(this,[$],function*({hasMore:H,posts:g}){if(!!H){g=g||[];try{const R=(yield l.a.get("/api/v1/posts").query({limit:this.getBatchSize(),offset:g.length})).body;g=g.concat(R),H=R.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(R),this.setState({posts:g,hasMore:H})}catch(M){console.error(M)}return H}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if(Object(s.getQueryItem)("action")==="share")window.history.replaceState({},document.title,Object(s.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(k){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!k||k.filter(g=>Object(c.isPaidAudience)(g.audience)&&!g.hidden).length===0)return;const $="__cookie_checked",H=Object(s.parseQuery)(window.location.search);H[$]||(H[$]="true",window.location.search=`?${Object(s.serializeQuery)(H)}`)}onChange({post:k}){if(k){const $=(this.state.posts||[]).map(H=>H.id).indexOf(k&&k.id);$!==-1&&(this.state.posts[$]=k,this.setState({posts:this.state.posts}))}}render({user:k,pub:$,freeSignup:H,freeSignupEmail:g,preloadedPosts:M,hide_intro_popup:R,children:D,blurbs:U,noBalanceHeroText:L},{posts:j,hasMore:B,share_on_load:x}){const P=[];for(const y of j||M||[])y.hidden?Array.isArray(P[P.length-1])?P[P.length-1].push(y):P.push([y]):P.push(y);return Object(e.h)("div",{className:"classic-home-page"},Object(e.h)(m.a,{ref:y=>this.shareDialog=y,user:k,pub:$}),Object(e.h)(p.c,{freeSignup:H,freeSignupEmail:g,user:k,post:null,publication:$,hidden:R||x,blurbs:U,noBalance:L}),$&&$.subdomain==="sinocism"&&Object(e.h)("div",{className:"sinocism-hero-small"},Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"hero-text"},Object(e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),Object(e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),Object(e.h)("div",{className:"hero-left"},Object(e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),Object(e.h)("div",{className:"review-footer"},Object(e.h)("h3",null,"Evan Osnos"),Object(e.h)("p",null,"New Yorker correspondent and ",Object(e.h)("br",null),"National Book Award winner"))))),Object(e.h)("div",{className:"post-list"},P.length===0&&!B&&Object(e.h)("div",{className:"container-border coming-soon"},Object(e.h)("div",{className:"container"},Object(e.h)("p",null,"Coming soon"))),P.map((y,A)=>Array.isArray(y)?this.renderHiddenPosts(y,A):this.renderPost(y,A)),B?Object(e.h)("div",{className:"post-loader"},Object(e.h)("div",{className:"container"},Object(e.h)(O.a,{ref:y=>this.loader=y,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},Object(e.h)("p",null,"Loading more posts\u2026")))):$.has_posts&&j&&j.length>0&&Object(e.h)("div",{className:"container"},Object(e.h)("a",{className:"archive-link button invis",href:Object(s.getBaseArchiveUrl)($)},"View archive"))),D)}renderPost(k){return Object(e.h)("div",{className:"container-border post-list-post"},Object(e.h)("div",{className:"container"},k.type==="thread"?Object(e.h)(b.a,{post:k,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):Object(e.h)(f.c,{post:k,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:$=>this.onChange($),noTitleLink:Boolean(this.props.disableInteractive),disableSubscribePrompt:!0})))}renderHiddenPosts(k,$){let H,g;return $===0?(H=k.slice(0,1),g=k.slice(1)):k.length<=3?(H=k,g=[]):(H=k.slice(0,2),g=k.slice(2)),Object(e.h)(T,{user:this.props.user,pub:this.props.pub,posts:H,collapsedPosts:g,onChange:M=>this.onChange(M)})}}class T extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||Object(d.i)(d.a.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:k,pub:$,posts:H,collapsedPosts:g,onChange:M},{showing:R}){return Object(e.h)("div",{className:`container-border post-list-hidden-posts ${R?"showing":""}`},Object(e.h)("div",{className:"container"},H.map(D=>Object(e.h)(f.d,{user:k,pub:$,post:D,onChange:M})),g.length>0&&Object(e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},R?"hide":`+${g.length} more`),g.map(D=>Object(e.h)(f.d,{className:"collapsed",user:k,pub:$,post:D,utm_source:"home",onChange:M}))))}}},function(S,i,t){"use strict";var e=t(0),o=t(2),l=t(10),s=t.n(l),h=t(8),c=t.n(h),d=t(3),p=t.n(d),f=(r,u,v)=>new Promise((E,w)=>{var C=W=>{try{T(v.next(W))}catch(k){w(k)}},_=W=>{try{T(v.throw(W))}catch(k){w(k)}},T=W=>W.done?E(W.value):Promise.resolve(W.value).then(C,_);T((v=v.apply(r,u)).next())});const O=({publication:r,subscription:u,title:v,reload:E})=>{var w;if(((r==null?void 0:r.child_publications)||[]).length>0||!((w=window._preloads.features)==null?void 0:w.digests))return Object(e.h)(a,{publication:r,subscription:u,title:v,reload:E});const _=T=>{switch(T.target.value){case"emails":return n(r.id,!1,!1,E);case"digests":return n(r.id,!0,!0,E);case"off":return n(r.id,!0,!1,E)}};return Object(e.h)("p",{classNname:"email-notifs-set-list"},Object(e.h)("span",null,v),Object(e.h)("br",null),Object(e.h)("label",{onInput:_},Object(e.h)("input",{type:"radio",name:"enabledness",value:"emails",checked:!u.email_disabled})," Every Post",Object(e.h)("input",{type:"radio",name:"enabledness",value:"digests",checked:u.digest_enabled})," Digests",Object(e.h)("input",{type:"radio",name:"enabledness",value:"off",checked:u.email_disabled&&!u.digest_enabled})," ","Disable"))},b=({publications:r,subscription:u,reload:v})=>{const[E,w]=Object(o.k)(()=>new Map([u].concat(u.child_publications||[]).map(_=>[_.publication_id,_.email_disabled]))),C=Array.from(E.values()).reduce((_,T)=>_+(T?0:1),0);return r.map(_=>{var T;return[Object(e.h)("br",null),Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:!((T=E.get(_.id))!=null?T:!0),onInput:W=>{const k=!W.target.checked;n(_.id,k,!1,(k?C<2:C===0)&&v);const $=new Map(E);$.set(_.id,k),w($)}})," ",_.name)]})},m=({publication:r,subscription:u,reload:v})=>{const E=(C,_)=>f(void 0,null,function*(){try{yield s.a.patch("/api/v1/subscription/sections/email").send({[C]:_})}catch(T){alert(Object(h.getNetworkErrorMessage)(T))}finally{v&&document.location.reload()}});return r.podcast_enabled&&r.has_podcast?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"email-settings-row general-list"},Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:!u.email_disabled,onInput:C=>n(r.id,!C.target.checked,!1,v)})," ",r.name)),r.sections.filter(C=>!C.is_podcast).map(C=>[Object(e.h)("div",{className:"email-settings-row"},Object(e.h)("label",{title:C.description},Object(e.h)("input",{type:"checkbox",checked:u.email_settings[C.id]==="individual",onInput:_=>E(C.id,_.target.checked?"individual":"disabled")})," ",C.name))]),r.sections.filter(C=>C.is_podcast).map(C=>[Object(e.h)("div",{className:"email-settings-row"},Object(e.h)("label",{title:C.description},Object(e.h)("input",{type:"checkbox",checked:u.email_settings[C.id]==="individual",onInput:_=>E(C.id,_.target.checked?"individual":"disabled")})," ",C.name))])):Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"email-settings-row general-list"},Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:!u.email_disabled,onInput:C=>n(r.id,!C.target.checked,!1,v)})," ",r.name)),r.sections.map(C=>[Object(e.h)("div",{className:"email-settings-row"},Object(e.h)("label",{title:C.description},Object(e.h)("input",{type:"checkbox",checked:u.email_settings[C.id]==="individual",onInput:_=>E(C.id,_.target.checked?"individual":"disabled")})," ",C.name),C.is_podcast&&u.is_subscribed&&!r.hide_podcast_feed_link&&Object(e.h)("span",{className:"set-up-private-feed"},"(",Object(e.h)("a",{href:Object(d.getPodcatcherSetupUrl)(r,{section:C,params:{utm_source:"account"}}),native:!0},"Set up your podcast app"),")"))]))},a=({publication:r,subscription:u,title:v,reload:E})=>{const w=r.child_publications||[],C=r.sections||[],_=[r].concat(w),T=w.length>0,W=!T&&C.length>0;return Object(e.h)("p",{className:"email-notifs-set-list"},Object(e.h)("span",null,v),T?Object(e.h)(b,{publications:_,subscription:u,reload:E}):W?Object(e.h)(m,{publication:r,subscription:u}):[Object(e.h)("br",null),Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:!u.email_disabled,onInput:k=>n(r.id,!k.target.checked,!1,E)})," ","Newsletter posts")])},n=(r,u,v,E)=>f(void 0,null,function*(){try{yield s.a.post("/api/v1/subscription/email").send({publication_id:r,email_disabled:u,digest_enabled:v}),typeof E=="function"?E():E&&document.location.reload()}catch(w){console.error("Failed to set email disabled status:",w),alert(Object(h.getNetworkErrorMessage)(w))}});i.a=O},function(S,i,t){"use strict";t.d(i,"a",function(){return n});var e=t(0),o=t(8),l=t.n(o),s=t(3),h=t.n(s),c=t(6),d=t.n(c),p=t(38),f=t(711);const O=[["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function b(r,u,v){return u?v==="owner"?r.author_id===u.id:u.email===`${v}_for_${r.subdomain}@example.com`:!1}const m=({setExpanded:r})=>Object(e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>r(!0)},Object(e.h)(f.default,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),a=({pub:r,user:u,setExpanded:v})=>Object(e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},Object(e.h)("div",null,"Sign in as",Object(e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>v(!1)},Object(e.h)(p.default,{height:20}))),O.map(([E,w])=>Object(e.h)("div",null,Object(e.h)("a",{className:d()("button",b(r,u,E)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=Object(s.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:E,orig_url:window.location.href})}},w))));class n extends e.Component{constructor(u,v){super(u,v);this.onDocumentMouseUp=E=>{!Object(o.isRootOrChild)(E.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:u,user:v},{expanded:E}){var w;return null}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationBlockQuoteIcon"}),Object(e.h)("path",{d:"M8 6.00003H18","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 12H21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 18H18","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3 21L3 3.00003","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationBookmarkIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 21L12 16L5 21V5.00004C5 3.89547 5.89543 3.00004 7 3.00004H17C18.1046 3.00004 19 3.89547 19 5.00004V21Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationEditIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.6464 2.35358C13.8417 2.15832 14.1583 2.15832 14.3536 2.35358L17.6464 5.64648C17.8417 5.84174 17.8417 6.15832 17.6464 6.35358L7.14645 16.8536C7.05268 16.9474 6.9255 17 6.79289 17H3.5C3.22386 17 3 16.7762 3 16.5V13.2071C3 13.0745 3.05268 12.9474 3.14645 12.8536L12.5 3.50003L13.6464 2.35358Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3 22H21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationEmailAtIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 16C14.2091 16 16 14.2092 16 12C16 9.79089 14.2091 8.00003 12 8.00003C9.79086 8.00003 8 9.79089 8 12C8 14.2092 9.79086 16 12 16Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M15.9996 12V13C15.9996 14.6569 17.3428 16 18.9996 16C20.6565 16 21.9996 14.6569 21.9996 13V12C21.9993 7.35294 18.7977 3.31844 14.2723 2.26233C9.74676 1.20621 5.0901 3.40682 3.03287 7.57375C0.975646 11.7407 2.06007 16.7757 5.65024 19.7263C9.24042 22.6769 14.3901 22.7655 18.0796 19.94","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationGridIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 3.00003H10V10H3V3.00003Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 3.00003H21V10H14V3.00003Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 14H21V21H14V14Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 14H10V21H3V14Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationInboxIcon"}),Object(e.h)("path",{d:"M22 13H16L14 16H10L8 13H2","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.47 5.19003L2 13V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V13L18.53 5.19003C18.2093 4.4661 17.4918 3.99949 16.7 4.00003H7.3C6.50822 3.99949 5.79067 4.4661 5.47 5.19003Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationInstagramIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 7.00001C2 4.23859 4.23858 2.00002 7 2.00002H17C19.7614 2.00002 22 4.23859 22 7.00002V17C22 19.7614 19.7614 22 17 22H7C4.23858 22 2 19.7614 2 17V7.00001Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0003 11.37C16.2534 13.077 15.3833 14.7539 13.8419 15.5297C12.3005 16.3055 10.4353 16.0054 9.21514 14.7852C7.99493 13.565 7.6948 11.6998 8.47063 10.1584C9.24646 8.61701 10.9233 7.74692 12.6303 8.00004C14.3733 8.2585 15.7418 9.62706 16.0003 11.37Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationInviteIcon"}),Object(e.h)("path",{d:"M16 21V19C16 16.7909 14.2091 15 12 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.5 11C10.7091 11 12.5 9.20917 12.5 7.00003C12.5 4.79089 10.7091 3.00003 8.5 3.00003C6.29086 3.00003 4.5 4.79089 4.5 7.00003C4.5 9.20917 6.29086 11 8.5 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M20 8.00003V14","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M23 11H17","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationMessageBoxIcon"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C18.661 18.1794 15.7189 19.9988 12.5 20C11.1801 20.0035 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00125 8.28112 5.82067 5.33907 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C17.3158 3.23813 20.7619 6.68422 21 11V11.5V11.5Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationTextIcon"}),Object(e.h)("path",{d:"M17 10H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M21 5.00003H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M21 15H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M17 20H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(116),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.default,b(O({},a),{name:"ActivationTweetThreadIcon"}),Object(e.h)("path",{d:"M8 6.00003H21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 12H21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8 18H21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M4 6.00003H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M4 12H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M4 18H3","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"BellOffIcon",svgParams:{viewBox:"0 0 24 24",strokeWidth:2,height:24,width:24,fill:"none",stroke:"none"}}),Object(e.h)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}),Object(e.h)("path",{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}),Object(e.h)("path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}),Object(e.h)("path",{d:"M18 8a6 6 0 0 0-9.33-5"}),Object(e.h)("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"BigArrowIcon",svgParams:{height:31,width:30,stroke:"none"}}),Object(e.h)("path",{d:"M29.4142 16.8429C30.1953 16.0619 30.1953 14.7955 29.4142 14.0145L16.6863 1.28658C15.9052 0.505527 14.6389 0.505527 13.8579 1.28658C13.0768 2.06762 13.0768 3.33395 13.8579 4.115L25.1716 15.4287L13.8579 26.7424C13.0768 27.5235 13.0768 28.7898 13.8579 29.5708C14.6389 30.3519 15.9052 30.3519 16.6863 29.5708L29.4142 16.8429ZM0 17.4287H28V13.4287H0V17.4287Z",fill:"#E5E5E5"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#555"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"BookOpenIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),Object(e.h)("path",{d:"M2 3H8C9.06087 3 10.0783 3.42143 10.8284 4.17157C11.5786 4.92172 12 5.93913 12 7V21C12 20.2044 11.6839 19.4413 11.1213 18.8787C10.5587 18.3161 9.79565 18 9 18H2V3Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M22 3H16C14.9391 3 13.9217 3.42143 13.1716 4.17157C12.4214 4.92172 12 5.93913 12 7V21C12 20.2044 12.3161 19.4413 12.8787 18.8787C13.4413 18.3161 14.2044 18 15 18H22V3Z",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"BookmarkIcon",svgParams:{height:20,width:20,fill:"none",stroke:"#262626",strokeWidth:1.3}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.8346 17.5L10.0013 13.3333L4.16797 17.5V4.16667C4.16797 3.24619 4.91416 2.5 5.83464 2.5H14.168C15.0884 2.5 15.8346 3.24619 15.8346 4.16667V17.5Z","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentIcon",svgParams:{height:20,width:14}}),Object(e.h)("path",{d:"M7.47092 13.7982L7.32727 13.6656H7.13176H2.14118C1.22171 13.6656 0.5 12.944 0.5 12.0679V6.09766C0.5 5.22165 1.22171 4.5 2.14118 4.5H11.8588C12.7783 4.5 13.5 5.22165 13.5 6.09766V12.0679C13.5 12.944 12.7783 13.6656 11.8588 13.6656H10.5412H10.0412V14.1656V16.1657C10.0392 16.1649 10.0339 16.1625 10.0255 16.1565L7.47092 13.7982Z",stroke:"#999999"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CommentThinIcon",svgParams:{height:22,width:22}}),Object(e.h)("path",{d:"M3.90181 16C2.12233 14.4294 1 12.1315 1 9.57143C1 4.83756 4.83756 1 9.57143 1H12.4286C17.1624 1 21 4.83756 21 9.57143C21 14.7143 17.6667 16.9524 16 17.4286L3.85714 21V16","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"default",function(){return m});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));function m(a){return Object(e.h)(o.a,b(O({},a),{name:"InboxIcon",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",svgParams:{viewBox:"0 0 24 24",fill:"none",width:24,height:24}}),Object(e.h)("circle",{cx:"12",cy:"12",r:"10"}),Object(e.h)("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}))}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(49),s=t.n(l),h=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,b=(r,u,v)=>u in r?h(r,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):r[u]=v,m=(r,u)=>{for(var v in u||(u={}))f.call(u,v)&&b(r,v,u[v]);if(p)for(var v of p(u))O.call(u,v)&&b(r,v,u[v]);return r},a=(r,u)=>c(r,d(u));const n=r=>Object(e.h)(o.a,a(m({},r),{name:"CurlyQuoteIcon",svgParams:{height:20,width:27}}),Object(e.h)("path",{d:"M0.305176 13.8176C0.305176 17.3972 3.0194 20.2997 6.36908 20.2997C9.71771 20.2997 12.433 17.3983 12.433 13.8176C12.433 10.2818 9.78333 7.40932 6.49146 7.33926C8.02187 5.73476 10.1188 4.74301 12.433 4.74301L12.4318 0.854675C5.73458 0.854675 0.305203 6.65881 0.305203 13.8176H0.305176ZM26.9852 0.854675C20.2879 0.854675 14.8585 6.65881 14.8585 13.8176C14.8585 17.3972 17.5739 20.2997 20.9224 20.2997C24.271 20.2997 26.9863 17.3983 26.9863 13.8176C26.9863 10.2818 24.3367 7.40932 21.0448 7.33926C22.5752 5.73476 24.6733 4.74301 26.9863 4.74301L26.9852 0.854675Z",fill:l.substack_color}));i.default=n},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DownArrowIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M12 5L12 19","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5 12L12 19L19 12","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),Object(e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:a.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),Object(e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:a.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),Object(e.h)("path",{d:"M16 18.5V8.5",stroke:a.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"GlobeIcon",svgParams:{viewBox:"0 0 64 64",height:24,width:24}}),Object(e.h)("path",{d:`M32,0C14.3269014,0,0.0000016,14.3268995,0.0000016,32S14.3269014,64,32,64c17.6730003,0,32-14.3269005,32-32
	S49.6730003,0,32,0z M59.9011002,20.9979992h-8.2947998C50.0063972,12.6344004,46.4979973,7.3811998,43.7486,4.3986001
	C51.1040001,7.5414,56.9510994,13.5437002,59.9011002,20.9979992z M50.5262985,30.5702991
	c0,3.8985004-0.3558998,7.3584003-0.9350014,10.4297009H33V22.9979992h16.9626999
	C50.3169975,25.2905998,50.5262985,27.8041992,50.5262985,30.5702991z M38.9873009,61.1697998
	C37.0564995,61.6324005,35.0544014,61.9067993,33,61.9746017V43h16.1736984
	C46.2507973,55.5363007,39.5573997,60.7462997,38.9873009,61.1697998z M26.0546017,61.2001991
	c-0.028801-0.0205002-2.9267006-2.0732994-5.7861004-6.8456993C18.7133007,51.7587013,16.9868011,48.0116997,15.8250017,43
	h15.1750002v18.9746017c-1.6039009-0.0529022-3.1763-0.2298012-4.7075996-0.526001
	C26.2281017,61.3558006,26.1527023,61.2685013,26.0546017,61.2001991z M14.4731016,30.5702991
	c0-2.7647991,0.1869001-5.2784996,0.5030003-7.5723h16.0238991V41H15.4065018
	C14.8340015,37.9496994,14.4731016,34.4883003,14.4731016,30.5702991z M24.5285015,2.9421
	c2.078701-0.5347002,4.2458-0.8433001,6.4715004-0.9167001v18.972599H15.2952013
	C17.4938011,8.8860998,23.4321022,3.7895,24.5285015,2.9421z M33,20.9979992V2.0253999
	c2.0587006,0.0678,4.0649033,0.3432,5.9995003,0.8075001c0.0016975,0.0011001,0.0025978,0.003,0.0044022,0.0039999
	C39.098999,2.8933001,46.8930969,7.6882,49.6044006,20.9979992H33z M20.342802,4.3576002
	C17.8907013,7.3262,14.7355013,12.5907001,13.300602,20.9979992H4.0988016
	C7.0611014,13.5124998,12.9440012,7.4896002,20.342802,4.3576002z M3.3817017,22.9979992h9.6154003
	c-0.2987003,2.3043003-0.4702997,4.8222008-0.4702997,7.5723c0,3.8788013,0.3325996,7.3393993,0.8814993,10.4297009H3.3811016
	c-0.8959-2.8426018-1.3810999-5.8653984-1.3810999-9C2.0000017,28.8647003,2.4854016,25.8411007,3.3817017,22.9979992z
	 M4.0981016,43h9.7075005c1.9875994,9.0527992,5.8644991,14.5458984,8.4851999,17.3785019
	C13.9835014,57.5281982,7.3152018,51.1310997,4.0981016,43z M43.2122002,59.8180008
	C45.8057976,56.8488007,49.3305969,51.4894981,51.1946983,43h8.7070999
	C56.8810997,50.6347008,50.8185005,56.7408981,43.2122002,59.8180008z M60.6187973,41h-9.0268974
	c0.5490036-3.0903015,0.8816986-6.5508995,0.8816986-10.4297009c0-2.7498989-0.1921997-5.2679996-0.5270996-7.5723h8.6716995
	C61.5144997,25.8411007,62,28.8647003,62,32C62,35.1346016,61.514698,38.1573982,60.6187973,41z`}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"HeartIcon",svgParams:{height:20,width:15}}),Object(e.h)("path",{d:"M1.73624 5.1145C2.43974 4.37137 3.37095 4 4.3036 4C5.23626 4 6.16745 4.37137 6.87097 5.1145L7.49949 5.77892L8.1227 5.11986C9.52973 3.63357 11.8557 3.6336 13.2627 5.11986C14.6698 6.60612 14.6698 8.98642 13.2627 10.4727C11.4639 12.3728 9.66583 14.2737 7.86703 16.1738C7.81927 16.2242 7.76183 16.2643 7.6982 16.2918C7.63456 16.3192 7.56606 16.3333 7.49683 16.3333C7.42761 16.3333 7.3591 16.3192 7.29547 16.2918C7.23184 16.2643 7.1744 16.2242 7.12664 16.1738L5.77904 14.7472L3.08384 11.8939L1.73624 10.4673C0.331003 8.98011 0.329213 6.60074 1.73624 5.1145Z",stroke:"#999999"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"HeartIconFilled",svgParams:{height:19,width:19}}),Object(e.h)("path",{d:"M8.18906 16.4003C8.18906 16.4003 8.19004 16.401 8.50003 15.967M8.18906 16.4003L8.50003 15.967M8.18906 16.4003C8.3745 16.5328 8.62459 16.5335 8.81003 16.401M8.18906 16.4003L8.18673 16.3986L8.17807 16.3924L8.14524 16.3688C8.11664 16.3481 8.07484 16.3177 8.02129 16.2785C7.91419 16.2 7.75999 16.086 7.57019 15.9425C7.19079 15.6559 6.66805 15.2512 6.0943 14.7787C4.9577 13.8427 3.58112 12.6085 2.73999 11.487C1.08129 9.27538 0.5 7.56545 0.5 5.33279C0.5 4.60372 0.674245 3.55113 1.20952 2.60817C1.75476 1.64766 2.68094 0.796397 4.14593 0.552976C5.65441 0.302327 6.79792 0.979011 7.57685 1.78493C7.95999 2.18134 8.26591 2.61863 8.50003 3.01638C8.73414 2.61863 9.04005 2.18134 9.42318 1.78493C10.2021 0.979012 11.3456 0.302327 12.8541 0.552976C14.3191 0.796397 15.2452 1.64766 15.7905 2.60817C16.3258 3.55113 16.5 4.60372 16.5 5.33279C16.5 7.56546 15.9186 9.27539 14.2599 11.487C13.4188 12.6085 12.0423 13.8427 10.9057 14.7787C10.332 15.2512 9.80925 15.6559 9.42987 15.9425C9.24007 16.0859 9.08588 16.2 8.97878 16.2785C8.92523 16.3177 8.88344 16.3481 8.85484 16.3687L8.82201 16.3924L8.81334 16.3986L8.81003 16.401M8.50003 15.967L8.81003 16.401M8.50003 15.967C8.81003 16.401 8.81003 16.401 8.81003 16.401M8.50003 15.3062C8.41803 15.2454 8.32165 15.1734 8.2132 15.0915C7.84258 14.8115 7.33198 14.4161 6.77238 13.9553C5.6423 13.0247 4.35218 11.8588 3.59332 10.847C2.05203 8.79192 1.56666 7.30184 1.56666 5.33279C1.56666 4.74453 1.71242 3.88296 2.13715 3.13475C2.55191 2.40409 3.22574 1.78717 4.32077 1.60522C5.37229 1.4305 6.18435 1.87904 6.80987 2.52623C7.44456 3.18291 7.83982 4.00249 8.00506 4.41433C8.08619 4.61654 8.28216 4.74906 8.50003 4.74906C8.71791 4.74906 8.91388 4.61654 8.99501 4.41433C9.16025 4.00248 9.55549 3.1829 10.1902 2.52623C10.8157 1.87904 11.6277 1.4305 12.6792 1.60522C13.7743 1.78717 14.4481 2.40409 14.8629 3.13475C15.2876 3.88296 15.4333 4.74453 15.4333 5.33279C15.4333 7.30183 14.9479 8.79191 13.4066 10.847C12.6478 11.8588 11.3577 13.0247 10.2276 13.9553C9.66803 14.4162 9.15745 14.8115 8.78684 15.0915C8.67839 15.1734 8.58202 15.2454 8.50003 15.3062Z","stroke-width":"0.5","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"default",function(){return m});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));function m(a){return Object(e.h)(o.a,b(O({},a),{name:"HeartIconNotifs",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"HeartIconRounded",svgParams:{height:19,width:19},version:3}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",strokeWidth:0,d:"M9.49988 3.04743C9.26828 2.69204 8.98813 2.32264 8.65639 1.9794C7.76925 1.06153 6.4436 0.270046 4.69051 0.561336C3.00415 0.84154 1.93399 1.82567 1.30794 2.92853C0.697174 4.00446 0.5 5.19971 0.5 6.02946C0.5 8.53367 1.15798 10.4555 3.00125 12.9132C3.94096 14.1662 5.4683 15.5335 6.71518 16.5603C7.34697 17.0806 7.92243 17.5261 8.34008 17.8417C8.54907 17.9996 8.71896 18.1253 8.83714 18.2118C8.89624 18.2551 8.94243 18.2887 8.97415 18.3116L9.01069 18.338L9.02045 18.345L9.02314 18.3469L9.02393 18.3475C9.02402 18.3475 9.02434 18.3478 9.49989 17.682L9.02393 18.3475C9.30841 18.5507 9.69097 18.5509 9.97545 18.3477L9.49989 17.682C9.97545 18.3477 9.97536 18.3478 9.97545 18.3477L9.97665 18.3469L9.98911 18.338L10.0256 18.3116C10.0574 18.2887 10.1036 18.2551 10.1626 18.2118C10.2808 18.1253 10.4507 17.9996 10.6597 17.8417C11.0773 17.5261 11.6528 17.0806 12.2845 16.5603C13.5314 15.5335 15.0587 14.1662 15.9984 12.9132C17.8416 10.4555 18.4997 8.53369 18.4997 6.02946C18.4997 5.19971 18.3025 4.00446 17.6918 2.92853C17.0657 1.82567 15.9956 0.84154 14.3092 0.561336C12.5561 0.270046 11.2305 1.06153 10.3434 1.97941C10.0116 2.32264 9.73148 2.69204 9.49988 3.04743ZM9.49988 16.6664C9.4459 16.6261 9.38799 16.5825 9.32651 16.5361C8.92233 16.2307 8.36549 15.7996 7.7554 15.2972C6.51853 14.2786 5.12382 13.0161 4.31032 11.9314C2.64716 9.71387 2.13634 8.12929 2.13634 6.02946C2.13634 5.41573 2.28981 4.51351 2.73098 3.73633C3.15687 2.98608 3.83993 2.36144 4.95873 2.17554C6.01081 2.00073 6.82799 2.44222 7.47979 3.1166C8.14566 3.80554 8.565 4.67251 8.74056 5.11008C8.86502 5.42029 9.16565 5.62359 9.49989 5.62359C9.83413 5.62359 10.1348 5.42029 10.2592 5.11008C10.4348 4.6725 10.8541 3.80553 11.52 3.11659C12.1717 2.44222 12.9889 2.00073 14.041 2.17554C15.1598 2.36144 15.8428 2.98608 16.2687 3.73633C16.7099 4.51351 16.8634 5.41573 16.8634 6.02946C16.8634 8.12927 16.3525 9.71386 14.6893 11.9314C13.8758 13.0161 12.4811 14.2786 11.2443 15.2972C10.6342 15.7996 10.0774 16.2307 9.67324 16.5361C9.61177 16.5825 9.55386 16.6261 9.49988 16.6664Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"HeartThinIcon",svgParams:{height:22,width:22}}),Object(e.h)("path",{d:"M5.28575 1.0913C8.71435 0.52248 10.5239 2.75036 11.0001 3.9354C11.4763 2.75036 13.2856 0.52248 16.7142 1.0913C20.1428 1.66012 21 5.01791 21 6.77951C21.0002 9.46154 20.5716 11.6145 18.8573 13.8898C16.1787 17.4449 12.9049 19.578 11.0001 21C9.09525 19.578 5.8213 17.4449 3.1427 13.8898C1.4284 11.6145 0.999826 9.46154 1 6.77951C1 5.01791 1.85715 1.66012 5.28575 1.0913Z","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="#555"}=r,v=m(r,["stroke"]);return Object(e.h)(o.a,b(O({},v),{name:"LogOutIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),Object(e.h)("path",{d:"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16 17L21 12L16 7",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M21 12H9",stroke:u,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(773),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(715),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i),t.d(i,"LucideCalendar",function(){return a});var e=t(0),o=t(9),l=t(774),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));function a(n){return Object(e.h)(o.a,m(b({},n),{name:"LucideCalendar",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}))}i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=t(715),s=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,O=(n,r,u)=>r in n?s(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r||(r={}))p.call(r,u)&&O(n,u,r[u]);if(d)for(var u of d(r))f.call(r,u)&&O(n,u,r[u]);return n},m=(n,r)=>h(n,c(r));const a=n=>Object(e.h)(o.a,m(b({},n),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(l.a,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"MailIcon",svgParams:{height:17,width:23}}),Object(e.h)("path",{d:"M2.88771 16.2044H20.1132C21.2626 16.2044 22.1962 15.1951 22.1962 13.9548L22.1972 3.04623C22.1972 1.80485 21.2626 0.796587 20.1142 0.796587L2.88769 0.795532C1.73826 0.795532 0.804688 1.80487 0.804688 3.04517V13.9526C0.803712 15.1951 1.73829 16.2044 2.88769 16.2044L2.88771 16.2044ZM2.88771 2.26674H20.1132C20.4033 2.26674 20.6611 2.45553 20.7743 2.73397L11.5263 8.85217L2.23834 2.70643C2.35748 2.44065 2.60554 2.26663 2.88776 2.26663L2.88771 2.26674ZM20.1122 14.7332H2.88771C2.49026 14.7332 2.16604 14.383 2.16604 13.9538V4.38146L11.1718 10.3393C11.3866 10.4806 11.6679 10.4806 11.8817 10.3393L20.8347 4.41602V13.9535C20.8347 14.3838 20.5115 14.7329 20.1121 14.7329L20.1122 14.7332Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"NotificationIconReader",svgParams:{height:24,width:24}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17 13.2857C17 13.838 17.4477 14.2857 18 14.2857L18.1429 14.2857C18.6162 14.2857 19 14.6695 19 15.1429C19 15.6162 18.6162 16 18.1429 16H5.85714C5.38376 16 5 15.6162 5 15.1429C5 14.6695 5.38376 14.2857 5.85714 14.2857H6C6.55228 14.2857 7 13.838 7 13.2857V10.1818C7 8.09002 8.02576 6.32801 10.2065 5.70128C10.4827 5.62191 10.6875 5.37827 10.6875 5.09091C10.6875 4.48727 11.2737 4 12 4C12.7263 4 13.3125 4.48727 13.3125 5.09091C13.3125 5.37831 13.5172 5.62202 13.7933 5.70177C15.9671 6.32967 17 8.09726 17 10.1818V13.2857ZM14 17C14 18.1 13.1 19 12 19C10.89 19 10 18.1 10 17H14Z",fill:"#78706C"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(n,r,u)=>r in n?l(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,O=(n,r)=>{for(var u in r||(r={}))d.call(r,u)&&f(n,u,r[u]);if(c)for(var u of c(r))p.call(r,u)&&f(n,u,r[u]);return n},b=(n,r)=>s(n,h(r)),m=(n,r)=>{var u={};for(var v in n)d.call(n,v)&&r.indexOf(v)<0&&(u[v]=n[v]);if(n!=null&&c)for(var v of c(n))r.indexOf(v)<0&&p.call(n,v)&&(u[v]=n[v]);return u};const a=n=>{var r=n,{stroke:u="black",height:v=19,width:E=19}=r,w=m(r,["stroke","height","width"]);return Object(e.h)(o.a,b(O({},w),{name:"PageIcon",svgParams:{height:v,width:E,viewBox:"0 0 19 19"}}),Object(e.h)("path",{d:"M11 15.5H4C3.72386 15.5 3.5 15.2761 3.5 15V4C3.5 3.72386 3.72386 3.5 4 3.5H15C15.2761 3.5 15.5 3.72386 15.5 4V10.5",stroke:u,"stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11 10.5H15.5L11 15.5V10.5Z",stroke:u,"stroke-linecap":"round","stroke-linejoin":"round"}))};i.default=a},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PauseIconRound",svgParams:{height:40,width:40,stroke:"none"}}),Object(e.h)("rect",{x:"0.25",y:"0.25",width:"39.5",height:"39.5",rx:"19.75",fill:"white"}),Object(e.h)("rect",{x:"14",y:"14",width:"12",height:"12",fill:"white"}),Object(e.h)("rect",{x:"15",y:"14",width:"3",height:"12",rx:"0.5",fill:"#3A261C"}),Object(e.h)("rect",{x:"22",y:"14",width:"3",height:"12",rx:"0.5",fill:"#3A261C"}),Object(e.h)("rect",{x:"0.25",y:"0.25",width:"39.5",height:"39.5",rx:"19.75",stroke:"#BABABA","stroke-width":"0.5"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PencilPaperIcon",svgParams:{height:20,width:20,fill:"none",stroke:"#262626",strokeWidth:1.3}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.3131 2.02055C11.5084 1.82528 11.825 1.82528 12.0202 2.02055L14.6464 4.64677C14.8417 4.84203 14.8417 5.15862 14.6464 5.35388L5.97978 14.0205C5.88601 14.1143 5.75883 14.167 5.62623 14.167H3C2.72386 14.167 2.5 13.9431 2.5 13.667V11.0408C2.5 10.9082 2.55268 10.781 2.64645 10.6872L10.4167 2.91699L11.3131 2.02055Z","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M2.5 18.333H17.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"PlayIconRoundFilled",svgParams:{height:24,width:24}}),Object(e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"2.2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:a.stroke}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"CheckmarkIcon",svgParams:{height:24,width:24,fill:"black"}}),Object(e.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M11.9998 20.3334C16.6023 20.3334 20.3332 16.6025 20.3332 12C20.3332 7.39752 16.6023 3.66669 11.9998 3.66669C7.39734 3.66669 3.6665 7.39752 3.6665 12C3.6665 16.6025 7.39734 20.3334 11.9998 20.3334Z",stroke:"#808080","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M9.5 12L11.1667 13.6666L14.5 10.3333",stroke:"#808080","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"RecommendIcon",svgParams:{height:22,width:22}}),Object(e.h)("path",{d:"M11.6662 0.999908L21 11L11.6662 21","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.6248 14.5713C6.00051 14.5713 3.41297 16.7142 1 20.9999C1.00018 10.9998 5.37537 7.42838 11.6248 7.42838","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.6641 0.999908L11.6641 7.42838","stroke-linecap":"round"}),Object(e.h)("path",{d:"M11.6641 14.572L11.6641 21.0006","stroke-linecap":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"RecommendThinIcon",svgParams:{height:22,width:22}}),Object(e.h)("path",{d:"M11.6247 14.5716C6.00049 14.5716 3.41296 16.7144 1 21.0001C1.00018 11.0001 5.37535 7.42871 11.6247 7.42871","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.6662 1L21 11L11.6662 21","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.6641 14.5723L11.6641 21.0008","stroke-linecap":"round"}),Object(e.h)("path",{d:"M11.6602 1L11.6602 7.42857","stroke-linecap":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ResizeIcon",svgParams:{height:32,width:32}}),Object(e.h)("path",{d:"M30,1H20a1,1,0,0,0,0,2h7.59l-9.3,9.29a1,1,0,0,0,1.42,1.42L29,4.41V12a1,1,0,0,0,2,0V2A1,1,0,0,0,30,1Z"}),Object(e.h)("path",{d:"M12.29,18.29,3,27.59V20a1,1,0,0,0-2,0V30a1,1,0,0,0,1,1H12a1,1,0,0,0,0-2H4.41l9.3-9.29a1,1,0,0,0-1.42-1.42Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ReturnIcon",svgParams:{viewBox:"0 0 20 20",width:20,height:20,fill:"none",stroke:"#666666"}}),Object(e.h)("path",{d:"M5.83333 3.33337L2.5 6.66671L5.83333 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M9.16659 15.8333H12.904C14.1229 15.8333 15.2919 15.3504 16.1538 14.4909C17.0157 13.6313 17.4999 12.4655 17.4999 11.25C17.4999 10.0344 17.0157 8.86859 16.1538 8.00905C15.2919 7.14951 14.1229 6.66663 12.904 6.66663H3.33325","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16}}),Object(e.h)("rect",{x:"1.25",y:"1.25",width:"14.5",height:"14.5",rx:"2.25","stroke-width":"1.5"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3951 15.5V10.0264H12.164L12.4278 7.89306H10.3951V6.53129C10.3951 5.91433 10.5597 5.49346 11.4128 5.49346L12.5 5.49198V3.5854C12.3116 3.5589 11.6665 3.5 10.9153 3.5C9.34774 3.5 8.27456 4.49513 8.27456 6.32073V7.89306H6.5V10.0264H8.27456V15.5H10.3951Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareHnIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M13.2667 23V14.723L20 2H17.1C13.7097 8.16315 13.1349 9.63317 12.6443 10.8879C12.4741 11.3232 12.314 11.7326 12.05 12.3031C11.8737 11.8839 11.7464 11.542 11.6151 11.1894C11.1195 9.85858 10.567 8.3747 7.10833 2H4L10.65 14.5754V23H13.2667Z",fill:"black"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareLinkedinIcon",svgParams:{height:512,width:512}}),Object(e.h)("path",{d:"M68.12,4.267c-18.773,0-35.84,6.827-48.64,19.627C5.827,37.547-1,54.613-1,72.533c0,18.773,7.68,35.84,20.48,48.64 c12.8,12.8,30.72,20.48,47.787,19.627c0,0,0.853,0,1.707,0c17.067,0,33.28-6.827,46.08-19.627 c12.8-12.8,20.48-29.867,20.48-48.64c0.853-17.92-6.827-34.987-19.627-47.787C103.107,11.093,86.04,4.267,68.12,4.267z  M103.107,109.227c-9.387,9.387-22.187,15.36-35.84,14.507c-12.8,0-26.453-5.12-35.84-14.507 c-10.24-9.387-15.36-23.04-15.36-36.693s5.12-26.453,15.36-36.693c9.387-9.387,22.187-14.507,36.693-14.507 c12.8,0,25.6,5.12,34.987,14.507c10.24,10.24,15.36,23.04,15.36,36.693S113.347,99.84,103.107,109.227z"}),Object(e.h)("path",{d:"M101.4,157.867H32.28c-13.653,0-24.747,11.093-24.747,25.6v298.667c0,13.653,11.947,25.6,25.6,25.6H101.4 c13.653,0,25.6-11.947,25.6-24.747v-299.52C127,169.813,115.053,157.867,101.4,157.867z M109.933,482.987 c0,4.267-4.267,7.68-8.533,7.68H33.133c-4.267,0-8.533-4.267-8.533-8.533V183.467c0-4.267,3.413-8.533,7.68-8.533h69.12 c4.267,0,8.533,4.267,8.533,8.533V482.987z"}),Object(e.h)("path",{d:"M391.533,149.333h-17.92c-33.28,0-64.853,14.507-85.333,37.547v-11.947c0-8.533-8.533-17.067-17.067-17.067H185.88 c-7.68,0-17.067,6.827-17.067,16.213v318.293c0,9.387,9.387,15.36,17.067,15.36h93.867c7.68,0,17.067-5.973,17.067-15.36v-184.32 c0-28.16,20.48-50.347,46.933-50.347c13.653,0,26.453,5.12,35.84,14.507c8.533,7.68,11.947,19.627,11.947,34.987v183.467 c0,8.533,8.533,17.067,17.067,17.067h85.333c8.533,0,17.067-8.533,17.067-17.067v-220.16 C511,202.24,458.947,149.333,391.533,149.333z M493.933,489.813l-0.853,0.853h-83.627L408.6,307.2 c0-20.48-5.12-35.84-16.213-46.933c-12.8-12.8-29.867-19.627-47.787-19.627c-35.84,0.853-64,29.867-64,67.413v182.613h-93.867 V174.933h84.48l0.853,0.853v53.76l23.04-23.04l0.853-0.853c17.067-23.893,46.933-39.253,78.507-39.253h17.92 c57.173,0,101.547,46.08,101.547,104.107V489.813z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"SharePinIcon",svgParams:{height:314.652,width:314.652}}),Object(e.h)("path",{d:`M157.326,0C70.576,0,0,70.576,0,157.326s70.576,157.326,157.326,157.326s157.326-70.576,157.326-157.326
		S244.076,0,157.326,0z M157.326,296.652C80.502,296.652,18,234.15,18,157.326S80.502,18,157.326,18s139.326,62.502,139.326,139.326
		S234.15,296.652,157.326,296.652z`}),Object(e.h)("path",{d:`M200.481,76.642c-34.44-26.361-81.819-22.517-105.614,8.57c-18.037,23.565-17.872,57.435,0.411,84.281
		c2.798,4.106,8.395,5.171,12.505,2.372c4.108-2.798,5.17-8.396,2.372-12.505c-13.904-20.417-14.305-45.818-0.995-63.207
		c17.764-23.207,53.822-25.547,80.38-5.219c26.559,20.329,33.715,55.748,15.952,78.954c-13.722,17.928-38.68,23.803-62.209,15.207
		l11.668-55.423c1.024-4.864-2.089-9.638-6.952-10.661c-4.874-1.026-9.639,2.089-10.661,6.952l-24,114
		c-1.024,4.864,2.089,9.638,6.952,10.661c0.626,0.132,1.249,0.195,1.863,0.195c4.166,0,7.906-2.909,8.798-7.147l8.593-40.816
		c8.41,2.787,16.954,4.153,25.298,4.153c21.622,0,41.892-9.129,54.943-26.181C243.58,149.741,234.921,103.003,200.481,76.642z`}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareRedditIcon",svgParams:{height:23,width:23}}),Object(e.h)("path",{d:"M15.5859 15.6094C15.3516 15.5469 15.0703 15.625 14.7422 15.8438L14.7188 15.8672C14.4531 16.1328 14.0742 16.3359 13.582 16.4766C13.0898 16.6172 12.5 16.6875 11.8125 16.6875C10.4062 16.6875 9.42969 16.4141 8.88281 15.8672C8.85156 15.8359 8.8125 15.8086 8.76562 15.7852C8.71875 15.7617 8.66797 15.7422 8.61328 15.7266C8.55859 15.7109 8.5 15.7031 8.4375 15.7031C8.375 15.7031 8.32031 15.7109 8.27344 15.7266C8.22656 15.7422 8.17578 15.7617 8.12109 15.7852C8.06641 15.8086 8.02344 15.8359 7.99219 15.8672C7.91406 15.9453 7.85938 16.043 7.82812 16.1602C7.79688 16.2773 7.79688 16.3906 7.82812 16.5C7.85938 16.6094 7.91406 16.7031 7.99219 16.7813C8.49219 17.2031 9.06641 17.5156 9.71484 17.7188C10.3633 17.9219 11.1094 18.0234 11.9531 18.0234C13.7656 18.0234 15.0859 17.6094 15.9141 16.7813C16.0234 16.6563 16.0781 16.5078 16.0781 16.3359C16.0781 16.1641 16.0312 16.0234 15.9375 15.9141C15.8438 15.7422 15.7266 15.6406 15.5859 15.6094ZM10.2656 12.0703C10.2656 11.7422 10.1797 11.4258 10.0078 11.1211C9.83594 10.8164 9.60938 10.5703 9.32812 10.3828C9.04688 10.1953 8.75 10.1016 8.4375 10.1016C7.95312 10.1016 7.52734 10.3008 7.16016 10.6992C6.79297 11.0977 6.60938 11.5547 6.60938 12.0703C6.60938 12.7734 6.91406 13.3047 7.52344 13.6641C7.80469 13.8359 8.10938 13.9219 8.4375 13.9219C8.9375 13.9219 9.36719 13.7383 9.72656 13.3711C10.0859 13.0039 10.2656 12.5703 10.2656 12.0703ZM15.4688 10.2422C14.7656 10.2422 14.2344 10.5469 13.875 11.1563C13.7031 11.4531 13.6172 11.7578 13.6172 12.0703C13.6172 12.3203 13.668 12.5586 13.7695 12.7852C13.8711 13.0117 14.0039 13.207 14.168 13.3711C14.332 13.5352 14.5273 13.668 14.7539 13.7695C14.9805 13.8711 15.2188 13.9219 15.4688 13.9219C16.1562 13.9219 16.6797 13.6094 17.0391 12.9844C17.2109 12.7031 17.2969 12.3984 17.2969 12.0703C17.2969 11.8359 17.2461 11.6055 17.1445 11.3789C17.043 11.1523 16.9102 10.957 16.7461 10.793C16.582 10.6289 16.3867 10.4961 16.1602 10.3945C15.9336 10.293 15.7031 10.2422 15.4688 10.2422ZM21.0234 7.3125C20.3672 7.3125 19.7734 7.53906 19.2422 7.99219C17.6172 6.96094 15.5312 6.35156 12.9844 6.16406L14.1562 2.25L17.4375 3.04688C17.4844 3.65625 17.7422 4.17969 18.2109 4.61719C18.6797 5.05469 19.2266 5.27344 19.8516 5.27344C20.4922 5.27344 21.0547 5.03125 21.5391 4.54688C22.0234 4.0625 22.2656 3.5 22.2656 2.85938C22.2656 2.21875 22.0234 1.65625 21.5391 1.17188C21.0547 0.6875 20.4922 0.445312 19.8516 0.445312C19.6328 0.445312 19.4102 0.476562 19.1836 0.539063C18.957 0.601563 18.75 0.691406 18.5625 0.808594C18.375 0.925781 18.2031 1.0625 18.0469 1.21875C17.8906 1.375 17.7656 1.54688 17.6719 1.73438L13.7578 0.75H13.7109C13.5547 0.75 13.4062 0.808594 13.2656 0.925781C13.125 1.04297 13.0469 1.1875 13.0312 1.35938L11.4844 6.14063C8.9375 6.17188 6.65625 6.79688 4.64062 8.01563C4.0625 7.65625 3.47656 7.47656 2.88281 7.47656C2.10156 7.47656 1.42969 7.75391 0.867188 8.3086C0.304688 8.86328 0.0234375 9.53906 0.0234375 10.3359C0.0234375 10.8203 0.136719 11.2695 0.363281 11.6836C0.589844 12.0977 0.914062 12.4219 1.33594 12.6563V13.2422C1.33594 15.3203 2.39062 17.0391 4.5 18.3984C6.51562 19.7891 9 20.4844 11.9531 20.4844C13.3906 20.4844 14.7617 20.3047 16.0664 19.9453C17.3711 19.5859 18.5078 19.0703 19.4766 18.3984C19.8828 18.1172 20.2539 17.8203 20.5898 17.5078C20.9258 17.1953 21.2266 16.8672 21.4922 16.5234C21.7578 16.1797 21.9805 15.832 22.1602 15.4805C22.3398 15.1289 22.4766 14.7656 22.5703 14.3906C22.6641 14.0156 22.7109 13.6328 22.7109 13.2422V12.6328C22.8672 12.5078 23.0195 12.3555 23.168 12.1758C23.3164 11.9961 23.4492 11.7969 23.5664 11.5781C23.6836 11.3594 23.7773 11.1289 23.8477 10.8867C23.918 10.6445 23.9531 10.4063 23.9531 10.1719C23.9531 9.20313 23.5312 8.42969 22.6875 7.85156C22.1719 7.50781 21.6172 7.32813 21.0234 7.3125ZM22.5469 10.3359C22.5469 10.6484 22.4141 10.9531 22.1484 11.25C21.8672 10.4844 21.2812 9.71094 20.3906 8.92969C20.5938 8.83594 20.8047 8.78906 21.0234 8.78906C21.7266 8.78906 22.1953 9.10156 22.4297 9.72656C22.5078 9.91406 22.5469 10.1172 22.5469 10.3359ZM21.2344 13.2422C21.2344 14.7266 20.3906 16.0781 18.7031 17.2969C16.6719 18.5469 14.4219 19.1719 11.9531 19.1719C10.6875 19.1719 9.46875 19.0078 8.29688 18.6797C7.125 18.3516 6.09375 17.8906 5.20312 17.2969C3.42188 16.1094 2.53125 14.7578 2.53125 13.2422C2.53125 11.7266 3.42188 10.375 5.20312 9.1875C6.10938 8.59375 7.12891 8.13672 8.26172 7.81641C9.39453 7.49609 10.5781 7.33594 11.8125 7.33594C13.0625 7.33594 14.2773 7.49609 15.457 7.81641C16.6367 8.13672 17.6719 8.59375 18.5625 9.1875C20.3281 10.3906 21.2188 11.7422 21.2344 13.2422ZM3.51562 8.85938C2.75 9.48438 2.14062 10.2578 1.6875 11.1797C1.46875 10.8203 1.35938 10.5391 1.35938 10.3359C1.35938 10.0391 1.42188 9.77344 1.54688 9.53906C1.67188 9.30469 1.85156 9.12109 2.08594 8.98828C2.32031 8.85547 2.58594 8.78906 2.88281 8.78906C3.19531 8.78906 3.40625 8.8125 3.51562 8.85938ZM18.75 2.85938C18.75 2.71875 18.7773 2.57813 18.832 2.4375C18.8867 2.29688 18.9648 2.17969 19.0664 2.08594C19.168 1.99219 19.2852 1.91797 19.418 1.86328C19.5508 1.80859 19.6953 1.78125 19.8516 1.78125C20.0547 1.78125 20.2383 1.82813 20.4023 1.92188C20.5664 2.01563 20.6953 2.14453 20.7891 2.30859C20.8828 2.47266 20.9297 2.65625 20.9297 2.85938C20.9297 3.01563 20.9023 3.16016 20.8477 3.29297C20.793 3.42578 20.7188 3.54297 20.625 3.64453C20.5312 3.74609 20.4141 3.82422 20.2734 3.87891C20.1328 3.93359 19.9922 3.96094 19.8516 3.96094C19.5391 3.96094 19.2773 3.85547 19.0664 3.64453C18.8555 3.43359 18.75 3.17188 18.75 2.85938Z",fill:"black"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"ShareTextIcon",svgParams:{height:21,width:23}}),Object(e.h)("path",{d:"M19.5842 0.409691H3.41592C2.5085 0.409691 1.6397 0.77086 0.999081 1.41235C0.358485 2.05385 -0.000890294 2.92352 6.70593e-06 3.83011V12.8279C-0.00179017 13.7345 0.357588 14.6051 0.998161 15.2475C1.63876 15.889 2.50843 16.2502 3.41592 16.2502H4.60005V19.2402C4.60005 20.1261 4.93157 20.604 5.4347 20.604C5.73837 20.604 6.10133 20.4315 6.49486 20.0686L10.6213 16.2501H19.5913C20.4969 16.2483 21.3648 15.8863 22.0045 15.2448C22.6432 14.6033 23.0017 13.7336 22.9999 12.8279V3.83009C23.0008 2.92357 22.6414 2.05387 22.0008 1.41233C21.3602 0.770837 20.4915 0.409668 19.584 0.409668L19.5842 0.409691ZM21.6201 12.8297C21.621 13.3706 21.4063 13.889 21.0244 14.2717C20.6435 14.6544 20.1251 14.8691 19.5843 14.87H10.0807L9.68533 15.2384L5.98026 18.6516V14.8702H3.41622C2.87535 14.8693 2.35695 14.6537 1.97513 14.2709C1.59329 13.8882 1.37948 13.3689 1.38037 12.828V3.8302C1.38127 2.70626 2.29228 1.79613 3.41624 1.79434H19.5846C20.7085 1.79613 21.6195 2.70624 21.6204 3.8302L21.6201 12.8297Z"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"SortIcon",svgParams:{height:16,width:16}}),Object(e.h)("rect",{x:"2",y:"3",width:"12",height:"1.5",rx:"1",fill:"#1C110B"}),Object(e.h)("rect",{x:"2",y:"7",width:"8",height:"1.5",rx:"1",fill:"#1C110B"}),Object(e.h)("rect",{x:"2",y:"11",width:"6",height:"1.5",rx:"1",fill:"#1C110B"}));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"TimeIcon",svgParams:{height:96,width:96}}),Object(e.h)("g",{transform:"translate(0,-952.36218)"},Object(e.h)("path",{style:{textIndent:0,textTransform:"none",direction:"ltr",color:"#000000",baselineShift:"baseline",blockProgression:"tb",enableBackground:"accumulate"},d:"m 50,960.36218 c -23.1603,0 -42,18.83966 -42,42.00002 0,23.1603 18.8397,42 42,42 23.1604,0 42,-18.8397 42,-42 0,-23.16036 -18.8397,-42.00002 -42,-42.00002 z m 0,6 c 19.9177,0 36,16.08234 36,36.00002 0,19.9176 -16.0823,36 -36,36 -19.9177,0 -36,-16.0824 -36,-36 0,-19.91768 16.0823,-36.00002 36,-36.00002 z m 0,5 c -1.6568,0 -3,1.3432 -3,3 l 0,28.00002 c 0,1.1095 0.6046,2.0747 1.5,2.5937 l 22.5312,13 c 1.4348,0.8285 3.2653,0.3412 4.0938,-1.0937 0.8284,-1.4348 0.3412,-3.2654 -1.0938,-4.0938 L 53,1000.6434 53,974.36218 c 0,-1.6568 -1.3431,-3 -3,-3 z",fill:"#000000","fill-opacity":"1",stroke:"none",marker:"none",visibility:"visible",display:"inline",overflow:"visible"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"WriterStatsEmailIcon",svgParams:{height:16,width:16,viewBox:"0 0 16 16",fill:"none"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M1 3C1 2.44772 1.44772 2 2 2L14 2C14.5523 2 15 2.44772 15 3V13C15 13.5523 14.5523 14 14 14H2C1.44772 14 1 13.5523 1 13V3Z",stroke:"#262626"}),Object(e.h)("path",{d:"M1 5L8 9L15 5",stroke:"#262626","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";t.r(i);var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"WriterStatsSubscriberIcon",svgParams:{height:16,width:16,viewBox:"0 0 16 16",fill:"none"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M11.2667 4.26666C11.2667 6.07079 9.8042 7.53332 8.00007 7.53332C6.19593 7.53332 4.7334 6.07079 4.7334 4.26666C4.7334 2.46253 6.19593 1 8.00007 1C9.8042 1 11.2667 2.46253 11.2667 4.26666Z",stroke:"#262626"}),Object(e.h)("path",{d:"M15 15C15 11.7333 12.6667 8 8 8C3.33333 8 1 11.7333 1 15H15Z",stroke:"#262626","stroke-linecap":"round","stroke-linejoin":"round"})));i.default=m},function(S,i,t){"use strict";t.r(i),t.d(i,"PlusIconCircle",function(){return m});var e=t(0),o=t(9),l=Object.defineProperty,s=Object.defineProperties,h=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(a,n,r)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,O=(a,n)=>{for(var r in n||(n={}))d.call(n,r)&&f(a,r,n[r]);if(c)for(var r of c(n))p.call(n,r)&&f(a,r,n[r]);return a},b=(a,n)=>s(a,h(n));const m=a=>Object(e.h)(o.a,b(O({},a),{name:"reader2__PlusIcon",strokeWidth:0,svgParams:{width:30,height:30,strokeWidth:0}}),Object(e.h)("path",{d:"M0 15C0 6.71569 6.71569 0 15 0C23.2843 0 30 6.71569 30 15C30 23.2843 23.2843 30 15 30C6.71569 30 0 23.2843 0 15Z",fill:"#FF6719"}),Object(e.h)("path",{d:"M15.0012 23.7501C19.8338 23.7501 23.7512 19.8325 23.7512 15.0001C23.7512 10.1676 19.8338 6.25008 15.0012 6.25008C10.1687 6.25008 6.25122 10.1676 6.25122 15.0001C6.25122 19.8325 10.1687 23.7501 15.0012 23.7501Z",fill:"white",stroke:"#FF6719","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M15 11.5V18.5001",stroke:"#FF6719","stroke-width":"1.18","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.5009 15H18.5008",stroke:"#FF6719","stroke-width":"1.18","stroke-linecap":"round","stroke-linejoin":"round"}));i.default=m},function(S,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=[{name:"Afghanistan",alpha2:"AF",alpha3:"AFG",numeric:"004"},{name:"\xC5land Islands",alpha2:"AX",alpha3:"ALA",numeric:"248",altName:"Aland Islands"},{name:"Albania",alpha2:"AL",alpha3:"ALB",numeric:"008"},{name:"Algeria",alpha2:"DZ",alpha3:"DZA",numeric:"012"},{name:"American Samoa",alpha2:"AS",alpha3:"ASM",numeric:"016"},{name:"Andorra",alpha2:"AD",alpha3:"AND",numeric:"020"},{name:"Angola",alpha2:"AO",alpha3:"AGO",numeric:"024"},{name:"Anguilla",alpha2:"AI",alpha3:"AIA",numeric:"660"},{name:"Antarctica",alpha2:"AQ",alpha3:"ATA",numeric:"010"},{name:"Antigua and Barbuda",alpha2:"AG",alpha3:"ATG",numeric:"028"},{name:"Argentina",alpha2:"AR",alpha3:"ARG",numeric:"032"},{name:"Armenia",alpha2:"AM",alpha3:"ARM",numeric:"051"},{name:"Aruba",alpha2:"AW",alpha3:"ABW",numeric:"533"},{name:"Australia",alpha2:"AU",alpha3:"AUS",numeric:"036"},{name:"Austria",alpha2:"AT",alpha3:"AUT",numeric:"040"},{name:"Azerbaijan",alpha2:"AZ",alpha3:"AZE",numeric:"031"},{name:"Bahamas (the)",alpha2:"BS",alpha3:"BHS",numeric:"044",altName:"Bahamas"},{name:"Bahrain",alpha2:"BH",alpha3:"BHR",numeric:"048"},{name:"Bangladesh",alpha2:"BD",alpha3:"BGD",numeric:"050"},{name:"Barbados",alpha2:"BB",alpha3:"BRB",numeric:"052"},{name:"Belarus",alpha2:"BY",alpha3:"BLR",numeric:"112"},{name:"Belgium",alpha2:"BE",alpha3:"BEL",numeric:"056"},{name:"Belize",alpha2:"BZ",alpha3:"BLZ",numeric:"084"},{name:"Benin",alpha2:"BJ",alpha3:"BEN",numeric:"204"},{name:"Bermuda",alpha2:"BM",alpha3:"BMU",numeric:"060"},{name:"Bhutan",alpha2:"BT",alpha3:"BTN",numeric:"064"},{name:"Bolivia (Plurinational State of)",alpha2:"BO",alpha3:"BOL",numeric:"068",altName:"Bolivia"},{name:"Bonaire, Sint Eustatius and Saba",alpha2:"BQ",alpha3:"BES",numeric:"535"},{name:"Bosnia and Herzegovina",alpha2:"BA",alpha3:"BIH",numeric:"070"},{name:"Botswana",alpha2:"BW",alpha3:"BWA",numeric:"072"},{name:"Bouvet Island",alpha2:"BV",alpha3:"BVT",numeric:"074"},{name:"Brazil",alpha2:"BR",alpha3:"BRA",numeric:"076"},{name:"British Indian Ocean Territory (the)",alpha2:"IO",alpha3:"IOT",numeric:"086",altName:"British Indian Ocean Territory"},{name:"Brunei Darussalam",alpha2:"BN",alpha3:"BRN",numeric:"096",shortName:"Brunei"},{name:"Bulgaria",alpha2:"BG",alpha3:"BGR",numeric:"100"},{name:"Burkina Faso",alpha2:"BF",alpha3:"BFA",numeric:"854"},{name:"Burundi",alpha2:"BI",alpha3:"BDI",numeric:"108"},{name:"Cabo Verde",alpha2:"CV",alpha3:"CPV",numeric:"132",altName:"Cape Verde"},{name:"Cambodia",alpha2:"KH",alpha3:"KHM",numeric:"116"},{name:"Cameroon",alpha2:"CM",alpha3:"CMR",numeric:"120"},{name:"Canada",alpha2:"CA",alpha3:"CAN",numeric:"124"},{name:"Cayman Islands (the)",alpha2:"KY",alpha3:"CYM",numeric:"136",altName:"Cayman Islands"},{name:"Central African Republic (the)",alpha2:"CF",alpha3:"CAF",numeric:"140",altName:"Central African Republic"},{name:"Chad",alpha2:"TD",alpha3:"TCD",numeric:"148"},{name:"Chile",alpha2:"CL",alpha3:"CHL",numeric:"152"},{name:"China",alpha2:"CN",alpha3:"CHN",numeric:"156"},{name:"Christmas Island",alpha2:"CX",alpha3:"CXR",numeric:"162"},{name:"Cocos (Keeling) Islands (the)",alpha2:"CC",alpha3:"CCK",numeric:"166",altName:"Cocos (Keeling) Islands",shortName:"Cocos Islands"},{name:"Colombia",alpha2:"CO",alpha3:"COL",numeric:"170"},{name:"Comoros (the)",alpha2:"KM",alpha3:"COM",numeric:"174",altName:"Comoros"},{name:"Congo (the Democratic Republic of the)",alpha2:"CD",alpha3:"COD",numeric:"180",altName:"Congo, (Kinshasa)",shortName:"Democratic Republic of the Congo"},{name:"Congo (the)",alpha2:"CG",alpha3:"COG",numeric:"178",altName:"Congo (Brazzaville)",shortName:"Republic of the Congo"},{name:"Cook Islands (the)",alpha2:"CK",alpha3:"COK",numeric:"184",altName:"Cook Islands"},{name:"Costa Rica",alpha2:"CR",alpha3:"CRI",numeric:"188"},{name:"C\xF4te d'Ivoire",alpha2:"CI",alpha3:"CIV",numeric:"384",shortName:"Ivory Coast"},{name:"Croatia",alpha2:"HR",alpha3:"HRV",numeric:"191"},{name:"Cuba",alpha2:"CU",alpha3:"CUB",numeric:"192"},{name:"Cura\xE7ao",alpha2:"CW",alpha3:"CUW",numeric:"531",shortName:"Curacao"},{name:"Cyprus",alpha2:"CY",alpha3:"CYP",numeric:"196"},{name:"Czechia",alpha2:"CZ",alpha3:"CZE",numeric:"203",altName:"Czech Republic"},{name:"Denmark",alpha2:"DK",alpha3:"DNK",numeric:"208"},{name:"Djibouti",alpha2:"DJ",alpha3:"DJI",numeric:"262"},{name:"Dominica",alpha2:"DM",alpha3:"DMA",numeric:"212"},{name:"Dominican Republic (the)",alpha2:"DO",alpha3:"DOM",numeric:"214",altName:"Dominican Republic"},{name:"Ecuador",alpha2:"EC",alpha3:"ECU",numeric:"218"},{name:"Egypt",alpha2:"EG",alpha3:"EGY",numeric:"818"},{name:"El Salvador",alpha2:"SV",alpha3:"SLV",numeric:"222"},{name:"Equatorial Guinea",alpha2:"GQ",alpha3:"GNQ",numeric:"226"},{name:"Eritrea",alpha2:"ER",alpha3:"ERI",numeric:"232"},{name:"Estonia",alpha2:"EE",alpha3:"EST",numeric:"233"},{name:"Ethiopia",alpha2:"ET",alpha3:"ETH",numeric:"231"},{name:"Falkland Islands (the) [Malvinas]",alpha2:"FK",alpha3:"FLK",numeric:"238",altName:"Falkland Islands (Malvinas)",shortName:"Falkland Islands"},{name:"Faroe Islands (the)",alpha2:"FO",alpha3:"FRO",numeric:"234",altName:"Faroe Islands"},{name:"Fiji",alpha2:"FJ",alpha3:"FJI",numeric:"242"},{name:"Finland",alpha2:"FI",alpha3:"FIN",numeric:"246"},{name:"France",alpha2:"FR",alpha3:"FRA",numeric:"250"},{name:"French Guiana",alpha2:"GF",alpha3:"GUF",numeric:"254"},{name:"French Polynesia",alpha2:"PF",alpha3:"PYF",numeric:"258"},{name:"French Southern Territories (the)",alpha2:"TF",alpha3:"ATF",numeric:"260",altName:"French Southern Territories"},{name:"Gabon",alpha2:"GA",alpha3:"GAB",numeric:"266"},{name:"Gambia (the)",alpha2:"GM",alpha3:"GMB",numeric:"270",altName:"Gambia"},{name:"Georgia",alpha2:"GE",alpha3:"GEO",numeric:"268"},{name:"Germany",alpha2:"DE",alpha3:"DEU",numeric:"276"},{name:"Ghana",alpha2:"GH",alpha3:"GHA",numeric:"288"},{name:"Gibraltar",alpha2:"GI",alpha3:"GIB",numeric:"292"},{name:"Greece",alpha2:"GR",alpha3:"GRC",numeric:"300"},{name:"Greenland",alpha2:"GL",alpha3:"GRL",numeric:"304"},{name:"Grenada",alpha2:"GD",alpha3:"GRD",numeric:"308"},{name:"Guadeloupe",alpha2:"GP",alpha3:"GLP",numeric:"312"},{name:"Guam",alpha2:"GU",alpha3:"GUM",numeric:"316"},{name:"Guatemala",alpha2:"GT",alpha3:"GTM",numeric:"320"},{name:"Guernsey",alpha2:"GG",alpha3:"GGY",numeric:"831"},{name:"Guinea",alpha2:"GN",alpha3:"GIN",numeric:"324"},{name:"Guinea-Bissau",alpha2:"GW",alpha3:"GNB",numeric:"624"},{name:"Guyana",alpha2:"GY",alpha3:"GUY",numeric:"328"},{name:"Haiti",alpha2:"HT",alpha3:"HTI",numeric:"332"},{name:"Heard Island and McDonald Islands",alpha2:"HM",alpha3:"HMD",numeric:"334",altName:"Heard and Mcdonald Islands"},{name:"Holy See (the)",alpha2:"VA",alpha3:"VAT",numeric:"336",altName:"Holy See (Vatican City State)",shortName:"Vatican"},{name:"Honduras",alpha2:"HN",alpha3:"HND",numeric:"340"},{name:"Hong Kong",alpha2:"HK",alpha3:"HKG",numeric:"344",altName:"Hong Kong, SAR China"},{name:"Hungary",alpha2:"HU",alpha3:"HUN",numeric:"348"},{name:"Iceland",alpha2:"IS",alpha3:"ISL",numeric:"352"},{name:"India",alpha2:"IN",alpha3:"IND",numeric:"356"},{name:"Indonesia",alpha2:"ID",alpha3:"IDN",numeric:"360"},{name:"Iran (Islamic Republic of)",alpha2:"IR",alpha3:"IRN",numeric:"364",altName:"Iran, Islamic Republic of",shortName:"Iran"},{name:"Iraq",alpha2:"IQ",alpha3:"IRQ",numeric:"368"},{name:"Ireland",alpha2:"IE",alpha3:"IRL",numeric:"372"},{name:"Isle of Man",alpha2:"IM",alpha3:"IMN",numeric:"833"},{name:"Israel",alpha2:"IL",alpha3:"ISR",numeric:"376"},{name:"Italy",alpha2:"IT",alpha3:"ITA",numeric:"380"},{name:"Jamaica",alpha2:"JM",alpha3:"JAM",numeric:"388"},{name:"Japan",alpha2:"JP",alpha3:"JPN",numeric:"392"},{name:"Jersey",alpha2:"JE",alpha3:"JEY",numeric:"832"},{name:"Jordan",alpha2:"JO",alpha3:"JOR",numeric:"400"},{name:"Kazakhstan",alpha2:"KZ",alpha3:"KAZ",numeric:"398"},{name:"Kenya",alpha2:"KE",alpha3:"KEN",numeric:"404"},{name:"Kiribati",alpha2:"KI",alpha3:"KIR",numeric:"296"},{name:"Korea (the Democratic People's Republic of)",alpha2:"KP",alpha3:"PRK",numeric:"408",altName:"Korea (North)",shortName:"North Korea"},{name:"Korea (the Republic of)",alpha2:"KR",alpha3:"KOR",numeric:"410",altName:"Korea (South)",shortName:"South Korea"},{name:"Kuwait",alpha2:"KW",alpha3:"KWT",numeric:"414"},{name:"Kyrgyzstan",alpha2:"KG",alpha3:"KGZ",numeric:"417"},{name:"Lao People's Democratic Republic (the)",alpha2:"LA",alpha3:"LAO",numeric:"418",altName:"Lao PDR",shortName:"Laos"},{name:"Latvia",alpha2:"LV",alpha3:"LVA",numeric:"428"},{name:"Lebanon",alpha2:"LB",alpha3:"LBN",numeric:"422"},{name:"Lesotho",alpha2:"LS",alpha3:"LSO",numeric:"426"},{name:"Liberia",alpha2:"LR",alpha3:"LBR",numeric:"430"},{name:"Libya",alpha2:"LY",alpha3:"LBY",numeric:"434"},{name:"Liechtenstein",alpha2:"LI",alpha3:"LIE",numeric:"438"},{name:"Lithuania",alpha2:"LT",alpha3:"LTU",numeric:"440"},{name:"Luxembourg",alpha2:"LU",alpha3:"LUX",numeric:"442"},{name:"Macao",alpha2:"MO",alpha3:"MAC",numeric:"446",altName:"Macao, SAR China",shortName:"Macau"},{name:"Macedonia (the former Yugoslav Republic of)",alpha2:"MK",alpha3:"MKD",numeric:"807",altName:"Macedonia, Republic of",shortName:"Macedonia"},{name:"Madagascar",alpha2:"MG",alpha3:"MDG",numeric:"450"},{name:"Malawi",alpha2:"MW",alpha3:"MWI",numeric:"454"},{name:"Malaysia",alpha2:"MY",alpha3:"MYS",numeric:"458"},{name:"Maldives",alpha2:"MV",alpha3:"MDV",numeric:"462"},{name:"Mali",alpha2:"ML",alpha3:"MLI",numeric:"466"},{name:"Malta",alpha2:"MT",alpha3:"MLT",numeric:"470"},{name:"Marshall Islands (the)",alpha2:"MH",alpha3:"MHL",numeric:"584",altName:"Marshall Islands"},{name:"Martinique",alpha2:"MQ",alpha3:"MTQ",numeric:"474"},{name:"Mauritania",alpha2:"MR",alpha3:"MRT",numeric:"478"},{name:"Mauritius",alpha2:"MU",alpha3:"MUS",numeric:"480"},{name:"Mayotte",alpha2:"YT",alpha3:"MYT",numeric:"175"},{name:"Mexico",alpha2:"MX",alpha3:"MEX",numeric:"484"},{name:"Micronesia (Federated States of)",alpha2:"FM",alpha3:"FSM",numeric:"583",altName:"Micronesia, Federated States of",shortName:"Micronesia"},{name:"Moldova (the Republic of)",alpha2:"MD",alpha3:"MDA",numeric:"498",altName:"Moldova"},{name:"Monaco",alpha2:"MC",alpha3:"MCO",numeric:"492"},{name:"Mongolia",alpha2:"MN",alpha3:"MNG",numeric:"496"},{name:"Montenegro",alpha2:"ME",alpha3:"MNE",numeric:"499"},{name:"Montserrat",alpha2:"MS",alpha3:"MSR",numeric:"500"},{name:"Morocco",alpha2:"MA",alpha3:"MAR",numeric:"504"},{name:"Mozambique",alpha2:"MZ",alpha3:"MOZ",numeric:"508"},{name:"Myanmar",alpha2:"MM",alpha3:"MMR",numeric:"104"},{name:"Namibia",alpha2:"NA",alpha3:"NAM",numeric:"516"},{name:"Nauru",alpha2:"NR",alpha3:"NRU",numeric:"520"},{name:"Nepal",alpha2:"NP",alpha3:"NPL",numeric:"524"},{name:"Netherlands (the)",alpha2:"NL",alpha3:"NLD",numeric:"528",altName:"Netherlands"},{name:"New Caledonia",alpha2:"NC",alpha3:"NCL",numeric:"540"},{name:"New Zealand",alpha2:"NZ",alpha3:"NZL",numeric:"554"},{name:"Nicaragua",alpha2:"NI",alpha3:"NIC",numeric:"558"},{name:"Niger (the)",alpha2:"NE",alpha3:"NER",numeric:"562",altName:"Niger"},{name:"Nigeria",alpha2:"NG",alpha3:"NGA",numeric:"566"},{name:"Niue",alpha2:"NU",alpha3:"NIU",numeric:"570"},{name:"Norfolk Island",alpha2:"NF",alpha3:"NFK",numeric:"574"},{name:"Northern Mariana Islands (the)",alpha2:"MP",alpha3:"MNP",numeric:"580",altName:"Northern Mariana Islands"},{name:"Norway",alpha2:"NO",alpha3:"NOR",numeric:"578"},{name:"Oman",alpha2:"OM",alpha3:"OMN",numeric:"512"},{name:"Pakistan",alpha2:"PK",alpha3:"PAK",numeric:"586"},{name:"Palau",alpha2:"PW",alpha3:"PLW",numeric:"585"},{name:"Palestine, State of",alpha2:"PS",alpha3:"PSE",numeric:"275",altName:"Palestinian Territory",shortName:"Palestine"},{name:"Panama",alpha2:"PA",alpha3:"PAN",numeric:"591"},{name:"Papua New Guinea",alpha2:"PG",alpha3:"PNG",numeric:"598"},{name:"Paraguay",alpha2:"PY",alpha3:"PRY",numeric:"600"},{name:"Peru",alpha2:"PE",alpha3:"PER",numeric:"604"},{name:"Philippines (the)",alpha2:"PH",alpha3:"PHL",numeric:"608",altName:"Philippines"},{name:"Pitcairn",alpha2:"PN",alpha3:"PCN",numeric:"612"},{name:"Poland",alpha2:"PL",alpha3:"POL",numeric:"616"},{name:"Portugal",alpha2:"PT",alpha3:"PRT",numeric:"620"},{name:"Puerto Rico",alpha2:"PR",alpha3:"PRI",numeric:"630"},{name:"Qatar",alpha2:"QA",alpha3:"QAT",numeric:"634"},{name:"R\xE9union",alpha2:"RE",alpha3:"REU",numeric:"638",shortName:"Reunion"},{name:"Romania",alpha2:"RO",alpha3:"ROU",numeric:"642"},{name:"Russian Federation (the)",alpha2:"RU",alpha3:"RUS",numeric:"643",altName:"Russian Federation",shortName:"Russia"},{name:"Rwanda",alpha2:"RW",alpha3:"RWA",numeric:"646"},{name:"Saint Barth\xE9lemy",alpha2:"BL",alpha3:"BLM",numeric:"652",altName:"Saint-Barth\xE9lemy",shortName:"Saint Barthelemy"},{name:"Saint Helena, Ascension and Tristan da Cunha",alpha2:"SH",alpha3:"SHN",numeric:"654",altName:"Saint Helena"},{name:"Saint Kitts and Nevis",alpha2:"KN",alpha3:"KNA",numeric:"659"},{name:"Saint Lucia",alpha2:"LC",alpha3:"LCA",numeric:"662"},{name:"Saint Martin (French part)",alpha2:"MF",alpha3:"MAF",numeric:"663",altName:"Saint-Martin (French part)",shortName:"Saint Martin"},{name:"Saint Pierre and Miquelon",alpha2:"PM",alpha3:"SPM",numeric:"666"},{name:"Saint Vincent and the Grenadines",alpha2:"VC",alpha3:"VCT",numeric:"670",altName:"Saint Vincent and Grenadines"},{name:"Samoa",alpha2:"WS",alpha3:"WSM",numeric:"882"},{name:"San Marino",alpha2:"SM",alpha3:"SMR",numeric:"674"},{name:"Sao Tome and Principe",alpha2:"ST",alpha3:"STP",numeric:"678"},{name:"Saudi Arabia",alpha2:"SA",alpha3:"SAU",numeric:"682"},{name:"Senegal",alpha2:"SN",alpha3:"SEN",numeric:"686"},{name:"Serbia",alpha2:"RS",alpha3:"SRB",numeric:"688"},{name:"Seychelles",alpha2:"SC",alpha3:"SYC",numeric:"690"},{name:"Sierra Leone",alpha2:"SL",alpha3:"SLE",numeric:"694"},{name:"Singapore",alpha2:"SG",alpha3:"SGP",numeric:"702"},{name:"Sint Maarten (Dutch part)",alpha2:"SX",alpha3:"SXM",numeric:"534",shortName:"Sint Maarten"},{name:"Slovakia",alpha2:"SK",alpha3:"SVK",numeric:"703"},{name:"Slovenia",alpha2:"SI",alpha3:"SVN",numeric:"705"},{name:"Solomon Islands",alpha2:"SB",alpha3:"SLB",numeric:"090"},{name:"Somalia",alpha2:"SO",alpha3:"SOM",numeric:"706"},{name:"South Africa",alpha2:"ZA",alpha3:"ZAF",numeric:"710"},{name:"South Georgia and the South Sandwich Islands",alpha2:"GS",alpha3:"SGS",numeric:"239"},{name:"South Sudan",alpha2:"SS",alpha3:"SSD",numeric:"728"},{name:"Spain",alpha2:"ES",alpha3:"ESP",numeric:"724"},{name:"Sri Lanka",alpha2:"LK",alpha3:"LKA",numeric:"144"},{name:"Sudan (the)",alpha2:"SD",alpha3:"SDN",numeric:"729",altName:"Sudan"},{name:"Suriname",alpha2:"SR",alpha3:"SUR",numeric:"740"},{name:"Svalbard and Jan Mayen",alpha2:"SJ",alpha3:"SJM",numeric:"744",altName:"Svalbard and Jan Mayen Islands"},{name:"Swaziland",alpha2:"SZ",alpha3:"SWZ",numeric:"748"},{name:"Sweden",alpha2:"SE",alpha3:"SWE",numeric:"752"},{name:"Switzerland",alpha2:"CH",alpha3:"CHE",numeric:"756"},{name:"Syrian Arab Republic",alpha2:"SY",alpha3:"SYR",numeric:"760",altName:"Syrian Arab Republic (Syria)",shortName:"Syria"},{name:"Taiwan (Province of China)",alpha2:"TW",alpha3:"TWN",numeric:"158",altName:"Taiwan, Republic of China",shortName:"Taiwan"},{name:"Tajikistan",alpha2:"TJ",alpha3:"TJK",numeric:"762"},{name:"Tanzania, United Republic of",alpha2:"TZ",alpha3:"TZA",numeric:"834",shortName:"Tanzania"},{name:"Thailand",alpha2:"TH",alpha3:"THA",numeric:"764"},{name:"Timor-Leste",alpha2:"TL",alpha3:"TLS",numeric:"626",shortName:"East Timor"},{name:"Togo",alpha2:"TG",alpha3:"TGO",numeric:"768"},{name:"Tokelau",alpha2:"TK",alpha3:"TKL",numeric:"772"},{name:"Tonga",alpha2:"TO",alpha3:"TON",numeric:"776"},{name:"Trinidad and Tobago",alpha2:"TT",alpha3:"TTO",numeric:"780"},{name:"Tunisia",alpha2:"TN",alpha3:"TUN",numeric:"788"},{name:"Turkey",alpha2:"TR",alpha3:"TUR",numeric:"792"},{name:"Turkmenistan",alpha2:"TM",alpha3:"TKM",numeric:"795"},{name:"Turks and Caicos Islands (the)",alpha2:"TC",alpha3:"TCA",numeric:"796",altName:"Turks and Caicos Islands"},{name:"Tuvalu",alpha2:"TV",alpha3:"TUV",numeric:"798"},{name:"Uganda",alpha2:"UG",alpha3:"UGA",numeric:"800"},{name:"Ukraine",alpha2:"UA",alpha3:"UKR",numeric:"804"},{name:"United Arab Emirates (the)",alpha2:"AE",alpha3:"ARE",numeric:"784",altName:"United Arab Emirates"},{name:"United Kingdom of Great Britain and Northern Ireland (the)",alpha2:"GB",alpha3:"GBR",numeric:"826",altName:"United Kingdom"},{name:"United States Minor Outlying Islands (the)",alpha2:"UM",alpha3:"UMI",numeric:"581",altName:"US Minor Outlying Islands"},{name:"United States of America (the)",alpha2:"US",alpha3:"USA",numeric:"840",altName:"United States of America",shortName:"United States"},{name:"Uruguay",alpha2:"UY",alpha3:"URY",numeric:"858"},{name:"Uzbekistan",alpha2:"UZ",alpha3:"UZB",numeric:"860"},{name:"Vanuatu",alpha2:"VU",alpha3:"VUT",numeric:"548"},{name:"Venezuela (Bolivarian Republic of)",alpha2:"VE",alpha3:"VEN",numeric:"862",altName:"Venezuela (Bolivarian Republic)",shortName:"Venezuela"},{name:"Viet Nam",alpha2:"VN",alpha3:"VNM",numeric:"704",shortName:"Vietnam"},{name:"Virgin Islands (British)",alpha2:"VG",alpha3:"VGB",numeric:"092",altName:"British Virgin Islands"},{name:"Virgin Islands (U.S.)",alpha2:"VI",alpha3:"VIR",numeric:"850",altName:"Virgin Islands, US",shortName:"U.S. Virgin Islands"},{name:"Wallis and Futuna",alpha2:"WF",alpha3:"WLF",numeric:"876",altName:"Wallis and Futuna Islands"},{name:"Western Sahara*",alpha2:"EH",alpha3:"ESH",numeric:"732",altName:"Western Sahara"},{name:"Yemen",alpha2:"YE",alpha3:"YEM",numeric:"887"},{name:"Zambia",alpha2:"ZM",alpha3:"ZMB",numeric:"894"},{name:"Zimbabwe",alpha2:"ZW",alpha3:"ZWE",numeric:"716"}]},function(S,i,t){var e=t(793),o=t(367);function l(s,h){return e(s,h,function(c,d){return o(s,d)})}S.exports=l},function(S,i){S.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},function(S,i,t){const e=t(609),o=t(795),l=t(1118),s=t(1119),h=t(1120),c=t(1121),d=t(1122),p=t(884),f=t(1123),O=t(1126),b=t(1127),m=t(610),a=t(1128);function n(W,k){const $=W.size,H=c.getPositions(k);for(let g=0;g<H.length;g++){const M=H[g][0],R=H[g][1];for(let D=-1;D<=7;D++)if(!(M+D<=-1||$<=M+D))for(let U=-1;U<=7;U++)R+U<=-1||$<=R+U||(D>=0&&D<=6&&(U===0||U===6)||U>=0&&U<=6&&(D===0||D===6)||D>=2&&D<=4&&U>=2&&U<=4?W.set(M+D,R+U,!0,!0):W.set(M+D,R+U,!1,!0))}}function r(W){const k=W.size;for(let $=8;$<k-8;$++){const H=$%2==0;W.set($,6,H,!0),W.set(6,$,H,!0)}}function u(W,k){const $=h.getPositions(k);for(let H=0;H<$.length;H++){const g=$[H][0],M=$[H][1];for(let R=-2;R<=2;R++)for(let D=-2;D<=2;D++)R===-2||R===2||D===-2||D===2||R===0&&D===0?W.set(g+R,M+D,!0,!0):W.set(g+R,M+D,!1,!0)}}function v(W,k){const $=W.size,H=O.getEncodedBits(k);let g,M,R;for(let D=0;D<18;D++)g=Math.floor(D/3),M=D%3+$-8-3,R=(H>>D&1)==1,W.set(g,M,R,!0),W.set(M,g,R,!0)}function E(W,k,$){const H=W.size,g=b.getEncodedBits(k,$);let M,R;for(M=0;M<15;M++)R=(g>>M&1)==1,M<6?W.set(M,8,R,!0):M<8?W.set(M+1,8,R,!0):W.set(H-15+M,8,R,!0),M<8?W.set(8,H-M-1,R,!0):M<9?W.set(8,15-M-1+1,R,!0):W.set(8,15-M-1,R,!0);W.set(H-8,8,1,!0)}function w(W,k){const $=W.size;let H=-1,g=$-1,M=7,R=0;for(let D=$-1;D>0;D-=2)for(D===6&&D--;;){for(let U=0;U<2;U++)if(!W.isReserved(g,D-U)){let L=!1;R<k.length&&(L=(k[R]>>>M&1)==1),W.set(g,D-U,L),M--,M===-1&&(R++,M=7)}if(g+=H,g<0||$<=g){g-=H,H=-H;break}}}function C(W,k,$){const H=new l;$.forEach(function(U){H.put(U.mode.bit,4),H.put(U.getLength(),m.getCharCountIndicator(U.mode,W)),U.write(H)});const g=e.getSymbolTotalCodewords(W),M=p.getTotalCodewordsCount(W,k),R=(g-M)*8;for(H.getLengthInBits()+4<=R&&H.put(0,4);H.getLengthInBits()%8!=0;)H.putBit(0);const D=(R-H.getLengthInBits())/8;for(let U=0;U<D;U++)H.put(U%2?17:236,8);return _(H,W,k)}function _(W,k,$){const H=e.getSymbolTotalCodewords(k),g=p.getTotalCodewordsCount(k,$),M=H-g,R=p.getBlocksCount(k,$),D=H%R,U=R-D,L=Math.floor(H/R),j=Math.floor(M/R),B=j+1,x=L-j,P=new f(x);let y=0;const A=new Array(R),K=new Array(R);let N=0;const Y=new Uint8Array(W.buffer);for(let se=0;se<R;se++){const ie=se<U?j:B;A[se]=Y.slice(y,y+ie),K[se]=P.encode(A[se]),y+=ie,N=Math.max(N,ie)}const F=new Uint8Array(H);let G=0,X,q;for(X=0;X<N;X++)for(q=0;q<R;q++)X<A[q].length&&(F[G++]=A[q][X]);for(X=0;X<x;X++)for(q=0;q<R;q++)F[G++]=K[q][X];return F}function T(W,k,$,H){let g;if(Array.isArray(W))g=a.fromArray(W);else if(typeof W=="string"){let L=k;if(!L){const j=a.rawSplit(W);L=O.getBestVersionForData(j,$)}g=a.fromString(W,L||40)}else throw new Error("Invalid data");const M=O.getBestVersionForData(g,$);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=M;else if(k<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const R=C(k,$,g),D=e.getSymbolSize(k),U=new s(D);return n(U,k),r(U),u(U,k),E(U,$,0),k>=7&&v(U,k),w(U,R),isNaN(H)&&(H=d.getBestMask(U,E.bind(null,U,$))),d.applyMask(H,U),E(U,$,H),{modules:U,version:k,errorCorrectionLevel:$,maskPattern:H,segments:g}}i.create=function(k,$){if(typeof k=="undefined"||k==="")throw new Error("No input text");let H=o.M,g,M;return typeof $!="undefined"&&(H=o.from($.errorCorrectionLevel,o.M),g=O.from($.version),M=d.from($.maskPattern),$.toSJISFunc&&e.setToSJISFunction($.toSJISFunc)),T(k,g,H,M)}},function(S,i){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)==1},put:function(e,o){for(let l=0;l<o;l++)this.putBit((e>>>o-l-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}},S.exports=t},function(S,i){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,o,l,s){const h=e*this.size+o;this.data[h]=l,s&&(this.reservedBit[h]=!0)},t.prototype.get=function(e,o){return this.data[e*this.size+o]},t.prototype.xor=function(e,o,l){this.data[e*this.size+o]^=l},t.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]},S.exports=t},function(S,i,t){const e=t(609).getSymbolSize;i.getRowColCoords=function(l){if(l===1)return[];const s=Math.floor(l/7)+2,h=e(l),c=h===145?26:Math.ceil((h-13)/(2*s-2))*2,d=[h-7];for(let p=1;p<s-1;p++)d[p]=d[p-1]-c;return d.push(6),d.reverse()},i.getPositions=function(l){const s=[],h=i.getRowColCoords(l),c=h.length;for(let d=0;d<c;d++)for(let p=0;p<c;p++)d===0&&p===0||d===0&&p===c-1||d===c-1&&p===0||s.push([h[d],h[p]]);return s}},function(S,i,t){const e=t(609).getSymbolSize,o=7;i.getPositions=function(s){const h=e(s);return[[0,0],[h-o,0],[0,h-o]]}},function(S,i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};i.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},i.from=function(l){return i.isValid(l)?parseInt(l,10):void 0},i.getPenaltyN1=function(l){const s=l.size;let h=0,c=0,d=0,p=null,f=null;for(let O=0;O<s;O++){c=d=0,p=f=null;for(let b=0;b<s;b++){let m=l.get(O,b);m===p?c++:(c>=5&&(h+=t.N1+(c-5)),p=m,c=1),m=l.get(b,O),m===f?d++:(d>=5&&(h+=t.N1+(d-5)),f=m,d=1)}c>=5&&(h+=t.N1+(c-5)),d>=5&&(h+=t.N1+(d-5))}return h},i.getPenaltyN2=function(l){const s=l.size;let h=0;for(let c=0;c<s-1;c++)for(let d=0;d<s-1;d++){const p=l.get(c,d)+l.get(c,d+1)+l.get(c+1,d)+l.get(c+1,d+1);(p===4||p===0)&&h++}return h*t.N2},i.getPenaltyN3=function(l){const s=l.size;let h=0,c=0,d=0;for(let p=0;p<s;p++){c=d=0;for(let f=0;f<s;f++)c=c<<1&2047|l.get(p,f),f>=10&&(c===1488||c===93)&&h++,d=d<<1&2047|l.get(f,p),f>=10&&(d===1488||d===93)&&h++}return h*t.N3},i.getPenaltyN4=function(l){let s=0;const h=l.data.length;for(let d=0;d<h;d++)s+=l.data[d];return Math.abs(Math.ceil(s*100/h/5)-10)*t.N4};function e(o,l,s){switch(o){case i.Patterns.PATTERN000:return(l+s)%2==0;case i.Patterns.PATTERN001:return l%2==0;case i.Patterns.PATTERN010:return s%3==0;case i.Patterns.PATTERN011:return(l+s)%3==0;case i.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(s/3))%2==0;case i.Patterns.PATTERN101:return l*s%2+l*s%3==0;case i.Patterns.PATTERN110:return(l*s%2+l*s%3)%2==0;case i.Patterns.PATTERN111:return(l*s%3+(l+s)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}i.applyMask=function(l,s){const h=s.size;for(let c=0;c<h;c++)for(let d=0;d<h;d++)s.isReserved(d,c)||s.xor(d,c,e(l,d,c))},i.getBestMask=function(l,s){const h=Object.keys(i.Patterns).length;let c=0,d=1/0;for(let p=0;p<h;p++){s(p),i.applyMask(p,l);const f=i.getPenaltyN1(l)+i.getPenaltyN2(l)+i.getPenaltyN3(l)+i.getPenaltyN4(l);i.applyMask(p,l),f<d&&(d=f,c=p)}return c}},function(S,i,t){const e=t(1124);function o(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(s){this.degree=s,this.genPoly=e.generateECPolynomial(this.degree)},o.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const h=new Uint8Array(s.length+this.degree);h.set(s);const c=e.mod(h,this.genPoly),d=this.degree-c.length;if(d>0){const p=new Uint8Array(this.degree);return p.set(c,d),p}return c},S.exports=o},function(S,i,t){const e=t(1125);i.mul=function(l,s){const h=new Uint8Array(l.length+s.length-1);for(let c=0;c<l.length;c++)for(let d=0;d<s.length;d++)h[c+d]^=e.mul(l[c],s[d]);return h},i.mod=function(l,s){let h=new Uint8Array(l);for(;h.length-s.length>=0;){const c=h[0];for(let p=0;p<s.length;p++)h[p]^=e.mul(s[p],c);let d=0;for(;d<h.length&&h[d]===0;)d++;h=h.slice(d)}return h},i.generateECPolynomial=function(l){let s=new Uint8Array([1]);for(let h=0;h<l;h++)s=i.mul(s,new Uint8Array([1,e.exp(h)]));return s}},function(S,i){const t=new Uint8Array(512),e=new Uint8Array(256);(function(){let l=1;for(let s=0;s<255;s++)t[s]=l,e[l]=s,l<<=1,l&256&&(l^=285);for(let s=255;s<512;s++)t[s]=t[s-255]})(),i.log=function(l){if(l<1)throw new Error("log("+l+")");return e[l]},i.exp=function(l){return t[l]},i.mul=function(l,s){return l===0||s===0?0:t[e[l]+e[s]]}},function(S,i,t){const e=t(609),o=t(884),l=t(795),s=t(610),h=t(885),c=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,d=e.getBCHDigit(c);function p(m,a,n){for(let r=1;r<=40;r++)if(a<=i.getCapacity(r,n,m))return r}function f(m,a){return s.getCharCountIndicator(m,a)+4}function O(m,a){let n=0;return m.forEach(function(r){n+=f(r.mode,a)+r.getBitsLength()}),n}function b(m,a){for(let n=1;n<=40;n++)if(O(m,n)<=i.getCapacity(n,a,s.MIXED))return n}i.from=function(a,n){return h.isValid(a)?parseInt(a,10):n},i.getCapacity=function(a,n,r){if(!h.isValid(a))throw new Error("Invalid QR Code version");typeof r=="undefined"&&(r=s.BYTE);const u=e.getSymbolTotalCodewords(a),v=o.getTotalCodewordsCount(a,n),E=(u-v)*8;if(r===s.MIXED)return E;const w=E-f(r,a);switch(r){case s.NUMERIC:return Math.floor(w/10*3);case s.ALPHANUMERIC:return Math.floor(w/11*2);case s.KANJI:return Math.floor(w/13);case s.BYTE:default:return Math.floor(w/8)}},i.getBestVersionForData=function(a,n){let r;const u=l.from(n,l.M);if(Array.isArray(a)){if(a.length>1)return b(a,u);if(a.length===0)return 1;r=a[0]}else r=a;return p(r.mode,r.getLength(),u)},i.getEncodedBits=function(a){if(!h.isValid(a)||a<7)throw new Error("Invalid QR Code version");let n=a<<12;for(;e.getBCHDigit(n)-d>=0;)n^=c<<e.getBCHDigit(n)-d;return a<<12|n}},function(S,i,t){const e=t(609),o=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,l=1<<14|1<<12|1<<10|1<<4|1<<1,s=e.getBCHDigit(o);i.getEncodedBits=function(c,d){const p=c.bit<<3|d;let f=p<<10;for(;e.getBCHDigit(f)-s>=0;)f^=o<<e.getBCHDigit(f)-s;return(p<<10|f)^l}},function(S,i,t){const e=t(610),o=t(1129),l=t(1130),s=t(1131),h=t(1133),c=t(886),d=t(609),p=t(1134);function f(v){return unescape(encodeURIComponent(v)).length}function O(v,E,w){const C=[];let _;for(;(_=v.exec(w))!==null;)C.push({data:_[0],index:_.index,mode:E,length:_[0].length});return C}function b(v){const E=O(c.NUMERIC,e.NUMERIC,v),w=O(c.ALPHANUMERIC,e.ALPHANUMERIC,v);let C,_;return d.isKanjiModeEnabled()?(C=O(c.BYTE,e.BYTE,v),_=O(c.KANJI,e.KANJI,v)):(C=O(c.BYTE_KANJI,e.BYTE,v),_=[]),E.concat(w,C,_).sort(function(W,k){return W.index-k.index}).map(function(W){return{data:W.data,mode:W.mode,length:W.length}})}function m(v,E){switch(E){case e.NUMERIC:return o.getBitsLength(v);case e.ALPHANUMERIC:return l.getBitsLength(v);case e.KANJI:return h.getBitsLength(v);case e.BYTE:return s.getBitsLength(v)}}function a(v){return v.reduce(function(E,w){const C=E.length-1>=0?E[E.length-1]:null;return C&&C.mode===w.mode?(E[E.length-1].data+=w.data,E):(E.push(w),E)},[])}function n(v){const E=[];for(let w=0;w<v.length;w++){const C=v[w];switch(C.mode){case e.NUMERIC:E.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:E.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:E.push([C,{data:C.data,mode:e.BYTE,length:f(C.data)}]);break;case e.BYTE:E.push([{data:C.data,mode:e.BYTE,length:f(C.data)}])}}return E}function r(v,E){const w={},C={start:{}};let _=["start"];for(let T=0;T<v.length;T++){const W=v[T],k=[];for(let $=0;$<W.length;$++){const H=W[$],g=""+T+$;k.push(g),w[g]={node:H,lastCount:0},C[g]={};for(let M=0;M<_.length;M++){const R=_[M];w[R]&&w[R].node.mode===H.mode?(C[R][g]=m(w[R].lastCount+H.length,H.mode)-m(w[R].lastCount,H.mode),w[R].lastCount+=H.length):(w[R]&&(w[R].lastCount=H.length),C[R][g]=m(H.length,H.mode)+4+e.getCharCountIndicator(H.mode,E))}}_=k}for(let T=0;T<_.length;T++)C[_[T]].end=0;return{map:C,table:w}}function u(v,E){let w;const C=e.getBestModeForData(v);if(w=e.from(E,C),w!==e.BYTE&&w.bit<C.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(C));switch(w===e.KANJI&&!d.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new o(v);case e.ALPHANUMERIC:return new l(v);case e.KANJI:return new h(v);case e.BYTE:return new s(v)}}i.fromArray=function(E){return E.reduce(function(w,C){return typeof C=="string"?w.push(u(C,null)):C.data&&w.push(u(C.data,C.mode)),w},[])},i.fromString=function(E,w){const C=b(E,d.isKanjiModeEnabled()),_=n(C),T=r(_,w),W=p.find_path(T.map,"start","end"),k=[];for(let $=1;$<W.length-1;$++)k.push(T.table[W[$]].node);return i.fromArray(a(k))},i.rawSplit=function(E){return i.fromArray(b(E,d.isKanjiModeEnabled()))}},function(S,i,t){const e=t(610);function o(l){this.mode=e.NUMERIC,this.data=l.toString()}o.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(s){let h,c,d;for(h=0;h+3<=this.data.length;h+=3)c=this.data.substr(h,3),d=parseInt(c,10),s.put(d,10);const p=this.data.length-h;p>0&&(c=this.data.substr(h),d=parseInt(c,10),s.put(d,p*3+1))},S.exports=o},function(S,i,t){const e=t(610),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(s){this.mode=e.ALPHANUMERIC,this.data=s}l.getBitsLength=function(h){return 11*Math.floor(h/2)+6*(h%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(h){let c;for(c=0;c+2<=this.data.length;c+=2){let d=o.indexOf(this.data[c])*45;d+=o.indexOf(this.data[c+1]),h.put(d,11)}this.data.length%2&&h.put(o.indexOf(this.data[c]),6)},S.exports=l},function(S,i,t){const e=t(1132),o=t(610);function l(s){this.mode=o.BYTE,typeof s=="string"&&(s=e(s)),this.data=new Uint8Array(s)}l.getBitsLength=function(h){return h*8},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(s){for(let h=0,c=this.data.length;h<c;h++)s.put(this.data[h],8)},S.exports=l},function(S,i,t){"use strict";S.exports=function(o){for(var l=[],s=o.length,h=0;h<s;h++){var c=o.charCodeAt(h);if(c>=55296&&c<=56319&&s>h+1){var d=o.charCodeAt(h+1);d>=56320&&d<=57343&&(c=(c-55296)*1024+d-56320+65536,h+=1)}if(c<128){l.push(c);continue}if(c<2048){l.push(c>>6|192),l.push(c&63|128);continue}if(c<55296||c>=57344&&c<65536){l.push(c>>12|224),l.push(c>>6&63|128),l.push(c&63|128);continue}if(c>=65536&&c<=1114111){l.push(c>>18|240),l.push(c>>12&63|128),l.push(c>>6&63|128),l.push(c&63|128);continue}l.push(239,191,189)}return new Uint8Array(l).buffer}},function(S,i,t){const e=t(610),o=t(609);function l(s){this.mode=e.KANJI,this.data=s}l.getBitsLength=function(h){return h*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(s){let h;for(h=0;h<this.data.length;h++){let c=o.toSJIS(this.data[h]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[h]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),s.put(c,13)}},S.exports=l},function(S,i,t){"use strict";var e={single_source_shortest_paths:function(o,l,s){var h={},c={};c[l]=0;var d=e.PriorityQueue.make();d.push(l,0);for(var p,f,O,b,m,a,n,r,u;!d.empty();){p=d.pop(),f=p.value,b=p.cost,m=o[f]||{};for(O in m)m.hasOwnProperty(O)&&(a=m[O],n=b+a,r=c[O],u=typeof c[O]=="undefined",(u||r>n)&&(c[O]=n,d.push(O,n),h[O]=f))}if(typeof s!="undefined"&&typeof c[s]=="undefined"){var v=["Could not find a path from ",l," to ",s,"."].join("");throw new Error(v)}return h},extract_shortest_path_from_predecessor_list:function(o,l){for(var s=[],h=l,c;h;)s.push(h),c=o[h],h=o[h];return s.reverse(),s},find_path:function(o,l,s){var h=e.single_source_shortest_paths(o,l,s);return e.extract_shortest_path_from_predecessor_list(h,s)},PriorityQueue:{make:function(o){var l=e.PriorityQueue,s={},h;o=o||{};for(h in l)l.hasOwnProperty(h)&&(s[h]=l[h]);return s.queue=[],s.sorter=o.sorter||l.default_sorter,s},default_sorter:function(o,l){return o.cost-l.cost},push:function(o,l){var s={value:o,cost:l};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};S.exports=e},function(S,i,t){const e=t(887);function o(s,h,c){s.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=c,h.width=c,h.style.height=c+"px",h.style.width=c+"px"}function l(){try{return document.createElement("canvas")}catch(s){throw new Error("You need to specify a canvas element")}}i.render=function(h,c,d){let p=d,f=c;typeof p=="undefined"&&(!c||!c.getContext)&&(p=c,c=void 0),c||(f=l()),p=e.getOptions(p);const O=e.getImageWidth(h.modules.size,p),b=f.getContext("2d"),m=b.createImageData(O,O);return e.qrToImageData(m.data,h,p),o(b,f,O),b.putImageData(m,0,0),f},i.renderToDataURL=function(h,c,d){let p=d;typeof p=="undefined"&&(!c||!c.getContext)&&(p=c,c=void 0),p||(p={});const f=i.render(h,c,p),O=p.type||"image/png",b=p.rendererOpts||{};return f.toDataURL(O,b.quality)}},function(S,i,t){const e=t(887);function o(h,c){const d=h.a/255,p=c+'="'+h.hex+'"';return d<1?p+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':p}function l(h,c,d){let p=h+c;return typeof d!="undefined"&&(p+=" "+d),p}function s(h,c,d){let p="",f=0,O=!1,b=0;for(let m=0;m<h.length;m++){const a=Math.floor(m%c),n=Math.floor(m/c);!a&&!O&&(O=!0),h[m]?(b++,m>0&&a>0&&h[m-1]||(p+=O?l("M",a+d,.5+n+d):l("m",f,0),f=0,O=!1),a+1<c&&h[m+1]||(p+=l("h",b),b=0)):f++}return p}i.render=function(c,d,p){const f=e.getOptions(d),O=c.modules.size,b=c.modules.data,m=O+f.margin*2,a=f.color.light.a?"<path "+o(f.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",n="<path "+o(f.color.dark,"stroke")+' d="'+s(b,O,f.margin)+'"/>',r='viewBox="0 0 '+m+" "+m+'"',u=f.width?'width="'+f.width+'" height="'+f.width+'" ':"",v='<svg xmlns="http://www.w3.org/2000/svg" '+u+r+' shape-rendering="crispEdges">'+a+n+`</svg>
`;return typeof p=="function"&&p(null,v),v}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,i,t){"use strict";t.r(i);var e=t(67),o=t(0),l=t(2),s=t(34),h=t(314),c=t(6),d=t.n(c),p=t(99),f=t(5),O=t(52),b=t(394),m=t(8),a=t(44);class n extends o.Component{render({html:Z,children:J}){return Object(o.h)("div",{className:"container-border"},Object(o.h)("div",{className:"container"},Object(o.h)("div",{className:"page typography"},J,Object(o.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:Z}}))))}}var r=t(632),u=t(779),v=t(242),E=t(69),w=t(634),C=t(986),_=t(987),T=t(311),W=t(194);function k({children:ye,title:Z,pub:J,user:pe,freeSignup:ve,freeSignupEmail:Ne,sort:nt,search:Me,newPosts:Re,topPosts:pt,communityPosts:Wt,searchPosts:an,sectionId:fn}){const hn=Boolean(J==null?void 0:J.theme);return Object(o.h)(W.a,{value:{hasThemedBackground:hn}},Object(o.h)("div",{className:d()("archive-page typography",{"use-theme-bg":hn})},Object(o.h)("div",{className:"container"},Z&&Object(o.h)("h2",null,Z),Object(o.h)(T.a,{communityTitle:"Discussion",user:pe,freeSignup:ve,freeSignupEmail:Ne,pub:J,sort:nt,search:Me,newPosts:Re,topPosts:pt,communityPosts:Wt,searchPosts:an,stateInUrl:!0,sectionId:fn,source:"archive"}),ye)))}var $=t(193),H=t(278),g=t(3),M={root:"frontend-components-PressKitImage-module__root--3Peca",tableRoot:"frontend-components-PressKitImage-module__tableRoot--o7k15",link:"frontend-components-PressKitImage-module__link--27O9x",image:"frontend-components-PressKitImage-module__image--2T57z",download:"frontend-components-PressKitImage-module__download--2zt4c",imageLoading:"frontend-components-PressKitImage-module__imageLoading--txdUU",imageEmail:"frontend-components-PressKitImage-module__imageEmail--1E7CP",iconEmail:"frontend-components-PressKitImage-module__iconEmail--21cgf",text:"frontend-components-PressKitImage-module__text--3w_-X"},R=t(16),D=t(702),U=t(33),L=t(1);const j=({pub:ye,post:Z,style:J,text:pe})=>{const[ve,Ne]=Object(l.k)("");Object(l.d)(()=>{const Me=Object(g.getPressKitUrl)(ye,Z,J);Object(m.preloadImage)(Object(g.getPressKitUrl)(ye,Z,J),()=>{Ne(Me)})},[Ne,ye,Z,J]);const nt=Object(L.useCallback)(()=>{Object(f.i)(f.a.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:Z.id,type:pe})},[Z,pe]);return Object(o.h)("a",{onClick:nt,href:ve,alt:"Download Image",download:!0,className:M.link,target:"_blank"},Object(o.h)("div",{className:M.root},Object(o.h)("div",{className:M.download},Object(o.h)(D.DownloadIconNoBorder,{stroke:"#404040",fill:"white"})),!ve&&Object(o.h)("div",{className:`${M.image} ${M.imageLoading}`,alt:"Loading"},Object(o.h)(R.b,null)),ve&&Object(o.h)("img",{src:ve,className:M.image})))},B=({pub:ye,post:Z,style:J,text:pe,downloadUrl:ve})=>Object(o.h)("table",{className:M.tableRoot},Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("a",{href:ve||Object(g.getPressKitUrl)(ye,Z,J),alt:"Download Image",download:!0,target:"_blank",className:M.link},Object(o.h)("img",{src:Object(g.getPressKitUrl)(ye,Z,J),className:M.imageEmail})))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)(U.b,{aClassName:"button download",alt:"Download Image",download:!0,target:"_blank",href:ve||Object(g.getPressKitUrl)(ye,Z,J)},Object(o.h)(D.DownloadIconNoBorder,{stroke:"#404040",fill:"white",isStatic:!0,className:M.iconEmail}),Object(o.h)("span",null,"Download")))));var x=j,P={root:"frontend-main-PressKitPage-module__root--2cpfS",pageTitle:"frontend-main-PressKitPage-module__pageTitle--LycbM",postTitle:"frontend-main-PressKitPage-module__postTitle--2uLcG",container:"frontend-main-PressKitPage-module__container--2bIzE",imageContainer:"frontend-main-PressKitPage-module__imageContainer--3tagG",divider:"frontend-main-PressKitPage-module__divider--1ccCY",text:"frontend-main-PressKitPage-module__text--zm4O5",textFooter:"frontend-main-PressKitPage-module__textFooter--Xt6kV"},y=t(13),A=t(11),N=ye=>{const Z=ye.themeVariables,J=Z.web_bg_color||Z.cover_bg_color,pe=ye.post.cover_image||ye.publication.cover_photo_url;return Object(l.d)(()=>{Object(f.i)(f.a.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:ye.post.id})},[ye.post.id]),Object(o.h)("div",{className:P.root},Object(o.h)(y.b.H2,{color:"pub-primary-text",className:P.pageTitle},"Media Assets"),Object(o.h)(y.b.B3,{color:"pub-primary-text",className:P.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),Object(o.h)(A.b,{justifyContent:"center",className:P.container},Object(o.h)("div",{className:P.postTitle},Object(o.h)(y.b.H4,{color:"pub-primary-text"},ye.post.title)),Object(o.h)("div",{className:P.divider}),Object(o.h)(A.a,{wrap:"wrap",justifyContent:"space-between"},Object(o.h)(x,{pub:ye.publication,post:ye.post,style:{bgColor:J,textColor:Z.print_on_web_bg_color||Z.cover_print_primary||"#1a1a1a"},text:"Background Color"}),Z.background_pop&&Object(o.h)(x,{pub:ye.publication,post:ye.post,style:{bgColor:Z.background_pop,textColor:Z.print_on_pop},text:"Accent Color"}),pe&&Object(o.h)(x,{pub:ye.publication,post:ye.post,style:{bgImage:!0,textColor:"#ffffff"},text:"Image"}),J.toLowerCase()!=="#ffffff"?Object(o.h)(x,{pub:ye.publication,post:ye.post,style:{bgColor:"#ffffff",textColor:"#404040"},text:"Black and White"}):null)),Object(o.h)("div",{className:P.textFooter},Object(o.h)(y.b.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",Object(o.h)("a",{href:Object(g.getPublishSettingsUrl)(ye.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},Y=t(10),F=t.n(Y),G=t(111),X=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())}),se=({pub:ye,slug:Z})=>{var J;const[pe,ve]=Object(l.k)(null);Object(l.d)(()=>{function nt(){return X(this,null,function*(){try{const Me=yield F.a.get(`/api/v1/posts/${Z}`);ve(Me.body)}catch(Me){console.error("Failed to load post:",Me),Me.status===404?alert("Post not found"):alert(Object(m.getNetworkErrorMessage)(Me))}})}nt()},[Z]);let Ne=!1;return typeof window!="undefined"&&(Ne=((J=Object(g.parseQuery)(window.location.href).autoplay)!=null?J:"0")==="1"),pe?Object(o.h)(G.a,{feature:"Podcast",pub:ye,post:pe,src:pe.podcast_url,autoPlay:Ne,metricsPost:pe,isFancy:!0,showCTAs:!0}):Object(o.h)("div",{className:"loading-container"})},ie=t(90),Ee=t(51),Ie=t.n(Ee),ge=t(328),oe=t(30),ee=t(7),te=t(12),le=t(27),Q=t(876),z=t(142),V=t.n(z),ne=t(879),re=t(252),de=t(629),fe=t(43),we=t(816),Ge=t(42);class $e extends o.Component{constructor(Z,J){super(Z,J);var pe;this.state={selectedPlan:this.getDefaultPlan(),canApplePay:!Z.manualBilling&&Object(m.mightSupportApplePay)(Z.pub)},this.state.preferApplePay=this.state.canApplePay&&!((pe=this.props.user)==null?void 0:pe.has_saved_payment)}componentDidMount(){if(setTimeout(()=>this.setSelectedPlan(this.getDefaultPlan()),0),this.emailInput&&(this.emailInput.value=this.props.email||this.props.freeSignupEmail||""),this.props.quantity&&this.componentRoot){const Z=this.componentRoot.querySelector('[name="quantity"]');Z&&(Z.value=this.props.quantity)}this.componentRoot=document.querySelector(".subscribe-screen")||this.base}componentDidUpdate(Z){Z.coupon&&Z.coupon.loading&&(!this.props.coupon||!this.props.coupon.loading)&&this.setSelectedPlan(this.getDefaultPlan())}canTrial(){return!0}isRecurring(){return!0}getPlans(){const{pub:Z}=this.props;return V()((Z.plans||[]).filter(J=>this.props.manualBilling&&Z.subdomain!=="ballmatthew"?J.interval==="year":(this.props.pub.parent_publication||this.props.pub).subdomain==="thebulwark"?!!this.props.gift||!J.metadata.custom_gift:!0).slice(),[J=>{var pe;return!((pe=Z.bitcoin_plan)==null?void 0:pe.prefer_bitcoin)^!J.metadata.bitcoin},J=>!!J.metadata.founding,J=>J.interval!=="year",J=>-J.amount])}getDefaultPlan(){var Z;const J=this.getPlans();if(this.props.defaultPlan){const pe=J.find(ve=>ve.name===this.props.defaultPlan)||J.find(ve=>ve.nickname===this.props.defaultPlan)||J.find(ve=>ve.id===this.props.defaultPlan);if(pe)return pe}for(const pe of J)if(this.getCoupon(pe))return pe;if((Z=this.props.pub.bitcoin_plan)==null?void 0:Z.prefer_bitcoin){const pe=J.find(ve=>{var Ne;return(Ne=ve.metadata)==null?void 0:Ne.bitcoin});if(pe)return pe}return J[0]}getCoupon(Z){return Object(re.isCouponValidForPlan)(this.props.coupon,Z)?this.props.coupon:null}getQuantity(){if(this.componentRoot){const Z=this.componentRoot.querySelector('[name="quantity"]');if(Z)return Math.max(parseInt(Number(Z.value)),1)}return 1}getTrialEndOverride(Z){if(!this.canTrial())return 0;const J=Z&&this.getCoupon(Z);return Object(ee.getTrialEndOverride)(this.props.pub,Z,J)}hasTrial(){return!this.canTrial()||!this.state.selectedPlan?!1:!!(this.state.selectedPlan.trial_period_days||this.getTrialEndOverride(this.state.selectedPlan))}shouldShowEmailInput(){return!this.props.email||this.props.user&&this.props.user.is_magic}shouldShowTaxIdEntry(){return Object(oe.default)("tax_integration_enabled")}shouldShowCreditCard(){var Z,J;return!(this.shouldShowApplePay()||this.props.manualBilling||((J=(Z=this.state.selectedPlan)==null?void 0:Z.metadata)==null?void 0:J.bitcoin))}shouldShowCreditCardOnFile(){var Z;return!(!this.shouldShowCreditCard()||!((Z=this.props.user)==null?void 0:Z.has_saved_payment)||this.state.overwriteSavedPaymentDetails)}shouldShowApplePay(){var Z,J;return!(!this.state.canApplePay||!this.state.preferApplePay||((J=(Z=this.state.selectedPlan)==null?void 0:Z.metadata)==null?void 0:J.bitcoin))}setSelectedPlan(Z){if(Z)this.componentRoot&&[].forEach.call(this.componentRoot.querySelectorAll("[name=plan]"),J=>{J.checked=J.value===Z.id});else if(Z===null)[].forEach.call(this.componentRoot.querySelectorAll("[name=plan]"),J=>{J.checked=!1});else{if(!this.componentRoot)return;const J=[].filter.call(this.componentRoot.querySelectorAll("[name=plan]"),pe=>pe.checked)[0];if(!J||J.value&&(Z=this.getPlans().filter(pe=>pe.id===J.value)[0],!Z))return}this.setState({selectedPlan:Z},()=>{Z&&Z.metadata.founding&&this.amountInput&&this.amountInput!==document.activeElement&&(this.amountInput.focus(),this.amountInput.select())})}onError(Z){Z.status===401&&this.setState({captcha_required:!0}),this.setState({overwriteSavedPaymentDetails:!0})}onSuccess(Z){if(this.state.selectedPlan){const fn=Object(ee.getInitalPayment)(this.state.selectedPlan,{quantity:this.getQuantity(),coupon:this.getCoupon(this.state.selectedPlan),noTrial:!0});Object(f.e)(fn,this.state.selectedPlan.currency,this.getQuantity(),{plan:this.state.selectedPlan,isSubscription:this.isRecurring()})}else Object(f.e)(0,"usd",1);const J=this.base.querySelector('[name="gift_recipient"]'),pe=this.emailInput?this.emailInput.value:this.props.email,ve=J?J.value:Z.recipient_user?Z.recipient_user.name:null,Ne=Z==null?void 0:Z.body.needs_login,nt=Z==null?void 0:Z.body.subscription_id,Me=Z==null?void 0:Z.body.confirmPaymentUrl,Re=this.state.selectedPlan,pt=Z==null?void 0:Z.body.gift_source_comment_url,Wt=Z==null?void 0:Z.body.savedCardToken,an={email:pe,giftee:ve,needs_login:Ne,subscription_id:nt,confirmPaymentUrl:Me,purchased_plan:Re,redirect:pt,savedCardToken:Wt};if(typeof window!="undefined"&&window.campaign&&Object(g.getQueryItem)("referralCode")){const fn=ne.campaigns[this.props.pub.subdomain],hn=fn==null?void 0:fn.extendDaysRule;hn&&hn({plan:this.state.selectedPlan})?window.campaign.identify({email:pe},()=>{this.props.onSuccess(an)}):this.props.onSuccess(an)}else this.props.onSuccess(an)}renderMeta(Z={}){const J=this.props.coupon,pe=this.getCoupon(this.state.selectedPlan);return[!this.shouldShowEmailInput()&&Object(o.h)("input",{type:"hidden",name:"email",value:this.props.email}),Object(o.h)("input",{type:"hidden",name:"utm_campaign",value:this.props.utm_campaign}),Object(o.h)("input",{type:"hidden",name:"utm_source",value:this.props.utm_source}),Object(o.h)("input",{type:"hidden",name:"utm_medium",value:this.props.utm_medium}),Object(o.h)("input",{type:"hidden",name:"utm_content",value:this.props.utm_content}),Object(o.h)("input",{type:"hidden",name:"first_url",value:p.d}),Object(o.h)("input",{type:"hidden",name:"first_referrer",value:p.c}),Object(o.h)("input",{type:"hidden",name:"current_url",value:p.b}),Object(o.h)("input",{type:"hidden",name:"current_referrer",value:p.a}),Object(o.h)("input",{type:"hidden",name:"referral_code",value:this.props.referralCode}),Object(o.h)("input",{type:"hidden",name:"coupon",value:pe?pe.id:J&&J.error?J.id:""}),Object(o.h)("input",{type:"hidden",name:"manual_billing",value:this.props.manualBilling})].concat(Object.keys(Z).map(ve=>Object(o.h)("input",{type:"hidden",name:ve,value:Z[ve]})))}renderCoupon(){const{coupon:Z,pub:J}=this.props;if(!Z)return;let pe;if(Z.trial_period_days&&this.canTrial())pe=`a ${Object(ee.numberToString)(Z.trial_period_days)} day free trial`;else{if(Z.trial_period_days&&!this.canTrial())return null;{const Me=Z.amount_off>0?Object(ee.centsToPriceString)(Z.amount_off,Z.currency):`${Math.round(Z.percent_off)}%`;let Re;this.isRecurring()?Z.duration_in_months?Z.duration_in_months%12==0?Re=` for ${Object(ee.pluralize)(Z.duration_in_months/12,"year")}`:Re=` for ${Object(ee.pluralize)(Z.duration_in_months,"month")}`:Z.duration==="once"?Re=" your first bill":Re=` ${Z.duration}`:Re="",pe=`${Me} off${Re}`}}const ve=Z.redeem_by&&Math.max(0,(+new Date(Z.redeem_by)-Date.now())/1e3);let Ne;if(ve&&(ve<2*24*60*60||!Z.max_redemptions)){let Me;ve<60?Me=Object(ee.pluralize)(parseInt(ve),"second"):ve<60*60?Me=Object(ee.pluralize)(parseInt(ve/60),"minute"):ve<2*24*60*60?Me=Object(ee.pluralize)(parseInt(ve/60/60),"hour"):Me=Object(ee.pluralize)(parseInt(ve/60/60/24),"day"),Ne=Object(o.h)("strong",null,"Only ",Me," left!")}else if(Z.max_redemptions){const Me=Z.max_redemptions-Z.times_redeemed;Ne=Object(o.h)("strong",null,"There ",Me===1?"is":"are"," only ",Me," left!")}const nt=Z.type==="FREE_TRIAL"?`Subscribe now to get an exclusive 7-day free trial to ${J.name}.`:Z.description||`Subscribe now and get ${pe}.`;if(!(this.props.gift&&Z.loading))return Object(o.h)("p",{className:`coupon ${Z.loading?"loading":""} ${Z.error?"error":""}`},Object(o.h)("span",{className:"code"},Z.loading?null:Z.name||Z.id),Object(o.h)("br",null),Z.loading?"Loading\u2026":Z.error?Z.message:[nt," ",Ne])}renderCouponExplanation(Z){const{coupon:J,pub:pe}=this.props;if(!J||J.error||!Object(re.isCouponValidForPlan)(J,Z))return;const ve=Z.interval_count>1?`every ${Object(ee.pluralize)(Z.interval_count,Z.interval)}`:Z.interval==="year"?"on an annual basis":"on a monthly basis";if(J.trial_period_days){const Ne=Object(ee.pluralize)(J.trial_period_days,"day");return Object(o.h)("span",{className:"notice"},Object(o.h)("p",null,"The free trial will provide you ",Ne," of a paid subscription to ",pe.name,", free of charge. After"," ",Ne,", you will automatically be charged ",Z.price," ",ve,". You can cancel anytime."))}else{const Ne=J.percent_off_precise||J.percent_off?`${Math.round(J.percent_off_precise||J.percent_off)}%`:Object(ee.centsToPriceString)(J.amount_off,Z.currency);let nt=!1,Me,Re;J.duration==="once"?Me=` (your first ${Z.interval})`:J.duration==="repeating"?(Re=J.duration_in_months%12==0?Object(ee.pluralize)(J.duration_in_months/12,"year"):Object(ee.pluralize)(J.duration_in_months,"month"),Me=` for ${Re}`):nt=!0;const pt=J.duration==="once"?"one-time ":J.duration==="forever"?"perpetual":"",Wt=Re?`After ${Re}`:"Afterwards";return Object(o.h)("span",{className:"notice"},Object(o.h)("p",null,"This offer will provide you a ",pt," ",Ne," discount off your ",pe.name," ","subscription",Me,"."," ",nt?"":`${Wt}, you will automatically be
                                          charged ${Object(ee.centsToPriceString)(Z.amount,Z.currency)} ${ve}. `,"Cancel your subscription anytime."))}}renderEmail(Z=I`Your email address`){if(!!this.shouldShowEmailInput())return Object(o.h)("input",{ref:J=>this.emailInput=J,className:"input",type:"email",name:"email",placeholder:Z,autoComplete:"off",readOnly:!!this.props.freeSignupEmail})}renderPlans(){const Z=this.getPlans(),J=this.getDefaultPlan();return Object(o.h)("p",{className:"plans"},Z.length>0?Z.map(pe=>Object(o.h)("label",null,Object(o.h)("input",{name:"plan",type:"radio",value:pe.id,defaultChecked:Z.length===1||pe.id===J.id,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()}),this.renderPlanString(pe),pe.metadata&&pe.metadata.short_description&&Object(o.h)("span",{className:"short-description"},pe.metadata.short_description))):"Coming soon")}renderPlanString(Z,J={}){const{gift:pe}=this.props,ve=this.getCoupon(Z),Ne=pe&&(ve==null?void 0:ve.loading)?null:ve;return Object(m.planToString)(Z,Object.assign(J,{discount:Ne,trial_end_override:this.getTrialEndOverride(Z),noTrial:!this.canTrial(),recurring:this.isRecurring()}))}renderCreditCard(){if(this.shouldShowCreditCard())return this.shouldShowCreditCardOnFile()?Object(o.h)("div",{className:"input card-on-file"},Object(o.h)(we.default,{className:"card-on-file-icon"}),this.props.cardLast4?`**** **** **** ${this.props.cardLast4}`:"Use card on file"):Object(o.h)(le.c,{className:"input"})}renderTaxIdEntry(){if(this.state.selectedPlan&&this.shouldShowTaxIdEntry())return Object(o.h)(o.Fragment,null,Object(o.h)("p",{className:"other-subscription-options new-version"},Object(o.h)("a",{href:"javascript:void(0)",onClick:()=>this.setState({expandTaxIdEntry:!this.state.expandTaxIdEntry})},this.state.expandTaxIdEntry?"Skip adding":"Add"," VAT/tax ID")),this.state.expandTaxIdEntry&&Object(o.h)("div",{className:"subscribe-billing-details tiered-plans"},Object(o.h)("div",null,Object(o.h)("select",{name:"tax_id_type"},Object(o.h)("option",{value:"",disabled:!0,selected:!0},"Select tax ID type..."),ee.STRIPE_TAX_ID_TYPES.map(({name:Z,description:J})=>Object(o.h)("option",{value:Z},J))),Object(o.h)("input",{type:"text",name:"tax_id",placeholder:"Tax ID"}),Object(o.h)("input",{type:"text",name:"line1",placeholder:"Street"}),Object(o.h)("input",{type:"text",name:"city",placeholder:"City"}),Object(o.h)("input",{type:"text",name:"postal_code",placeholder:"Zip/Postal code"}),Object(o.h)("select",{class:"",name:"country"},Object(o.h)("option",{value:"",disabled:!0,selected:!0},"Select country..."),Q.codes.map(Z=>Object(o.h)("option",{value:Z.alpha2},Z.name))))))}renderTosCheckbox(){if(!!this.props.pub.require_clickthrough)return Object(o.h)("label",{className:"tos-checkbox"},Object(o.h)("input",{type:"checkbox",name:"tos"})," I agree to the"," ",Object(o.h)("a",{href:Object(g.pathWithQuery)("/tos",{utm_source:"subscribe"}),native:!0},"Terms of Use")," ",", ",Object(o.h)("a",{href:Object(g.getPrivacyUrl)({pub:this.props.pub,utm_source:"subscribe"}),native:!0},"Privacy Policy")," ","and"," ",Object(o.h)("a",{href:Object(g.updateQuery)(`${Object(g.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"}),native:!0},"Information collection notice"))}renderApplePay(){if(!this.shouldShowApplePay())return;const{dollarAmount:Z}=this.state,J=typeof Z=="string"?Number(Z)*100:void 0;return Object(o.h)(le.d,{className:"input",pub:this.props.pub,plan:this.state.selectedPlan,variableAmount:J,quantity:this.getQuantity(),coupon:this.getCoupon(this.state.selectedPlan),notRecurring:!this.isRecurring(),onVisibilityChanged:pe=>this.setState({canApplePay:pe})})}renderOtherSubscriptionOptions({useNewVersion:Z=!1,showModal:J=!1}={}){var pe,ve,Ne,nt,Me;const Re=[this.shouldShowApplePay()&&Object(o.h)("a",{href:"javascript:void(0)",onClick:()=>{Object(f.i)(f.a.PREFER_CREDIT_CARD_CLICKED),this.setState({preferApplePay:!1})}},I`Pay with Credit Card`),this.state.canApplePay&&!((ve=(pe=this.state.selectedPlan)==null?void 0:pe.metadata)==null?void 0:ve.bitcoin)&&!this.shouldShowApplePay()&&Object(o.h)("a",{href:"javascript:void(0)",onClick:()=>{Object(f.i)(f.a.PREFER_APPLE_PAY_CLICKED),this.setState({preferApplePay:!0})}},I`Use Apple Pay`),this.props.pub.subdomain==="sinocism"&&((Ne=this.props.coupon)==null?void 0:Ne.id)!=="d48f1c7c"&&Object(o.h)("a",{href:Object(g.updateQuery)({coupon:"d48f1c7c",group:null,gift:null}),native:!0},"Student discount"),(this.props.gift||this.props.group)&&Object(o.h)("a",{href:Object(g.updateQuery)({gift:null,group:null}),native:!0},I`Individual subscription`),!this.props.gift&&!this.props.pub.invite_only&&Object(o.h)("a",{href:Object(g.updateQuery)({gift:!0,group:null}),native:!0},I`Give a gift`),!this.props.group&&!this.props.pub.invite_only&&this.getPlans().filter(Wt=>Wt.interval==="year").length>0&&Object(o.h)("a",{href:Object(g.updateQuery)({group:!0,gift:null,coupon:this.props.pub.subdomain==="sinocism"&&((nt=this.props.coupon)==null?void 0:nt.id)==="d48f1c7c"||!Object(re.isCouponValid)(this.props.coupon,{is_group:!0,is_gift:!1,paywallFreeTrialEnabled:this.props.pub.paywall_free_trial_enabled})?null:(Me=this.props.coupon)==null?void 0:Me.id}),native:!0},I(`Group ${Object(ee.getSubscriptionWord)(this.props.pub,"subscription")}`))].filter(Boolean),pt=I(`Other ${Object(ee.getSubscriptionWord)(this.props.pub,"subscription")} options\u2026`);return Re.length>0?J?Object(o.h)(it,{newVersion:!0,bodyText:pt},Re):Object(o.h)(st,{bodyText:pt},Re):Object(o.h)(o.Fragment,null)}renderErrorContainer(){const{captcha_required:Z}=this.state;return[Object(o.h)("div",{id:"error-container"}),Z&&Object(o.h)(de.a,{ref:J=>this.captcha=J})]}renderFooter(){return!this.props.pub.require_clickthrough&&Object(o.h)("p",{className:"tos-footer"},I`By registering you agree to`," ",Object(o.h)("a",{href:Object(g.pathWithQuery)("/tos",{utm_source:"subscribe"}),native:!0},I`Substack's Terms of Use`),", ",Object(o.h)("a",{href:Object(g.getPrivacyUrl)({pub:this.props.pub,utm_source:"subscribe"}),native:!0},I`our Privacy Policy`),` ${I`and`} `,Object(o.h)("a",{href:Object(g.updateQuery)(`${Object(g.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"}),native:!0},I`our Information collection notice`))}}const it=({bodyText:ye,newVersion:Z,children:J})=>{const[pe,ve]=Object(l.k)(!1),Ne=()=>ve(!pe),nt=Object(o.toChildArray)(J);return Object(o.h)("p",{className:d()("other-subscription-options",{"new-version":!0})},Object(o.h)("a",{href:"javascript:void(0)",onClick:Ne},ye),Object(o.h)(Ge.a,{isOpen:pe,onClose:Ne},Object(o.h)(Ge.d,{title:"Other subscription options",includeClose:!0}),Object(o.h)(Ge.b,null,nt.map(Me=>Object(o.h)(A.a,{paddingBottom:12,paddingTop:12},Me)))))},st=({bodyText:ye,children:Z})=>{const J=Object(l.j)(null);return Object(o.h)("p",{className:d()("other-subscription-options",{"new-version":!1})},Object(o.h)("a",{href:"javascript:void(0)",onClick:()=>J.current.toggle()},ye),Object(o.h)(fe.b,{ref:J},Z))};class Rt extends $e{componentDidMount(){if(super.componentDidMount(),Object(f.i)(f.a.DONATE_SUBSCRIBE_SCREEN_SHOWN),this.getPlans().length===0&&(document.location.href=Object(g.updateQuery)({donate:""})),this.props.quantity&&this.base){const Z=this.base.querySelector('[name="quantity"]');Z&&(Z.value=this.props.quantity)}}getPlans(){return super.getPlans().filter(Z=>Z.interval==="year"&&!Z.metadata.founding&&!Z.metadata.bitcoin).sort((Z,J)=>Z.amount-J.amount).slice(0,1)}canTrial(){return!1}isRecurring(){return!1}render({stripe_publishable_key:Z,pub:J},{selectedPlan:pe}){return this.getPlans().length===0?Object(o.h)("p",{className:"main-loader"},"Loading\u2026"):Object(o.h)(le.g,{className:"subscribe-screen donate-subscribe-screen",analyticsName:"Donate Subscribe Form",action:"/api/v1/subscription/donate",autoLock:!0,pub:J,stripe_publishable_key:Z,prepareData:ve=>{var Ne;ve.captcha_response=(Ne=this.captcha)==null?void 0:Ne.getResponse()},onError:ve=>this.onError(ve),onSuccess:ve=>this.onSuccess(ve)},this.renderMeta({plan:pe.id}),Object(o.h)("h2",{className:"with-subtitle"},"Donate a ",Object(ee.getSubscriptionWord)(this.props.pub,"donateItem")),this.renderCoupon(),Object(o.h)("p",{className:"centered"},"Give a ",pe.interval,"\u2019s ",Object(ee.getSubscriptionWord)(this.props.pub,"donateItem")," to readers who otherwise cannot afford it."),this.renderEmail(),this.renderCreditCard(),Object(o.h)("p",null,"I'd like to donate"," ",Object(o.h)("input",{className:"input inline",type:"text",name:"quantity",placeholder:"number",autoComplete:"off",defaultValue:""})," ","x ",Object(ee.centsToPriceString)(pe.amount,pe.currency)," ",pe.interval_count>1?pe.interval:"one","-",pe.interval," ",Object(ee.getSubscriptionWord)(this.props.pub,"donateItem"),"s."),this.renderOtherSubscriptionOptions(),this.renderTosCheckbox(),this.renderErrorContainer(),this.renderApplePay()||Object(o.h)(te.b,{className:"primary",type:"submit"},"Donate"),this.renderFooter())}}var Ht=t(717),je=Object.defineProperty,Oe=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,Ce=(ye,Z,J)=>Z in ye?je(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,De=(ye,Z)=>{for(var J in Z||(Z={}))be.call(Z,J)&&Ce(ye,J,Z[J]);if(Oe)for(var J of Oe(Z))he.call(Z,J)&&Ce(ye,J,Z[J]);return ye};class Se extends $e{constructor(Z){super(Z);this.props.recipient&&(this.state={loading:!0})}componentDidMount(){super.componentDidMount(),this.props.recipient&&F.a.get(`/api/v1/user/${this.props.recipient}/public_profile`).set("Cache-Control","no-cache,private").then(Z=>{this.setState({recipient_user:Z.body,loading:!1})}).catch(Z=>{alert(Object(m.getNetworkErrorMessageFromResponse)(Z)),this.setState({loading:!1}),document.location.href=Object(g.updateQuery)({recipient:null,comment_id:null})}),Object(f.i)(f.a.GIFT_SUBSCRIBE_SCREEN_SHOWN),this.getPlans().length===0&&(document.location.href=Object(g.updateQuery)({gift:""}))}getPlans(){const Z=["year","month"],J=super.getPlans().filter(pe=>Z.includes(pe.interval)&&!pe.metadata.founding&&!pe.metadata.bitcoin);return(this.props.pub.parent_publication||this.props.pub).subdomain==="thebulwark"?J.filter(pe=>{var ve;return pe.interval!=="month"||((ve=pe.metadata)==null?void 0:ve.custom_gift)}):J}canTrial(){return!1}isRecurring(){return!1}render({pub:Z,stripe_publishable_key:J,isScheduled:pe,onChangeIsScheduled:ve,onChangeScheduledAt:Ne,scheduledAt:nt,comment_id:Me},{recipient_user:Re,loading:pt}){var Wt;return this.getPlans().length===0||pt?Object(o.h)("p",{className:"main-loader"},"Loading\u2026"):Object(o.h)(le.g,{className:"subscribe-screen gift-subscribe-screen",analyticsName:"Gift Subscribe Form",action:"/api/v1/subscription/gift",autoLock:!0,pub:Z,stripe_publishable_key:J,onError:an=>this.onError(an),onSuccess:an=>this.onSuccess(De({recipient_user:Re},an)),prepareData:an=>{var fn;an.captcha_response=(fn=this.captcha)==null?void 0:fn.getResponse()}},this.renderMeta(),Object(o.h)("h2",null,`Gift ${Object(ee.getWithIndefiniteArticle)(this.props.pub.name)} ${Object(ee.getSubscriptionWord)(this.props.pub,"subscription")} ${Re?`to ${Re.name}`:""}`),this.renderCoupon(),this.renderPlans(),this.renderEmail(),Re?Object(o.h)(o.Fragment,null,Object(o.h)("input",{className:"input",type:"hidden",name:"gift_recipient_id",value:Re.id,defaultValue:Re.id}),Object(o.h)("input",{className:"input",type:"hidden",name:"gift_source_comment_id",value:Me,defaultValue:Me})):Object(o.h)("input",{className:"input",type:"email",name:"gift_recipient",placeholder:"Recipient\u2019s email address",autoComplete:"off",defaultValue:""}),Object(o.h)("textarea",{className:"input",name:"gift_message",placeholder:`Message to ${Re?Re.name:"recipient"} (optional)`,maxLength:640}),Object(o.h)("p",{className:"anonymous"},Object(o.h)("label",null,Object(o.h)("input",{type:"checkbox",name:"anonymous"}),"Make your gift anonymous")),pe?Object(o.h)("a",{className:"advanced-options open",href:"javascript:void(0)",onClick:()=>ve(!1)},"Cancel scheduling"):Object(o.h)("a",{className:"advanced-options",href:"javascript:void(0)",onClick:()=>ve(!0)},"Schedule for later\u2026"),pe&&[Object(o.h)("div",{className:"date-editor"},Object(o.h)(Ht.a,{dateTimeSeparator:" at ",disabled:!1,date:((Wt=this.gift_date)==null?void 0:Wt.value)?new Date(this.gift_date.value):new Date,firstDate:new Date,lastDate:new Date(Date.now()+366*24*60*60*1e3),onChange:an=>{Ne(an)}})),Object(o.h)("input",{className:"input",type:"hidden",name:"gift_date",value:nt,defaultValue:new Date,ref:an=>this.gift_date=an})],this.renderOtherSubscriptionOptions(),this.renderCreditCard(),this.renderTosCheckbox(),this.renderErrorContainer(),this.renderApplePay()||Object(o.h)(te.b,{className:"primary",type:"submit"},"Buy Gift",Re?` for ${Re.name}`:""),this.renderFooter())}}var Le=t(75),tt=Object.defineProperty,Xe=(ye,Z,J)=>Z in ye?tt(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Et=(ye,Z,J)=>(Xe(ye,typeof Z!="symbol"?Z+"":Z,J),J),Qe=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class rt extends $e{constructor(){super(...arguments);Et(this,"getOffer",()=>Qe(this,null,function*(){try{return(yield F.a.get(`/api/v1/group/offer?user_id=${this.props.offer_user}`)).body}catch(Z){console.error(`Failed to fetch user for user id ${this.props.offer_user}`,Z)}}))}componentDidMount(){super.componentDidMount(),Object(f.i)(f.a.GROUP_SUBSCRIBE_SCREEN_SHOWN),this.getPlans().length===0&&(document.location.href=Object(g.updateQuery)({group:""})),this.props.offer_user&&this.getOffer().then(({offer:Z,email:J})=>{this.setState({groupOffer:Z,email:J})})}componentDidUpdate(Z){super.componentDidUpdate(Z),this.emailInput&&this.state.email&&(this.emailInput.value=this.state.email,this.emailInput.disabled=!0)}getPlans(){return super.getPlans().filter(Z=>Z.interval==="year"&&!Z.metadata.founding&&!Z.metadata.bitcoin).sort((Z,J)=>Z.amount-J.amount).slice(0,1)}render({pub:Z,stripe_publishable_key:J,offer_user:pe,coupon:ve,manualBilling:Ne},{selectedPlan:nt,groupOffer:Me}){if(this.getPlans().length===0||pe&&!Me)return Object(o.h)("p",{className:"main-loader"},"Loading\u2026");const Re=Ne==="true";return Object(o.h)(le.g,{className:"subscribe-screen group-subscribe-screen",analyticsName:"Group Subscribe Form",action:"/api/v1/subscription",autoLock:!0,pub:Z,stripe_publishable_key:J,prepareData:pt=>{var Wt;pt.captcha_response=(Wt=this.captcha)==null?void 0:Wt.getResponse(),pt.offer_user_id=this.props.offer_user},onError:pt=>this.onError(pt),onSuccess:pt=>this.onSuccess(pt)},this.renderMeta({plan:nt.id,isGroup:!0}),Object(o.h)(A.b,{gap:48},Object(o.h)(A.b,{gap:8},Object(o.h)(ke,{pub:Z}),Object(o.h)(y.b.B3,{align:"center"},Me?"Special offer: ":"",this.renderPlanString(nt,{intervalPostfix:"per person"}))),Object(o.h)(A.b,null,Object(o.h)("input",{className:"input",type:"text",name:"quantity",placeholder:`Number of people (min ${Me?Me.minimum_initial_seats:Z.minimum_group_size})`,autoComplete:"off",defaultValue:""}),this.renderEmail("Admin email address"),this.renderCreditCard(),Re&&Object(o.h)(y.b.B4,{paddingBottom:8,color:"secondary"},"You'll receive an invoice an hour after checkout. You will have ",Object(o.h)("b",null,"30 days")," to complete the payment otherwise the group subscription will be canceled."),Me?Object(o.h)(jt,{pub:Z,coupon:ve,manualBilling:Re,offer_user:pe}):this.renderOtherSubscriptionOptions(),this.renderTaxIdEntry(),this.renderTosCheckbox(),this.renderErrorContainer()),this.renderApplePay()||Object(o.h)(te.b,{className:"primary subscribe-btn",type:"submit"},this.hasTrial()?"Start free trial":Object(ee.getSubscribeText)(Z))),this.renderFooter())}}const ke=({pub:ye})=>Object(o.h)(A.b,{gap:16,alignItems:"center"},Object(o.h)(Le.a,{pub:ye,size:100,className:"group-offer-pub-icon"}),Object(o.h)(y.b.H1,{align:"center"},"Subscribe your group to ",ye.name)),jt=({coupon:ye,pub:Z,manualBilling:J,offer_user:pe})=>{const ve={group:!0,offer_user:pe,coupon:ye==null?void 0:ye.id,utm_param:"group-subscription-offer"};J||(ve.manual_billing=!0);const Ne=J?"Pay now with card":`Pay by invoice (${Z.stripe_country==="US"?"ACH / ":""}card)`;return Object(o.h)(y.b.B4,{color:"secondary",decoration:"underline",as:"a",href:Object(g.getSubscribeUrl)(Z,ve)},Ne)};var Nt=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class rn extends o.Component{componentDidMount(){return Nt(this,null,function*(){yield this.freeSignup()})}freeSignup(){return Nt(this,null,function*(){try{const Z=yield F.a.post("/api/v1/free").send({source:"subscribe_page",email:this.props.email,referring_pub_id:this.props.referringPubId,additional_referring_pub_ids:this.props.additionalReferringPubIds,current_referrer:p.a,current_url:p.b,first_referrer:p.c,first_url:p.d});this.props.onFreeSignup(Z)}catch(Z){Object(f.i)(f.a.VIRTUAL_FREE_SIGNUP_FAILED),this.props.onFreeSignupFailed()}})}render({email:Z,pub:J}){return Object(o.h)("div",null,Object(o.h)("p",{className:"virtual-free-signup-loading"},"Signing ",Z," up to receive free posts from ",J.name,"..."))}}var sn=t(221),dt=t(147),mt=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});const gt=({pub:ye,onContinue:Z})=>{const[J,pe]=Object(l.k)(!1);Object(l.d)(()=>{Object(f.i)(f.a.ADD_TO_PODCAST_SCREEN_SHOWN)},[]);const ve=()=>mt(void 0,null,function*(){if(Object(f.i)(f.a.ADD_TO_PODCAST_CLICKED,{source:"subscribe"}),Object(m.isMobileBrowser)()){setTimeout(()=>{document.location.href=Object(g.getPodcatcherSetupUrlForAllPodcasts)(ye,{startAtSubscribeFlow:!1,params:{utm_source:"subscribe"}})},40);return}pe(!0);try{yield F.a.post("/api/v1/subscription/send_podcast_email").send({})}catch(nt){console.error("Failed to send podcast setup email:",nt),alert(Object(m.getNetworkErrorMessage)(nt)),pe(!1)}}),Ne=()=>{Object(f.i)(f.a.ADD_TO_PODCAST_SKIPPED,{source:"subscribe"}),Z()};return Object(o.h)("div",{className:"add-to-podcast-screen"},J?Object(o.h)(o.Fragment,null,Object(o.h)("h2",null,Object(o.h)(sn.a,{text:"Check your email on your phone"})),Object(o.h)("p",null,Object(o.h)(sn.a,{text:"We sent you a link to get setup. It only takes a few seconds."})),Object(o.h)(te.b,{className:"primary",onClick:Z},"Continue"),Object(o.h)("br",null),Object(o.h)("a",{className:"small",href:Object(g.getPodcatcherSetupUrlForAllPodcasts)(ye,{startAtSubscribeFlow:!1,params:{utm_source:"subscribe"}})},"More options")):Object(o.h)(o.Fragment,null,Object(o.h)("h2",null,Object(o.h)(sn.a,{text:`${ye.name} publishes audio`})),Object(o.h)("p",null,"Want to add it to your podcast app?"),Object(o.h)(te.b,{className:"primary",onClick:ve},"Add to podcast app"),Object(o.h)(te.b,{className:"maybe-later",onClick:Ne},"Skip",Object(o.h)(dt.default,{height:20}))))};var ze=t(187),ue=t(576),bt=t(37),wt=Object.defineProperty,It=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,Ae=(ye,Z,J)=>Z in ye?wt(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Ve=(ye,Z)=>{for(var J in Z||(Z={}))We.call(Z,J)&&Ae(ye,J,Z[J]);if(It)for(var J of It(Z))lt.call(Z,J)&&Ae(ye,J,Z[J]);return ye},at=(ye,Z,J)=>(Ae(ye,typeof Z!="symbol"?Z+"":Z,J),J),ot=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class vt extends o.Component{constructor(Z){super(Z);at(this,"toggleCheck",ve=>{const Ne=Ve({},this.state.checks);Ne[ve]=!Ne[ve],this.setState({checks:Ne}),Object(f.i)(f.a.BUNDLE_PUBLICATION_TOGGLED,{recommendedPublicationId:ve,selected:Ne[ve]})}),at(this,"submit",ve=>ot(this,null,function*(){var Ne,nt,Me;this.setState({loading:!0});const Re=[];let pt=!1;Object(f.i)(f.a.BUNDLE_SUBSCRIBE_INITIATED,{numSubscriptions:this.state.checks?this.state.checks.length:0});for(const Wt of Object.keys(this.state.checks).filter(an=>this.state.checks[an])){const an=this.state.pubToPlan?this.state.pubToPlan[Wt]:null;try{const fn=yield F.a.post("/api/v1/subscription").send(Ve({email:ve,amount:an.amount,subscribe_to_pub_id:Wt,plan:an.id,savedCardToken:this.props.savedCardToken,visibility:"private"},((Ne=this.state.pubToCoupon[Wt])==null?void 0:Ne.id)&&{coupon:this.state.pubToCoupon[Wt].id}));((nt=fn.body)==null?void 0:nt.subscription_id)&&Re.push(Number((Me=fn.body)==null?void 0:Me.subscription_id))}catch(fn){console.log(fn),pt=!0,Object(f.i)(f.a.BUNDLE_SUBSCRIBE_FAILED,{error_msg:fn.message,subscribe_to_publication_id:Wt,plan_id:an.id})}}this.props.addToAggregatedSubscriptionIds&&(Re==null?void 0:Re.length)&&this.props.addToAggregatedSubscriptionIds(Re),pt||Object(f.i)(f.a.BUNDLE_SUBSCRIBED,{numSubscriptions:this.state.checks?this.state.checks.length:0}),this.setState({loading:!1}),this.props.onContinue()}));var J;const pe=(J=this.props.purchased_plan)==null?void 0:J.interval;this.state={checks:Z.bundledPubs.reduce((ve,Ne,nt)=>{const Me=Ve({},ve);return Me[Ne.id]=!1,Me},{}),pubToPlan:Z.bundledPubs.reduce((ve,Ne,nt)=>{const Me=Ve({},ve);return Me[Ne.id]=Ne.plans&&Ne.plans.filter(Re=>Re.interval===pe)[0],Me},{}),pubToCoupon:Z.bundledPubs.reduce((ve,Ne,nt)=>{const Me=Ve({},ve);return Me[Ne.id]=Ne.coupon,Me},{}),loading:!1}}componentDidMount(){Object(f.i)(f.a.BUNDLE_SCREEN_SHOWN,{pubs_shown:JSON.stringify(this.props.bundledPubs.map(Z=>Z.id))})}render({bundledPubs:Z,email:J,pub:pe,purchased_plan:ve,nonRecBasedBundle:Ne,bundleBranch:nt},{checks:Me,pubToPlan:Re,loading:pt,pubToCoupon:Wt}){var an;const hn=(Object.keys(Me).filter(pn=>Me[pn]).reduce((pn,Kn)=>{var Jn;const Pr=Re[Kn],_r=parseInt((Jn=Wt[Kn])==null?void 0:Jn.percent_off)/100||0;return pn+(Pr?Pr.amount*(1-_r):0)},0)/100).toFixed(2);if(!Z||(Z==null?void 0:Z.length)===0)return"Loading...";const gn=(an=Z[0].plans[0])==null?void 0:an.currency,Ln=gn==="usd"?"$":gn==="gbp"?"\xA3":"",xt=Me?Object.values(Me).filter(pn=>pn).length:0,jn=nt==="coupon";return Object(o.h)("div",{className:"bundle-screen-wrap"},Object(o.h)("div",{className:"recommended-publications-text-container"},Object(o.h)("h2",{className:"suggestions-header"},Ne?"Get a discount on other Substacks you read":jn?`Get 20% off ${pe.name} recommendations`:`${pe.name} Recommends`),Object(o.h)("p",{className:"recommended-publications-text"},Ne?"Get access to all you care about. Get a 20% off on all your Substacks.":jn?`Subscribers to ${pe.name} get exclusive rates on these other Substacks:`:`Subscribe to Substacks ${pe.author_name} of ${pe.name} is recommending.`)),Object(o.h)("div",{className:"suggestion-box"},Z.map((pn,Kn)=>{const Jn=pn.coupon||{};if(!pn.plans||!Re[pn.id]||!Jn)return;const Pr=`${Object(g.getBaseUrl)(pn)}/?utm_source=suggest&utm_campaign=${pe.id}`,_r=pn.plans.filter(Or=>Or.interval===ve.interval)[0],or=(100-Number(Jn.percent_off))/100*_r.amount/100,Cr=Jn.id?Object(o.h)("p",null,Object(o.h)("span",{class:d()("old-price",{selected:Me[pn.id]})},Object(o.h)("del",null,"$",_r.amount/100)),Object(o.h)("span",{class:d()("new-price",{selected:Me[pn.id]})},` ${Ln}${or.toFixed(2)} per ${ve.interval}`)):Object(o.h)("p",null,Object(o.h)("span",{class:d()("new-price",{selected:Me[pn.id]})}," ",`${Ln}${(_r.amount/100).toFixed(2)} per ${ve.interval}`));return Object(o.h)("a",{key:pn.id,className:d()("publication",{last:Kn===Z.length-1})},Object(o.h)("div",{className:"suggestion-screen-publication-wrapper"},Object(o.h)("div",{className:"publication-content"},Object(o.h)(bt.a,{pub:pn,href:Pr,logo_url:pn.logo_url||pn.author_photo_url,className:d()("recommendation-icon",{selected:Me[pn.id]}),openInNewTab:!0}),Object(o.h)("div",{className:"text-checkbox-area"},Object(o.h)("a",{className:"publication-suggestion-text-area",href:Pr,target:"_blank"},Object(o.h)("div",{className:d()("publication-title",{selected:Me[pn.id]})},pn.name),Object(o.h)("div",{className:"byline"},Object(o.h)("span",{className:d()("publication-author",{selected:Me[pn.id]})},pn.author_name," \xB7"," "),Object(o.h)("span",{className:d()("publication-author",{selected:Me[pn.id]})},Cr))),Object(o.h)(te.b,{variant:"primary","data-testid":"add-button",look:"round",size:"small",hasLeftIcon:!0,className:d()("add-button",{checked:Me[pn.id]}),onClick:Or=>{this.toggleCheck(pn.id)}},Me[pn.id]?Object(o.h)("div",{className:"reader2-button-icon-circle"},Object(o.h)(ze.a,{size:20,strokeWidth:2.5})):Object(o.h)("div",{className:"reader2-button-icon-circle"},Object(o.h)(ue.a,{size:20,strokeWidth:2.5})))))))})),Object(o.h)("div",{className:"suggestion-button-container"},Object(o.h)("div",{className:"button-container-fadeout"}),Object(o.h)(te.b,{className:"subscribe-to-more","data-testid":"bundle-subscribe",disabled:xt===0||pt,loading:pt,onClick:()=>{this.submit(J)}},xt===0?"Select":`Subscribe for ${Ln}${hn} per ${ve.interval}`),Object(o.h)(te.b,{className:"maybe-later",disabled:pt,onClick:()=>{Object(f.i)(f.a.RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED,{number_selected_recommnedations:xt}),this.props.onContinue()}},"Skip for now")))}}const Ct=({confirmPaymentUrl:ye,onContinue:Z})=>{const[J,pe]=Object(l.k)(!1);Object(l.d)(()=>{Object(f.i)(f.a.SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN)},[]);const ve=()=>{pe(!0)};return Object(o.h)("div",{className:"confirm-payment-screen"},Object(o.h)("h2",null,I`Please confirm your payment`),Object(o.h)("p",null,I`Your bank requires additional authentication for this payment. Click 'Confirm Payment' to confirm your payment. After you're done, return to this page and click 'Continue'.`),Object(o.h)("div",null,Object(o.h)("a",{href:ye,target:"_blank",className:"button outline confirm-payment",onClick:ve,rel:"noopener noreferrer"},I`Confirm Payment`)," ",Object(o.h)(te.b,{className:"primary",onClick:Z,disabled:!J},I`Continue`)))},Mt=({email:ye})=>Object(o.h)("div",{className:"email-confirmation-screen"},Object(o.h)("h2",null,"Confirm your email address"),Object(o.h)("p",null,"We sent an email to ",ye," with a confirmation link. Click the link to finish your subscription."),Object(o.h)(le.g,{noInlineErrors:!0,action:Object(g.pathWithQuery)("/api/v1/free"),noJsAction:Object(g.pathWithQuery)("/api/v1/free",{nojs:!0}),onError:Z=>alert(Object(m.getNetworkErrorMessage)(Z)),onSuccess:Z=>alert(`Confirmation email sent to ${Z.body.email}. Click the link there to finish subscribing.`)},Object(o.h)("p",null,"Didn\u2019t get an email? Check your spam folder or ",Object(o.h)("button",{type:"submit"},"send email again")),Object(o.h)("input",{type:"hidden",name:"email",value:ye}),Object(o.h)("input",{type:"hidden",name:"resend_confirmation",value:"true"})));var Lt=t(105);class _t extends o.Component{componentDidMount(){Object(f.i)(f.a.SUBSCRIBE_EMAIL_SCREEN_SHOWN)}render({user:Z,pub:J,freeSignup:pe,freeSignupEmail:ve,coupon:Ne,referralCode:nt,onFreeSignup:Me}){return Object(o.h)("div",{className:"simple-email-screen"},Object(o.h)("h2",null,I`What’s your email?`),Ne&&Ne.required&&Object(o.h)("p",{className:`coupon ${Ne.loading?"loading":""} ${Ne.error?"error":""}`},Ne.loading?"Loading coupon":Ne.error?"Invalid coupon!":"Valid coupon!",` ${(Ne.name||Ne.id).toUpperCase()}`),Object(o.h)(Lt.a,{source:"subscribe_page",email:Z&&Z.is_magic?Z.email:null,user:Z&&Z.is_magic?null:Z,pub:J,freeSignup:pe,freeSignupEmail:ve,referralCode:nt,onConfirmationRequired:()=>null,onSuccess:Me||(()=>document.location.reload()),showArchives:!1,hideTerms:!0,autoFocus:!0}),Object(o.h)("p",{className:"subscribe-page-footer"},I`By submitting, you agree to`," ",Object(o.h)("a",{href:Object(g.pathWithQuery)("/tos",{utm_source:"subscribe_email"}),native:!0},I`Substack's Terms of Use`),", ",Object(o.h)("a",{href:Object(g.getPrivacyUrl)({pub:J,utm_source:"subscribe_email"}),native:!0},I`our Privacy Policy`),` ${I`and`} `,Object(o.h)("a",{href:Object(g.updateQuery)(`${Object(g.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe_email"}),native:!0},"our Information collection notice")))}}class Qt extends o.Component{componentDidMount(){Object(f.i)(f.a.SUBSCRIBE_LATER_SCREEN_SHOWN)}render({pub:Z,onContinue:J}){return Object(o.h)("div",{className:"subscribe-later-screen"},Object(o.h)("h2",null,I`You’re on the free list`),Object(o.h)("p",null,`${I`If you enjoy`} ${Z.name}, ${I`consider becoming a paid subscriber`}`,"."," ",Object(o.h)("b",null,Object(o.h)("a",{href:Object(g.getAboutUrl)(Z,{params:{utm_source:"subscribe_later",utm_content:"learn_more"}}),native:!0},I`Learn more`))),Object(o.h)(te.b,{className:"outline",onClick:J},I`Continue`))}}var un=t(26),Jt=t(202),Xt=t.n(Jt),yn=t(882),wn=t(814),Ze=t(953),Pe=t(959),Ye=t(215),Je=t.n(Ye),yt=Object.defineProperty,Dt=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,cn=(ye,Z,J)=>Z in ye?yt(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,vn=(ye,Z)=>{for(var J in Z||(Z={}))Ut.call(Z,J)&&cn(ye,J,Z[J]);if(Dt)for(var J of Dt(Z))zt.call(Z,J)&&cn(ye,J,Z[J]);return ye},Cn=(ye,Z,J)=>(cn(ye,typeof Z!="symbol"?Z+"":Z,J),J),Rn=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});const ir=Object(o.createContext)(!1),Hn=({className:ye,children:Z})=>Object(o.h)(ir.Consumer,null,J=>J?Object(o.h)(A.a,{gap:12,className:d()("subscription-benefit",ye)},ye.includes("checked")?Object(o.h)(wn.default,null):Object(o.h)(Ze.default,null),Z):Object(o.h)("li",{className:ye},Z)),nr=()=>Object(o.h)(ir.Consumer,null,ye=>ye?Object(o.h)(o.Fragment,null):Object(o.h)("hr",null)),Nn=({className:ye})=>Object(o.h)(ir.Consumer,null,Z=>Z?Object(o.h)(Pe.default,{className:ye}):Object(o.h)(o.Fragment,null));class ht extends $e{constructor(){super(...arguments);Cn(this,"setVariableAmount",Z=>{typeof Z!="undefined"&&(this.setState({dollarAmount:Z.toString().replace(/[^\d.]/g,"")}),this.setSelectedPlan(this.getPlans().find(J=>J.metadata.founding))),this.amountInput&&(this.amountInput.style.width="1px",this.amountInput.style.width=`${this.amountInput.scrollWidth}px`,this.amountInput.scrollLeft=0)}),Cn(this,"getPlanDuration",Z=>{const J=Z.id;return J.includes("yearly")?"yearly":J.includes("monthly")?"monthly":J.includes("founding")?"founding":"unknown"})}componentDidMount(){super.componentDidMount(),this.setVariableAmount(),Object(f.i)(f.a.SUBSCRIBE_SCREEN_SHOWN,{variants:JSON.stringify(window._preloads.experimentFeatures)}),Object(O.getVariantFor)("translate_choose_subscription_plan"),this.props.useNewVersion&&!Object(m.isMobileBrowser)()&&Object(O.getVariantFor)("use_dollar_discount_instead_of_percent"),this.props.exposeFreeTrialExperiment&&Object(O.exposeExperiment)("use_7d_free_trial_as_default")}componentWillUpdate(Z){Z.exposeFreeTrialExperiment&&!this.props.exposeFreeTrialExperiment&&Object(O.exposeExperiment)("use_7d_free_trial_as_default")}hasExplicitCoupon(){const J=this.getPlans().filter(Ne=>this.getCoupon(Ne))[0],pe=this.getCoupon(J);return pe&&![this.props.pub.default_group_coupon,this.props.pub.default_coupon].includes(pe.id)}performSubmit(Z){return Rn(this,null,function*(){var J,pe,ve;const{otherPubs:Ne,offerCoupons:nt,coupon:Me,pub:Re,addToAggregatedSubscriptionIds:pt}=this.props;if((pe=(J=this.state.selectedPlan)==null?void 0:J.metadata)==null?void 0:pe.bitcoin)return F.a.post("/api/v1/subscription/bitcoin").send(Z);if(this.state.selectedPlan){let Wt;nt&&(Wt=Je()(nt,"publication_id"),Z.coupon=(ve=Wt[Re.id])==null?void 0:ve.id,Z.visibility="private",Z.boost_source="two_pub_reader_bundle_offer"),(Me==null?void 0:Me.type)==="DEFAULT_FREE_TRIAL"&&(Z.boost_source="default_7d_free_trial");const an=yield F.a.post("/api/v1/subscription").send(Z);if(Ne){const fn=yield Promise.all(Ne.map(hn=>Rn(this,null,function*(){var gn,Ln,xt;if(!hn.plans||hn.payments_state!=="enabled")return;const jn=hn.plans.find(Jn=>Jn.interval===this.state.selectedPlan.interval&&Jn.interval_count===this.state.selectedPlan.interval_count),pn=vn({},Z);return jn?(pn.amount=jn.amount,pn.plan=jn.id,pn.subscribe_to_pub_id=hn.id,pn.savedCardToken=(gn=an.body)==null?void 0:gn.savedCardToken,pn.stripe_token=null,pn.coupon=(Ln=Wt[hn.id])==null?void 0:Ln.id,pn.coupon||console.error("Cannot find coupon for pub",hn.id),(xt=(yield F.a.post("/api/v1/subscription").send(pn)).body)==null?void 0:xt.subscription_id):void 0})));pt(fn)}return an}else return!this.props.email&&Z.email?F.a.post("/api/v1/free").send({email:Z.email,source:"subscribe_page"}):{noop:!0}})}onSuccess(Z){var J,pe;if((J=Z==null?void 0:Z.body)==null?void 0:J.bitcoinPaymentRequest)setTimeout(()=>{document.location.href=Object(ee.getOpennodePaymentUrl)(Z.body.bitcoinPaymentRequest.opennode_charge_id)},30);else if(this.state.selectedPlan)super.onSuccess(Z);else if((pe=Z==null?void 0:Z.body)==null?void 0:pe.prompt_to_login)setTimeout(()=>{document.location.href=Object(g.pathWithQuery)("/account/login",{email:Z.body.email})},30);else if(Z==null?void 0:Z.noop){const ve=this.emailInput?this.emailInput.value:this.props.email;this.props.onSuccess({email:ve,free:!0})}else Z&&Object(f.h)(),this.props.onFail()}getPaidBenefitsWithoutDuplicates(Z,J){return Z?J.paid_subscription_benefits:J.paid_subscription_benefits.filter(ve=>{const Ne=ve.trim().toUpperCase();return!J.free_subscription_benefits.find(Me=>{const Re=Me.trim().toUpperCase();return Re.indexOf(Ne)!=-1||Ne.indexOf(Re)!=-1})})}renderPublicationBenefits({hideFounding:Z,hideBenefitsWithExplicitCoupon:J,renderBenefitsIndependentOfState:pe,isFreePlan:ve,plan:Ne,disableMonthlySubscriptions:nt,otherPubs:Me,pub:Re}={}){if(J&&this.hasExplicitCoupon()&&!["thedispatch","thebulwark"].includes(this.props.pub.subdomain))return null;const pt=this.getPlans(),Wt=this.state.selectedPlan,an=pt.find(pn=>pn.metadata.founding),fn=Wt&&Wt.metadata&&Wt.metadata.founding;let hn;pe?hn=(Wt||pe)&&!ve?"checked":ve?"":"checked":hn=Wt?"checked":"";const gn=pe&&Re?Re.paid_subscription_benefits:this.getPaidBenefitsWithoutDuplicates(Wt,this.props.pub);let Ln,xt,jn;if(Ne&&Ne.interval==="year"&&!Ne.metadata.founding&&pe){xt=Ne.amount,jn=pt.find(Kn=>Kn.interval==="month").amount;const pn=xt/12;Ln=Math.round((1-pn/jn)*100)}if((Me==null?void 0:Me.length)&&Re)return(Me||[]).concat([Re]).map(pn=>Object(o.h)("li",{className:hn},`Subscriber-only posts and full archives of ${pn.name}`));switch(this.props.pub.subdomain){case"thedispatch":return[Object(o.h)(Hn,{className:hn},Wt&&Wt.interval==="forever"?["Founding member status ",Object(o.h)("b",null,"for life")]:"Member status"),Object(o.h)(Hn,{className:hn},"Full access to all editorial products including our flagship newsletters The Morning Dispatch, The G-File and The French Press"),Object(o.h)(Hn,{className:hn},"Access to member-only virtual gatherings with editors and commenting features on the site"),Wt&&Object(o.h)(Hn,{className:"checked"},"You can cancel anytime"),(pe&&ve||!Wt&&!pe)&&Object(o.h)(Hn,{className:"checked"},"Access to select public posts and podcasts")];default:return[gn.map(pn=>Object(o.h)(Hn,{className:hn},pn)),(pe&&ve||!Wt&&!pe)&&this.props.pub.free_subscription_benefits.map(pn=>Object(o.h)(Hn,{className:"checked"},pn)),!nt&&Ne&&Ne.interval==="year"&&!Ne.metadata.founding&&Ln>0&&(this.props.useDollarDiscountInsteadOfPercent?Object(o.h)(Hn,{className:"checked"},"Save ",Object(ee.currencySymbol)(Ne.currency),((jn*12-xt)/100).toFixed(2),"/year over monthly"):Object(o.h)(Hn,{className:"checked"},Ln,"% cheaper than subscribing monthly")),an&&(!pe||(Ne==null?void 0:Ne.metadata.founding))&&this.props.pub.founding_subscription_benefits.map(pn=>Object(o.h)(Hn,{className:fn||pe?"checked":""},pn))]}}renderBoxPlanRow({plans:Z,defaultPlan:J,plan:pe,selectedPlan:ve,defaultCoupon:Ne,selectedCoupon:nt,defaultTrial:Me,maxTrial:Re,disableMonthlySubscriptions:pt}){const Wt=this.getCoupon(pe);return Object(o.h)("div",{className:d()("box",{selected:ve&&ve.id===pe.id}),onClick:()=>{this.setSelectedPlan(pe)}},Object(o.h)("label",{className:d()({"with-coupon":!!Wt})},Object(o.h)("input",{name:"plan",type:"radio",value:pe.id,defaultChecked:Z.length===1||pe.id===J.id,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()}),Object(o.h)("div",{className:"plan-info-container"},Object(o.h)("p",{class:d()("plan-name",{selected:ve&&ve.id===pe.id})},pe.metadata.short_description?I(pe.metadata.short_description):pe.interval==="year"?I`Annual`:pe.interval==="forever"?I`Founding Membership`:pe.interval==="month"&&pe.interval_count===3?I`Quarterly`:pe.interval==="month"&&pe.interval_count===6?I`Semiannually`:I(`${Object(ee.toTitleCase)(pe.interval)}ly`)),Object(o.h)("span",{className:d()("price-wrap",pe.interval==="year"&&!pe.metadata.founding&&"annual")},Object(o.h)("span",{className:"price"},pe.metadata.founding?Object(o.h)(yn.a,{amount:this.state.dollarAmount,isSelected:ve&&ve.id===pe.id,plan:pe,outlineOnSelect:!0,onChangeAmount:this.setVariableAmount}):Object(ee.planBasePricing)(pe,{amount:Object(re.getDiscountedAmount)(pe,Wt)})),pe.interval==="year"&&!pe.metadata.founding&&Object(o.h)("span",{className:"price monthly"}," ","(",Object(ee.planBasePricing)(pe,{amount:Object(re.getDiscountedAmount)(pe,Wt)/12,interval:"month"}),")"),pe.metadata.bitcoin&&" in BTC")),Object(o.h)(Nn,{className:d()("checked-circle",{selected:ve&&ve.id===pe.id})}),Object(o.h)("div",{className:d()("details",{selected:ve&&ve.id===pe.id})},Object(o.h)(nr,null),Object(o.h)("ul",{className:"features"},Ne&&!Ne.trial_period_days&&!pe.metadata.founding&&Object(re.isCouponValidForPlan)(Ne,pe)&&Object(o.h)(Hn,{className:"checked bold"},Object(m.couponToString)(Ne,pe),Ne&&` (${I`originally`} ${Object(ee.planBasePricing)(pe)})`),Re>0&&Object(o.h)(Hn,{className:!pe.metadata.founding&&pe&&(pe.trial_period_days||Wt&&Wt.trial_period_days||Me)?"checked bold":"hidden"},I`${pe&&Math.max(pe.trial_period_days||0,Wt&&Wt.trial_period_days||0,Me)||Re} day free trial`),this.renderPublicationBenefits({hideFounding:!pe.metadata.founding,renderBenefitsIndependentOfState:!0,plan:pe,disableMonthlySubscriptions:pt,pub:this.props.pub})))))}renderPlans({pub:Z,useNewVersion:J=!1,disableMonthlySubscriptions:pe=!1,hideFounding:ve}={}){let Ne=this.getPlans();const nt=this.getDefaultPlan(),Me=this.state.selectedPlan,Re=this.getCoupon(Me),pt=Math.max(Math.round(((this.getTrialEndOverride()||Date.now()/1e3)-Date.now()/1e3)/60/60/24),0),Wt=Ne.filter(xt=>this.getCoupon(xt))[0],an=this.getCoupon(Wt),fn=Math.max(0,pt,an&&an.trial_period_days||0,Re&&Re.trial_period_days||0,...Ne.map(xt=>xt.trial_period_days||0));J&&(Object(m.isMobileBrowser)()?Ne=Ne.sort((xt,jn)=>{const pn=this.getPlanDuration(xt),Kn=this.getPlanDuration(jn);return pn==="yearly"?-1:pn==="founding"||Kn==="yearly"?1:Kn==="founding"?-1:0}):Ne=Ne.sort((xt,jn)=>{const pn=this.getPlanDuration(xt),Kn=this.getPlanDuration(jn);return pn==="monthly"?-1:pn==="founding"||Kn==="monthly"?1:Kn==="founding"?-1:0})),pe&&(Ne=Ne.filter(xt=>this.getPlanDuration(xt)!=="monthly"));const hn=Ne.length<=2&&Array.from(Object(ee.group_by)(Ne,"interval").values()).reduce((xt,jn)=>xt&&jn.length===1,!0)&&!Ne.find(xt=>xt.metadata.founding||xt.metadata.bitcoin)&&!J,[gn,Ln]=Xt()(Ne,xt=>!J||!Object(m.isMobileBrowser)()||["monthly","yearly"].includes(this.getPlanDuration(xt)));return Object(o.h)("div",{className:d()("tiered-plans",{"new-version":J},"rich-plan-benefits")},hn?Object(o.h)("div",{className:"tiers"},!this.hasExplicitCoupon()&&Object(o.h)("label",{className:Me?"":"selected"},Object(o.h)("span",{className:"term"},this.props.showMaybeLater?I`None`:I`Free`),Object(o.h)("span",{className:"price"},this.props.showMaybeLater?I`decide later`:`$0/${I`month`}`),Object(o.h)("input",{name:"plan",type:"radio",value:"",defaultChecked:!1,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()})),Ne.map(xt=>{const jn=this.getCoupon(xt);return Object(o.h)("label",{className:`${Me&&Me.id===xt.id?"selected":""} ${jn?"with-coupon":""}`},Object(o.h)("span",{className:"term"},xt.interval==="year"?I`Annual`:xt.interval==="forever"?I`Founders Membership`:I(`${Object(ee.toTitleCase)(xt.interval)}ly`)),Object(o.h)("span",{className:"price"},Object(ee.planBasePricing)(xt,{amount:Object(re.getDiscountedAmount)(xt,jn)})),xt.interval==="year"&&!xt.metadata.founding&&Object(o.h)("span",{className:"price"},"(",Object(ee.planBasePricing)(xt,{amount:Object(re.getDiscountedAmount)(xt,jn)/12,interval:"month"}),")"),Object(o.h)("input",{name:"plan",type:"radio",value:xt.id,defaultChecked:Ne.length===1||xt.id===nt.id,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()}))})):J?Object(o.h)("div",{className:"boxes"},gn.map(xt=>this.renderBoxPlanRow({plans:Ne,plan:xt,defaultPlan:nt,defaultCoupon:an,defaultTrial:pt,selectedCoupon:Re,selectedPlan:Me,maxTrial:fn,disableMonthlySubscriptions:pe})),Object(o.h)("div",{className:d()("box",{selected:!Me}),onClick:()=>{this.setSelectedPlan(null)}},Object(o.h)("label",null,Object(o.h)("input",{name:"plan",type:"radio",value:"free",defaultChecked:!1,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()}),Object(o.h)("div",{className:"plan-info-container"},Object(o.h)("p",{class:d()("plan-name",{selected:!Me})},Object(m.isMobileBrowser)()?this.props.showMaybeLater?I`None`:I`Free`:I`None`),Boolean(!Object(m.isMobileBrowser)())&&Object(o.h)("span",{className:d()("price-wrap",{"variable-amount":!1})},Object(o.h)("span",{class:"price"},I`Free`))),Object(o.h)(Nn,{className:d()("checked-circle",{selected:!Me})}),Object(o.h)("div",{className:d()("details",{selected:!Me})},Object(o.h)(nr,null),Object(o.h)("ul",{className:"features"},this.renderPublicationBenefits({hideFounding:!0,isFreePlan:!0,renderBenefitsIndependentOfState:!0,pub:this.props.pub}))))),Ln.map(xt=>this.renderBoxPlanRow({plans:Ne,plan:xt,defaultPlan:nt,defaultCoupon:an,defaultTrial:pt,selectedCoupon:Re,selectedPlan:Me,maxTrial:fn}))):Object(o.h)("div",{className:"rows"},Ne.map(xt=>{if(ve&&xt.metadata.founding)return;const jn=this.getCoupon(xt),pn=Je()(this.props.offerCoupons,"publication_id");let Kn=0;return(this.props.otherPubs||[]).concat([this.props.pub]).forEach(Jn=>{var Pr;const _r=Jn.plans.find(or=>or.interval===xt.interval);_r&&(Kn+=_r.amount*(1-Number(((Pr=pn[Jn.id])==null?void 0:Pr.percent_off)||0)/100))}),Object(o.h)("label",{className:d()({selected:Me&&Me.id===xt.id,"with-coupon":!!jn})},Object(o.h)("input",{name:"plan",type:"radio",value:xt.id,defaultChecked:Ne.length===1||xt.id===nt.id,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()}),xt.metadata.short_description?I(xt.metadata.short_description):xt.interval==="year"?I`Annual`:xt.interval==="forever"?I`Founding Membership`:xt.interval==="month"&&xt.interval_count===3?I`Quarterly`:xt.interval==="month"&&xt.interval_count===6?I`Semiannually`:I(`${Object(ee.toTitleCase)(xt.interval)}ly`),Object(o.h)("span",null,xt.metadata.founding?Object(o.h)(yn.a,{amount:this.state.dollarAmount,isSelected:Me&&Me.id===xt.id,plan:xt,outlineOnSelect:!0,onChangeAmount:this.setVariableAmount}):this.props.otherPubs?Object(ee.planBasePricing)(xt,{amount:Kn}):Object(ee.planBasePricing)(xt,{amount:Object(re.getDiscountedAmount)(xt,jn)}),xt.interval==="year"&&!xt.metadata.founding&&Object(o.h)("span",{className:"price"}," ","(",Object(ee.planBasePricing)(xt,{amount:this.props.otherPubs?Kn/12:Object(re.getDiscountedAmount)(xt,jn)/12,interval:"month"}),")"),xt.metadata.bitcoin&&" in BTC"))}),!this.hasExplicitCoupon()&&Object(o.h)("label",null,Object(o.h)("input",{name:"plan",type:"radio",value:"",defaultChecked:!1,disabled:Object(m.disabledIfSSR)(),onInput:()=>this.setSelectedPlan()}),this.props.showMaybeLater?I`None`:I`Free`)),(!J||hn)&&Object(o.h)("ul",{className:"features"},(Re?!Re.trial_period_days:an&&!an.trial_period_days)&&Object(o.h)("li",{className:Re?"checked bold":""},Object(m.couponToString)(Re||an,Re?Me:Wt),Re&&` (${I`originally`} ${Object(ee.planBasePricing)(Me)})`),fn>0&&!Me.metadata.founding&&Object(o.h)("li",{className:Me&&(Me.trial_period_days||Re&&Re.trial_period_days||pt)?"checked bold":""},I`${Me&&Math.max(Me.trial_period_days||0,Re&&Re.trial_period_days||0,pt)||fn} day free trial`),this.renderPublicationBenefits({hideBenefitsWithExplicitCoupon:!0,otherPubs:this.props.otherPubs,pub:Z})))}renderBitcoinModal(){return Object(o.h)(un.a,{className:"bitcoin-continue-modal",ref:Z=>this.bitcoinModal=Z},Object(o.h)("h2",null,"Pay with Bitcoin")," Please note that Substack cannot process refunds or auto-renewals for Bitcoin payments. You will now be sent to"," ",Object(o.h)("a",{href:"https://opennode.com",target:"_blank"},"OpenNode")," ","to complete your checkout.",Object(o.h)(te.b,{className:"bitcoin-continue-button",type:"submit"},"Continue"))}render({pub:Z,stripe_publishable_key:J,showMaybeLater:pe,useNewVersion:ve,useRichPlanBenefitsDesign:Ne,disableMonthlySubscriptions:nt,otherPubs:Me},{useFree:Re}){var pt,Wt,an,fn,hn,gn;const Ln=((pt=this.props.pub)==null?void 0:pt.plans)&&this.props.pub.plans.length>0&&this.props.pub.plans.some(xt=>{var jn;return(jn=xt.metadata)==null?void 0:jn.bitcoin});return Object(o.h)(ir.Provider,{value:!Object(m.isMobileBrowser)()},Object(o.h)(le.g,{className:d()("subscribe-screen",{"new-version":ve}),analyticsName:"Subscribe Form",performSubmit:xt=>this.performSubmit(xt),autoLock:!0,pub:Z,stripe_publishable_key:J,prepareData:xt=>{var jn;xt.captcha_response=(jn=this.captcha)==null?void 0:jn.getResponse()},onError:xt=>this.onError(xt),onSuccess:xt=>this.onSuccess(xt),skipStripeValidation:Re},Object(o.h)(A.c,{direction:"row",className:"other-pub-logos",justifyContent:"center"},Object(o.h)(bt.a,{pub:Z,size:56,logo_url:Z.logo_url}),Me&&Me.map(xt=>Object(o.h)(bt.a,{pub:xt,size:56,logo_url:xt.logo_url}))),this.renderMeta(),this.renderCoupon()||Object(o.h)(o.Fragment,null,Object(o.h)("h2",{class:((Wt=this.props.otherPubs)==null?void 0:Wt.length)?"with-subtitle":""},((an=this.props.otherPubs)==null?void 0:an.length)?Object(o.h)(sn.a,{text:I("Choose a plan")}):Object(o.h)(sn.a,{text:I(`Choose a ${Object(ee.getSubscriptionWord)(this.props.pub,"subscription")} plan`)})),((fn=this.props.otherPubs)==null?void 0:fn.length)&&Object(o.h)(y.b.B3,{align:"center",paddingBottom:32,paddingTop:0},"Pick a subscription for ",this.props.pub.name," and ",this.props.otherPubs[0].name," ")),Ln&&this.renderBitcoinModal(),this.renderPlans({useNewVersion:ve,useRichPlanBenefitsDesign:Ne,disableMonthlySubscriptions:nt,pub:this.props.pub,hideFounding:!!Me}),(!ve||Object(m.isMobileBrowser)())&&!this.props.otherPubs&&this.renderOtherSubscriptionOptions({showModal:ve}),(this.state.selectedPlan||pe)&&this.renderEmail(),this.state.selectedPlan&&!(ve&&Object(m.isMobileBrowser)())&&this.renderCreditCard(),this.renderTaxIdEntry(),this.renderTosCheckbox(),this.renderErrorContainer(),ve&&Object(m.isMobileBrowser)()?Object(o.h)(A.b,{className:"mobile-new-subscribe-screen-footer",alignItems:"center",justifyContent:"center",gap:12,paddingBottom:12,paddingTop:12,paddingLeft:12,paddingRight:12,bg:"primary",style:{position:"fixed",bottom:"0",width:"100%"}},this.state.selectedPlan&&this.renderCreditCard(),this.state.selectedPlan?this.renderApplePay()||Object(o.h)(te.b,{className:"primary",type:"submit",style:{"margin-top":0}},this.hasTrial()?I`Start free trial`:Object(ee.getSubscribeText)(Z)):pe?Object(o.h)(te.b,{className:d()("outline"),type:"submit"},I`Continue without paying`):Object(o.h)(te.b,{className:d()("no-later"),disabled:!0},I`You're already on the free plan`),this.renderCouponExplanation(this.state.selectedPlan),!this.state.selectedPlan&&this.shouldShowCreditCard()&&Object(o.h)("div",{className:"fancy-stripe input",style:{display:"none",height:48}})):Object(o.h)(o.Fragment,null,this.state.selectedPlan?((gn=(hn=this.state.selectedPlan)==null?void 0:hn.metadata)==null?void 0:gn.bitcoin)?Object(o.h)(te.b,{"data-test":"bitcoin-sub-button",className:"bitcoin subscribe-btn",onClick:()=>{var xt;return(xt=this.bitcoinModal)==null?void 0:xt.open()}},Object(o.h)("div",{style:{display:"flex",alignItems:"center",height:"100%",width:"100%"}},Object(o.h)("img",{style:{margin:"0 auto"},src:Object(ee.cdnSvg)("/img/pay-with-bitcoin.svg"),alt:"Pay with Bitcoin"}))):this.renderApplePay()||Object(o.h)(te.b,{className:"primary subscribe-btn",type:"submit"},this.hasTrial()?I`Start free trial`:Object(ee.getSubscribeText)(Z)):pe?Object(o.h)(te.b,{className:d()("outline",{"subscribe-btn":ve}),type:"submit"},I`Continue without paying`):Object(o.h)(te.b,{className:d()("no-later",{"already-new-version":ve}),disabled:!0},I`You're already on the free plan`),ve&&!Object(m.isMobileBrowser)()&&Object(o.h)(te.b,{className:"no-later new-version",onClick:()=>Rn(this,null,function*(){})},this.renderOtherSubscriptionOptions()),this.renderCouponExplanation(this.state.selectedPlan),!this.state.selectedPlan&&this.shouldShowCreditCard()&&Object(o.h)("div",{className:"fancy-stripe input",style:{visibility:"hidden",height:48}})),this.renderFooter()))}}var Ke=Object.defineProperty,Fe=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,on=Object.prototype.propertyIsEnumerable,qt=(ye,Z,J)=>Z in ye?Ke(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Bt=(ye,Z)=>{for(var J in Z||(Z={}))Kt.call(Z,J)&&qt(ye,J,Z[J]);if(Vt)for(var J of Vt(Z))on.call(Z,J)&&qt(ye,J,Z[J]);return ye},dn=(ye,Z)=>Fe(ye,Tt(Z)),Bn=(ye,Z,J)=>(qt(ye,typeof Z!="symbol"?Z+"":Z,J),J),$n=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class En extends o.Component{constructor(Z){super(Z);Bn(this,"submit",()=>$n(this,null,function*(){const J={recommended_publication_id:this.props.pub.id,source:"subscribe_flow",suggested:!0},pe=this.state.description?dn(Bt({},J),{description:this.state.description}):J;try{yield F.a.put("/api/v1/recommendations").send(pe)}catch(ve){}this.props.onContinue()})),this.state={description:null}}componentDidMount(){var Z;Object(f.i)(f.a.SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN,{pub_id:(Z=this.props.pub)==null?void 0:Z.id}),Object(O.exposeExperiment)("subscribe_flow_blurb_adoption")}render({pub:Z,suggestRecommendingVariant:J},{description:pe}){return Object(o.h)("div",{class:"suggest-to-recommend"},J==="treatment"?Object(o.h)("h2",null,"Recommend ",Z.name," to your readers"):Object(o.h)("h2",null,"Do you want to recommend ",Z.name,"?"),J==="control"&&Object(o.h)("p",null,"Let your readers know you like ",Z.name," by making a recommendation."),J==="treatment"&&Object(o.h)(o.Fragment,null,Object(o.h)(y.b,{color:"primary",size:14,lineHeight:20,weight:"bold",align:"left",paddingBottom:8,className:"blurb-label"},"Why are you recommending this Substack? (Optional)"),Object(o.h)("textarea",{placeholder:`I like ${Z.name} because...`,name:"description",value:pe,onInput:ve=>this.setState({description:ve.target.value})})),Object(o.h)("button",{class:"add-rec-button",onClick:()=>this.submit()},"Recommend"),Object(o.h)("button",{class:"maybe-later",onClick:this.props.onContinue},"Skip for now"))}}var On=t(64),sr=Object.defineProperty,Yn=Object.getOwnPropertySymbols,ar=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,Dr=(ye,Z,J)=>Z in ye?sr(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Tn=(ye,Z)=>{for(var J in Z||(Z={}))ar.call(Z,J)&&Dr(ye,J,Z[J]);if(Yn)for(var J of Yn(Z))er.call(Z,J)&&Dr(ye,J,Z[J]);return ye},pr=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});const lr=({suggestedPub:ye,isSelected:Z,last:J,url:pe,byline:ve,toggle:Ne})=>ye?Object(o.h)("a",{key:ye.id,className:d()("publication",{last:J})},Object(o.h)("div",{className:"suggestion-screen-publication-wrapper"},Object(o.h)("div",{className:"publication-content"},Object(o.h)(bt.a,{pub:ye,href:pe,logo_url:ye.logo_url||ye.author_photo_url,className:"recommendation-icon",openInNewTab:!0}),Object(o.h)("div",{className:"text-checkbox-area"},Object(o.h)("a",{className:"publication-suggestion-text-area",href:pe,target:"_blank",rel:"noreferrer"},Object(o.h)("div",{className:"publication-title"},ye.name),!!ve&&Object(o.h)("div",{className:"publication-author"},`By ${ve}`)),Object(o.h)(On.a,{checked:Z,onChange:Ne,label:"",name:""}))),Object(o.h)("p",{className:"publication-description"},ye.editorial_bio||ye.hero_text))):Object(o.h)(o.Fragment,null),Rr=({suggestions:ye,onContinue:Z,pub:J,email:pe,addToAggregatedSubscriptionIds:ve})=>{const[Ne,nt]=Object(l.k)({});Object(l.d)(()=>{const fn=ye.reduce((hn,gn)=>{const Ln=Tn({},hn);return Ln[gn.recommendedPublication.id]=!0,Ln},{});nt(fn),Object(f.i)(f.a.SUGGESTED_PUBS_SCREEN_SHOWN,{pubs_shown:JSON.stringify(ye.map(hn=>hn.recommendedPublication.id))})},[]);const Me=()=>Object.keys(Ne).filter(fn=>Ne[fn]).length,Re=fn=>{const hn=Tn({},Ne);hn[fn]=!hn[fn],nt(hn),Object(f.i)(f.a.RECOMMENDED_PUBLICATION_TOGGLED,{recommendedPublicationId:fn,selected:hn[fn]})},pt=(fn,hn)=>pr(void 0,null,function*(){var gn,Ln,xt,jn;const pn=Object.keys(Ne).filter(Kn=>Ne[Kn]).map(Kn=>Number(Kn));if(pn==null?void 0:pn.length){const Kn=yield F.a.post("/api/v1/bulk_signup").send({publications:Object.keys(Ne).filter(Jn=>Ne[Jn]).map(Jn=>Number(Jn)),email:fn,visibility:"private",source:"subscribe_page_suggestions"});hn&&((Ln=(gn=Kn.body)==null?void 0:gn.subscriptionResults)==null?void 0:Ln.length)&&hn((jn=(xt=Kn.body)==null?void 0:xt.subscriptionResults)==null?void 0:jn.map(Jn=>Jn.subscription_id))}Object(f.i)(f.a.SUBSCRIBE_PAGE_BULK_SUBSCRIBED,{numSubscriptions:Me()?Me():0}),Z()});if(!ye)return Object(o.h)("div",{className:"main-loader"},"Loading..");const Wt=fn=>{const hn=ye.reduce((gn,Ln)=>{const xt=Tn({},gn);return xt[Ln.recommendedPublication.id]=fn,xt},{});nt(hn)},an=Object(ee.getByLine)(J);return Object(o.h)("div",{className:"suggestions"},Object(o.h)("div",{className:"recommended-publications-text-container"},Object(o.h)(y.b,{as:"h2",size:32,lineHeight:40,color:"primary",weight:"extrabold",align:"center"},"Recommended by ",J.name),Object(o.h)(y.b,{as:"p",size:16,lineHeight:22,weight:"normal",align:"center",style:{"margin-bottom":"32px"}},"Substacks recommended by ",an),Object(o.h)("a",{className:"select-text",onClick:()=>{Me()>0?Wt(!1):Wt(!0)}},Me()>0?"Unselect all":"Select all")),Object(o.h)("div",{className:"suggestion-scroll-box"},ye.map((fn,hn)=>{const gn=Object(g.pathWithQuery)(Object(g.getBaseUrl)(fn.recommendedPublication),{utm_source:"suggest",utm_campaign:J.id});return Object(o.h)(lr,{suggestedPub:fn.recommendedPublication,isSelected:Ne[fn.recommendedPublication.id],toggle:()=>Re(fn.recommendedPublication.id),byline:Object(ee.getByLine)(fn.recommendedPublication),url:gn,last:hn===ye.length-1})})),Object(o.h)("div",{className:"suggestion-button-container"},Object(o.h)("div",{className:"button-container-fadeout"}),Object(o.h)(te.b,{className:"subscribe-to-more",onClick:()=>{pt(pe,ve)}},Me()===0?"Continue":Me()===1?"Subscribe free to this publication":`Subscribe free to ${Me()} publications`),Object(o.h)(te.b,{className:"maybe-later",onClick:()=>{Object(f.i)(f.a.RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED,{number_selected_recommnedations:Me()}),Z()}},"Maybe later")))};var cr=t(988),Lr=Object.defineProperty,Gn=(ye,Z,J)=>Z in ye?Lr(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,An=(ye,Z,J)=>(Gn(ye,typeof Z!="symbol"?Z+"":Z,J),J),mr=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class tr extends o.Component{constructor(Z){super(Z);An(this,"loadChildSubs",()=>mr(this,null,function*(){var J;if(!!(((J=this.props.publication)==null?void 0:J.child_publications)||[]).length)try{const ve=yield F.a.get("/api/v1/subscription");this.setState({subscription:ve.body})}catch(ve){}})),An(this,"emailPreferences",()=>{const{subscription:J}=this.state,{publication:pe}=this.props;return!J||!pe?null:Object(o.h)(cr.a,{publication:pe,subscription:J,reload:!1,title:Object(o.h)("div",null,"Set your email preferences:")})}),An(this,"toggleDisplayOnProfile",()=>{this.setState({displayOnProfile:!this.state.displayOnProfile})}),An(this,"continue",()=>mr(this,null,function*(){const{user:J,subscription_id:pe,onContinue:ve,gift:Ne,aggregatedSubscriptionIds:nt}=this.props,{displayOnProfile:Me}=this.state;if(!Ne&&J&&J.profile_set_up_at&&pe)try{const Re=(this.props.aggregatedSubscriptionIds||[]).concat(this.props.subscription_id).filter(pt=>pt);yield F.a.post("/api/v1/subscription/visibilities").send({ids:Re,visibility:Me?"public":"private"})}catch(Re){console.error("Failed to set subscription visibility",Re)}ve()})),this.state={displayOnProfile:!0}}componentDidMount(){return mr(this,null,function*(){if(Object(f.i)(f.a.SUBSCRIBE_THANK_YOU_SCREEN_SHOWN),yield this.loadChildSubs(),!this.props.gift&&this.props.user&&this.props.user.profile_set_up_at&&this.props.subscription_id){const Z=(this.props.aggregatedSubscriptionIds||[]).concat(this.props.subscription_id).filter(J=>J);yield F.a.post("/api/v1/subscription/visibilities").send({ids:Z,visibility:"public"}),Z.forEach(J=>Object(f.i)(f.a.NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED,{subscription_id:J}))}})}render({user:Z,pub:J,email:pe,giftee:ve,gift:Ne,isScheduled:nt,scheduledAt:Me,group:Re,donate:pt,subscription_id:Wt,plan:an,recipient:fn},{displayOnProfile:hn}){let gn;return Ne?nt?gn=`Your gift${ve?` to ${ve}`:""} has been scheduled for ${new Date(Me).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`:gn=ve?`Your gift of a ${Object(ee.pluralize)(an.interval_count,an.interval)} subscription to ${J.name} was sent to ${ve}`:I`Your gift was sent`:Re?gn=I`Your group will be administered by `+pe:pt?gn=I`Your donation matters.`:gn=I`You’re subscribed as `+pe,Object(o.h)("div",{className:"thank-you-screen"},Object(o.h)("h2",null,I`Thank you!`),Object(o.h)("p",null,gn),!(Ne||pt)&&Object(o.h)("a",{className:"change-email",href:Object(g.pathWithQuery)("/account/email",{utm_source:"post_subscribe"}),native:!0},"(",I`change email`,")"),this.emailPreferences(),Ne?[!fn&&Object(o.h)(te.b,{className:"primary",href:Object(g.updateQuery)({utm_medium:"web",utm_campaign:"give-another"})},I`Give another gift`),Object(o.h)(te.b,{className:"secondary",onClick:this.continue},I`Done`)]:Object(o.h)(o.Fragment,null,Z&&Z.profile_set_up_at&&Wt&&Object(o.h)("label",{className:"display-on-profile"},Object(o.h)("input",{type:"checkbox",checked:hn,onClick:this.toggleDisplayOnProfile}),"Display this on my profile"),Object(o.h)(te.b,{className:"primary",onClick:this.continue},I`Continue`)))}}var gr=Object.defineProperty,Vr=(ye,Z,J)=>Z in ye?gr(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,co=(ye,Z,J)=>(Vr(ye,typeof Z!="symbol"?Z+"":Z,J),J),zr=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class Nr extends o.Component{constructor(Z){super(Z);co(this,"continue",J=>zr(this,null,function*(){const{subscription_id:pe,aggregatedSubscriptionIds:ve}=this.props,{displayOnProfile:Ne}=this.state;if(this.offerDisplayOnProfile()){const nt=ve.concat(pe).filter(Me=>Me);try{yield F.a.post("/api/v1/subscription/visibilities").send({ids:nt,visibility:Ne?"public":"private"})}catch(Me){console.error("Failed to set subscription visibility",Me)}}J()})),this.state={displayOnProfile:!0}}componentDidMount(){return zr(this,null,function*(){if(Object(f.i)(f.a.SUBSCRIBE_TWEET_SCREEN_SHOWN),this.offerDisplayOnProfile()){const Z=(this.props.aggregatedSubscriptionIds||[]).concat(this.props.subscription_id).filter(J=>J);yield F.a.post("/api/v1/subscription/visibilities").send({ids:Z,visibility:"public"}),Z.forEach(J=>Object(f.i)(f.a.NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED,{subscription_id:J}))}})}offerDisplayOnProfile(){const{user:Z,subscription_id:J,display_on_profile_previously_offered:pe,pub:ve}=this.props;return!!(Z&&Z.profile_set_up_at&&J&&!pe&&!ve.parent_publication_id)}toggleDisplayOnProfile(){this.setState({displayOnProfile:!this.state.displayOnProfile})}onTweet(){var Z;const J=Object(g.pathWithQuery)(`${this.props.pub.base_url}/`,{r:((Z=this.props.user)==null?void 0:Z.id)?this.props.user.id.toString(36):null,utm_medium:"web",utm_campaign:"pss"}),pe=`I just subscribed to ${this.props.pub.name}`;Object(f.i)(f.a.SHARE_LINK_CLICKED,{name:"twitter",source:"post-subscribe"}),window.open(Object(g.pathWithQuery)("https://twitter.com/share",{url:J,text:pe}),"_blank"),setTimeout(()=>this.props.onContinue(),500)}render({pub:Z,wasSignup:J},{displayOnProfile:pe}){return Object(o.h)("div",{className:"tweet-screen"},Object(o.h)("h2",null,Z.plans?I`Spread the word`:"You're subscribed! Now spread the word"),this.offerDisplayOnProfile()&&Object(o.h)("label",{className:"display-on-profile"},Object(o.h)("input",{type:"checkbox",checked:pe,onClick:()=>this.toggleDisplayOnProfile()}),"Display this on my profile"),J?Object(o.h)("p",null,I`If you want to help ${Z.name}`,", ",Object(o.h)("b",null,I`share your reason for signing up`),"."):Object(o.h)("p",null,I`If you want to help ${Z.name} even more`,", ",Object(o.h)("b",null,I`share your reason for subscribing`),"."),Object(o.h)(te.b,{className:"twitter",onClick:()=>this.continue(()=>this.onTweet())},Object(o.h)("img",{src:Object(ee.cloudinary)("/img/share_twitter.white.png",36)}),"Tweet"),Object(o.h)(te.b,{className:"maybe-later",onClick:()=>this.continue(this.props.onContinue)},this.offerDisplayOnProfile()&&pe?I`Continue`:I`Maybe later`,Object(o.h)(dt.default,{height:20,width:20})))}}var Qn={"fancy-stripe":"frontend-main-subscribe-PledgeScreen-module__fancy-stripe--3piBA",pub_icon:"frontend-main-subscribe-PledgeScreen-module__pub_icon--1h46U",planContainer:"frontend-main-subscribe-PledgeScreen-module__planContainer--131rJ",plan_input:"frontend-main-subscribe-PledgeScreen-module__plan_input--39mAl",horizontal:"frontend-main-subscribe-PledgeScreen-module__horizontal--YED-3",tos_text:"frontend-main-subscribe-PledgeScreen-module__tos_text--1rZTO",themedSecondaryText:"frontend-main-subscribe-PledgeScreen-module__themedSecondaryText--4cTEL",themedPrimaryText:"frontend-main-subscribe-PledgeScreen-module__themedPrimaryText--2SSDl",themedPrimaryButton:"frontend-main-subscribe-PledgeScreen-module__themedPrimaryButton--15xBw",themedSecondaryButton:"frontend-main-subscribe-PledgeScreen-module__themedSecondaryButton--3RDpp",bottomFooter:"frontend-main-subscribe-PledgeScreen-module__bottomFooter--3q7F8",checkmarkIcon:"frontend-main-subscribe-PledgeScreen-module__checkmarkIcon--3yBau"},xr=t(35),uo=Object.defineProperty,fo=Object.defineProperties,Jr=Object.getOwnPropertyDescriptors,qr=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,So=Object.prototype.propertyIsEnumerable,ro=(ye,Z,J)=>Z in ye?uo(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,eo=(ye,Z)=>{for(var J in Z||(Z={}))ho.call(Z,J)&&ro(ye,J,Z[J]);if(qr)for(var J of qr(Z))So.call(Z,J)&&ro(ye,J,Z[J]);return ye},vo=(ye,Z)=>fo(ye,Jr(Z)),to=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});const Ue=[{id:0,name:"Yearly",amount:80,interval:"year"},{id:1,name:"Monthly",amount:8,interval:"month"},{id:2,name:"Founding",amount:150,interval:"year",founding:!0},{id:3,name:"No pledge"}],Be={SAVED_CARD:0,NEW_CARD:1},xe=({pub:ye,user:Z,email:J,cardLast4:pe,onSuccess:ve,stripe_publishable_key:Ne})=>{const[nt,Me]=Object(l.k)(0),[Re,pt]=Object(l.k)(""),[Wt,an]=Object(l.k)(!1),[fn,hn]=Object(l.k)(null),[gn,Ln]=Object(l.k)(null),xt=Object(m.isMobileBrowser)();Object(l.d)(()=>{Object(f.i)(f.a.PAYMENT_PLEDGE_SCREEN_SEEN)},[]),Object(l.d)(()=>{const Kn=Object(le.e)(Ne,ye),Jn=Kn&&Object(le.f)(Kn);hn(Kn),Ln(Jn)},[ye,Ne]);const jn=()=>to(void 0,null,function*(){return fn?yield fn.createToken(gn):{token:null,error:{message:""}}}),pn=Kn=>to(void 0,null,function*(){var Jn;an(!0);const Pr=Object.keys(Be).find(Cr=>Be[Cr]===Kn);let _r;if(Kn===Be.NEW_CARD){const{token:Cr,error:Or}=yield jn();if(Or){an(!1),pt(Or&&Or.message),Object(f.i)(f.a.PAYMENT_PLEDGE_MISSING_PAYMENT,{type:Or&&Or.type,code:Or&&Or.code,decline_code:Or&&Or.decline_code,reason:Or&&Or.message});return}_r=Cr}const or=Ue[nt];try{const Cr=yield F.a.post("/api/v1/subscription/pledge").send({stripe_token:_r,email:J,plan:Ue[nt]}),Or=(Jn=Cr==null?void 0:Cr.body)==null?void 0:Jn.needs_login,no=Cr==null?void 0:Cr.body.confirmPaymentUrl,mo=Cr==null?void 0:Cr.body.savedCardToken,ao={needs_login:Or,confirmPaymentUrl:no,savedCardToken:mo};Object(f.i)(f.a.PAYMENT_PLEDGE_SCREEN_SUBMITTED,vo(eo({planName:or.name,planInterval:or.interval,planAmount:or.amount},ao),{paymentMethodName:Pr})),ve({successProps:ao})}catch(Cr){Object(f.i)(f.a.PAYMENT_PLEDGE_SCREEN_FAILED,{planName:or.name,planInterval:or.interval,planAmount:or.amount,paymentMethodName:Pr,error:Cr.toString()}),pt("There was an error, please try again"),an(!1)}});return Object(o.h)(A.b,{style:{maxWidth:"440px",marginTop:xt?"0px":"-30px"}},Object(o.h)(A.b,{gap:32,paddingX:20,paddingBottom:{desktop:20,mobile:120}},Object(o.h)(Zt,{pub:ye}),Object(o.h)($t,{pub:ye,selectedPlanId:nt,setSelectedPlanId:Me}),xt?Object(o.h)(ut,{pub:ye}):Object(o.h)(Ot,{user:Z,selectedPlanId:nt,stripeCard:gn,cardLast4:pe,loading:Wt,stripeError:Re,onSuccess:ve,onSubmit:pn})),Object(o.h)(A.b,{className:Qn.bottomFooter,alignItems:"center",justifyContent:"center",gap:12,paddingY:12,paddingX:{desktop:12,mobile:20}},xt?Object(o.h)(Ot,{user:Z,selectedPlanId:nt,stripeCard:gn,cardLast4:pe,loading:Wt,stripeError:Re,onSuccess:ve,onSubmit:pn}):Object(o.h)(ut,{pub:ye})))},Ot=({user:ye,selectedPlanId:Z,stripeCard:J,cardLast4:pe,loading:ve,stripeError:Ne,onSuccess:nt,onSubmit:Me})=>{const Re=Ue[Z],pt=ye==null?void 0:ye.has_saved_payment,Wt=!pt,an=()=>{if(pt)return Be.SAVED_CARD;if(Wt)return Be.NEW_CARD};return Re.amount?Object(o.h)(A.b,{gap:12,style:{width:"100%",maxWidth:"400px"}},Ne&&Object(o.h)(y.b.B4,{className:Qn.themedSecondaryText,align:"center"},Ne),Object(o.h)(A.b,{className:Qn["fancy-stripe"]},pt&&Object(o.h)("div",{className:"input card-on-file"},Object(o.h)(A.c,{paddingTop:12,paddingBottom:12,gap:12},Object(o.h)(we.default,{className:"card-on-file-icon"}),Object(o.h)(y.b.B4,{className:Qn.themedSecondaryText},pe?`**** **** **** ${pe}`:"Use card on file"))),Wt&&J&&Object(o.h)(le.c,{className:"input",card:J})),Object(o.h)(xr.a,{className:Qn.themedPrimaryButton,priority:"primary",fill:"filled",disabled:ve,onClick:()=>Me(an())},"Pledge a subscription")):Object(o.h)(A.b,{style:{width:"100%",maxWidth:"400px"}},Object(o.h)(xr.a,{className:Qn.themedSecondaryButton,priority:"secondary",fill:"outline",onClick:()=>{Object(f.i)(f.a.PAYMENT_PLEDGE_SCREEN_SKIPPED),nt({})}},"Continue without pledging"))},ut=({pub:ye})=>Object(o.h)(y.b.B4,{color:"secondary",align:"center"},"By registering you agree to"," ",Object(o.h)("a",{className:Qn.tos_text,target:"_blank",rel:"noreferrer",href:Object(g.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",Object(o.h)("a",{className:Qn.tos_text,target:"_blank",rel:"noreferrer",href:Object(g.getPrivacyUrl)({pub:ye,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",Object(o.h)("a",{className:Qn.tos_text,target:"_blank",rel:"noreferrer",href:Object(g.updateQuery)(`${Object(g.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),Zt=({pub:ye})=>Object(o.h)(A.b,{alignItems:"center",gap:20},Object(o.h)(bt.a,{className:Qn.pub_icon,pub:ye,logo_url:ye.logo_url}),Object(o.h)(A.b,{gap:8},Object(o.h)(y.b.H3,{className:Qn.themedPrimaryText,align:"center"},"Pledge your support for ",ye.name),Object(o.h)(y.b.B4,{className:Qn.themedSecondaryText,align:"center"},ye.name," is free today. But your pledge can show that readers value and want to support their work."))),$t=({pub:ye,selectedPlanId:Z,setSelectedPlanId:J})=>Object(o.h)(A.b,{paddingY:20,paddingX:20,border:"detail",radius:8},Object(o.h)(A.b,{gap:16},Ue.map(pe=>{const ve=pe.id===Z;return Object(o.h)(A.c,{className:Qn.planContainer,gap:12,alignItems:"center",onClick:()=>J(pe.id)},Object(o.h)("input",{className:Qn.plan_input,type:"radio",name:"plan",onChange:()=>{J(pe.id)},checked:ve}),Object(o.h)(y.b.B4,{className:ve?Qn.themedPrimaryText:Qn.themedSecondaryText,color:ve?"primary":"secondary",weight:"semibold"},pe.name),pe.amount&&Object(o.h)(y.b.B4,{className:Qn.themedSecondaryText,color:"secondary"},"$",pe.amount,"/",pe.interval))})),Object(o.h)(A.a,{paddingTop:20,paddingBottom:20},Object(o.h)("hr",{className:Qn.horizontal})),Object(o.h)(A.c,{gap:16},Object(o.h)(wn.default,{className:Qn.checkmarkIcon}),Object(o.h)(y.b.B4,{className:Qn.themedSecondaryText},"Your card won't be charged unless ",ye.name," turns on payments in the future.")));var en=t(763);function Ft({pub:ye,onContinue:Z}){return Object(l.d)(()=>{Object(f.i)(f.a.CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN,{pub_id:ye==null?void 0:ye.id})},[ye]),Object(o.h)(A.b,{gap:36},Object(o.h)(en.a,{publication:ye,publicationAuthor:{id:ye.author_id,name:ye.author_name,photo_url:ye.author_photo_url},noFallback:!0,utm_campaign:"subscribe"}),Object(o.h)(te.b,{className:"maybe-later",onClick:Z},"Maybe later",Object(o.h)(dt.default,{height:20})))}var ln=Object.defineProperty,_n=Object.defineProperties,xn=Object.getOwnPropertyDescriptors,In=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,bn=(ye,Z,J)=>Z in ye?ln(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,kn=(ye,Z)=>{for(var J in Z||(Z={}))Fn.call(Z,J)&&bn(ye,J,Z[J]);if(In)for(var J of In(Z))Wn.call(Z,J)&&bn(ye,J,Z[J]);return ye},qn=(ye,Z)=>_n(ye,xn(Z)),rr=(ye,Z,J)=>(bn(ye,typeof Z!="symbol"?Z+"":Z,J),J);class Zn extends o.Component{constructor(Z,J){super(Z,J);rr(this,"onChangeIsScheduled",ve=>{this.setState({isScheduled:ve})}),rr(this,"onChangeScheduledAt",ve=>{this.setState({scheduledAt:ve})}),rr(this,"addToAggregatedSubscriptionIds",ve=>{const Ne=ve.filter(nt=>nt).concat(this.state.aggregateSubscriptionIds);this.setState({aggregatedSubscriptionIds:Ne})});var pe;this.state={requires_confirmation:Z.requires_confirmation,scheduledAt:new Date,subscription_id:Number(Z.subscription_id),later:Z.later,suggestions:Z.pub.suggestedPubs,shouldSuggestRecommending:this.props.user_has_own_publication,aggregatedSubscriptionIds:[],shouldUpsellChatApp:!!((pe=Z.chatUpsellInfo)==null?void 0:pe.shouldUpsell)}}componentDidMount(){var Z,J,pe,ve,Ne,nt;if(typeof window=="undefined")return;if((Z=this.props.user)==null?void 0:Z.is_paused){window.location.assign(Object(g.getCancelOrUncancelUrl)(this.props.pub));return}if(this.shouldRedirectToAccount()){window.location.assign(Object(g.getPubAccountSettingsUrl)(this.props.pub,{params:this.props.plan==="founding"&&{change_plan:!0}}));return}this.setFooterPosition(),setTimeout(()=>this.setFooterPosition(),0),this._setFooterPosition=this.setFooterPosition.bind(this),window.addEventListener("resize",this._setFooterPosition);const Me=this.props.coupon||this.props.referralCoupon,Re=this.props.group&&this.props.pub.default_group_coupon||this.props.pub.default_coupon,pt=((J=this.props.freeTrialExperiment)==null?void 0:J.variant)==="treatment"||((pe=this.props.freeTrialExperiment)==null?void 0:pe.variant)==="treatment_boxes"?(Ne=(ve=this.props.freeTrialExperiment)==null?void 0:ve.coupon)==null?void 0:Ne.id:null;!Me&&!Re&&((nt=this.props.freeTrialExperiment)==null?void 0:nt.coupon)&&this.setState({exposeFreeTrialExperiment:!0}),Object(ge.c)(this.props.pub,this.props.user,Me||Re||pt,{required:!!Me,group:this.props.group,gift:this.props.gift||this.props.donate},Wt=>{!Me&&!Re&&Wt&&!(Wt==null?void 0:Wt.loading)&&pt&&(Wt=qn(kn({},Wt),{name:"Get 7 days free",description:`Subscribe now to get a 7-day free trial to ${this.props.pub.name}`,type:"DEFAULT_FREE_TRIAL"})),this.setState({coupon:Wt})}),F.a.get("/api/v1/subscription/last4").then(Wt=>{var an;this.setState({cardLast4:(an=Wt.body)==null?void 0:an.last4})}).catch(Wt=>{console.error("Failed to fetch card on file:",Wt)}),this.state.suggestions||F.a.get(`/api/v1/recommendations/from/${this.props.pub.id}`).query({limit:7}).then(Wt=>{this.setState({suggestions:Wt.body})}).catch(Wt=>{console.error("Failed to fetch recommendations:",Wt)})}componentDidUpdate(Z,J){this.state.unstickFooter===J.unstickFooter&&this.setFooterPosition()}componentWillUnmount(){this._setFooterPosition&&(window.removeEventListener("resize",this._setFooterPosition),this._setFooterPosition=null)}setFooterPosition(){const Z=Object(m.canScroll)();this.state.unstickFooter!==Z&&this.setState({unstickFooter:Z})}shouldRedirectToAccount(){const{pub:Z,user:J,group:pe,gift:ve,donate:Ne,from_account:nt,skip_redirect_check:Me}=this.props;return nt||Me||J&&J.is_contributor?!1:ve||Ne?!Z.plans:J&&["gift","comp"].includes(J.subscription_type)||Z.has_recommendations&&!Z.plans?!1:Z.plans?J&&J.is_subscribed:pe||this.isFreeSubscribed({at_page_load:!0})}shouldSkipEmailPage(){var Z;return(this.props.onestep||this.props.gift||this.props.group||this.props.donate||this.props.coupon&&this.props.pub.plans||((Z=this.state)==null?void 0:Z.email))&&!this.props.autoSubmit}canShowMaybeLater(){return!(this.props.utm_medium==="podcast"||this.props.utm_source==="thread"||!this.state.later&&!this.props.just_signed_up&&(this.props.user&&!this.props.user.is_magic||this.props.freeSignup&&this.props.freeSignupEmail))}getEmail(){return this.state.email||this.props.user&&!this.props.user.is_magic&&this.props.user.email||this.props.freeSignup&&this.props.freeSignupEmail}isFreeSubscribed({at_page_load:Z=!1}={}){return!Z&&this.state.email||this.props.freeSignup&&this.props.freeSignupEmail||this.props.user&&(this.props.user.is_free_subscribed||this.props.user.is_subscribed)}onEmail({email:Z,prompt_to_login:J,requires_confirmation:pe,subscription_id:ve,didSignup:Ne}){J?document.location.href=Object(g.pathWithQuery)("/account/login",{redirect:this.props.next||document.location.href,email:Z}):!this.props.pub.plans&&pe?this.setState({email:Z,show_email_confirmation:!0,subscription_id:ve,later:Ne}):this.setState({email:Z,requires_confirmation:pe,subscription_id:ve,later:Ne})}onSubscribe(Z){this.setState(Object.assign({},Z,{subscribed:!0})),Z.free&&this.state.requires_confirmation&&this.setState({show_email_confirmation:!0})}onPledged(Z){this.setState(Object.assign({},Z,{pledged:!0}))}onConfirmPayment(){this.setState({paymentConfirmed:!0})}onThanked(){this.state.needs_login||this.props.group||this.props.gift?this.exit():this.props.otherPubs?Object(m.redirect)(Object(g.getBaseUrl)()):this.setState({thanked:!0})}onSuggested(){this.state.needs_login||this.props.group||this.props.gift?this.exit():this.setState({suggested:!0})}onSuggestedToWriter(){this.state.needs_login||this.props.group||this.props.gift?this.exit():this.setState({suggested:!0,shouldSuggestRecommending:!0})}exit(){if(this.state.needs_login)document.location.href=Object(g.getPubAccountSettingsUrl)(this.props.pub,{params:{redirect:this.props.next||"/",email:this.getEmail()}});else if(this.props.group)document.location.href=`${Object(g.getPubAccountSettingsUrl)(this.props.pub)}#group-management`;else if(this.state.requires_confirmation&&!this.state.subscribed)this.setState({requires_confirmation:!1,show_email_confirmation:!0});else if(this.state.redirect)Object(m.redirect)(this.state.redirect,{local_navigation:!1});else if(this.props.utm_medium==="web"&&["subscribe-widget","subscribe-widget-preamble"].includes(this.props.utm_source)&&this.props.utm_content){const Z=`/p/${this.props.utm_content}`;Object(m.redirect)(Z,{local_navigation:!1})}else{const Z=this.props.user&&!this.props.user.profile_set_up_at,J=Object(g.updateQuery)(this.props.next||"/",{plan:null,"profile-setup-message":Z?"post-subscribe-prompt":null});Object(m.redirect)(J,{local_navigation:!1})}}render({},{unstickFooter:Z}){return Object(o.h)("div",{className:`page subscribe-page ${Z?"unstick-footer":""}`},Object(o.h)($.a,{publication:this.props.pub,twitterCardUrl:Object(g.getTwitterSubscribeCardUrl)(this.props.pub),socialTitle:`Subscribe to ${this.props.pub.name}`}),Object(o.h)("div",{className:"container"},this.renderPage(this.props,this.state)))}renderPage({pub:Z,user:J,freeSignup:pe,freeSignupEmail:ve,referralCode:Ne,simple:nt,gift:Me,group:Re,donate:pt,manual_billing:Wt,quantity:an,plan:fn,stripe_publishable_key:hn,utm_campaign:gn,utm_content:Ln,utm_medium:xt,utm_source:jn,autoSubmit:pn,email:Kn,recipient:Jn,comment_id:Pr,just_signed_up:_r,referring_pub_ids:or,user_has_own_publication:Cr,useNewVersion:Or,bundledPubs:no,nonRecBasedBundle:mo,skipPodcastSetupPage:ao,disableMonthlySubscriptions:kr,otherPubs:io,offerCoupons:Xr,offer_user:jo,useDollarDiscountInsteadOfPercent:Oo,suggestRecommendingVariant:Wo,showPledgeScreen:ca,bundleBranch:bo},{show_email_confirmation:ua,confirmPaymentUrl:Ko,paymentConfirmed:Zo,giftee:da,subscribed:Xo,thanked:Ho,podcasted:Jo,suggested:qo,shouldSuggestRecommending:Io,maybeLater:Vo,coupon:so,isScheduled:ea,scheduledAt:ta,subscription_id:$o,virtualSignupFailed:To,purchased_plan:Do,suggestions:_o,cardLast4:Co,bundleShown:Ao,savedCardToken:Go,exposeFreeTrialExperiment:fa,pledged:ha,aggregatedSubscriptionIds:pa,shouldUpsellChatApp:Ia}){var na,ko,ra,oa;if(this.shouldRedirectToAccount()||!_o||(J==null?void 0:J.is_paused))return Object(o.h)("p",{className:"main-loader"},"Loading..");const Wr=this.getEmail();return(!Wr||!this.isFreeSubscribed())&&!this.shouldSkipEmailPage()?(Wr||ve)===Kn&&!To&&pn?Object(o.h)(rn,{pub:Z,user:J,email:Wr||ve,onFreeSignup:br=>this.onEmail(br.body),onFreeSignupFailed:()=>this.setState({virtualSignupFailed:!0}),referringPubId:(ko=(na=or==null?void 0:or.split)==null?void 0:na.call(or,","))==null?void 0:ko[0],additionalReferringPubIds:(ra=or==null?void 0:or.split)==null?void 0:ra.call(or,",").slice(1)}):nt||J&&J.is_magic?Object(o.h)(_t,{pub:Z,user:J,freeSignupEmail:ve,coupon:so,referralCode:Ne,onFreeSignup:br=>this.onEmail(br.body)}):Object(o.h)(v.a,{source:"subscribe_page",pub:Z,user:J,freeSignup:pe,freeSignupEmail:ve,coupon:so,referralCode:Ne,onFreeSignup:br=>this.onEmail(br.body),email:Wr||ve}):ua?Object(o.h)(Mt,{pub:Z,email:Wr,onContinue:()=>this.exit()}):!Xo&&jn!=="confirmation_email"&&Z.plans?Vo?Object(o.h)(Qt,{pub:Z,onContinue:()=>this.exit()}):Me?Object(o.h)(Se,{pub:Z,user:J,email:Wr,recipient:Jn,cardLast4:Co,coupon:so,gift:Me,group:Re,defaultPlan:fn,referralCode:Ne,stripe_publishable_key:hn,utm_campaign:gn,utm_content:Ln,utm_medium:xt,utm_source:jn,onSuccess:br=>this.onSubscribe(br),isScheduled:ea,scheduledAt:ta,onChangeIsScheduled:this.onChangeIsScheduled,onChangeScheduledAt:this.onChangeScheduledAt,comment_id:Pr}):Re?Object(o.h)(rt,{pub:Z,user:J,email:Wr,cardLast4:Co,coupon:so,gift:Me,group:Re,referralCode:Ne,manualBilling:Wt,offer_user:jo,quantity:Number(an)||null,stripe_publishable_key:hn,utm_campaign:gn,utm_content:Ln,utm_medium:xt,utm_source:jn,onSuccess:br=>this.onSubscribe(br)}):pt?Object(o.h)(Rt,{pub:Z,user:J,email:Wr,cardLast4:Co,coupon:so,gift:Me,group:Re,referralCode:Ne,quantity:Number(an)||null,stripe_publishable_key:hn,utm_campaign:gn,utm_content:Ln,utm_medium:xt,utm_source:jn,onSuccess:br=>this.onSubscribe(br)}):Object(o.h)(ht,{pub:Z,user:J,freeSignupEmail:ve,email:Wr,cardLast4:Co,coupon:so,gift:Me,group:Re,referralCode:Ne,manualBilling:Wt,defaultPlan:fn==="founding"?(oa=Object(Ee.getFoundingTierPlan)(Z))==null?void 0:oa.id:fn,showMaybeLater:this.canShowMaybeLater(),stripe_publishable_key:hn,utm_campaign:gn,utm_content:Ln,utm_medium:xt,utm_source:jn,onSuccess:br=>this.onSubscribe(br),onFail:()=>this.exit(),useNewVersion:Or,disableMonthlySubscriptions:kr,otherPubs:io,offerCoupons:Xr,useDollarDiscountInsteadOfPercent:Oo,addToAggregatedSubscriptionIds:br=>this.addToAggregatedSubscriptionIds(br),exposeFreeTrialExperiment:fa}):!Zo&&Ko?Object(o.h)(Ct,{confirmPaymentUrl:Ko,onContinue:()=>this.onConfirmPayment()}):Z.payments_state==="disabled"&&!ha&&(Object(O.exposeExperiment)("subscribe_pledge_screen"),ca)?Object(o.h)(xe,{pub:Z,user:J,email:Wr||ve,cardLast4:Co,onSuccess:br=>this.onPledged(br),stripe_publishable_key:hn}):!Ho&&(Zo||!Ko)&&Z.payments_state==="enabled"&&!(_o==null?void 0:_o.length)?Object(o.h)(tr,{user:J,pub:Z,gift:Me,isScheduled:ea,scheduledAt:ta,group:Re,donate:pt,email:Wr,giftee:da,publication:Z,subscription_id:$o,onContinue:()=>this.onThanked(),recipient:Jn,plan:Do,aggregatedSubscriptionIds:pa}):no&&no.length&&!Ao&&Do&&(J||Go)&&!Me&&!pt&&!Re?(bo&&Object(O.maybeGetVariantFor)("bundles_v2",["control","coupon"]),Object(o.h)(vt,{pub:Z,bundledPubs:no,email:Wr,onContinue:()=>{this.setState({bundleShown:!0,suggested:!0})},purchased_plan:Do,nonRecBasedBundle:mo,savedCardToken:Go,addToAggregatedSubscriptionIds:br=>this.addToAggregatedSubscriptionIds(br),bundleBranch:bo})):(!Ao&&Do&&bo&&Object(O.maybeGetVariantFor)("bundles_v2",["control","coupon"]),!qo&&!Me&&!Re&&(_o==null?void 0:_o.length)&&!Ao?Object(o.h)(Rr,{pub:Z,suggestions:_o,email:Wr,onContinue:()=>Cr?this.onSuggestedToWriter():this.onSuggested(),addToAggregatedSubscriptionIds:br=>this.addToAggregatedSubscriptionIds(br)}):!Me&&!pt&&!Re&&Io?Object(o.h)(En,{pub:Z,suggestRecommendingVariant:Wo,onContinue:()=>{this.setState({shouldSuggestRecommending:!1})}}):!Object(oe.default)("hide_podcast_email_setup_link")&&Object(Ee.userCouldSubscribeToPodcast)(J,this.props.pub)&&!ao&&!Jo&&!Me&&!pt&&!Re?Object(o.h)(gt,{pub:Z,onContinue:()=>this.setState({podcasted:!0})}):Ia?Object(o.h)(Ft,{pub:Z,onContinue:()=>this.setState({shouldUpsellChatApp:!1})}):Object(o.h)(Nr,{user:J,pub:Z,gift:Me,group:Re,donate:pt,onContinue:()=>this.exit(),display_on_profile_previously_offered:Boolean(Ho),subscription_id:$o,aggregatedSubscriptionIds:pa}))}}var Dn=t(697);const Vn=({sitemapHeader:ye,sitemapDescription:Z,sitemapLinks:J})=>Object(o.h)("div",{className:"container typography sitemap-page"},Object(m.setMetaData)({title:ye,description:Z}),Object(o.h)("h1",null,ye),Object(o.h)("div",null,J.map(pe=>Object(o.h)("p",null,Object(o.h)("a",{class:"sitemap-link",href:pe.href,native:!0},pe.text))))),fr=({subdomain:ye})=>Object(o.h)("div",{className:"page typography signup-page",path:"/not-found"},Object(m.setMetaData)({title:"Not Found"}),Object(o.h)("div",{className:"container"},Object(o.h)("h2",null,"Not Found"),Object(o.h)("p",null,"The page you are attempting to access is not found."),Object(o.h)("p",null,Object(o.h)("a",{href:Object(g.getDiscoverSearchUrl)({query:ye}),class:"button primary"},'Search Substack for "',ye,'"')),Object(o.h)("p",null,Object(o.h)("a",{href:Object(g.getBaseUrl)()},"Go to substack.com"))));var hr=t(23),wr=t(150),Ur=t(731),yr=t(60),Un=t(286),ur=t(81),Er=t(592),Mr=t(785),Kr=Object.defineProperty,Yr=(ye,Z,J)=>Z in ye?Kr(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Tr=(ye,Z,J)=>(Yr(ye,typeof Z!="symbol"?Z+"":Z,J),J),Fr=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});function Qr({pub:ye,user:Z,freeSignup:J,freeSignupEmail:pe,subscribeContent:ve}){return typeof ve!="string"?Object(o.h)("div",{className:"content-about-silhouette"},Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"})):Object(o.h)("div",{className:"content-about"},Object(o.h)(wr.a,{html:ve,pub:ye,user:Z,freeSignup:J,freeSignupEmail:pe}))}function go({pub:ye,people:Z}){const J=Object(ur.useMediaQuery)({maxWidth:540}),pe=J?[[]]:[[],[]];for(let ve=0;ve<Z.length;++ve)pe[J?0:ve%2].push(Z[ve]);return Object(o.h)("div",{className:"content-people"},pe.map(ve=>Object(o.h)("div",{class:"people-column"},ve.map(Ne=>Object(o.h)("div",{class:"content-person",onclick:nt=>Object(Un.a)(nt,Object(g.getProfileUrl)(Ne,ye,{utm_source:"about-page"}),{native:!0})},Object(o.h)(yr.b,{subject:Ne,profile:Ne,themed:!0}))))))}class po extends o.Component{constructor(Z,J){super(Z,J);if(Tr(this,"onTabClick",pe=>{this.loadTab({tabId:pe})}),this.state={subscribeContent:Z.subscribeContent,people:Z.people,tabs:[]},(Z.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const pe=Object(ee.group_by)(Z.pub.child_publications,"type");for(const ve of Array.from(pe.keys()).sort())this.state.tabs.push({id:ve,title:`${Object(ee.toTitleCase)(ve)}s`});this.state.tab=this.state.tabs.find(ve=>ve.id===Z.sort)||this.state.tabs[0]}}componentDidMount(){return Fr(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){Object(m.redirect)(Object(g.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return Fr(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:Z}=yield F.a.get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:Z})}catch(Z){console.error("Failed to load about content:",Z)}})}loadPeople(){return Fr(this,null,function*(){if(!this.state.people)try{const{body:Z}=yield F.a.get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:Z})}catch(Z){console.error("Failed to load people:",Z)}})}loadTab(){return Fr(this,arguments,function*({tabId:Z}={}){const J=Z?this.state.tabs.find(pe=>pe.id===Z):this.state.tab;this.state.tab.id!==J.id&&(this.setState({tab:J}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(g.updateQuery)({sort:J.id})))})}renderChildPublications({pub:Z,user:J,freeSignup:pe},{tab:ve}){let Ne,nt;Z.plans?(nt=J&&J.is_subscribed,Ne=nt):(Ne=pe||J&&J.is_free_subscribed,nt=J&&J.is_free_subscribed);const Me=Wt=>`${Object(g.getBaseUrl)(Wt)}/?showWelcome=true`;if(ve.id==="podcast")if(nt){const Wt=Ie.a.getMultiPubChildPodcasts(Z).map(an=>Object(Er.b)(an,Object(g.getPodcatcherSetupUrl)(an,{addBase:!0,user:null,section:null,noSection:null,params:null})));return Object(o.h)(Er.a,{pub:Z,showButton:!0,buttonText:"Set up podcast",items:Wt})}else{const Wt=Ie.a.getMultiPubChildPodcasts(Z).map(an=>Object(Er.b)(an,Me(an)));return Object(o.h)(Er.a,{pub:Z,showButton:!Ne,buttonText:I`Subscribe`,items:Wt})}const pt=(Z.child_publications?Z.child_publications.filter(Wt=>Wt.type===ve.id):[]).map(Wt=>Object(Er.b)(Wt,Me(Wt)));return Object(o.h)(Er.a,{pub:Z,showButton:!Ne,buttonText:I`Subscribe`,items:pt})}render({pub:Z,user:J,freeSignup:pe,freeSignupEmail:ve},{subscribeContent:Ne,people:nt,tabs:Me,tab:Re}){const pt=Me.length>0&&(Re==null?void 0:Re.id),Wt=!pt||(Re==null?void 0:Re.id)==="about";return Object(o.h)("div",{className:"page typography about-page typography"},Object(o.h)("div",{className:"container"},(J==null?void 0:J.is_contributor)&&Wt&&Object(o.h)(hr.a,{variant:"themed-secondary",href:Object(g.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content"}),localNavigation:!1,leftIcon:Object(o.h)(Ur.a,{size:20})},"Edit"),pt&&Object(o.h)(Mr.a,{tabs:Me,tab:Re.id,onTabClick:this.onTabClick}),Wt&&Object(o.h)(o.Fragment,null,Object(o.h)("div",{className:"about-content-wrap"},Object(o.h)(Qr,{pub:Z,user:J,freeSignup:pe,freeSignupEmail:ve,subscribeContent:Ne})),(nt??[]).length>0&&Object(o.h)(A.b,{gap:24},Object(o.h)("hr",{class:"about-page-divider"}),Object(o.h)("h3",{class:"about-page-section-title"},"People"),Object(o.h)(go,{pub:Z,people:nt}))),pt&&["podcast","newsletter"].includes(Re.id)&&this.renderChildPublications({pub:Z,user:J,freeSignup:pe},{tab:Re})))}}var yo=t(14),Zr=t.n(yo),Ar=t(290),ae=t.n(Ar),ce=t(228),me=t.n(ce),_e=t(73),Te=t(110);const He=512,et=({person:ye,user:Z,pub:J})=>{var pe;const ve=Object(o.createRef)(),Ne=Boolean(Z&&Z.id===ye.id);return Object(o.h)("div",{className:"person-hero"},Object(o.h)("img",{className:"person-hero-head",src:Object(ee.cloudinary)(Object(g.getUserPhotoUrl)(ye),He,{height:He,crop:"fill"}),alt:ye.name}),(ye.name||ye.bio||Ne)&&Object(o.h)("div",{className:"person-hero-info"},ye.name&&Object(o.h)("h1",{className:"person-hero-name"},ye.name),ye.bio?Object(o.h)("p",{className:"person-hero-bio"},ye.bio):Ne?Object(o.h)("p",{className:"person-hero-bio empty"},"You don't have a bio set"):(Z==null?void 0:Z.is_admin)?Object(o.h)("p",{className:"person-hero-bio empty"},"This person has no bio set"):null),Object(o.h)("div",{class:"person-buttons"},!Ne&&ye.profile_set_up_at&&Object(o.h)("a",{native:!0,href:Object(g.pathWithQuery)(Object(g.getReaderProfileUrl)(ye),{utm_source:"author-profile"})},Object(o.h)(te.b,{className:"outline"},"Reader Profile")),(Z==null?void 0:Z.is_admin)&&["thedispatch","thepostscript"].includes((pe=(J==null?void 0:J.parent_publication)||J)==null?void 0:pe.subdomain)&&[Object(o.h)(te.b,{className:"outline",onClick:()=>ve.current.open()},"Edit Contributor Profile"),Object(o.h)(Te.c,{contributor:!0,isOwnProfile:Ne,profile:ye,text:"Edit contributor profile",ref:ve,pub:J,user:Z,onBeforeClose:nt=>{nt&&document.location.reload()}})],Ne&&[Object(o.h)(te.b,{className:"outline",onClick:()=>ve.current.open()},"Edit Profile"),Object(o.h)(Te.c,{contributor:!1,isOwnProfile:!0,text:"Update your profile",ref:ve,pub:J,user:Z,onBeforeClose:nt=>{if(nt)return document.location.reload(),!1}})]))};var qe=t(84),ct=t(291),Pt=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});const At=12;class Yt extends o.Component{constructor(Z,J){super(Z,J);this.onTabClick=ve=>Object(m.stateTransaction)(this,Ne=>Pt(this,[Ne],function*({tab:nt}){nt!==ve&&(typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(g.updateQuery)({sort:ve})),yield Object(m.setState)(this,{tab:ve}),this.loadMoreContent(ve))})),this.onChange=({post:ve})=>ve&&Object(m.stateTransaction)(this,({archive:Ne,topPosts:nt,postLookup:Me})=>{Me[ve.id]=ve,this.setState({archive:Ne&&Ne.map(Re=>Re.id===ve.id?ve:Re),topPosts:nt&&nt.map(Re=>Re.id===ve.id?ve:Re),postLookup:Me})}),this.loadMoreContent=ve=>Object(m.stateTransaction)(this,(Ne,nt)=>Pt(this,null,function*(){const{fullyLoaded:Me,loading:Re}=Ne,pt=Ne[ve]||[];if(Re[ve]||Me[ve])return;const Wt=Object(ee.randomString)();this.setState({loading:Object.assign(Re,{[ve]:Wt})});let an,fn,hn;try{const{body:gn}=yield F.a.get(`/api/v1/user/${this.getPersonId(nt)}/${Ne.tabs.find(Ln=>Ln.id===ve).path}`).query({limit:At,offset:pt.length});fn=Je()(gn.publications,"id"),ve==="comments"?(hn=Je()(gn.posts,"id"),an=gn.comments):an=gn.posts}catch(gn){console.error("Failed to fetch content",gn)}Object(m.stateTransaction)(this,({loading:gn,fullyLoaded:Ln,publicationLookup:xt,postLookup:jn})=>{gn[ve]===Wt&&(an&&this.setState({[ve]:me()(pt.concat(an),"id")}),this.setState({publicationLookup:Object.assign(xt,fn),postLookup:Object.assign(jn,hn),loading:Object.assign(gn,{[ve]:!1}),fullyLoaded:Object.assign(Ln,{[ve]:Ln[ve]||an&&an.length<At})}))})})),this.renderPostsTabContent=()=>{const{user:ve}=this.props,{tab:Ne,publicationLookup:nt}=this.state,Me=this.state[Ne];if(!!Me)return Me.length?Me.map(Re=>Object(o.h)(qe.e,{key:Re.id,post:Re,pub:nt[Re.publication_id],user:ve,showDate:!0,showCoverImage:!0,onChange:this.onChange})):Object(o.h)("p",{className:"no-posts"},"No Posts")},this.renderCommentsTabContent=()=>{const{userProfile:ve,comments:Ne,postLookup:nt,publicationLookup:Me}=this.state;if(!!Ne)return Ne.length?Ne.map(Re=>Object(o.h)(Gt,{post:nt[Re.post_id],comment:Re,pub:Me[Re.publication_id]})):Object(o.h)("p",{className:"no-posts"},"No Comments")};const pe=[{id:"archive",title:"New",path:"posts"},{id:"topPosts",title:"Top",path:"top-posts"}];this.props.pub.community_enabled&&this.props.pub.has_community_content&&pe.push({id:"comments",title:"Discussion",path:"comments"}),this.state={tabs:pe,tab:(pe.find(ve=>ve.id===Z.sort)||pe[0]).id,loading:[],fullyLoaded:[],publicationLookup:{},postLookup:{},userProfile:Z.userProfile}}componentDidMount(){this.loadProfile(),this.loadMoreContent(this.state.tab)}getPersonId(Z){return Number((Z||this.props).matches.id.split("-")[0])}getPersonName(){var Z;let J=(Z=this.state.userProfile)==null?void 0:Z.name;return!J&&this.props.id&&(J=Object(ee.toTitleCase)(this.props.id.replace(/^\d+\-/,"").split("-").join(" "))),J}loadProfile(){return Pt(this,null,function*(){const Z=this.getPersonId();try{const{body:J}=yield F()(`/api/v1/user/${Z}/profile`);yield Object(m.stateTransaction)(this,(pe,ve)=>{this.getPersonId(ve)===Z&&this.setState({userProfile:J})})}catch(J){console.error("Failed to fetch profile",J),alert(Object(m.getNetworkErrorMessage)(J))}})}render({pub:Z,user:J},{userProfile:pe,tabs:ve,tab:Ne,fullyLoaded:nt}){return Object(o.h)("div",{className:"page typography person-page"},Object(m.setMetaData)({title:`${this.getPersonName()||"Profile"} - ${Z.name}`,description:pe==null?void 0:pe.bio,image:(pe==null?void 0:pe.photo_url)&&Object(ee.cloudinary)(pe.photo_url),socialTitle:null,seoProps:null}),Object(o.h)(nn,{userProfile:pe}),Object(o.h)("div",{className:"container"},pe?[Object(o.h)(et,{person:pe,user:J,pub:Z}),Object(o.h)(Mr.a,{tabs:ve,tab:Ne,onTabClick:this.onTabClick}),Ne==="comments"?this.renderCommentsTabContent():this.renderPostsTabContent(),!nt[Ne]&&Object(o.h)(_e.a,{threshold:640,onVisible:()=>this.loadMoreContent(Ne),className:"more-loader"})]:[Object(o.h)(et,{person:{photo_url:ee.TRANSPARENT_IMAGE_URL},user:null,pub:null}),Object(o.h)("div",{className:"more-loader centered"})]))}}const Gt=({pub:ye,post:Z,comment:J})=>Object(o.h)("div",{className:"comment",onClick:pe=>Object(m.redirect)(Object(g.getPostCommentsUrl)(ye,Z,J),{event:pe,local_navigation:!1})},Object(o.h)("div",{className:"comment-top-row"},"Comment on: ",Z.title),Object(o.h)("div",{className:"comment-body"},J.hidden?Object(o.h)("i",null,"hidden"):J.deleted?Object(o.h)("i",null,"deleted"):Object(ie.f)(J.body)),Object(o.h)("div",{className:"comment-date"},Zr()(J.date).standardDateOrTime())),nn=({userProfile:ye})=>Object(o.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:ae()(Object(ct.b)(ye),{json:!0,isScriptContext:!0})}});var St=t(148);class ft extends o.Component{constructor(Z,J){super(Z,J);this.state={freeSignup:Z.freeSignup,freeSignupEmail:Z.freeSignupEmail}}componentDidMount(){Object(m.preloadImage)(Object(ee.cloudinary)("/img/substack_wordmark.png",200))}onPrepareData(Z){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(Z){this.setState({freeSignup:!0,freeSignupEmail:Z.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(Z){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(J){console.error("Failed to close subscribe window:",J)}this.subscribeWindow=null}}render({pub:Z,user:J,no_border:pe},{freeSignup:ve,freeSignupEmail:Ne}){return Object(o.h)("div",{className:`embed-page ${pe?"no-border":""}`},Object(o.h)("div",{className:"embed-page-inner"},Z.logo_url&&Object(o.h)("a",{href:`${Z.base_url}/`,target:"_blank"},Object(o.h)("img",{className:"publication-logo",src:Object(ee.cloudinary)(Z.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),Object(o.h)("h1",{className:`publication-name${Z.logo_url?"":" no-logo"}`},Object(o.h)("a",{href:`${Z.base_url}/`,target:"_blank"},Object(o.h)(sn.a,{text:Z.name}))),Object(o.h)("p",{className:"publication-tagline"},!!Z.hero_text&&Object(o.h)(sn.a,{text:Z.hero_text})),Object(o.h)(St.b,{source:"embed",pub:Z,user:J,freeSignup:ve,freeSignupEmail:Ne,forceEmailInput:!0,onPrepareData:nt=>this.onPrepareData(nt),onSignup:nt=>this.onSignup(nt),onError:nt=>this.onError(nt)}),(J||ve)&&Object(o.h)("p",null,Object(o.h)("span",{className:"account-info-logout"},Object(o.h)("a",{href:Object(g.getSignoutUrl)({redirect:document.location.href,for_pub:Z.subdomain}),native:!0},"Sign out")))),Object(o.h)("a",{href:`${Object(g.getSubstackUrl)()}/?utm_source=embed&utm_content=${Z.subdomain}`,target:"_blank"},Object(o.h)("img",{ref:nt=>this.img=nt,className:"substack-watermark",src:Object(ee.cloudinary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=Object(ee.cloudinary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=Object(ee.cloudinary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}class kt extends o.Component{render(){return Object(o.h)("div",{className:"embed-test-page"},Object(o.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var mn=t(989),Mn=t(36);function Xn({pub:ye,user:Z,post:J,freeSignup:pe,freeSignupEmail:ve}){const Ne=Object(l.j)(null),nt=()=>Ne.current&&Ne.current.open();if(!J)return Object(o.h)("div",{className:"container invite-success"},Object(o.h)("p",null,"You accepted your invite to ",ye.name,"."),Object(o.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),Object(o.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",Object(o.h)(Mn.a,{onClick:nt},"profile is up to date")),Object(o.h)(Te.c,{ref:Ne,user:Z,freeSignup:pe,freeSignupEmail:ve,needsPhoto:!0}));const Me=J.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",Re="Your profile is set up and good to go!";return Object(o.h)(A.b,{alignItems:"center",className:"container",gap:32},Object(o.h)(A.b,{alignItems:"center",gap:4},Object(o.h)(y.b.PageTitle,null,Me),Object(o.h)(y.b.B3,null,Re)),Object(o.h)(xr.a,{href:ye.base_url},`Go to ${ye.name}`))}var tn=Object.defineProperty,Pn=(ye,Z,J)=>Z in ye?tn(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Sn=(ye,Z,J)=>(Pn(ye,typeof Z!="symbol"?Z+"":Z,J),J),zn=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class dr extends o.Component{constructor(){super(...arguments);Sn(this,"acceptInvite",()=>zn(this,null,function*(){var Z,J;try{const pe=yield F.a.post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);((Z=pe.body)==null?void 0:Z.postUrl)?location.href=(J=pe.body)==null?void 0:J.postUrl:Object(m.redirect)(`/invite-success/${this.props.matches.id}`)}catch(pe){const ve=Object(m.getNetworkErrorMessage)(pe);this.setState({error:ve})}}))}componentDidMount(){this.props.user||Object(m.redirectToLogin)()}render({pub:Z,post:J,user:pe,freeSignup:ve,freeSignupEmail:Ne,inviteToPost:nt,primaryEligiblePublications:Me,switchAccountRedirectUrl:Re},{error:pt}){if(pt)return Object(o.h)("div",{className:"container invite-success"},Object(o.h)("h3",null,"Error"),Object(o.h)("p",null,pt));const Wt=nt&&J&&J.type==="podcast",an=Wt&&pe?"Fill out your profile for your podcast appearance":Wt&&!pe?"Set up your profile for your podcast appearance":nt&&pe?"Set up your profile":nt&&!pe?"Fill out your profile":`Your invite to ${Z.name}`,fn=Wt?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":nt?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",hn=nt?"Update Profile & Accept Invite":"Accept Invite",gn=pe?"Already a writer?":"Already have an account?",Ln=pe?"Switch accounts":"Login";return Object(o.h)("div",{className:"container finish-invite"},Object(o.h)("h3",null,an),Object(o.h)("p",null,fn),Object(o.h)(Te.b,{pageTitle:"",user:pe,freeSignup:ve,freeSignupEmail:Ne,needsPhoto:!1,optionalPhoto:nt,isPostInvite:nt,primaryEligiblePublications:Me,onSuccess:this.acceptInvite,text:hn}),nt&&Re&&Object(o.h)("div",{class:"invite-switch-account"},gn," ",Object(o.h)("a",{href:Re},Ln)))}}Sn(dr,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});var Br=Object.defineProperty,$r=(ye,Z,J)=>Z in ye?Br(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Hr=(ye,Z,J)=>($r(ye,typeof Z!="symbol"?Z+"":Z,J),J),oo=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});class wo extends o.Component{constructor(){super(...arguments);Hr(this,"state",{loading:!0,invites:[]}),Hr(this,"onSuccess",()=>oo(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){Object(m.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:Z,user:J}=this.props;return Z.invite_only?J&&J.is_contributor?!0:!(!(Z.subscriber_invites>0)||!(J&&J.is_subscribed)):!1}loadInvites(){return oo(this,null,function*(){try{const Z=yield F.a.get("/api/v1/publication/invite");this.setState({invites:Z.body,loading:!1})}catch(Z){console.error("Failed to fetch invites:",Z),alert(Object(m.getNetworkErrorMessage)(Z))}})}render({pub:Z,user:J},{loading:pe,invites:ve}){if(!this.hasInvites())return Object(o.h)("p",{className:"main-loader"},"Loading\u2026");const Ne=J&&J.is_contributor,nt=Math.max(J&&J.invites,ve.length),Me=Math.max(nt,Z.subscriber_invites),Re=Me-nt;return Object(o.h)("div",{className:"invite-page page"},Object(o.h)("div",{className:"container"},Object(o.h)("h3",null,"Your invites"),Object(o.h)("p",null,Z.name," is invite-only, but you\u2019ve been granted"," ",Ne?"an infinite number of invites":Object(ee.pluralize)(Me,"invite")," to give out."),(Re>0||Ne)&&[!Ne&&Object(o.h)("h5",null,"You have ",Object(ee.pluralize)(Re,"invite")," left"),Object(o.h)(le.g,{ref:pt=>this.form=pt,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},Object(o.h)("div",{className:"sideBySideWrap"},Object(o.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),Object(o.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),Object(o.h)(te.b,{type:"submit",className:"primary"},"Invite")),Object(o.h)("div",{id:"error-container"}))],pe&&nt>0?Object(o.h)("p",null,Object(o.h)("br",null),"Loading\u2026"):ve.length>0?[Object(o.h)("h5",null,"Used invites"),Object(o.h)("ul",null,ve.sort((pt,Wt)=>new Date(Wt.created_at)-new Date(pt.created_at)).map(pt=>Object(o.h)("li",null,pt.inviteeUser&&pt.inviteeUser.name||""," on"," ",Zr()(pt.created_at).standardDate())))]:null))}}class jr extends o.Component{renderNotAvailable(Z,{time:J=!1}={}){const pe=J?"this gift has expired":"all of these gifts have already been claimed";return Object(o.h)("div",{className:"container reward-page gift-reward-page"},Object(o.h)("h2",null,"All gone"),Z,Object(o.h)("p",null,"Sorry, ",pe,". You can still subscribe if you like."),Object(o.h)("div",{class:"signup"},Object(o.h)(Lt.a,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe",hideLogin:!0,hideTerms:!0})))}renderForSender(){return[Object(o.h)("h3",{class:"sender-hint"},Object(o.h)("span",null,Sr(this.props.user),", share this page to give your gift"),Object(o.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:Z,t:J,user:pe,freeSignupEmail:ve,viral_gift_data:Ne}){const{sender_name:nt,count_remaining:Me,sender_id:Re}=Ne,pt=Object(ee.getGiftValueText)(Z.plans),Wt=pt?` (value: ${pt})`:"",an=`Accept ${nt||"your friend"}'s gift`,fn=`A three-month subscription to ${Z.name}${Wt}`,hn=Object(m.setMetaData)({title:an,description:fn,image:Z.logo_url});if(!J||!Me)return this.renderNotAvailable(hn);let gn=null;pe&&pe.id==Re&&(gn=this.renderForSender());let Ln="",xt=ve||"";pe&&!gn&&(Ln=pe.name,xt=pe.email);const jn=`${Me} left`;return Object(o.h)("div",{className:"container reward-page receive-page"},gn,hn,Object(o.h)("h2",null,"Accept Gift Subscription"),Object(o.h)("p",null,nt||"Your friend"," would like to give you a free, three-month subscription. ",Wt),Object(o.h)("p",null,Object(o.h)("b",null,jn)),Object(o.h)(le.g,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},Object(o.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Ln}),Object(o.h)("input",{type:"email",name:"email",placeholder:"Your email",value:xt}),Object(o.h)("input",{type:"hidden",value:J,name:"token"}),Object(o.h)("div",{id:"error-container"}),Object(o.h)("div",{className:"button-container"},Object(o.h)(te.b,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}class Gr extends o.Component{renderNotAvailable(Z,{reason:J="this gift is not available"}={}){return Object(o.h)("div",{className:"container reward-page gift-reward-page"},Object(o.h)("h2",null,"All gone"),Z,Object(o.h)("p",null,"Sorry, ",J,". You can still subscribe if you'd like."),Object(o.h)("div",{class:"signup"},Object(o.h)(Lt.a,{source:"gift_campaign_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe",hideLogin:!0,hideTerms:!0})))}render({pub:Z,user:J,freeSignupEmail:pe,campaign:ve}){if(!ve||!Z.plans)return this.renderNotAvailable();const Ne=Object(ee.getGiftValueText)(Z.plans,{interval:ve.gift_interval,interval_count:ve.gift_interval_count,min:500}),nt=Ne?` (${Ne} value)`:"",Me="Accept your gift",Re=`A ${ve.gift_interval_count} ${ve.gift_interval} subscription to ${Z.name}${nt}`,pt=Object(m.setMetaData)({title:Me,description:Re,image:Z.logo_url});if(ve.limit_hours&&ve.time_limit_start&&Zr()(ve.time_limit_start).add(ve.limit_hours,"hours").isBefore(Zr()()))return this.renderNotAvailable(pt,{reason:"the time has run out"});if(ve.limit_count&&ve.limit_count<=ve.count_so_far)return this.renderNotAvailable(pt,{reason:"all these gifts have been claimed"});let Wt="",an=pe||"";J&&(Wt=J.name,an=J.email);let fn;return ve.limit_count?fn=`${ve.limit_count-ve.count_so_far} left`:ve.limit_hours&&(ve.time_limit_start?fn=`${Zr()(ve.time_limit_start).add(ve.limit_hours,"hour").fromNow(!0)} left`:fn=`${ve.limit_hours} hours left`),Object(o.h)("div",{className:"container reward-page campaign-receive-page"},pt,Object(o.h)("div",{className:"gift-recieve-header"},Object(o.h)("h2",null,ve.name),Object(o.h)("p",{className:"campaign-pitch"},"Here's a free ",ve.gift_interval_count," ",ve.gift_interval," gift subscription ",nt," ","to ",Z.name,"."),Object(o.h)("p",{className:"urgency-text"},fn)),Object(o.h)(le.g,{action:"/api/v1/gift_campaigns/accept",onSuccess:()=>document.location.href="/account/gifts/accept"},Object(o.h)("input",{type:"email",name:"email",placeholder:"Your email",value:an}),Object(o.h)("input",{type:"hidden",value:ve.code,name:"code"}),Object(o.h)("div",{id:"error-container"}),Object(o.h)("div",{className:"button-container"},Object(o.h)(te.b,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function Sr(ye){return ye.name?ye.name.trim().split(/\s+/g)[0]:ye.email.split("@")[0]}var Po=t(967),Ro=t(874),aa=t(956),ia=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())});function Lo(){var ye;return typeof window!="undefined"?((ye=window._preloads)==null?void 0:ye.file)||{}:{}}function No(ye,Z){return`${ye.title.toLowerCase().replace(/\s/g,"_")}.${Z.toLowerCase()}`}function Wa({file:ye=Lo(),pub:Z}){const[J,pe]=Object(l.k)(null);return Object(l.d)(()=>(()=>ia(this,null,function*(){if(!ye.fileKey){const ve=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);ve.redirected&&(window.location.href=ve.url);const Ne=yield ve.json();pe(Ne)}}))(),[ye.fileKey]),Object(o.h)(Ka,{file:J||ye,pub:Z})}function Ka({file:ye,pub:Z}){var J;if(!ye.id)return Object(o.h)("div",{className:"page"},Object(o.h)("div",{className:"container"},Object(o.h)("h3",null,"Read Now"),Object(o.h)("div",{className:"popup-container"},Object(o.h)("div",{className:"overlay"}))));const pe=(J=ye.file_key)==null?void 0:J.split(".").pop().toUpperCase(),ve=Object(ee.numberToHumanFileSize)(ye.num_bytes),Ne=No(ye,pe);return Object(o.h)("div",{className:"page"},Object(o.h)("div",{className:"container"},Object(o.h)("span",{className:"table-list-title"},Object(o.h)("h3",null,"Read Now"),Object(o.h)("a",{className:"file-sidebar-header-button",href:`${Object(g.getBaseUrl)(Z)}/p/${ye.post_id}`},"Back")),Object(o.h)("div",{className:"table-list"},Object(o.h)("div",{className:"table-list-row table-list-header"},Object(o.h)("img",{className:`table-list-thumbnail ${ye.thumbnail&&ye.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:ye.thumbnail||`${Object(g.getBaseUrl)(Z)}/img/attachment_icon.svg`}),Object(o.h)("div",{className:"table-list-col"},Object(o.h)("div",{className:"table-list-h1"},ye.title||"Unknown File"),Object(o.h)("div",{className:"table-list-h2"},ve," \u2219 ",pe," File"))),Object(o.h)("a",{className:"table-list-row table-list-item",href:`${Object(g.getBaseUrl)(Z)}/api/v1/file/panels/${ye.file_key}`},Object(o.h)(Po.default,null),Object(o.h)("span",{className:"table-list-grow"},Object(o.h)("div",{className:"table-list-h1"},"Open in Panels"),Object(o.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),Object(o.h)(Ro.default,{stroke:"#666",strokeWidth:0,isStatic:!0})),Object(o.h)("a",{className:"table-list-row table-list-item",download:Ne,href:`${Object(g.getBaseUrl)(Z)}/api/v1/file/${ye.file_key}`},Object(o.h)(aa.default,null),Object(o.h)("span",{className:"table-list-grow"},Object(o.h)("div",{className:"table-list-h1"},"Download file"),Object(o.h)("div",{className:"table-list-h2"},Ne)),Object(o.h)(Ro.default,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var Ha=t(208),Va=(ye,Z,J)=>new Promise((pe,ve)=>{var Ne=Re=>{try{Me(J.next(Re))}catch(pt){ve(pt)}},nt=Re=>{try{Me(J.throw(Re))}catch(pt){ve(pt)}},Me=Re=>Re.done?pe(Re.value):Promise.resolve(Re.value).then(Ne,nt);Me((J=J.apply(ye,Z)).next())}),$a=({pub:ye,slug:Z})=>{var J;const[pe,ve]=Object(l.k)(null);Object(l.d)(()=>{function nt(){return Va(this,null,function*(){try{const Me=yield F.a.get(`/api/v1/posts/${Z}`);ve(Me.body)}catch(Me){console.error("Failed to load post:",Me),Me.status===404?alert("Post not found"):alert(Object(m.getNetworkErrorMessage)(Me))}})}nt()},[Z]);let Ne=!1;return typeof window!="undefined"&&(Ne=((J=Object(g.parseQuery)(window.location.href).autoplay)!=null?J:"0")==="1"),pe?Object(o.h)("div",{className:"video-player-embed-container"},Object(o.h)(Ha.a,{mediaUpload:pe.videoUpload,pub:ye,post:pe,autoPlay:Ne})):Object(o.h)("div",{className:"loading-container"})},Ga=t(292),ka=t(784),za=t(61),Ya=t.n(za),Qa=t(830),Za=t(579),Eo={button:"frontend-main-meetings-index-module__button--2-8aA",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--2Tvam",avatar:"frontend-main-meetings-index-module__avatar--QbX7c",pubIcon:"frontend-main-meetings-index-module__pubIcon--33u9U",offer:"frontend-main-meetings-index-module__offer--3IS2n",unavailable:"frontend-main-meetings-index-module__unavailable--2W0rz",check:"frontend-main-meetings-index-module__check--3uPCA",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--2jvuJ"},Xa=t(126),Ja=t(838),qa=t(839);const ei=({pub:ye})=>{const Z=5,J=3,pe=Z>0;return Object(o.h)(A.b,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},Object(o.h)(A.b,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},Object(o.h)(A.b,{gap:20,alignItems:"center"},Object(o.h)("div",{className:Eo.avatarWithPubLogo},Object(o.h)(Xa.a,{className:Eo.avatar,user:ye.contributors[0],size:112}),(ye.logo_url||ye.cover_photo_url)&&Object(o.h)(Le.a,{className:Eo.pubIcon,pub:ye,size:40})),Object(o.h)(y.b.H2,{align:"center"},"Book a meeting with Gabriel Birnbaum")),Object(o.h)(A.b,{bg:"primary",className:d()(Eo.offer,{[Eo.unavailable]:!pe}),radius:8,shadow:"xl",padding:20},Object(o.h)(A.c,{justifyContent:"space-between",paddingBottom:16},Object(o.h)(A.b,null,Object(o.h)(y.b.H3,{color:pe?"primary":"secondary"},"60-minute meeting"),Object(o.h)(y.b.B4,{color:pe?"primary":"secondary",paddingTop:4},"$400 \xB7"," ",pe?`${Z} slots available ${J?"this week":""}`:"No slots available")),pe?Object(o.h)(Ja.a,{className:Eo.check,size:28}):Object(o.h)(qa.a,{size:28,className:Eo.disabledCheck})),Object(o.h)(y.b.B4,{color:"secondary"},"You can ask me about bagels, primordial things, or lox. But this is not Bagelism or Bagel-related advice. After all, I live in San Francisco.")),Object(o.h)(xr.a,{className:Eo.button,disabled:!pe,grow:!0,localNavigation:!1,href:"/meetings/book"},pe?"Continue to book":"No meetings available")))};var Uo={button:"frontend-main-meetings-book-index-module__button--3ZioJ",tos:"frontend-main-meetings-book-index-module__tos--1RZHb",orderForm:"frontend-main-meetings-book-index-module__orderForm--1xS8n",input:"frontend-main-meetings-book-index-module__input--3HWtT",error:"frontend-main-meetings-book-index-module__error--1sor2",stripeError:"frontend-main-meetings-book-index-module__stripeError--3pty8"},ma=t(791),Oa=t(514);const ti=({stripe_publishable_key:ye,onComplete:Z,pub:J,booking:pe})=>{const[ve,Ne]=Object(l.k)(pe.name),[nt,Me]=Object(l.k)("");return Object(o.h)(o.Fragment,null,Object(o.h)("div",null,Object(o.h)(y.b.H2,{paddingTop:20,align:"center"},"Book a meeting with Gabriel Birnbaum"),Object(o.h)(y.b.B3,{align:"center",paddingTop:8},"Schedule a 60 minute meeting")),Object(o.h)(le.g,{className:Uo.orderForm,analyticsName:"Meeting",autoLock:!0,pub:J,stripe_publishable_key:ye,onSuccess:()=>Z("schedule",{name:ve,description:nt}),stripeErrorClassName:Uo.stripeError},Object(o.h)(A.b,{gap:32},Object(o.h)(ma.a,{alignment:"vertical",title:"Your name"},Object(o.h)(Oa.c,{value:ve,onChange:Re=>Ne(Re.target.value),placeholder:"Name..."})),Object(o.h)(ma.a,{alignment:"vertical",title:"What do you want to talk about?"},Object(o.h)(Oa.b,{value:nt,onChange:Re=>Me(Re.target.value),rows:4,maxLength:255,placeholder:"E.g. I\u2019m really interested in knowing..."})),Object(o.h)(le.c,{className:Uo.input})),Object(o.h)("div",{id:"error-container"}),Object(o.h)(A.a,{paddingTop:32,paddingBottom:32},Object(o.h)(xr.a,{className:Uo.button,grow:!0,type:"submit"},"Book meeting"))))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sa=function(ye,Z){return sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,pe){J.__proto__=pe}||function(J,pe){for(var ve in pe)pe.hasOwnProperty(ve)&&(J[ve]=pe[ve])},sa(ye,Z)};function Bo(ye,Z){sa(ye,Z);function J(){this.constructor=ye}ye.prototype=Z===null?Object.create(Z):(J.prototype=Z.prototype,new J)}var xo=function(){return xo=Object.assign||function(Z){for(var J,pe=1,ve=arguments.length;pe<ve;pe++){J=arguments[pe];for(var Ne in J)Object.prototype.hasOwnProperty.call(J,Ne)&&(Z[Ne]=J[Ne])}return Z},xo.apply(this,arguments)};function ni(ye,Z){Z===void 0&&(Z={});var J=Z.insertAt;if(!(!ye||typeof document=="undefined")){var pe=document.head||document.getElementsByTagName("head")[0],ve=document.createElement("style");ve.type="text/css",J==="top"&&pe.firstChild?pe.insertBefore(ve,pe.firstChild):pe.appendChild(ve),ve.styleSheet?ve.styleSheet.cssText=ye:ve.appendChild(document.createTextNode(ye))}}var ri=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;ni(ri);var Mo;(function(ye){ye.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",ye.EVENT_TYPE_VIEWED="calendly.event_type_viewed",ye.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",ye.EVENT_SCHEDULED="calendly.event_scheduled"})(Mo||(Mo={}));var ba=function(ye){var Z=ye.url,J=ye.prefill,pe=J===void 0?{}:J,ve=ye.pageSettings,Ne=ve===void 0?{}:ve,nt=ye.utm,Me=nt===void 0?{}:nt,Re=ye.embedType,pt=Ne.backgroundColor,Wt=Ne.hideEventTypeDetails,an=Ne.hideLandingPageDetails,fn=Ne.primaryColor,hn=Ne.textColor,gn=Ne.hideGdprBanner,Ln=pe.customAnswers,xt=pe.date,jn=pe.email,pn=pe.firstName,Kn=pe.guests,Jn=pe.lastName,Pr=pe.location,_r=pe.name,or=Me.utmCampaign,Cr=Me.utmContent,Or=Me.utmMedium,no=Me.utmSource,mo=Me.utmTerm,ao=Me.salesforce_uuid,kr=Z.indexOf("?"),io=kr>-1,Xr=Z.slice(kr+1),jo=io?Z.slice(0,kr):Z,Oo=[io?Xr:null,pt?"background_color="+pt:null,Wt?"hide_event_type_details=1":null,an?"hide_landing_page_details=1":null,fn?"primary_color="+fn:null,hn?"text_color="+hn:null,gn?"hide_gdpr_banner=1":null,_r?"name="+encodeURIComponent(_r):null,Pr?"location="+encodeURIComponent(Pr):null,pn?"first_name="+encodeURIComponent(pn):null,Jn?"last_name="+encodeURIComponent(Jn):null,Kn?"guests="+Kn.map(encodeURIComponent).join(","):null,jn?"email="+encodeURIComponent(jn):null,xt&&xt instanceof Date?"date="+oi(xt):null,or?"utm_campaign="+encodeURIComponent(or):null,Cr?"utm_content="+encodeURIComponent(Cr):null,Or?"utm_medium="+encodeURIComponent(Or):null,no?"utm_source="+encodeURIComponent(no):null,mo?"utm_term="+encodeURIComponent(mo):null,ao?"salesforce_uuid="+encodeURIComponent(ao):null,Re?"embed_type="+Re:null,"embed_domain=1"].concat(Ln?ii(Ln):[]).filter(function(Wo){return Wo!==null}).join("&");return jo+"?"+Oo},oi=function(ye){var Z=ye.getMonth()+1,J=ye.getDate(),pe=ye.getFullYear();return[pe,Z<10?"0"+Z:Z,J<10?"0"+J:J].join("-")},ai=/^a\d{1,2}$/,ii=function(ye){var Z=Object.keys(ye).filter(function(J){return J.match(ai)});return Z.length?Z.map(function(J){return J+"="+encodeURIComponent(ye[J])}):[]},va=function(ye){Bo(Z,ye);function Z(){return ye!==null&&ye.apply(this,arguments)||this}return Z.prototype.render=function(){return Object(L.createElement)("div",{className:"calendly-spinner"},Object(L.createElement)("div",{className:"calendly-bounce1"}),Object(L.createElement)("div",{className:"calendly-bounce2"}),Object(L.createElement)("div",{className:"calendly-bounce3"}))},Z}(L.Component),si={minWidth:"320px",height:"630px"},li=function(ye){Bo(Z,ye);function Z(J){var pe=ye.call(this,J)||this;return pe.state={isLoading:!0},pe.onLoad=pe.onLoad.bind(pe),pe}return Z.prototype.onLoad=function(){this.setState({isLoading:!1})},Z.prototype.render=function(){var J=ba({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return Object(L.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||si},this.state.isLoading&&Object(L.createElement)(va,null),Object(L.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:J}))},Z}(L.Component),ci=function(ye){Bo(Z,ye);function Z(J){var pe=ye.call(this,J)||this;return pe.state={isLoading:!0},pe.onLoad=pe.onLoad.bind(pe),pe}return Z.prototype.onLoad=function(){this.setState({isLoading:!1})},Z.prototype.render=function(){var J=ba({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return Object(L.createElement)(L.Fragment,null,this.state.isLoading&&Object(L.createElement)(va,null),Object(L.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:J}))},Z}(L.Component),ga=function(ye){return ye.open?Object(L.createPortal)(Object(L.createElement)("div",{className:"calendly-overlay"},Object(L.createElement)("div",{onClick:ye.onModalClose,className:"calendly-close-overlay"}),Object(L.createElement)("div",{className:"calendly-popup"},Object(L.createElement)("div",{className:"calendly-popup-content"},Object(L.createElement)(ci,xo({},ye)))),Object(L.createElement)("button",{className:"calendly-popup-close",onClick:ye.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),ye.rootElement):null},Ri=function(ye){Bo(Z,ye);function Z(J){var pe=ye.call(this,J)||this;return pe.state={isOpen:!1},pe.onClick=pe.onClick.bind(pe),pe.onClose=pe.onClose.bind(pe),pe}return Z.prototype.onClick=function(J){J.preventDefault(),this.setState({isOpen:!0})},Z.prototype.onClose=function(J){J.stopPropagation(),this.setState({isOpen:!1})},Z.prototype.render=function(){return Object(L.createElement)(L.Fragment,null,Object(L.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),Object(L.createElement)(ga,xo({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},Z}(L.Component),Li=function(ye){Bo(Z,ye);function Z(J){var pe=ye.call(this,J)||this;return pe.state={isOpen:!1},pe.onClick=pe.onClick.bind(pe),pe.onClose=pe.onClose.bind(pe),pe}return Z.prototype.onClick=function(){this.setState({isOpen:!0})},Z.prototype.onClose=function(J){J.stopPropagation(),this.setState({isOpen:!1})},Z.prototype.render=function(){return Object(L.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},Object(L.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&Object(L.createElement)("span",null,"powered by Calendly")),Object(L.createElement)(ga,xo({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},Z}(L.Component),ya="message";function ui(ye){var Z=ye||{},J=Z.onDateAndTimeSelected,pe=Z.onEventScheduled,ve=Z.onEventTypeViewed,Ne=Z.onProfilePageViewed;Object(L.useEffect)(function(){var nt=function(Me){var Re=Me.data.event;Re===Mo.DATE_AND_TIME_SELECTED?J&&J(Me):Re===Mo.EVENT_SCHEDULED?pe&&pe(Me):Re===Mo.EVENT_TYPE_VIEWED?ve&&ve(Me):Re===Mo.PROFILE_PAGE_VIEWED&&Ne&&Ne(Me)};return window.addEventListener(ya,nt),function(){window.removeEventListener(ya,nt)}},[ye])}const di=({booking:ye,onComplete:Z})=>{const[J,pe]=Object(l.k)(!1);return ui({onEventScheduled:()=>Z("success",{}),onEventTypeViewed:ve=>{pe(!0)}}),Object(o.h)(o.Fragment,null,Object(o.h)("div",null,Object(o.h)(y.b.H2,{paddingTop:20,align:"center"},"Book a meeting with Gabriel Birnbaum"),Object(o.h)(y.b.B3,{align:"center",paddingTop:8},"Schedule a 60 minute meeting")),typeof window!="undefined"&&Object(o.h)(li,{url:"https://calendly.com/d/gps-mjf-fvf/30-minute-meeting?hide_gdpr_banner=1",prefill:{name:ye.name,email:ye.email,customAnswers:{a1:ye.description}},styles:{minWidth:"320px",height:"670px",background:J?"transparent":"white"}}))},fi=({booking:ye})=>Object(o.h)("div",null,ye.name," - ",ye.email," - ",ye.description);var hi=Object.defineProperty,Yo=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,Ea=Object.prototype.propertyIsEnumerable,ja=(ye,Z,J)=>Z in ye?hi(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Fo=(ye,Z)=>{for(var J in Z||(Z={}))Pa.call(Z,J)&&ja(ye,J,Z[J]);if(Yo)for(var J of Yo(Z))Ea.call(Z,J)&&ja(ye,J,Z[J]);return ye},pi=(ye,Z)=>{var J={};for(var pe in ye)Pa.call(ye,pe)&&Z.indexOf(pe)<0&&(J[pe]=ye[pe]);if(ye!=null&&Yo)for(var pe of Yo(ye))Z.indexOf(pe)<0&&Ea.call(ye,pe)&&(J[pe]=ye[pe]);return J};const mi=ye=>{var Z=ye,{step:J,booking:pe,onComplete:ve}=Z,Ne=pi(Z,["step","booking","onComplete"]);switch(J){case"order":return Object(o.h)(ti,Fo({booking:pe,onComplete:ve},Ne));case"schedule":return Object(o.h)(di,Fo({booking:pe,onComplete:ve},Ne));case"success":return Object(o.h)(fi,Fo({booking:pe},Ne))}},Oi=({stripe_publishable_key:ye,pub:Z,user:J})=>{const[pe,ve]=Object(l.k)("order"),[Ne,nt]=Object(l.k)({name:J.name,email:J.email}),Me=mi({step:pe,booking:Ne,onComplete:(Re,pt)=>{nt(Fo(Fo({},Ne),pt)),ve(Re)},pub:Z,stripe_publishable_key:ye,user:J});return Object(o.h)(A.b,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},Object(o.h)(A.b,{paddingX:24,gap:32,style:{width:pe==="schedule"?500:400,maxWidth:"100%",boxSizing:"border-box"}},Me),Object(o.h)(y.b,{className:Uo.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By registering you agree to Substack's"," ",Object(o.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",Object(o.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",Object(o.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")))};var bi=Object.defineProperty,vi=Object.defineProperties,gi=Object.getOwnPropertyDescriptors,_a=Object.getOwnPropertySymbols,yi=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Ca=(ye,Z,J)=>Z in ye?bi(ye,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):ye[Z]=J,Qo=(ye,Z)=>{for(var J in Z||(Z={}))yi.call(Z,J)&&Ca(ye,J,Z[J]);if(_a)for(var J of _a(Z))Pi.call(Z,J)&&Ca(ye,J,Z[J]);return ye},la=(ye,Z)=>vi(ye,gi(Z));const Ei=1e3*60*60*24,Sa="domain-redirect-time";class ji extends o.Component{constructor(Z,J){super(Z,J);this.state=Z.initialData||{}}componentDidUpdate(Z,J){var pe,ve,Ne,nt;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(Qo({},this.props.initialData));const Me=(ve=(pe=this.state.pub)==null?void 0:pe.theme)==null?void 0:ve.web_bg_color,Re=document.documentElement;Re&&Me&&((nt=(Ne=J==null?void 0:J.pub)==null?void 0:Ne.theme)==null?void 0:nt.web_bg_color)!==Me&&(Re.style.background=Me)}componentDidMount(){var Z,J,pe,ve;const Ne=(ve=(pe=(J=(Z=this.props)==null?void 0:Z.initialData)==null?void 0:J.pub)==null?void 0:pe.theme)==null?void 0:ve.web_bg_color,nt=document.documentElement;nt&&Ne&&(nt.style.background=Ne);const Me=this.loadedWithLikelyLoggedInParam()?"param":null;Me&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:Me}):this.useIframe()&&window.addEventListener("message",Re=>this.handleFrameMessage(Re))}shouldBlockLoginRedirect(){var Z;const J=parseInt(Object(a.getStoredValue)(Sa,0));return this.state.block_auto_login||!((Z=this.state.pub)==null?void 0:Z.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-J<=Ei||Object(g.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(Z){var J,pe,ve;if(((J=Z.data)==null?void 0:J.type)!=="frame-state")return;const Ne=!this.shouldBlockLoginRedirect()&&((pe=Z.data)==null?void 0:pe.loggedInAtSubstack);Object(f.i)(f.a.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(ve=Z.data)==null?void 0:ve.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:Ne}),Ne&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:Z}={}){Object(f.i)(f.a.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:Z==="param",source:Z}),Object(a.setStoredValue)(Sa,`${Date.now()}`),location.href=Object(m.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!Object(g.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var Z,J;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((Z=this.state.pub)==null?void 0:Z.custom_domain)||Object(g.urlIsRegularlyShownInIframe)((J=window==null?void 0:window.location)==null?void 0:J.href))}render({coupon:Z},{pub:J,section:pe,user:ve,userProfile:Ne,freeSignup:nt,freeSignupEmail:Me,posts:Re,post:pt,truncatedPost:Wt,pinnedPosts:an,newPosts:fn,topPosts:hn,communityPosts:gn,communityAction:Ln,searchPosts:xt,inlineComments:jn,latestChildPosts:pn,latestSectionPosts:Kn,subscribeContent:Jn,homepageLinks:Pr,recommendations:_r,numRecommendations:or,allSubscribedPubs:Cr,fullySubscribedPubs:Or,sitemapHeader:no,sitemapDescription:mo,sitemapLinks:ao,referralCode:kr,referralCoupon:io,hide_intro_popup:Xr,post_reaction_token:jo,stripe_publishable_key:Oo,viral_gift_data:Wo,campaign:ca,referralCampaign:bo,file:ua,primaryEligiblePublications:Ko,flagged_as_spam:Zo,switchAccountRedirectUrl:da,readerIsSearchCrawler:Xo,commentId:Ho,user_has_own_publication:Jo,selectionFromQuery:qo,siteConfigs:Io={},blurbs:Vo,noBalanceHeroText:so,embeddedPublications:ea,themeVariables:ta,subdomainNotFound:$o,freeTrialCoupon:To,signupForFreeVariant:Do,people:_o,useNewSubscribePage:Co,bundledPubs:Ao,nonRecBasedBundle:Go,useNewMobileSubscribePage:fa,idToMagicLink:ha,token:pa,podcast_rss_url:Ia,publicationSettings:na,disableMonthlySubscriptions:ko,otherPubs:ra,offerCoupons:oa,useDollarDiscountInsteadOfPercent:Wr,freeTrialExperiment:br,suggestRecommendingVariant:Si,showPledgeScreen:Da,bundleBranch:Ii,chatUpsellInfo:Di,isChatActive:wa}){var Ma,Ta,Aa;const Ra=Ya()(this.state.comments)?this.state.comments:[],La=Object(O.getVariantFor)("longer_freewall",{skipExposure:!0});if($o)return Object(o.h)(fr,{subdomain:$o});if(Zo&&!(ve==null?void 0:ve.is_global_admin))return Object(o.h)("div",{className:"page typography signup-page",path:"/flagged"},Object(m.setMetaData)({title:"Flagged as TOS violation"}),Object(o.h)("div",{className:"container"},Object(o.h)("h2",null,"Publication Not Available"),Object(o.h)("p",null,"The page you are attempting to access is unavailable."," ",Object(o.h)("a",{href:`${Object(g.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),Object(o.h)("p",null,Object(o.h)("a",{href:Object(g.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const Ir=Object(H.b)(pt,J);J.hero_image&&(Ir.image=J.hero_image);const Na=Boolean(J==null?void 0:J.theme),wi=Object(s.getCurrentUrl)().startsWith("/chat");return Object(o.h)(Za.a,{user:ve,siteConfigs:Io,hasThemedBackground:Na,locale:this.state.language,experimentInfo:this.props.initialData},Object(m.setMetaData)(la(Qo({},Ir),{themeColor:(Ma=J==null?void 0:J.theme)==null?void 0:Ma.web_bg_color})),Object(o.h)(_i,{user:ve}),Object(o.h)(Ci,{user:ve,pub:J}),Object(o.h)("div",{className:d()("main typography",{"use-theme-bg":Na,"should-flex":wi}),id:"main"},this.useIframe()&&Object(o.h)("iframe",{src:`${Object(g.getSubstackUrl)()}/channel-frame`,class:"channel-frame",width:"0",height:"0"}),Object(o.h)(H.a,{publication:J}),Object(o.h)(h.Match,{path:"/"},({path:vr})=>{var Ua;let lo="/home";/^\/about\b/.test(vr)?lo="/about":/^\/chat\b/.test(vr)?lo="/chat":/^\/podcast\b/.test(vr)?lo="/podcast":/^\/archive\b/.test(vr)?lo="/archive":/^\/recommendations\b/.test(vr)?lo="/recommendations":/^\/listen\b/.test(vr)?lo="/listen":pe?lo=pe.id:/^\/p\//.test(vr)&&(lo=((Ua=/^\/p\/([^/?#]+)/.exec(vr))==null?void 0:Ua[0])||"/p");let zo;typeof window!="undefined"&&window.location.search&&(zo=Object(g.parseQuery)(window.location.search));const Ba=/^\/p\/([^/?#]*)/.exec(vr),xa=Ba&&!((pt==null?void 0:pt.type)==="page"&&pt.slug===Ba[1]),Fa=vr.startsWith("/subscribe")||vr.startsWith("/finish-invite")||vr.startsWith("/meetings"),Mi=vr.startsWith("/chat/posts/");return pe?Object(o.h)(r.a,{pub:J,user:ve,freeSignup:nt,freeSignupEmail:Me,hide_subscribe_cta:vr.startsWith("/subscribe"),selectedSectionId:lo,isPostView:xa,showCustomerSupportModeModal:Boolean(zo==null?void 0:zo.showCustomerSupportModeModal),lowChrome:Fa,numRecommendations:or,isChatActive:wa,signupForFreeVariant:Do}):!["welcome","embed","meetings"].some(Ti=>vr.startsWith(`/${Ti}`))&&!(vr.startsWith("/subscribe")&&(Co||Da))&&Object(o.h)(r.a,{pub:J,user:ve,freeSignup:nt,freeSignupEmail:Me,hide_subscribe_cta:vr.startsWith("/subscribe"),isPostView:xa,selectedSectionId:lo,showCustomerSupportModeModal:Boolean(zo==null?void 0:zo.showCustomerSupportModeModal),lowChrome:Fa,numRecommendations:or,isChatActive:wa,signupForFreeVariant:Do,hideSections:Mi},Object(m.setMetaData)(Ir))}),Object(o.h)(E.a,{pub:J,user:ve}),Object(o.h)(s.Router,{onChange:b.a},J.homepage_type==="newspaper"?Object(o.h)(w.c,{path:"/",user:ve,freeSignupEmail:Me,freeSignup:nt,hide_intro_popup:Xr,pub:J,pinnedPosts:an,newPosts:fn,latestChildPosts:pn,latestSectionPosts:Kn,homepageLinks:Pr,recommendations:_r,numRecommendations:or,referralCampaign:bo,referralCode:kr,blurbs:Vo,noBalanceHeroText:so},Object(m.setMetaData)(Ir)):J.homepage_type==="magaziney"?Object(o.h)(C.a,{path:"/",user:ve,freeSignupEmail:Me,freeSignup:nt,hide_intro_popup:Xr,pub:J,newPosts:fn,pinnedPosts:an,topPosts:hn,homepageLinks:Pr,recommendations:_r,numRecommendations:or,referralCampaign:bo,referralCode:kr,blurbs:Vo,noBalanceHeroText:so},Object(m.setMetaData)(Ir)):Object(o.h)(_.a,{path:"/",user:ve,freeSignupEmail:Me,freeSignup:nt,hide_intro_popup:Xr,preloadedPosts:Re,pub:J,blurbs:Vo,noBalanceHeroText:so},Object(m.setMetaData)(Ir)),Object(o.h)(w.c,{path:"/podcast",user:ve,freeSignupEmail:Me,freeSignup:nt,hide_intro_popup:Xr,pub:J,pinnedPosts:an,newPosts:fn,latestChildPosts:pn,latestSectionPosts:Kn,homepageLinks:Pr,recommendations:_r,numRecommendations:or,referralCampaign:bo,isPubPodcast:!0,includePinnedPosts:!0},Object(m.setMetaData)(Ir)),Object(o.h)(w.c,{path:"/s/:slug",user:ve,freeSignupEmail:Me,freeSignup:nt,hide_intro_popup:Xr,pub:J,pinnedPosts:an,newPosts:fn,latestChildPosts:pn,latestSectionPosts:Kn,homepageLinks:Pr,section:J.section,referralCampaign:bo},Object(m.setMetaData)(Ir)),Object(o.h)(w.c,{path:"/beta",user:ve,freeSignupEmail:Me,freeSignup:nt,hide_intro_popup:Xr,pub:J,pinnedPosts:an,newPosts:fn,latestChildPosts:pn,homepageLinks:Pr,recommendations:_r,numRecommendations:or,referralCampaign:bo},Object(m.setMetaData)(Ir)),Object(o.h)(k,{path:"/archive",user:ve,newPosts:fn,topPosts:hn,communityPosts:gn,searchPosts:xt,pub:J,freeSignupEmail:Me,freeSignup:nt},Object(m.setMetaData)({metaData:Ir,title:`Archive - ${J.name}`,description:`Full archive of all the posts from ${J.name}.`,seoProps:la(Qo({},Ir==null?void 0:Ir.seoProps),{noindex:((Ta=Ir==null?void 0:Ir.seoProps)==null?void 0:Ta.noindex)||Boolean(xt||Object(g.getQueryItem)("search"))})})),Object(o.h)(k,{path:"/s/:slug/archive",user:ve,newPosts:fn,topPosts:hn,communityPosts:gn,searchPosts:xt,pub:J,freeSignupEmail:Me,freeSignup:nt,sectionId:pe==null?void 0:pe.id},Object(m.setMetaData)({metaData:Ir,title:`Archive - ${pe==null?void 0:pe.name} of ${J.name}`,description:`Full archive of all the posts from ${pe==null?void 0:pe.name} of ${J.name}.`,seoProps:la(Qo({},Ir==null?void 0:Ir.seoProps),{noindex:((Aa=Ir==null?void 0:Ir.seoProps)==null?void 0:Aa.noindex)||Boolean(xt||Object(g.getQueryItem)("search"))})})),Object(o.h)(k,{default:!0,title:"Page not found",user:ve,newPosts:fn,topPosts:hn,communityPosts:gn,searchPosts:xt,pub:J,freeSignupEmail:Me,freeSignup:nt},Object(m.setMetaData)(Ir)),Object(o.h)(n,{path:"/tos",html:J.tos_content_html||"Terms of Service"},Object(m.setMetaData)({title:"Terms of Service"}),Object(o.h)("p",null,"You agree to the terms of service below, and the"," ",Object(o.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),Object(o.h)(n,{path:"/privacy",html:J.privacy_content_html||"Privacy Policy"},Object(m.setMetaData)({title:"Privacy Policy"}),Object(o.h)("p",null,"You agree to the privacy policy below, and the"," ",Object(o.h)("a",{href:Object(g.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),Object(o.h)(n,{path:"/disclosures",html:J.disclosures_content_html||"Disclosures"},Object(m.setMetaData)({title:"Disclosures"})),Object(o.h)(v.c,{path:"/welcome",publication:J,post:null,user:ve,freeSignup:nt,freeSignupEmail:Me,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),Object(o.h)(v.c,{path:"/podcast",publication:J,post:null,referralCode:kr,referralCoupon:io,user:ve,freeSignup:nt,freeSignupEmail:Me,coupon:Z,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),Object(o.h)(wo,{pub:J,path:"/invite",user:ve,freeSignup:nt,freeSignupEmail:Me}),Object(o.h)(Xn,{path:"/invite-success/:id",pub:J,user:ve,post:pt,freeSignup:nt,freeSignupEmail:Me}),Object(o.h)(dr,{path:"/finish-invite/:id",pub:J,user:ve,freeSignup:nt,freeSignupEmail:Me}),Object(o.h)(dr,{path:"/finish-post-invite/:id",pub:J,post:pt,user:ve,freeSignup:nt,freeSignupEmail:Me,inviteToPost:!0,primaryEligiblePublications:Ko||[],switchAccountRedirectUrl:da}),Object(o.h)(Zn,{path:"/subscribe",user:ve,freeSignupEmail:Me,freeSignup:nt,referralCoupon:io,referralCode:kr,pub:J,stripe_publishable_key:Oo,user_has_own_publication:Jo,subscription_id:ve&&ve.subscription_id,bundledPubs:Ao,nonRecBasedBundle:Go,suggestRecommendingVariant:Si,useNewVersion:Co&&!Object(m.isMobileBrowser)()||fa&&Object(m.isMobileBrowser)(),disableMonthlySubscriptions:ko,useDollarDiscountInsteadOfPercent:Wr,freeTrialExperiment:br,showPledgeScreen:Da,bundleBranch:Ii,chatUpsellInfo:Di}),Object(o.h)(Zn,{path:"/subscribe/offer/:offerCode",user:ve,freeSignupEmail:Me,freeSignup:nt,referralCoupon:io,referralCode:kr,pub:J,stripe_publishable_key:Oo,user_has_own_publication:Jo,subscription_id:ve&&ve.subscription_id,bundledPubs:Ao,nonRecBasedBundle:Go,useNewVersion:!1,disableMonthlySubscriptions:ko,otherPubs:ra,offerCoupons:oa}),Object(o.h)(Dn.a,{path:"/recommendations",pub:J,user:ve,recommendations:_r,allSubscribedPubs:Cr,fullySubscribedPubs:Or}),Object(o.h)(Vn,{path:"/sitemap",pub:J,sitemapHeader:no,sitemapDescription:mo,sitemapLinks:ao}),Object(o.h)(Vn,{path:"/sitemap/:year",pub:J,sitemapHeader:no,sitemapDescription:mo,sitemapLinks:ao}),Object(o.h)(po,{path:"/about",pub:J,user:ve,freeSignup:nt,freeSignupEmail:Me,subscribeContent:Jn,people:_o}),Object(o.h)(Yt,{path:"/people/:id",pub:J,userProfile:Ne,user:ve,freeSignup:nt,freeSignupEmail:Me}),Object(o.h)($.b,{path:"/p/:slug",user:ve,freeSignupEmail:Me,freeSignup:nt,referralCoupon:io,referralCode:kr,post:pt,truncatedPost:Wt,publication:J,renderedComments:Ra,inlineComments:jn,reaction_token:jo,hide_intro_popup:Xr,stripe_publishable_key:Oo,readerIsSearchCrawler:Xo,selectionFromQuery:qo,embeddedPublications:ea,siteConfigs:Io,freewallVariant:La,freeTrialCoupon:To,publicationSettings:na}),Object(o.h)(Qa.b,{path:"/listen",pub:J,user:ve||null,openInNewTab:!0,idToMagicLink:ha}),Object(o.h)(N,{path:"/p/:slug/media-assets",post:pt,publication:J,themeVariables:ta}),jn?Object(o.h)($.b,{path:"/p/:slug/comments",user:ve,freeSignupEmail:Me,freeSignup:nt,referralCoupon:io,referralCode:kr,post:pt,truncatedPost:Wt,publication:J,renderedComments:Ra,inlineComments:jn,reaction_token:jo,hide_intro_popup:Xr,stripe_publishable_key:Oo,readerIsSearchCrawler:Xo,selectionFromQuery:qo,siteConfigs:Io,freewallVariant:La,freeTrialCoupon:To}):Object(o.h)(ie.d,{path:"/p/:slug/comments",user:ve,freeSignupEmail:Me,freeSignup:nt,post:pt,publication:J,post_reaction_token:jo,commentId:Ho,freeTrialCoupon:To}),!jn&&Object(o.h)(ie.d,{path:"/p/:slug/comment/:comment_id",user:ve,freeSignupEmail:Me,freeSignup:nt,post:pt,publication:J,post_reaction_token:jo,commentId:Ho,freeTrialCoupon:To}),Object(o.h)(jr,{path:"/rewards/receive",pub:J,user:ve,freeSignupEmail:Me,viral_gift_data:Wo}),Object(o.h)(Gr,{path:"/c/:code",pub:J,user:ve,freeSignupEmail:Me,campaign:ca}),Object(o.h)(ft,{path:"/embed",pub:J,user:ve,freeSignup:nt,freeSignupEmail:Me}),Object(o.h)(kt,{path:"/embed/test",pub:J,user:ve,freeSignup:nt,freeSignupEmail:Me}),Object(o.h)(se,{path:"/embed/podcast/:slug",pub:J}),Object(o.h)($a,{path:"/embed/video/:slug",pub:J}),Object(o.h)(Wa,{path:"/f/:fileId",pub:J,user:ve,hide_subscribe_cta:!0,file:ua}),Object(o.h)(en.b,{path:"/chat",publication:J,user:ve,layoutTop:!0}),Object(o.h)(en.c,{path:"/chat/posts/:postId",publication:J,communityAction:Ln,user:ve}),Io.meetings_v1&&Object(o.h)(ei,{path:"/meetings",exact:!0,pub:J,user:ve}),Io.meetings_v1&&Object(o.h)(Oi,{path:"/meetings/book",pub:J,user:ve,stripe_publishable_key:Oo})),Object(o.h)(h.Match,{path:"/"},({path:vr})=>!vr.startsWith("/welcome")&&!vr.startsWith("/embed")&&!vr.startsWith("/subscribe")&&!vr.startsWith("/meetings")&&!vr.startsWith("/chat")&&Object(o.h)(u.a,{publication:J,user:ve,showIntrinioAttrib:pt&&pt.hasCashtag})),Object(o.h)(mn.a,{pub:J,user:ve})))}}function _i({user:ye}){const Z=Object(Ga.a)({user:ye});return Object(l.d)(()=>{const J=new URLSearchParams(location.search);if(J.get("reaction")==="\u2764"){Z(),J.delete("reaction");const pe=J.toString();history.replaceState({},document.title,location.pathname+(pe&&`?${pe}`))}},[]),null}function Ci({user:ye,pub:Z}){return Object(ka.a)({user:ye,pub:Z}),null}Object(e.a)(ji)}]);

//# sourceMappingURL=main.bundle.js.map